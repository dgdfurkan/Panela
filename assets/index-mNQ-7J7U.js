function $S(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(a,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Bh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qo(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function a(){var s=!1;try{s=this instanceof a}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var s=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(r,a,s.get?s:{enumerable:!0,get:function(){return t[a]}})}),r}var L0={exports:{}},go={};var mv;function GS(){if(mv)return go;mv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:t,type:a,key:c,ref:s!==void 0?s:null,props:o}}return go.Fragment=e,go.jsx=r,go.jsxs=r,go}var pv;function qS(){return pv||(pv=1,L0.exports=GS()),L0.exports}var u=qS(),F0={exports:{}},it={};var gv;function WS(){if(gv)return it;gv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),y=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function k(j,C,W){this.props=j,this.context=C,this.refs=b,this.updater=W||S}k.prototype.isReactComponent={},k.prototype.setState=function(j,C){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,C,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=k.prototype;function T(j,C,W){this.props=j,this.context=C,this.refs=b,this.updater=W||S}var L=T.prototype=new R;L.constructor=T,_(L,k.prototype),L.isPureReactComponent=!0;var H=Array.isArray;function Y(){}var A={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function G(j,C,W){var N=W.ref;return{$$typeof:t,type:j,key:C,ref:N!==void 0?N:null,props:W}}function te(j,C){return G(j.type,C,j.props)}function ee(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function ie(j){var C={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(W){return C[W]})}var ye=/\/+/g;function qe(j,C){return typeof j=="object"&&j!==null&&j.key!=null?ie(""+j.key):C.toString(36)}function ce(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Y,Y):(j.status="pending",j.then(function(C){j.status==="pending"&&(j.status="fulfilled",j.value=C)},function(C){j.status==="pending"&&(j.status="rejected",j.reason=C)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function J(j,C,W,N,U){var Z=typeof j;(Z==="undefined"||Z==="boolean")&&(j=null);var he=!1;if(j===null)he=!0;else switch(Z){case"bigint":case"string":case"number":he=!0;break;case"object":switch(j.$$typeof){case t:case e:he=!0;break;case g:return he=j._init,J(he(j._payload),C,W,N,U)}}if(he)return U=U(j),he=N===""?"."+qe(j,0):N,H(U)?(W="",he!=null&&(W=he.replace(ye,"$&/")+"/"),J(U,C,W,"",function(ke){return ke})):U!=null&&(ee(U)&&(U=te(U,W+(U.key==null||j&&j.key===U.key?"":(""+U.key).replace(ye,"$&/")+"/")+he)),C.push(U)),1;he=0;var we=N===""?".":N+":";if(H(j))for(var _e=0;_e<j.length;_e++)N=j[_e],Z=we+qe(N,_e),he+=J(N,C,W,Z,U);else if(_e=w(j),typeof _e=="function")for(j=_e.call(j),_e=0;!(N=j.next()).done;)N=N.value,Z=we+qe(N,_e++),he+=J(N,C,W,Z,U);else if(Z==="object"){if(typeof j.then=="function")return J(ce(j),C,W,N,U);throw C=String(j),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return he}function me(j,C,W){if(j==null)return j;var N=[],U=0;return J(j,N,"","",function(Z){return C.call(W,Z,U++)}),N}function Ce(j){if(j._status===-1){var C=j._result;C=C(),C.then(function(W){(j._status===0||j._status===-1)&&(j._status=1,j._result=W)},function(W){(j._status===0||j._status===-1)&&(j._status=2,j._result=W)}),j._status===-1&&(j._status=0,j._result=C)}if(j._status===1)return j._result.default;throw j._result}var Fe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Q={map:me,forEach:function(j,C,W){me(j,function(){C.apply(this,arguments)},W)},count:function(j){var C=0;return me(j,function(){C++}),C},toArray:function(j){return me(j,function(C){return C})||[]},only:function(j){if(!ee(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return it.Activity=x,it.Children=Q,it.Component=k,it.Fragment=r,it.Profiler=s,it.PureComponent=T,it.StrictMode=a,it.Suspense=h,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,it.__COMPILER_RUNTIME={__proto__:null,c:function(j){return A.H.useMemoCache(j)}},it.cache=function(j){return function(){return j.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(j,C,W){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var N=_({},j.props),U=j.key;if(C!=null)for(Z in C.key!==void 0&&(U=""+C.key),C)!I.call(C,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&C.ref===void 0||(N[Z]=C[Z]);var Z=arguments.length-2;if(Z===1)N.children=W;else if(1<Z){for(var he=Array(Z),we=0;we<Z;we++)he[we]=arguments[we+2];N.children=he}return G(j.type,U,N)},it.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},it.createElement=function(j,C,W){var N,U={},Z=null;if(C!=null)for(N in C.key!==void 0&&(Z=""+C.key),C)I.call(C,N)&&N!=="key"&&N!=="__self"&&N!=="__source"&&(U[N]=C[N]);var he=arguments.length-2;if(he===1)U.children=W;else if(1<he){for(var we=Array(he),_e=0;_e<he;_e++)we[_e]=arguments[_e+2];U.children=we}if(j&&j.defaultProps)for(N in he=j.defaultProps,he)U[N]===void 0&&(U[N]=he[N]);return G(j,Z,U)},it.createRef=function(){return{current:null}},it.forwardRef=function(j){return{$$typeof:f,render:j}},it.isValidElement=ee,it.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:Ce}},it.memo=function(j,C){return{$$typeof:m,type:j,compare:C===void 0?null:C}},it.startTransition=function(j){var C=A.T,W={};A.T=W;try{var N=j(),U=A.S;U!==null&&U(W,N),typeof N=="object"&&N!==null&&typeof N.then=="function"&&N.then(Y,Fe)}catch(Z){Fe(Z)}finally{C!==null&&W.types!==null&&(C.types=W.types),A.T=C}},it.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},it.use=function(j){return A.H.use(j)},it.useActionState=function(j,C,W){return A.H.useActionState(j,C,W)},it.useCallback=function(j,C){return A.H.useCallback(j,C)},it.useContext=function(j){return A.H.useContext(j)},it.useDebugValue=function(){},it.useDeferredValue=function(j,C){return A.H.useDeferredValue(j,C)},it.useEffect=function(j,C){return A.H.useEffect(j,C)},it.useEffectEvent=function(j){return A.H.useEffectEvent(j)},it.useId=function(){return A.H.useId()},it.useImperativeHandle=function(j,C,W){return A.H.useImperativeHandle(j,C,W)},it.useInsertionEffect=function(j,C){return A.H.useInsertionEffect(j,C)},it.useLayoutEffect=function(j,C){return A.H.useLayoutEffect(j,C)},it.useMemo=function(j,C){return A.H.useMemo(j,C)},it.useOptimistic=function(j,C){return A.H.useOptimistic(j,C)},it.useReducer=function(j,C,W){return A.H.useReducer(j,C,W)},it.useRef=function(j){return A.H.useRef(j)},it.useState=function(j){return A.H.useState(j)},it.useSyncExternalStore=function(j,C,W){return A.H.useSyncExternalStore(j,C,W)},it.useTransition=function(){return A.H.useTransition()},it.version="19.2.1",it}var vv;function Ih(){return vv||(vv=1,F0.exports=WS()),F0.exports}var D=Ih();const VS=Bh(D);var B0={exports:{}},vo={},I0={exports:{}},U0={};var xv;function KS(){return xv||(xv=1,(function(t){function e(J,me){var Ce=J.length;J.push(me);e:for(;0<Ce;){var Fe=Ce-1>>>1,Q=J[Fe];if(0<s(Q,me))J[Fe]=me,J[Ce]=Q,Ce=Fe;else break e}}function r(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var me=J[0],Ce=J.pop();if(Ce!==me){J[0]=Ce;e:for(var Fe=0,Q=J.length,j=Q>>>1;Fe<j;){var C=2*(Fe+1)-1,W=J[C],N=C+1,U=J[N];if(0>s(W,Ce))N<Q&&0>s(U,W)?(J[Fe]=U,J[N]=Ce,Fe=N):(J[Fe]=W,J[C]=Ce,Fe=C);else if(N<Q&&0>s(U,Ce))J[Fe]=U,J[N]=Ce,Fe=N;else break e}}return me}function s(J,me){var Ce=J.sortIndex-me.sortIndex;return Ce!==0?Ce:J.id-me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],m=[],g=1,x=null,y=3,w=!1,S=!1,_=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function L(J){for(var me=r(m);me!==null;){if(me.callback===null)a(m);else if(me.startTime<=J)a(m),me.sortIndex=me.expirationTime,e(h,me);else break;me=r(m)}}function H(J){if(_=!1,L(J),!S)if(r(h)!==null)S=!0,Y||(Y=!0,ie());else{var me=r(m);me!==null&&ce(H,me.startTime-J)}}var Y=!1,A=-1,I=5,G=-1;function te(){return b?!0:!(t.unstable_now()-G<I)}function ee(){if(b=!1,Y){var J=t.unstable_now();G=J;var me=!0;try{e:{S=!1,_&&(_=!1,R(A),A=-1),w=!0;var Ce=y;try{t:{for(L(J),x=r(h);x!==null&&!(x.expirationTime>J&&te());){var Fe=x.callback;if(typeof Fe=="function"){x.callback=null,y=x.priorityLevel;var Q=Fe(x.expirationTime<=J);if(J=t.unstable_now(),typeof Q=="function"){x.callback=Q,L(J),me=!0;break t}x===r(h)&&a(h),L(J)}else a(h);x=r(h)}if(x!==null)me=!0;else{var j=r(m);j!==null&&ce(H,j.startTime-J),me=!1}}break e}finally{x=null,y=Ce,w=!1}me=void 0}}finally{me?ie():Y=!1}}}var ie;if(typeof T=="function")ie=function(){T(ee)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,qe=ye.port2;ye.port1.onmessage=ee,ie=function(){qe.postMessage(null)}}else ie=function(){k(ee,0)};function ce(J,me){A=k(function(){J(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(J){switch(y){case 1:case 2:case 3:var me=3;break;default:me=y}var Ce=y;y=me;try{return J()}finally{y=Ce}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(J,me){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ce=y;y=J;try{return me()}finally{y=Ce}},t.unstable_scheduleCallback=function(J,me,Ce){var Fe=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?Fe+Ce:Fe):Ce=Fe,J){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Ce+Q,J={id:g++,callback:me,priorityLevel:J,startTime:Ce,expirationTime:Q,sortIndex:-1},Ce>Fe?(J.sortIndex=Ce,e(m,J),r(h)===null&&J===r(m)&&(_?(R(A),A=-1):_=!0,ce(H,Ce-Fe))):(J.sortIndex=Q,e(h,J),S||w||(S=!0,Y||(Y=!0,ie()))),J},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(J){var me=y;return function(){var Ce=y;y=me;try{return J.apply(this,arguments)}finally{y=Ce}}}})(U0)),U0}var yv;function YS(){return yv||(yv=1,I0.exports=KS()),I0.exports}var P0={exports:{}},Mr={};var _v;function XS(){if(_v)return Mr;_v=1;var t=Ih();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:h,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Mr.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,g)},Mr.flushSync=function(h){var m=c.T,g=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=m,a.p=g,a.d.f()}},Mr.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(h,m))},Mr.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Mr.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,x=f(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?a.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:w}):g==="script"&&a.d.X(h,{crossOrigin:x,integrity:y,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Mr.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);a.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(h)},Mr.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=f(g,m.crossOrigin);a.d.L(h,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Mr.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=f(m.as,m.crossOrigin);a.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(h)},Mr.requestFormReset=function(h){a.d.r(h)},Mr.unstable_batchedUpdates=function(h,m){return h(m)},Mr.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},Mr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mr.version="19.2.1",Mr}var bv;function ay(){if(bv)return P0.exports;bv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),P0.exports=XS(),P0.exports}var wv;function JS(){if(wv)return vo;wv=1;var t=YS(),e=Ih(),r=ay();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(a(188))}function m(n){var i=n.alternate;if(!i){if(i=o(n),i===null)throw Error(a(188));return i!==n?null:n}for(var l=n,d=i;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return h(p),n;if(v===d)return h(p),i;v=v.sibling}throw Error(a(188))}if(l.return!==d.return)l=p,d=v;else{for(var E=!1,M=p.child;M;){if(M===l){E=!0,l=p,d=v;break}if(M===d){E=!0,d=p,l=v;break}M=M.sibling}if(!E){for(M=v.child;M;){if(M===l){E=!0,l=v,d=p;break}if(M===d){E=!0,d=v,l=p;break}M=M.sibling}if(!E)throw Error(a(189))}}if(l.alternate!==d)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),T=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var ye=Symbol.for("react.client.reference");function qe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ye?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case k:return"Profiler";case b:return"StrictMode";case H:return"Suspense";case Y:return"SuspenseList";case G:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case T:return n.displayName||"Context";case R:return(n._context.displayName||"Context")+".Consumer";case L:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case A:return i=n.displayName||null,i!==null?i:qe(n.type)||"Memo";case I:i=n._payload,n=n._init;try{return qe(n(i))}catch{}}return null}var ce=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Fe=[],Q=-1;function j(n){return{current:n}}function C(n){0>Q||(n.current=Fe[Q],Fe[Q]=null,Q--)}function W(n,i){Q++,Fe[Q]=n.current,n.current=i}var N=j(null),U=j(null),Z=j(null),he=j(null);function we(n,i){switch(W(Z,i),W(U,n),W(N,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?F1(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=F1(i),n=B1(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}C(N),W(N,n)}function _e(){C(N),C(U),C(Z)}function ke(n){n.memoizedState!==null&&W(he,n);var i=N.current,l=B1(i,n.type);i!==l&&(W(U,n),W(N,l))}function Ge(n){U.current===n&&(C(N),C(U)),he.current===n&&(C(he),fo._currentValue=Ce)}var Ke,nt;function De(n){if(Ke===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ke=i&&i[1]||"",nt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+n+nt}var at=!1;function st(n,i){if(!n||at)return"";at=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(pe){var fe=pe}Reflect.construct(n,[],Ee)}else{try{Ee.call()}catch(pe){fe=pe}n.call(Ee.prototype)}}else{try{throw Error()}catch(pe){fe=pe}(Ee=n())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(pe){if(pe&&fe&&typeof pe.stack=="string")return[pe.stack,fe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),E=v[0],M=v[1];if(E&&M){var K=E.split(`
`),le=M.split(`
`);for(p=d=0;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;for(;p<le.length&&!le[p].includes("DetermineComponentFrameRoot");)p++;if(d===K.length||p===le.length)for(d=K.length-1,p=le.length-1;1<=d&&0<=p&&K[d]!==le[p];)p--;for(;1<=d&&0<=p;d--,p--)if(K[d]!==le[p]){if(d!==1||p!==1)do if(d--,p--,0>p||K[d]!==le[p]){var xe=`
`+K[d].replace(" at new "," at ");return n.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",n.displayName)),xe}while(1<=d&&0<=p);break}}}finally{at=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?De(l):""}function Pe(n,i){switch(n.tag){case 26:case 27:case 5:return De(n.type);case 16:return De("Lazy");case 13:return n.child!==i&&i!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return st(n.type,!1);case 11:return st(n.type.render,!1);case 1:return st(n.type,!0);case 31:return De("Activity");default:return""}}function St(n){try{var i="",l=null;do i+=Pe(n,l),l=n,n=n.return;while(n);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Gt=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,Br=t.unstable_cancelCallback,En=t.unstable_shouldYield,ra=t.unstable_requestPaint,xt=t.unstable_now,Bn=t.unstable_getCurrentPriorityLevel,Ir=t.unstable_ImmediatePriority,In=t.unstable_UserBlockingPriority,tr=t.unstable_NormalPriority,ma=t.unstable_LowPriority,Oe=t.unstable_IdlePriority,Ur=t.log,pa=t.unstable_setDisableYieldValue,Tn=null,pr=null;function Wr(n){if(typeof Ur=="function"&&pa(n),pr&&typeof pr.setStrictMode=="function")try{pr.setStrictMode(Tn,n)}catch{}}var Kt=Math.clz32?Math.clz32:gs,ps=Math.log,Vr=Math.LN2;function gs(n){return n>>>=0,n===0?32:31-(ps(n)/Vr|0)|0}var ga=256,ln=262144,on=4194304;function Pr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Wa(n,i,l){var d=n.pendingLanes;if(d===0)return 0;var p=0,v=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var M=d&134217727;return M!==0?(d=M&~v,d!==0?p=Pr(d):(E&=M,E!==0?p=Pr(E):l||(l=M&~n,l!==0&&(p=Pr(l))))):(M=d&~v,M!==0?p=Pr(M):E!==0?p=Pr(E):l||(l=d&~n,l!==0&&(p=Pr(l)))),p===0?0:i!==0&&i!==p&&(i&v)===0&&(v=p&-p,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:p}function na(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function vs(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Va(){var n=on;return on<<=1,(on&62914560)===0&&(on=4194304),n}function Ka(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function Un(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function kl(n,i,l,d,p,v){var E=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var M=n.entanglements,K=n.expirationTimes,le=n.hiddenUpdates;for(l=E&~l;0<l;){var xe=31-Kt(l),Ee=1<<xe;M[xe]=0,K[xe]=-1;var fe=le[xe];if(fe!==null)for(le[xe]=null,xe=0;xe<fe.length;xe++){var pe=fe[xe];pe!==null&&(pe.lane&=-536870913)}l&=~Ee}d!==0&&Oi(n,d,0),v!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=v&~(E&~i))}function Oi(n,i,l){n.pendingLanes|=i,n.suspendedLanes&=~i;var d=31-Kt(i);n.entangledLanes|=i,n.entanglements[d]=n.entanglements[d]|1073741824|l&261930}function Ya(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var d=31-Kt(l),p=1<<d;p&i|n[d]&i&&(n[d]|=i),l&=~p}}function xs(n,i){var l=i&-i;return l=(l&42)!==0?1:Xa(l),(l&(n.suspendedLanes|i))!==0?0:l}function Xa(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function va(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function O(){var n=me.p;return n!==0?n:(n=window.event,n===void 0?32:lv(n.type))}function q(n,i){var l=me.p;try{return me.p=n,i()}finally{me.p=l}}var z=Math.random().toString(36).slice(2),B="__reactFiber$"+z,P="__reactProps$"+z,V="__reactContainer$"+z,se="__reactEvents$"+z,ve="__reactListeners$"+z,oe="__reactHandles$"+z,ue="__reactResources$"+z,de="__reactMarker$"+z;function Re(n){delete n[B],delete n[P],delete n[se],delete n[ve],delete n[oe]}function Me(n){var i=n[B];if(i)return i;for(var l=n.parentNode;l;){if(i=l[V]||l[B]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=q1(n);n!==null;){if(l=n[B])return l;n=q1(n)}return i}n=l,l=n.parentNode}return null}function $e(n){if(n=n[B]||n[V]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Ne(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Ie(n){var i=n[ue];return i||(i=n[ue]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ye(n){n[de]=!0}var F=new Set,ne={};function Te(n,i){Se(n,i),Se(n+"Capture",i)}function Se(n,i){for(ne[n]=i,n=0;n<i.length;n++)F.add(i[n])}var Ue=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qe={},ze={};function lt(n){return Gt.call(ze,n)?!0:Gt.call(Qe,n)?!1:Ue.test(n)?ze[n]=!0:(Qe[n]=!0,!1)}function yt(n,i,l){if(lt(i))if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+l)}}function ft(n,i,l){if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+l)}}function Ft(n,i,l,d){if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(i,l,""+d)}}function Ze(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rr(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Al(n,i,l){var d=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,v=d.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){l=""+E,v.call(this,E)}}),Object.defineProperty(n,i,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function aa(n){if(!n._valueTracker){var i=rr(n)?"checked":"value";n._valueTracker=Al(n,i,""+n[i])}}function ct(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return n&&(d=rr(n)?n.checked?"true":"false":n.value),n=d,n!==l?(i.setValue(n),!0):!1}function br(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ut=/[\n"\\]/g;function nr(n){return n.replace(Ut,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Cd(n,i,l,d,p,v,E,M){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Ze(i)):n.value!==""+Ze(i)&&(n.value=""+Ze(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Rd(n,E,Ze(i)):l!=null?Rd(n,E,Ze(l)):d!=null&&n.removeAttribute("value"),p==null&&v!=null&&(n.defaultChecked=!!v),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.name=""+Ze(M):n.removeAttribute("name")}function Om(n,i,l,d,p,v,E,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){aa(n);return}l=l!=null?""+Ze(l):"",i=i!=null?""+Ze(i):l,M||i===n.value||(n.value=i),n.defaultValue=i}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=M?n.checked:!!d,n.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),aa(n)}function Rd(n,i,l){i==="number"&&br(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function ys(n,i,l,d){if(n=n.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<n.length;l++)p=i.hasOwnProperty("$"+n[l].value),n[l].selected!==p&&(n[l].selected=p),p&&d&&(n[l].defaultSelected=!0)}else{for(l=""+Ze(l),i=null,p=0;p<n.length;p++){if(n[p].value===l){n[p].selected=!0,d&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function Nm(n,i,l){if(i!=null&&(i=""+Ze(i),i!==n.value&&(n.value=i),l==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=l!=null?""+Ze(l):""}function Dm(n,i,l,d){if(i==null){if(d!=null){if(l!=null)throw Error(a(92));if(ce(d)){if(1<d.length)throw Error(a(93));d=d[0]}l=d}l==null&&(l=""),i=l}l=Ze(i),n.defaultValue=l,d=n.textContent,d===l&&d!==""&&d!==null&&(n.value=d),aa(n)}function _s(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var Bb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mm(n,i,l){var d=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":d?n.setProperty(i,l):typeof l!="number"||l===0||Bb.has(i)?i==="float"?n.cssFloat=l:n[i]=(""+l).trim():n[i]=l+"px"}function zm(n,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var p in i)d=i[p],i.hasOwnProperty(p)&&l[p]!==d&&Mm(n,p,d)}else for(var v in i)i.hasOwnProperty(v)&&Mm(n,v,i[v])}function Od(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ib=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ub=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nc(n){return Ub.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function xa(){}var Nd=null;function Dd(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var bs=null,ws=null;function Lm(n){var i=$e(n);if(i&&(n=i.stateNode)){var l=n[P]||null;e:switch(n=i.stateNode,i.type){case"input":if(Cd(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nr(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==n&&d.form===n.form){var p=d[P]||null;if(!p)throw Error(a(90));Cd(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)d=l[i],d.form===n.form&&ct(d)}break e;case"textarea":Nm(n,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ys(n,!!l.multiple,i,!1)}}}var Md=!1;function Fm(n,i,l){if(Md)return n(i,l);Md=!0;try{var d=n(i);return d}finally{if(Md=!1,(bs!==null||ws!==null)&&(Gc(),bs&&(i=bs,n=ws,ws=bs=null,Lm(i),n)))for(i=0;i<n.length;i++)Lm(n[i])}}function jl(n,i){var l=n.stateNode;if(l===null)return null;var d=l[P]||null;if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zd=!1;if(ya)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){zd=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{zd=!1}var Ja=null,Ld=null,ac=null;function Bm(){if(ac)return ac;var n,i=Ld,l=i.length,d,p="value"in Ja?Ja.value:Ja.textContent,v=p.length;for(n=0;n<l&&i[n]===p[n];n++);var E=l-n;for(d=1;d<=E&&i[l-d]===p[v-d];d++);return ac=p.slice(n,1<d?1-d:void 0)}function ic(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function sc(){return!0}function Im(){return!1}function Kr(n){function i(l,d,p,v,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var M in n)n.hasOwnProperty(M)&&(l=n[M],this[M]=l?l(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?sc:Im,this.isPropagationStopped=Im,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=sc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=sc)},persist:function(){},isPersistent:sc}),i}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=Kr(Ni),Rl=x({},Ni,{view:0,detail:0}),Pb=Kr(Rl),Fd,Bd,Ol,oc=x({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ud,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ol&&(Ol&&n.type==="mousemove"?(Fd=n.screenX-Ol.screenX,Bd=n.screenY-Ol.screenY):Bd=Fd=0,Ol=n),Fd)},movementY:function(n){return"movementY"in n?n.movementY:Bd}}),Um=Kr(oc),Hb=x({},oc,{dataTransfer:0}),$b=Kr(Hb),Gb=x({},Rl,{relatedTarget:0}),Id=Kr(Gb),qb=x({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Wb=Kr(qb),Vb=x({},Ni,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Kb=Kr(Vb),Yb=x({},Ni,{data:0}),Pm=Kr(Yb),Xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zb(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Qb[n])?!!i[n]:!1}function Ud(){return Zb}var ew=x({},Rl,{key:function(n){if(n.key){var i=Xb[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ic(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Jb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ud,charCode:function(n){return n.type==="keypress"?ic(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ic(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),tw=Kr(ew),rw=x({},oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hm=Kr(rw),nw=x({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ud}),aw=Kr(nw),iw=x({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),sw=Kr(iw),lw=x({},oc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ow=Kr(lw),cw=x({},Ni,{newState:0,oldState:0}),uw=Kr(cw),dw=[9,13,27,32],Pd=ya&&"CompositionEvent"in window,Nl=null;ya&&"documentMode"in document&&(Nl=document.documentMode);var fw=ya&&"TextEvent"in window&&!Nl,$m=ya&&(!Pd||Nl&&8<Nl&&11>=Nl),Gm=" ",qm=!1;function Wm(n,i){switch(n){case"keyup":return dw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ss=!1;function hw(n,i){switch(n){case"compositionend":return Vm(i);case"keypress":return i.which!==32?null:(qm=!0,Gm);case"textInput":return n=i.data,n===Gm&&qm?null:n;default:return null}}function mw(n,i){if(Ss)return n==="compositionend"||!Pd&&Wm(n,i)?(n=Bm(),ac=Ld=Ja=null,Ss=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return $m&&i.locale!=="ko"?null:i.data;default:return null}}var pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!pw[n.type]:i==="textarea"}function Ym(n,i,l,d){bs?ws?ws.push(d):ws=[d]:bs=d,i=Jc(i,"onChange"),0<i.length&&(l=new lc("onChange","change",null,l,d),n.push({event:l,listeners:i}))}var Dl=null,Ml=null;function gw(n){O1(n,0)}function cc(n){var i=Ne(n);if(ct(i))return n}function Xm(n,i){if(n==="change")return i}var Jm=!1;if(ya){var Hd;if(ya){var $d="oninput"in document;if(!$d){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),$d=typeof Qm.oninput=="function"}Hd=$d}else Hd=!1;Jm=Hd&&(!document.documentMode||9<document.documentMode)}function Zm(){Dl&&(Dl.detachEvent("onpropertychange",ep),Ml=Dl=null)}function ep(n){if(n.propertyName==="value"&&cc(Ml)){var i=[];Ym(i,Ml,n,Dd(n)),Fm(gw,i)}}function vw(n,i,l){n==="focusin"?(Zm(),Dl=i,Ml=l,Dl.attachEvent("onpropertychange",ep)):n==="focusout"&&Zm()}function xw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cc(Ml)}function yw(n,i){if(n==="click")return cc(i)}function _w(n,i){if(n==="input"||n==="change")return cc(i)}function bw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var cn=typeof Object.is=="function"?Object.is:bw;function zl(n,i){if(cn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!Gt.call(i,p)||!cn(n[p],i[p]))return!1}return!0}function tp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rp(n,i){var l=tp(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=i&&d>=i)return{node:l,offset:i-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tp(l)}}function np(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?np(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ap(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=br(n.document);i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=br(n.document)}return i}function Gd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var ww=ya&&"documentMode"in document&&11>=document.documentMode,Es=null,qd=null,Ll=null,Wd=!1;function ip(n,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wd||Es==null||Es!==br(d)||(d=Es,"selectionStart"in d&&Gd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ll&&zl(Ll,d)||(Ll=d,d=Jc(qd,"onSelect"),0<d.length&&(i=new lc("onSelect","select",null,i,l),n.push({event:i,listeners:d}),i.target=Es)))}function Di(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var Ts={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionrun:Di("Transition","TransitionRun"),transitionstart:Di("Transition","TransitionStart"),transitioncancel:Di("Transition","TransitionCancel"),transitionend:Di("Transition","TransitionEnd")},Vd={},sp={};ya&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Mi(n){if(Vd[n])return Vd[n];if(!Ts[n])return n;var i=Ts[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in sp)return Vd[n]=i[l];return n}var lp=Mi("animationend"),op=Mi("animationiteration"),cp=Mi("animationstart"),Sw=Mi("transitionrun"),Ew=Mi("transitionstart"),Tw=Mi("transitioncancel"),up=Mi("transitionend"),dp=new Map,Kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kd.push("scrollEnd");function Pn(n,i){dp.set(n,i),Te(i,[n])}var uc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},kn=[],ks=0,Yd=0;function dc(){for(var n=ks,i=Yd=ks=0;i<n;){var l=kn[i];kn[i++]=null;var d=kn[i];kn[i++]=null;var p=kn[i];kn[i++]=null;var v=kn[i];if(kn[i++]=null,d!==null&&p!==null){var E=d.pending;E===null?p.next=p:(p.next=E.next,E.next=p),d.pending=p}v!==0&&fp(l,p,v)}}function fc(n,i,l,d){kn[ks++]=n,kn[ks++]=i,kn[ks++]=l,kn[ks++]=d,Yd|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function Xd(n,i,l,d){return fc(n,i,l,d),hc(n)}function zi(n,i){return fc(n,null,null,i),hc(n)}function fp(n,i,l){n.lanes|=l;var d=n.alternate;d!==null&&(d.lanes|=l);for(var p=!1,v=n.return;v!==null;)v.childLanes|=l,d=v.alternate,d!==null&&(d.childLanes|=l),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(p=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,p&&i!==null&&(p=31-Kt(l),n=v.hiddenUpdates,d=n[p],d===null?n[p]=[i]:d.push(i),i.lane=l|536870912),v):null}function hc(n){if(50<ao)throw ao=0,s0=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var As={};function kw(n,i,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(n,i,l,d){return new kw(n,i,l,d)}function Jd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _a(n,i){var l=n.alternate;return l===null?(l=un(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function hp(n,i){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,i=l.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function mc(n,i,l,d,p,v){var E=0;if(d=n,typeof n=="function")Jd(n)&&(E=1);else if(typeof n=="string")E=OS(n,l,N.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case G:return n=un(31,l,i,p),n.elementType=G,n.lanes=v,n;case _:return Li(l.children,p,v,i);case b:E=8,p|=24;break;case k:return n=un(12,l,i,p|2),n.elementType=k,n.lanes=v,n;case H:return n=un(13,l,i,p),n.elementType=H,n.lanes=v,n;case Y:return n=un(19,l,i,p),n.elementType=Y,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:E=10;break e;case R:E=9;break e;case L:E=11;break e;case A:E=14;break e;case I:E=16,d=null;break e}E=29,l=Error(a(130,n===null?"null":typeof n,"")),d=null}return i=un(E,l,i,p),i.elementType=n,i.type=d,i.lanes=v,i}function Li(n,i,l,d){return n=un(7,n,d,i),n.lanes=l,n}function Qd(n,i,l){return n=un(6,n,null,i),n.lanes=l,n}function mp(n){var i=un(18,null,null,0);return i.stateNode=n,i}function Zd(n,i,l){return i=un(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var pp=new WeakMap;function An(n,i){if(typeof n=="object"&&n!==null){var l=pp.get(n);return l!==void 0?l:(i={value:n,source:i,stack:St(i)},pp.set(n,i),i)}return{value:n,source:i,stack:St(i)}}var js=[],Cs=0,pc=null,Fl=0,jn=[],Cn=0,Qa=null,ia=1,sa="";function ba(n,i){js[Cs++]=Fl,js[Cs++]=pc,pc=n,Fl=i}function gp(n,i,l){jn[Cn++]=ia,jn[Cn++]=sa,jn[Cn++]=Qa,Qa=n;var d=ia;n=sa;var p=32-Kt(d)-1;d&=~(1<<p),l+=1;var v=32-Kt(i)+p;if(30<v){var E=p-p%5;v=(d&(1<<E)-1).toString(32),d>>=E,p-=E,ia=1<<32-Kt(i)+p|l<<p|d,sa=v+n}else ia=1<<v|l<<p|d,sa=n}function ef(n){n.return!==null&&(ba(n,1),gp(n,1,0))}function tf(n){for(;n===pc;)pc=js[--Cs],js[Cs]=null,Fl=js[--Cs],js[Cs]=null;for(;n===Qa;)Qa=jn[--Cn],jn[Cn]=null,sa=jn[--Cn],jn[Cn]=null,ia=jn[--Cn],jn[Cn]=null}function vp(n,i){jn[Cn++]=ia,jn[Cn++]=sa,jn[Cn++]=Qa,ia=i.id,sa=i.overflow,Qa=n}var wr=null,Pt=null,vt=!1,Za=null,Rn=!1,rf=Error(a(519));function ei(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(An(i,n)),rf}function xp(n){var i=n.stateNode,l=n.type,d=n.memoizedProps;switch(i[B]=n,i[P]=d,l){case"dialog":mt("cancel",i),mt("close",i);break;case"iframe":case"object":case"embed":mt("load",i);break;case"video":case"audio":for(l=0;l<so.length;l++)mt(so[l],i);break;case"source":mt("error",i);break;case"img":case"image":case"link":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"input":mt("invalid",i),Om(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":mt("invalid",i);break;case"textarea":mt("invalid",i),Dm(i,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||d.suppressHydrationWarning===!0||z1(i.textContent,l)?(d.popover!=null&&(mt("beforetoggle",i),mt("toggle",i)),d.onScroll!=null&&mt("scroll",i),d.onScrollEnd!=null&&mt("scrollend",i),d.onClick!=null&&(i.onclick=xa),i=!0):i=!1,i||ei(n,!0)}function yp(n){for(wr=n.return;wr;)switch(wr.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:wr=wr.return}}function Rs(n){if(n!==wr)return!1;if(!vt)return yp(n),vt=!0,!1;var i=n.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||b0(n.type,n.memoizedProps)),l=!l),l&&Pt&&ei(n),yp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Pt=G1(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Pt=G1(n)}else i===27?(i=Pt,mi(n.type)?(n=k0,k0=null,Pt=n):Pt=i):Pt=wr?Nn(n.stateNode.nextSibling):null;return!0}function Fi(){Pt=wr=null,vt=!1}function nf(){var n=Za;return n!==null&&(Qr===null?Qr=n:Qr.push.apply(Qr,n),Za=null),n}function Bl(n){Za===null?Za=[n]:Za.push(n)}var af=j(null),Bi=null,wa=null;function ti(n,i,l){W(af,i._currentValue),i._currentValue=l}function Sa(n){n._currentValue=af.current,C(af)}function sf(n,i,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===l)break;n=n.return}}function lf(n,i,l,d){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var v=p.dependencies;if(v!==null){var E=p.child;v=v.firstContext;e:for(;v!==null;){var M=v;v=p;for(var K=0;K<i.length;K++)if(M.context===i[K]){v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),sf(v.return,l,n),d||(E=null);break e}v=M.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(a(341));E.lanes|=l,v=E.alternate,v!==null&&(v.lanes|=l),sf(E,l,n),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===n){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Os(n,i,l,d){n=null;for(var p=i,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var M=p.type;cn(p.pendingProps.value,E.value)||(n!==null?n.push(M):n=[M])}}else if(p===he.current){if(E=p.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(fo):n=[fo])}p=p.return}n!==null&&lf(i,n,l,d),i.flags|=262144}function gc(n){for(n=n.firstContext;n!==null;){if(!cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ii(n){Bi=n,wa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Sr(n){return _p(Bi,n)}function vc(n,i){return Bi===null&&Ii(n),_p(n,i)}function _p(n,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},wa===null){if(n===null)throw Error(a(308));wa=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else wa=wa.next=i;return l}var Aw=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(l,d){n.push(d)}};this.abort=function(){i.aborted=!0,n.forEach(function(l){return l()})}},jw=t.unstable_scheduleCallback,Cw=t.unstable_NormalPriority,ar={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new Aw,data:new Map,refCount:0}}function Il(n){n.refCount--,n.refCount===0&&jw(Cw,function(){n.controller.abort()})}var Ul=null,cf=0,Ns=0,Ds=null;function Rw(n,i){if(Ul===null){var l=Ul=[];cf=0,Ns=f0(),Ds={status:"pending",value:void 0,then:function(d){l.push(d)}}}return cf++,i.then(bp,bp),i}function bp(){if(--cf===0&&Ul!==null){Ds!==null&&(Ds.status="fulfilled");var n=Ul;Ul=null,Ns=0,Ds=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Ow(n,i){var l=[],d={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return n.then(function(){d.status="fulfilled",d.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(d.status="rejected",d.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),d}var wp=J.S;J.S=function(n,i){i1=xt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Rw(n,i),wp!==null&&wp(n,i)};var Ui=j(null);function uf(){var n=Ui.current;return n!==null?n:Bt.pooledCache}function xc(n,i){i===null?W(Ui,Ui.current):W(Ui,i.pool)}function Sp(){var n=uf();return n===null?null:{parent:ar._currentValue,pool:n}}var Ms=Error(a(460)),df=Error(a(474)),yc=Error(a(542)),_c={then:function(){}};function Ep(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Tp(n,i,l){switch(l=n[l],l===void 0?n.push(i):l!==i&&(i.then(xa,xa),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ap(n),n;default:if(typeof i.status=="string")i.then(xa,xa);else{if(n=Bt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(d){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=d}},function(d){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ap(n),n}throw Hi=i,Ms}}function Pi(n){try{var i=n._init;return i(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Hi=l,Ms):l}}var Hi=null;function kp(){if(Hi===null)throw Error(a(459));var n=Hi;return Hi=null,n}function Ap(n){if(n===Ms||n===yc)throw Error(a(483))}var zs=null,Pl=0;function bc(n){var i=Pl;return Pl+=1,zs===null&&(zs=[]),Tp(zs,n,i)}function Hl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function wc(n,i){throw i.$$typeof===y?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function jp(n){function i(re,X){if(n){var ae=re.deletions;ae===null?(re.deletions=[X],re.flags|=16):ae.push(X)}}function l(re,X){if(!n)return null;for(;X!==null;)i(re,X),X=X.sibling;return null}function d(re){for(var X=new Map;re!==null;)re.key!==null?X.set(re.key,re):X.set(re.index,re),re=re.sibling;return X}function p(re,X){return re=_a(re,X),re.index=0,re.sibling=null,re}function v(re,X,ae){return re.index=ae,n?(ae=re.alternate,ae!==null?(ae=ae.index,ae<X?(re.flags|=67108866,X):ae):(re.flags|=67108866,X)):(re.flags|=1048576,X)}function E(re){return n&&re.alternate===null&&(re.flags|=67108866),re}function M(re,X,ae,be){return X===null||X.tag!==6?(X=Qd(ae,re.mode,be),X.return=re,X):(X=p(X,ae),X.return=re,X)}function K(re,X,ae,be){var et=ae.type;return et===_?xe(re,X,ae.props.children,be,ae.key):X!==null&&(X.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===I&&Pi(et)===X.type)?(X=p(X,ae.props),Hl(X,ae),X.return=re,X):(X=mc(ae.type,ae.key,ae.props,null,re.mode,be),Hl(X,ae),X.return=re,X)}function le(re,X,ae,be){return X===null||X.tag!==4||X.stateNode.containerInfo!==ae.containerInfo||X.stateNode.implementation!==ae.implementation?(X=Zd(ae,re.mode,be),X.return=re,X):(X=p(X,ae.children||[]),X.return=re,X)}function xe(re,X,ae,be,et){return X===null||X.tag!==7?(X=Li(ae,re.mode,be,et),X.return=re,X):(X=p(X,ae),X.return=re,X)}function Ee(re,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Qd(""+X,re.mode,ae),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return ae=mc(X.type,X.key,X.props,null,re.mode,ae),Hl(ae,X),ae.return=re,ae;case S:return X=Zd(X,re.mode,ae),X.return=re,X;case I:return X=Pi(X),Ee(re,X,ae)}if(ce(X)||ie(X))return X=Li(X,re.mode,ae,null),X.return=re,X;if(typeof X.then=="function")return Ee(re,bc(X),ae);if(X.$$typeof===T)return Ee(re,vc(re,X),ae);wc(re,X)}return null}function fe(re,X,ae,be){var et=X!==null?X.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return et!==null?null:M(re,X,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return ae.key===et?K(re,X,ae,be):null;case S:return ae.key===et?le(re,X,ae,be):null;case I:return ae=Pi(ae),fe(re,X,ae,be)}if(ce(ae)||ie(ae))return et!==null?null:xe(re,X,ae,be,null);if(typeof ae.then=="function")return fe(re,X,bc(ae),be);if(ae.$$typeof===T)return fe(re,X,vc(re,ae),be);wc(re,ae)}return null}function pe(re,X,ae,be,et){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return re=re.get(ae)||null,M(X,re,""+be,et);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case w:return re=re.get(be.key===null?ae:be.key)||null,K(X,re,be,et);case S:return re=re.get(be.key===null?ae:be.key)||null,le(X,re,be,et);case I:return be=Pi(be),pe(re,X,ae,be,et)}if(ce(be)||ie(be))return re=re.get(ae)||null,xe(X,re,be,et,null);if(typeof be.then=="function")return pe(re,X,ae,bc(be),et);if(be.$$typeof===T)return pe(re,X,ae,vc(X,be),et);wc(X,be)}return null}function We(re,X,ae,be){for(var et=null,_t=null,Xe=X,ut=X=0,gt=null;Xe!==null&&ut<ae.length;ut++){Xe.index>ut?(gt=Xe,Xe=null):gt=Xe.sibling;var bt=fe(re,Xe,ae[ut],be);if(bt===null){Xe===null&&(Xe=gt);break}n&&Xe&&bt.alternate===null&&i(re,Xe),X=v(bt,X,ut),_t===null?et=bt:_t.sibling=bt,_t=bt,Xe=gt}if(ut===ae.length)return l(re,Xe),vt&&ba(re,ut),et;if(Xe===null){for(;ut<ae.length;ut++)Xe=Ee(re,ae[ut],be),Xe!==null&&(X=v(Xe,X,ut),_t===null?et=Xe:_t.sibling=Xe,_t=Xe);return vt&&ba(re,ut),et}for(Xe=d(Xe);ut<ae.length;ut++)gt=pe(Xe,re,ut,ae[ut],be),gt!==null&&(n&&gt.alternate!==null&&Xe.delete(gt.key===null?ut:gt.key),X=v(gt,X,ut),_t===null?et=gt:_t.sibling=gt,_t=gt);return n&&Xe.forEach(function(yi){return i(re,yi)}),vt&&ba(re,ut),et}function tt(re,X,ae,be){if(ae==null)throw Error(a(151));for(var et=null,_t=null,Xe=X,ut=X=0,gt=null,bt=ae.next();Xe!==null&&!bt.done;ut++,bt=ae.next()){Xe.index>ut?(gt=Xe,Xe=null):gt=Xe.sibling;var yi=fe(re,Xe,bt.value,be);if(yi===null){Xe===null&&(Xe=gt);break}n&&Xe&&yi.alternate===null&&i(re,Xe),X=v(yi,X,ut),_t===null?et=yi:_t.sibling=yi,_t=yi,Xe=gt}if(bt.done)return l(re,Xe),vt&&ba(re,ut),et;if(Xe===null){for(;!bt.done;ut++,bt=ae.next())bt=Ee(re,bt.value,be),bt!==null&&(X=v(bt,X,ut),_t===null?et=bt:_t.sibling=bt,_t=bt);return vt&&ba(re,ut),et}for(Xe=d(Xe);!bt.done;ut++,bt=ae.next())bt=pe(Xe,re,ut,bt.value,be),bt!==null&&(n&&bt.alternate!==null&&Xe.delete(bt.key===null?ut:bt.key),X=v(bt,X,ut),_t===null?et=bt:_t.sibling=bt,_t=bt);return n&&Xe.forEach(function(HS){return i(re,HS)}),vt&&ba(re,ut),et}function zt(re,X,ae,be){if(typeof ae=="object"&&ae!==null&&ae.type===_&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:e:{for(var et=ae.key;X!==null;){if(X.key===et){if(et=ae.type,et===_){if(X.tag===7){l(re,X.sibling),be=p(X,ae.props.children),be.return=re,re=be;break e}}else if(X.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===I&&Pi(et)===X.type){l(re,X.sibling),be=p(X,ae.props),Hl(be,ae),be.return=re,re=be;break e}l(re,X);break}else i(re,X);X=X.sibling}ae.type===_?(be=Li(ae.props.children,re.mode,be,ae.key),be.return=re,re=be):(be=mc(ae.type,ae.key,ae.props,null,re.mode,be),Hl(be,ae),be.return=re,re=be)}return E(re);case S:e:{for(et=ae.key;X!==null;){if(X.key===et)if(X.tag===4&&X.stateNode.containerInfo===ae.containerInfo&&X.stateNode.implementation===ae.implementation){l(re,X.sibling),be=p(X,ae.children||[]),be.return=re,re=be;break e}else{l(re,X);break}else i(re,X);X=X.sibling}be=Zd(ae,re.mode,be),be.return=re,re=be}return E(re);case I:return ae=Pi(ae),zt(re,X,ae,be)}if(ce(ae))return We(re,X,ae,be);if(ie(ae)){if(et=ie(ae),typeof et!="function")throw Error(a(150));return ae=et.call(ae),tt(re,X,ae,be)}if(typeof ae.then=="function")return zt(re,X,bc(ae),be);if(ae.$$typeof===T)return zt(re,X,vc(re,ae),be);wc(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,X!==null&&X.tag===6?(l(re,X.sibling),be=p(X,ae),be.return=re,re=be):(l(re,X),be=Qd(ae,re.mode,be),be.return=re,re=be),E(re)):l(re,X)}return function(re,X,ae,be){try{Pl=0;var et=zt(re,X,ae,be);return zs=null,et}catch(Xe){if(Xe===Ms||Xe===yc)throw Xe;var _t=un(29,Xe,null,re.mode);return _t.lanes=be,_t.return=re,_t}finally{}}}var $i=jp(!0),Cp=jp(!1),ri=!1;function ff(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ni(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ai(n,i,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Et&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,i=hc(n),fp(n,null,l),i}return fc(n,d,i,l),hc(n)}function $l(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,Ya(n,l)}}function mf(n,i){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?p=v=i:v=v.next=i}else p=v=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}var pf=!1;function Gl(){if(pf){var n=Ds;if(n!==null)throw n}}function ql(n,i,l,d){pf=!1;var p=n.updateQueue;ri=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var K=M,le=K.next;K.next=null,E===null?v=le:E.next=le,E=K;var xe=n.alternate;xe!==null&&(xe=xe.updateQueue,M=xe.lastBaseUpdate,M!==E&&(M===null?xe.firstBaseUpdate=le:M.next=le,xe.lastBaseUpdate=K))}if(v!==null){var Ee=p.baseState;E=0,xe=le=K=null,M=v;do{var fe=M.lane&-536870913,pe=fe!==M.lane;if(pe?(pt&fe)===fe:(d&fe)===fe){fe!==0&&fe===Ns&&(pf=!0),xe!==null&&(xe=xe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var We=n,tt=M;fe=i;var zt=l;switch(tt.tag){case 1:if(We=tt.payload,typeof We=="function"){Ee=We.call(zt,Ee,fe);break e}Ee=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=tt.payload,fe=typeof We=="function"?We.call(zt,Ee,fe):We,fe==null)break e;Ee=x({},Ee,fe);break e;case 2:ri=!0}}fe=M.callback,fe!==null&&(n.flags|=64,pe&&(n.flags|=8192),pe=p.callbacks,pe===null?p.callbacks=[fe]:pe.push(fe))}else pe={lane:fe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},xe===null?(le=xe=pe,K=Ee):xe=xe.next=pe,E|=fe;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;pe=M,M=pe.next,pe.next=null,p.lastBaseUpdate=pe,p.shared.pending=null}}while(!0);xe===null&&(K=Ee),p.baseState=K,p.firstBaseUpdate=le,p.lastBaseUpdate=xe,v===null&&(p.shared.lanes=0),ci|=E,n.lanes=E,n.memoizedState=Ee}}function Rp(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Op(n,i){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Rp(l[n],i)}var Ls=j(null),Sc=j(0);function Np(n,i){n=Na,W(Sc,n),W(Ls,i),Na=n|i.baseLanes}function gf(){W(Sc,Na),W(Ls,Ls.current)}function vf(){Na=Sc.current,C(Ls),C(Sc)}var dn=j(null),On=null;function ii(n){var i=n.alternate;W(Zt,Zt.current&1),W(dn,n),On===null&&(i===null||Ls.current!==null||i.memoizedState!==null)&&(On=n)}function xf(n){W(Zt,Zt.current),W(dn,n),On===null&&(On=n)}function Dp(n){n.tag===22?(W(Zt,Zt.current),W(dn,n),On===null&&(On=n)):si()}function si(){W(Zt,Zt.current),W(dn,dn.current)}function fn(n){C(dn),On===n&&(On=null),C(Zt)}var Zt=j(0);function Ec(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||E0(l)||T0(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ea=0,ot=null,Dt=null,ir=null,Tc=!1,Fs=!1,Gi=!1,kc=0,Wl=0,Bs=null,Nw=0;function Yt(){throw Error(a(321))}function yf(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!cn(n[l],i[l]))return!1;return!0}function _f(n,i,l,d,p,v){return Ea=v,ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=n===null||n.memoizedState===null?gg:zf,Gi=!1,v=l(d,p),Gi=!1,Fs&&(v=zp(i,l,d,p)),Mp(n),v}function Mp(n){J.H=Yl;var i=Dt!==null&&Dt.next!==null;if(Ea=0,ir=Dt=ot=null,Tc=!1,Wl=0,Bs=null,i)throw Error(a(300));n===null||sr||(n=n.dependencies,n!==null&&gc(n)&&(sr=!0))}function zp(n,i,l,d){ot=n;var p=0;do{if(Fs&&(Bs=null),Wl=0,Fs=!1,25<=p)throw Error(a(301));if(p+=1,ir=Dt=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}J.H=vg,v=i(l,d)}while(Fs);return v}function Dw(){var n=J.H,i=n.useState()[0];return i=typeof i.then=="function"?Vl(i):i,n=n.useState()[0],(Dt!==null?Dt.memoizedState:null)!==n&&(ot.flags|=1024),i}function bf(){var n=kc!==0;return kc=0,n}function wf(n,i,l){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~l}function Sf(n){if(Tc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Tc=!1}Ea=0,ir=Dt=ot=null,Fs=!1,Wl=kc=0,Bs=null}function Hr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?ot.memoizedState=ir=n:ir=ir.next=n,ir}function er(){if(Dt===null){var n=ot.alternate;n=n!==null?n.memoizedState:null}else n=Dt.next;var i=ir===null?ot.memoizedState:ir.next;if(i!==null)ir=i,Dt=n;else{if(n===null)throw ot.alternate===null?Error(a(467)):Error(a(310));Dt=n,n={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},ir===null?ot.memoizedState=ir=n:ir=ir.next=n}return ir}function Ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(n){var i=Wl;return Wl+=1,Bs===null&&(Bs=[]),n=Tp(Bs,n,i),i=ot,(ir===null?i.memoizedState:ir.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?gg:zf),n}function jc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Vl(n);if(n.$$typeof===T)return Sr(n)}throw Error(a(438,String(n)))}function Ef(n){var i=null,l=ot.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var d=ot.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Ac(),ot.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(n),d=0;d<n;d++)l[d]=te;return i.index++,l}function Ta(n,i){return typeof i=="function"?i(n):i}function Cc(n){var i=er();return Tf(i,Dt,n)}function Tf(n,i,l){var d=n.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=l;var p=n.baseQueue,v=d.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}i.baseQueue=p=v,d.pending=null}if(v=n.baseState,p===null)n.memoizedState=v;else{i=p.next;var M=E=null,K=null,le=i,xe=!1;do{var Ee=le.lane&-536870913;if(Ee!==le.lane?(pt&Ee)===Ee:(Ea&Ee)===Ee){var fe=le.revertLane;if(fe===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ee===Ns&&(xe=!0);else if((Ea&fe)===fe){le=le.next,fe===Ns&&(xe=!0);continue}else Ee={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},K===null?(M=K=Ee,E=v):K=K.next=Ee,ot.lanes|=fe,ci|=fe;Ee=le.action,Gi&&l(v,Ee),v=le.hasEagerState?le.eagerState:l(v,Ee)}else fe={lane:Ee,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},K===null?(M=K=fe,E=v):K=K.next=fe,ot.lanes|=Ee,ci|=Ee;le=le.next}while(le!==null&&le!==i);if(K===null?E=v:K.next=M,!cn(v,n.memoizedState)&&(sr=!0,xe&&(l=Ds,l!==null)))throw l;n.memoizedState=v,n.baseState=E,n.baseQueue=K,d.lastRenderedState=v}return p===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function kf(n){var i=er(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=n;var d=l.dispatch,p=l.pending,v=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do v=n(v,E.action),E=E.next;while(E!==p);cn(v,i.memoizedState)||(sr=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,d]}function Lp(n,i,l){var d=ot,p=er(),v=vt;if(v){if(l===void 0)throw Error(a(407));l=l()}else l=i();var E=!cn((Dt||p).memoizedState,l);if(E&&(p.memoizedState=l,sr=!0),p=p.queue,Cf(Ip.bind(null,d,p,n),[n]),p.getSnapshot!==i||E||ir!==null&&ir.memoizedState.tag&1){if(d.flags|=2048,Is(9,{destroy:void 0},Bp.bind(null,d,p,l,i),null),Bt===null)throw Error(a(349));v||(Ea&127)!==0||Fp(d,i,l)}return l}function Fp(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=ot.updateQueue,i===null?(i=Ac(),ot.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function Bp(n,i,l,d){i.value=l,i.getSnapshot=d,Up(i)&&Pp(n)}function Ip(n,i,l){return l(function(){Up(i)&&Pp(n)})}function Up(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!cn(n,l)}catch{return!0}}function Pp(n){var i=zi(n,2);i!==null&&Zr(i,n,2)}function Af(n){var i=Hr();if(typeof n=="function"){var l=n;if(n=l(),Gi){Wr(!0);try{l()}finally{Wr(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:n},i}function Hp(n,i,l,d){return n.baseState=l,Tf(n,Dt,typeof d=="function"?d:Ta)}function Mw(n,i,l,d,p){if(Nc(n))throw Error(a(485));if(n=i.action,n!==null){var v={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};J.T!==null?l(!0):v.isTransition=!1,d(v),l=i.pending,l===null?(v.next=i.pending=v,$p(i,v)):(v.next=l.next,i.pending=l.next=v)}}function $p(n,i){var l=i.action,d=i.payload,p=n.state;if(i.isTransition){var v=J.T,E={};J.T=E;try{var M=l(p,d),K=J.S;K!==null&&K(E,M),Gp(n,i,M)}catch(le){jf(n,i,le)}finally{v!==null&&E.types!==null&&(v.types=E.types),J.T=v}}else try{v=l(p,d),Gp(n,i,v)}catch(le){jf(n,i,le)}}function Gp(n,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){qp(n,i,d)},function(d){return jf(n,i,d)}):qp(n,i,l)}function qp(n,i,l){i.status="fulfilled",i.value=l,Wp(i),n.state=l,i=n.pending,i!==null&&(l=i.next,l===i?n.pending=null:(l=l.next,i.next=l,$p(n,l)))}function jf(n,i,l){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=l,Wp(i),i=i.next;while(i!==d)}n.action=null}function Wp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Vp(n,i){return i}function Kp(n,i){if(vt){var l=Bt.formState;if(l!==null){e:{var d=ot;if(vt){if(Pt){t:{for(var p=Pt,v=Rn;p.nodeType!==8;){if(!v){p=null;break t}if(p=Nn(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Pt=Nn(p.nextSibling),d=p.data==="F!";break e}}ei(d)}d=!1}d&&(i=l[0])}}return l=Hr(),l.memoizedState=l.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vp,lastRenderedState:i},l.queue=d,l=hg.bind(null,ot,d),d.dispatch=l,d=Af(!1),v=Mf.bind(null,ot,!1,d.queue),d=Hr(),p={state:i,dispatch:null,action:n,pending:null},d.queue=p,l=Mw.bind(null,ot,p,v,l),p.dispatch=l,d.memoizedState=n,[i,l,!1]}function Yp(n){var i=er();return Xp(i,Dt,n)}function Xp(n,i,l){if(i=Tf(n,i,Vp)[0],n=Cc(Ta)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Vl(i)}catch(E){throw E===Ms?yc:E}else d=i;i=er();var p=i.queue,v=p.dispatch;return l!==i.memoizedState&&(ot.flags|=2048,Is(9,{destroy:void 0},zw.bind(null,p,l),null)),[d,v,n]}function zw(n,i){n.action=i}function Jp(n){var i=er(),l=Dt;if(l!==null)return Xp(i,l,n);er(),i=i.memoizedState,l=er();var d=l.queue.dispatch;return l.memoizedState=n,[i,d,!1]}function Is(n,i,l,d){return n={tag:n,create:l,deps:d,inst:i,next:null},i=ot.updateQueue,i===null&&(i=Ac(),ot.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,i.lastEffect=n),n}function Qp(){return er().memoizedState}function Rc(n,i,l,d){var p=Hr();ot.flags|=n,p.memoizedState=Is(1|i,{destroy:void 0},l,d===void 0?null:d)}function Oc(n,i,l,d){var p=er();d=d===void 0?null:d;var v=p.memoizedState.inst;Dt!==null&&d!==null&&yf(d,Dt.memoizedState.deps)?p.memoizedState=Is(i,v,l,d):(ot.flags|=n,p.memoizedState=Is(1|i,v,l,d))}function Zp(n,i){Rc(8390656,8,n,i)}function Cf(n,i){Oc(2048,8,n,i)}function Lw(n){ot.flags|=4;var i=ot.updateQueue;if(i===null)i=Ac(),ot.updateQueue=i,i.events=[n];else{var l=i.events;l===null?i.events=[n]:l.push(n)}}function eg(n){var i=er().memoizedState;return Lw({ref:i,nextImpl:n}),function(){if((Et&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function tg(n,i){return Oc(4,2,n,i)}function rg(n,i){return Oc(4,4,n,i)}function ng(n,i){if(typeof i=="function"){n=n();var l=i(n);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ag(n,i,l){l=l!=null?l.concat([n]):null,Oc(4,4,ng.bind(null,i,n),l)}function Rf(){}function ig(n,i){var l=er();i=i===void 0?null:i;var d=l.memoizedState;return i!==null&&yf(i,d[1])?d[0]:(l.memoizedState=[n,i],n)}function sg(n,i){var l=er();i=i===void 0?null:i;var d=l.memoizedState;if(i!==null&&yf(i,d[1]))return d[0];if(d=n(),Gi){Wr(!0);try{n()}finally{Wr(!1)}}return l.memoizedState=[d,i],d}function Of(n,i,l){return l===void 0||(Ea&1073741824)!==0&&(pt&261930)===0?n.memoizedState=i:(n.memoizedState=l,n=l1(),ot.lanes|=n,ci|=n,l)}function lg(n,i,l,d){return cn(l,i)?l:Ls.current!==null?(n=Of(n,l,d),cn(n,i)||(sr=!0),n):(Ea&42)===0||(Ea&1073741824)!==0&&(pt&261930)===0?(sr=!0,n.memoizedState=l):(n=l1(),ot.lanes|=n,ci|=n,i)}function og(n,i,l,d,p){var v=me.p;me.p=v!==0&&8>v?v:8;var E=J.T,M={};J.T=M,Mf(n,!1,i,l);try{var K=p(),le=J.S;if(le!==null&&le(M,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var xe=Ow(K,d);Kl(n,i,xe,pn(n))}else Kl(n,i,d,pn(n))}catch(Ee){Kl(n,i,{then:function(){},status:"rejected",reason:Ee},pn())}finally{me.p=v,E!==null&&M.types!==null&&(E.types=M.types),J.T=E}}function Fw(){}function Nf(n,i,l,d){if(n.tag!==5)throw Error(a(476));var p=cg(n).queue;og(n,p,i,Ce,l===null?Fw:function(){return ug(n),l(d)})}function cg(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:Ce},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:l},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function ug(n){var i=cg(n);i.next===null&&(i=n.alternate.memoizedState),Kl(n,i.next.queue,{},pn())}function Df(){return Sr(fo)}function dg(){return er().memoizedState}function fg(){return er().memoizedState}function Bw(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var l=pn();n=ni(l);var d=ai(i,n,l);d!==null&&(Zr(d,i,l),$l(d,i,l)),i={cache:of()},n.payload=i;return}i=i.return}}function Iw(n,i,l){var d=pn();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nc(n)?mg(i,l):(l=Xd(n,i,l,d),l!==null&&(Zr(l,n,d),pg(l,i,d)))}function hg(n,i,l){var d=pn();Kl(n,i,l,d)}function Kl(n,i,l,d){var p={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Nc(n))mg(i,p);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var E=i.lastRenderedState,M=v(E,l);if(p.hasEagerState=!0,p.eagerState=M,cn(M,E))return fc(n,i,p,0),Bt===null&&dc(),!1}catch{}finally{}if(l=Xd(n,i,p,d),l!==null)return Zr(l,n,d),pg(l,i,d),!0}return!1}function Mf(n,i,l,d){if(d={lane:2,revertLane:f0(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Nc(n)){if(i)throw Error(a(479))}else i=Xd(n,l,d,2),i!==null&&Zr(i,n,2)}function Nc(n){var i=n.alternate;return n===ot||i!==null&&i===ot}function mg(n,i){Fs=Tc=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function pg(n,i,l){if((l&4194048)!==0){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,Ya(n,l)}}var Yl={readContext:Sr,use:jc,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};Yl.useEffectEvent=Yt;var gg={readContext:Sr,use:jc,useCallback:function(n,i){return Hr().memoizedState=[n,i===void 0?null:i],n},useContext:Sr,useEffect:Zp,useImperativeHandle:function(n,i,l){l=l!=null?l.concat([n]):null,Rc(4194308,4,ng.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Rc(4194308,4,n,i)},useInsertionEffect:function(n,i){Rc(4,2,n,i)},useMemo:function(n,i){var l=Hr();i=i===void 0?null:i;var d=n();if(Gi){Wr(!0);try{n()}finally{Wr(!1)}}return l.memoizedState=[d,i],d},useReducer:function(n,i,l){var d=Hr();if(l!==void 0){var p=l(i);if(Gi){Wr(!0);try{l(i)}finally{Wr(!1)}}}else p=i;return d.memoizedState=d.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},d.queue=n,n=n.dispatch=Iw.bind(null,ot,n),[d.memoizedState,n]},useRef:function(n){var i=Hr();return n={current:n},i.memoizedState=n},useState:function(n){n=Af(n);var i=n.queue,l=hg.bind(null,ot,i);return i.dispatch=l,[n.memoizedState,l]},useDebugValue:Rf,useDeferredValue:function(n,i){var l=Hr();return Of(l,n,i)},useTransition:function(){var n=Af(!1);return n=og.bind(null,ot,n.queue,!0,!1),Hr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,l){var d=ot,p=Hr();if(vt){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),Bt===null)throw Error(a(349));(pt&127)!==0||Fp(d,i,l)}p.memoizedState=l;var v={value:l,getSnapshot:i};return p.queue=v,Zp(Ip.bind(null,d,v,n),[n]),d.flags|=2048,Is(9,{destroy:void 0},Bp.bind(null,d,v,l,i),null),l},useId:function(){var n=Hr(),i=Bt.identifierPrefix;if(vt){var l=sa,d=ia;l=(d&~(1<<32-Kt(d)-1)).toString(32)+l,i="_"+i+"R_"+l,l=kc++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=Nw++,i="_"+i+"r_"+l.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Df,useFormState:Kp,useActionState:Kp,useOptimistic:function(n){var i=Hr();i.memoizedState=i.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Mf.bind(null,ot,!0,l),l.dispatch=i,[n,i]},useMemoCache:Ef,useCacheRefresh:function(){return Hr().memoizedState=Bw.bind(null,ot)},useEffectEvent:function(n){var i=Hr(),l={impl:n};return i.memoizedState=l,function(){if((Et&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},zf={readContext:Sr,use:jc,useCallback:ig,useContext:Sr,useEffect:Cf,useImperativeHandle:ag,useInsertionEffect:tg,useLayoutEffect:rg,useMemo:sg,useReducer:Cc,useRef:Qp,useState:function(){return Cc(Ta)},useDebugValue:Rf,useDeferredValue:function(n,i){var l=er();return lg(l,Dt.memoizedState,n,i)},useTransition:function(){var n=Cc(Ta)[0],i=er().memoizedState;return[typeof n=="boolean"?n:Vl(n),i]},useSyncExternalStore:Lp,useId:dg,useHostTransitionStatus:Df,useFormState:Yp,useActionState:Yp,useOptimistic:function(n,i){var l=er();return Hp(l,Dt,n,i)},useMemoCache:Ef,useCacheRefresh:fg};zf.useEffectEvent=eg;var vg={readContext:Sr,use:jc,useCallback:ig,useContext:Sr,useEffect:Cf,useImperativeHandle:ag,useInsertionEffect:tg,useLayoutEffect:rg,useMemo:sg,useReducer:kf,useRef:Qp,useState:function(){return kf(Ta)},useDebugValue:Rf,useDeferredValue:function(n,i){var l=er();return Dt===null?Of(l,n,i):lg(l,Dt.memoizedState,n,i)},useTransition:function(){var n=kf(Ta)[0],i=er().memoizedState;return[typeof n=="boolean"?n:Vl(n),i]},useSyncExternalStore:Lp,useId:dg,useHostTransitionStatus:Df,useFormState:Jp,useActionState:Jp,useOptimistic:function(n,i){var l=er();return Dt!==null?Hp(l,Dt,n,i):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:fg};vg.useEffectEvent=eg;function Lf(n,i,l,d){i=n.memoizedState,l=l(d,i),l=l==null?i:x({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Ff={enqueueSetState:function(n,i,l){n=n._reactInternals;var d=pn(),p=ni(d);p.payload=i,l!=null&&(p.callback=l),i=ai(n,p,d),i!==null&&(Zr(i,n,d),$l(i,n,d))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var d=pn(),p=ni(d);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=ai(n,p,d),i!==null&&(Zr(i,n,d),$l(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=pn(),d=ni(l);d.tag=2,i!=null&&(d.callback=i),i=ai(n,d,l),i!==null&&(Zr(i,n,l),$l(i,n,l))}};function xg(n,i,l,d,p,v,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,E):i.prototype&&i.prototype.isPureReactComponent?!zl(l,d)||!zl(p,v):!0}function yg(n,i,l,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==n&&Ff.enqueueReplaceState(i,i.state,null)}function qi(n,i){var l=i;if("ref"in i){l={};for(var d in i)d!=="ref"&&(l[d]=i[d])}if(n=n.defaultProps){l===i&&(l=x({},l));for(var p in n)l[p]===void 0&&(l[p]=n[p])}return l}function _g(n){uc(n)}function bg(n){console.error(n)}function wg(n){uc(n)}function Dc(n,i){try{var l=n.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Sg(n,i,l){try{var d=n.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Bf(n,i,l){return l=ni(l),l.tag=3,l.payload={element:null},l.callback=function(){Dc(n,i)},l}function Eg(n){return n=ni(n),n.tag=3,n}function Tg(n,i,l,d){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=d.value;n.payload=function(){return p(v)},n.callback=function(){Sg(i,l,d)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Sg(i,l,d),typeof p!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})})}function Uw(n,i,l,d,p){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=l.alternate,i!==null&&Os(i,l,p,!0),l=dn.current,l!==null){switch(l.tag){case 31:case 13:return On===null?qc():l.alternate===null&&Xt===0&&(Xt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,d===_c?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([d]):i.add(d),c0(n,d,p)),!1;case 22:return l.flags|=65536,d===_c?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([d]):l.add(d)),c0(n,d,p)),!1}throw Error(a(435,l.tag))}return c0(n,d,p),qc(),!1}if(vt)return i=dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,d!==rf&&(n=Error(a(422),{cause:d}),Bl(An(n,l)))):(d!==rf&&(i=Error(a(423),{cause:d}),Bl(An(i,l))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,d=An(d,l),p=Bf(n.stateNode,d,p),mf(n,p),Xt!==4&&(Xt=2)),!1;var v=Error(a(520),{cause:d});if(v=An(v,l),no===null?no=[v]:no.push(v),Xt!==4&&(Xt=2),i===null)return!0;d=An(d,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,n=p&-p,l.lanes|=n,n=Bf(l.stateNode,d,n),mf(l,n),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ui===null||!ui.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Eg(p),Tg(p,n,l,d),mf(l,p),!1}l=l.return}while(l!==null);return!1}var If=Error(a(461)),sr=!1;function Er(n,i,l,d){i.child=n===null?Cp(i,null,l,d):$i(i,n.child,l,d)}function kg(n,i,l,d,p){l=l.render;var v=i.ref;if("ref"in d){var E={};for(var M in d)M!=="ref"&&(E[M]=d[M])}else E=d;return Ii(i),d=_f(n,i,l,E,v,p),M=bf(),n!==null&&!sr?(wf(n,i,p),ka(n,i,p)):(vt&&M&&ef(i),i.flags|=1,Er(n,i,d,p),i.child)}function Ag(n,i,l,d,p){if(n===null){var v=l.type;return typeof v=="function"&&!Jd(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,jg(n,i,v,d,p)):(n=mc(l.type,null,d,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,!Vf(n,p)){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:zl,l(E,d)&&n.ref===i.ref)return ka(n,i,p)}return i.flags|=1,n=_a(v,d),n.ref=i.ref,n.return=i,i.child=n}function jg(n,i,l,d,p){if(n!==null){var v=n.memoizedProps;if(zl(v,d)&&n.ref===i.ref)if(sr=!1,i.pendingProps=d=v,Vf(n,p))(n.flags&131072)!==0&&(sr=!0);else return i.lanes=n.lanes,ka(n,i,p)}return Uf(n,i,l,d,p)}function Cg(n,i,l,d){var p=d.children,v=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,n!==null){for(d=i.child=n.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~v}else d=0,i.child=null;return Rg(n,i,v,l,d)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&xc(i,v!==null?v.cachePool:null),v!==null?Np(i,v):gf(),Dp(i);else return d=i.lanes=536870912,Rg(n,i,v!==null?v.baseLanes|l:l,l,d)}else v!==null?(xc(i,v.cachePool),Np(i,v),si(),i.memoizedState=null):(n!==null&&xc(i,null),gf(),si());return Er(n,i,p,l),i.child}function Xl(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Rg(n,i,l,d,p){var v=uf();return v=v===null?null:{parent:ar._currentValue,pool:v},i.memoizedState={baseLanes:l,cachePool:v},n!==null&&xc(i,null),gf(),Dp(i),n!==null&&Os(n,i,d,!0),i.childLanes=p,null}function Mc(n,i){return i=Lc({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Og(n,i,l){return $i(i,n.child,null,l),n=Mc(i,i.pendingProps),n.flags|=2,fn(i),i.memoizedState=null,n}function Pw(n,i,l){var d=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(vt){if(d.mode==="hidden")return n=Mc(i,d),i.lanes=536870912,Xl(null,n);if(xf(i),(n=Pt)?(n=$1(n,Rn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Qa!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},l=mp(n),l.return=i,i.child=l,wr=i,Pt=null)):n=null,n===null)throw ei(i);return i.lanes=536870912,null}return Mc(i,d)}var v=n.memoizedState;if(v!==null){var E=v.dehydrated;if(xf(i),p)if(i.flags&256)i.flags&=-257,i=Og(n,i,l);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(sr||Os(n,i,l,!1),p=(l&n.childLanes)!==0,sr||p){if(d=Bt,d!==null&&(E=xs(d,l),E!==0&&E!==v.retryLane))throw v.retryLane=E,zi(n,E),Zr(d,n,E),If;qc(),i=Og(n,i,l)}else n=v.treeContext,Pt=Nn(E.nextSibling),wr=i,vt=!0,Za=null,Rn=!1,n!==null&&vp(i,n),i=Mc(i,d),i.flags|=4096;return i}return n=_a(n.child,{mode:d.mode,children:d.children}),n.ref=i.ref,i.child=n,n.return=i,n}function zc(n,i){var l=i.ref;if(l===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(n===null||n.ref!==l)&&(i.flags|=4194816)}}function Uf(n,i,l,d,p){return Ii(i),l=_f(n,i,l,d,void 0,p),d=bf(),n!==null&&!sr?(wf(n,i,p),ka(n,i,p)):(vt&&d&&ef(i),i.flags|=1,Er(n,i,l,p),i.child)}function Ng(n,i,l,d,p,v){return Ii(i),i.updateQueue=null,l=zp(i,d,l,p),Mp(n),d=bf(),n!==null&&!sr?(wf(n,i,v),ka(n,i,v)):(vt&&d&&ef(i),i.flags|=1,Er(n,i,l,v),i.child)}function Dg(n,i,l,d,p){if(Ii(i),i.stateNode===null){var v=As,E=l.contextType;typeof E=="object"&&E!==null&&(v=Sr(E)),v=new l(d,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ff,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=d,v.state=i.memoizedState,v.refs={},ff(i),E=l.contextType,v.context=typeof E=="object"&&E!==null?Sr(E):As,v.state=i.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Lf(i,l,E,d),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Ff.enqueueReplaceState(v,v.state,null),ql(i,d,v,p),Gl(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(n===null){v=i.stateNode;var M=i.memoizedProps,K=qi(l,M);v.props=K;var le=v.context,xe=l.contextType;E=As,typeof xe=="object"&&xe!==null&&(E=Sr(xe));var Ee=l.getDerivedStateFromProps;xe=typeof Ee=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,xe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||le!==E)&&yg(i,v,d,E),ri=!1;var fe=i.memoizedState;v.state=fe,ql(i,d,v,p),Gl(),le=i.memoizedState,M||fe!==le||ri?(typeof Ee=="function"&&(Lf(i,l,Ee,d),le=i.memoizedState),(K=ri||xg(i,l,K,d,fe,le,E))?(xe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=le),v.props=d,v.state=le,v.context=E,d=K):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{v=i.stateNode,hf(n,i),E=i.memoizedProps,xe=qi(l,E),v.props=xe,Ee=i.pendingProps,fe=v.context,le=l.contextType,K=As,typeof le=="object"&&le!==null&&(K=Sr(le)),M=l.getDerivedStateFromProps,(le=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==Ee||fe!==K)&&yg(i,v,d,K),ri=!1,fe=i.memoizedState,v.state=fe,ql(i,d,v,p),Gl();var pe=i.memoizedState;E!==Ee||fe!==pe||ri||n!==null&&n.dependencies!==null&&gc(n.dependencies)?(typeof M=="function"&&(Lf(i,l,M,d),pe=i.memoizedState),(xe=ri||xg(i,l,xe,d,fe,pe,K)||n!==null&&n.dependencies!==null&&gc(n.dependencies))?(le||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,pe,K),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,pe,K)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&fe===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&fe===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=pe),v.props=d,v.state=pe,v.context=K,d=xe):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&fe===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&fe===n.memoizedState||(i.flags|=1024),d=!1)}return v=d,zc(n,i),d=(i.flags&128)!==0,v||d?(v=i.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,n!==null&&d?(i.child=$i(i,n.child,null,p),i.child=$i(i,null,l,p)):Er(n,i,l,p),i.memoizedState=v.state,n=i.child):n=ka(n,i,p),n}function Mg(n,i,l,d){return Fi(),i.flags|=256,Er(n,i,l,d),i.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(n){return{baseLanes:n,cachePool:Sp()}}function $f(n,i,l){return n=n!==null?n.childLanes&~l:0,i&&(n|=mn),n}function zg(n,i,l){var d=i.pendingProps,p=!1,v=(i.flags&128)!==0,E;if((E=v)||(E=n!==null&&n.memoizedState===null?!1:(Zt.current&2)!==0),E&&(p=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(vt){if(p?ii(i):si(),(n=Pt)?(n=$1(n,Rn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Qa!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},l=mp(n),l.return=i,i.child=l,wr=i,Pt=null)):n=null,n===null)throw ei(i);return T0(n)?i.lanes=32:i.lanes=536870912,null}var M=d.children;return d=d.fallback,p?(si(),p=i.mode,M=Lc({mode:"hidden",children:M},p),d=Li(d,p,l,null),M.return=i,d.return=i,M.sibling=d,i.child=M,d=i.child,d.memoizedState=Hf(l),d.childLanes=$f(n,E,l),i.memoizedState=Pf,Xl(null,d)):(ii(i),Gf(i,M))}var K=n.memoizedState;if(K!==null&&(M=K.dehydrated,M!==null)){if(v)i.flags&256?(ii(i),i.flags&=-257,i=qf(n,i,l)):i.memoizedState!==null?(si(),i.child=n.child,i.flags|=128,i=null):(si(),M=d.fallback,p=i.mode,d=Lc({mode:"visible",children:d.children},p),M=Li(M,p,l,null),M.flags|=2,d.return=i,M.return=i,d.sibling=M,i.child=d,$i(i,n.child,null,l),d=i.child,d.memoizedState=Hf(l),d.childLanes=$f(n,E,l),i.memoizedState=Pf,i=Xl(null,d));else if(ii(i),T0(M)){if(E=M.nextSibling&&M.nextSibling.dataset,E)var le=E.dgst;E=le,d=Error(a(419)),d.stack="",d.digest=E,Bl({value:d,source:null,stack:null}),i=qf(n,i,l)}else if(sr||Os(n,i,l,!1),E=(l&n.childLanes)!==0,sr||E){if(E=Bt,E!==null&&(d=xs(E,l),d!==0&&d!==K.retryLane))throw K.retryLane=d,zi(n,d),Zr(E,n,d),If;E0(M)||qc(),i=qf(n,i,l)}else E0(M)?(i.flags|=192,i.child=n.child,i=null):(n=K.treeContext,Pt=Nn(M.nextSibling),wr=i,vt=!0,Za=null,Rn=!1,n!==null&&vp(i,n),i=Gf(i,d.children),i.flags|=4096);return i}return p?(si(),M=d.fallback,p=i.mode,K=n.child,le=K.sibling,d=_a(K,{mode:"hidden",children:d.children}),d.subtreeFlags=K.subtreeFlags&65011712,le!==null?M=_a(le,M):(M=Li(M,p,l,null),M.flags|=2),M.return=i,d.return=i,d.sibling=M,i.child=d,Xl(null,d),d=i.child,M=n.child.memoizedState,M===null?M=Hf(l):(p=M.cachePool,p!==null?(K=ar._currentValue,p=p.parent!==K?{parent:K,pool:K}:p):p=Sp(),M={baseLanes:M.baseLanes|l,cachePool:p}),d.memoizedState=M,d.childLanes=$f(n,E,l),i.memoizedState=Pf,Xl(n.child,d)):(ii(i),l=n.child,n=l.sibling,l=_a(l,{mode:"visible",children:d.children}),l.return=i,l.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=l,i.memoizedState=null,l)}function Gf(n,i){return i=Lc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Lc(n,i){return n=un(22,n,null,i),n.lanes=0,n}function qf(n,i,l){return $i(i,n.child,null,l),n=Gf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Lg(n,i,l){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),sf(n.return,i,l)}function Wf(n,i,l,d,p,v){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p,treeForkCount:v}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=l,E.tailMode=p,E.treeForkCount=v)}function Fg(n,i,l){var d=i.pendingProps,p=d.revealOrder,v=d.tail;d=d.children;var E=Zt.current,M=(E&2)!==0;if(M?(E=E&1|2,i.flags|=128):E&=1,W(Zt,E),Er(n,i,d,l),d=vt?Fl:0,!M&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lg(n,l,i);else if(n.tag===19)Lg(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)n=l.alternate,n!==null&&Ec(n)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Wf(i,!1,p,l,v,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&Ec(n)===null){i.child=p;break}n=p.sibling,p.sibling=l,l=p,p=n}Wf(i,!0,l,null,v,d);break;case"together":Wf(i,!1,null,null,void 0,d);break;default:i.memoizedState=null}return i.child}function ka(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),ci|=i.lanes,(l&i.childLanes)===0)if(n!==null){if(Os(n,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,l=_a(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=_a(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function Vf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&gc(n)))}function Hw(n,i,l){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),ti(i,ar,n.memoizedState.cache),Fi();break;case 27:case 5:ke(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:ti(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xf(i),null;break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(ii(i),i.flags|=128,null):(l&i.child.childLanes)!==0?zg(n,i,l):(ii(i),n=ka(n,i,l),n!==null?n.sibling:null);ii(i);break;case 19:var p=(n.flags&128)!==0;if(d=(l&i.childLanes)!==0,d||(Os(n,i,l,!1),d=(l&i.childLanes)!==0),p){if(d)return Fg(n,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(Zt,Zt.current),d)break;return null;case 22:return i.lanes=0,Cg(n,i,l,i.pendingProps);case 24:ti(i,ar,n.memoizedState.cache)}return ka(n,i,l)}function Bg(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps)sr=!0;else{if(!Vf(n,l)&&(i.flags&128)===0)return sr=!1,Hw(n,i,l);sr=(n.flags&131072)!==0}else sr=!1,vt&&(i.flags&1048576)!==0&&gp(i,Fl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var d=i.pendingProps;if(n=Pi(i.elementType),i.type=n,typeof n=="function")Jd(n)?(d=qi(n,d),i.tag=1,i=Dg(null,i,n,d,l)):(i.tag=0,i=Uf(null,i,n,d,l));else{if(n!=null){var p=n.$$typeof;if(p===L){i.tag=11,i=kg(null,i,n,d,l);break e}else if(p===A){i.tag=14,i=Ag(null,i,n,d,l);break e}}throw i=qe(n)||n,Error(a(306,i,""))}}return i;case 0:return Uf(n,i,i.type,i.pendingProps,l);case 1:return d=i.type,p=qi(d,i.pendingProps),Dg(n,i,d,p,l);case 3:e:{if(we(i,i.stateNode.containerInfo),n===null)throw Error(a(387));d=i.pendingProps;var v=i.memoizedState;p=v.element,hf(n,i),ql(i,d,null,l);var E=i.memoizedState;if(d=E.cache,ti(i,ar,d),d!==v.cache&&lf(i,[ar],l,!0),Gl(),d=E.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Mg(n,i,d,l);break e}else if(d!==p){p=An(Error(a(424)),i),Bl(p),i=Mg(n,i,d,l);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Pt=Nn(n.firstChild),wr=i,vt=!0,Za=null,Rn=!0,l=Cp(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Fi(),d===p){i=ka(n,i,l);break e}Er(n,i,d,l)}i=i.child}return i;case 26:return zc(n,i),n===null?(l=Y1(i.type,null,i.pendingProps,null))?i.memoizedState=l:vt||(l=i.type,n=i.pendingProps,d=Qc(Z.current).createElement(l),d[B]=i,d[P]=n,Tr(d,l,n),Ye(d),i.stateNode=d):i.memoizedState=Y1(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ke(i),n===null&&vt&&(d=i.stateNode=W1(i.type,i.pendingProps,Z.current),wr=i,Rn=!0,p=Pt,mi(i.type)?(k0=p,Pt=Nn(d.firstChild)):Pt=p),Er(n,i,i.pendingProps.children,l),zc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&vt&&((p=d=Pt)&&(d=xS(d,i.type,i.pendingProps,Rn),d!==null?(i.stateNode=d,wr=i,Pt=Nn(d.firstChild),Rn=!1,p=!0):p=!1),p||ei(i)),ke(i),p=i.type,v=i.pendingProps,E=n!==null?n.memoizedProps:null,d=v.children,b0(p,v)?d=null:E!==null&&b0(p,E)&&(i.flags|=32),i.memoizedState!==null&&(p=_f(n,i,Dw,null,null,l),fo._currentValue=p),zc(n,i),Er(n,i,d,l),i.child;case 6:return n===null&&vt&&((n=l=Pt)&&(l=yS(l,i.pendingProps,Rn),l!==null?(i.stateNode=l,wr=i,Pt=null,n=!0):n=!1),n||ei(i)),null;case 13:return zg(n,i,l);case 4:return we(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=$i(i,null,d,l):Er(n,i,d,l),i.child;case 11:return kg(n,i,i.type,i.pendingProps,l);case 7:return Er(n,i,i.pendingProps,l),i.child;case 8:return Er(n,i,i.pendingProps.children,l),i.child;case 12:return Er(n,i,i.pendingProps.children,l),i.child;case 10:return d=i.pendingProps,ti(i,i.type,d.value),Er(n,i,d.children,l),i.child;case 9:return p=i.type._context,d=i.pendingProps.children,Ii(i),p=Sr(p),d=d(p),i.flags|=1,Er(n,i,d,l),i.child;case 14:return Ag(n,i,i.type,i.pendingProps,l);case 15:return jg(n,i,i.type,i.pendingProps,l);case 19:return Fg(n,i,l);case 31:return Pw(n,i,l);case 22:return Cg(n,i,l,i.pendingProps);case 24:return Ii(i),d=Sr(ar),n===null?(p=uf(),p===null&&(p=Bt,v=of(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),i.memoizedState={parent:d,cache:p},ff(i),ti(i,ar,p)):((n.lanes&l)!==0&&(hf(n,i),ql(i,null,null,l),Gl()),p=n.memoizedState,v=i.memoizedState,p.parent!==d?(p={parent:d,cache:d},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),ti(i,ar,d)):(d=v.cache,ti(i,ar,d),d!==p.cache&&lf(i,[ar],l,!0))),Er(n,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Aa(n){n.flags|=4}function Kf(n,i,l,d,p){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(d1())n.flags|=8192;else throw Hi=_c,df}else n.flags&=-16777217}function Ig(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ev(i))if(d1())n.flags|=8192;else throw Hi=_c,df}function Fc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Va():536870912,n.lanes|=i,$s|=i)}function Jl(n,i){if(!vt)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Ht(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(i)for(var p=n.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=d,n.childLanes=l,i}function $w(n,i,l){var d=i.pendingProps;switch(tf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(i),null;case 1:return Ht(i),null;case 3:return l=i.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Sa(ar),_e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Rs(i)?Aa(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,nf())),Ht(i),null;case 26:var p=i.type,v=i.memoizedState;return n===null?(Aa(i),v!==null?(Ht(i),Ig(i,v)):(Ht(i),Kf(i,p,null,d,l))):v?v!==n.memoizedState?(Aa(i),Ht(i),Ig(i,v)):(Ht(i),i.flags&=-16777217):(n=n.memoizedProps,n!==d&&Aa(i),Ht(i),Kf(i,p,n,d,l)),null;case 27:if(Ge(i),l=Z.current,p=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==d&&Aa(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return Ht(i),null}n=N.current,Rs(i)?xp(i):(n=W1(p,d,l),i.stateNode=n,Aa(i))}return Ht(i),null;case 5:if(Ge(i),p=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==d&&Aa(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return Ht(i),null}if(v=N.current,Rs(i))xp(i);else{var E=Qc(Z.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof d.is=="string"?E.createElement("select",{is:d.is}):E.createElement("select"),d.multiple?v.multiple=!0:d.size&&(v.size=d.size);break;default:v=typeof d.is=="string"?E.createElement(p,{is:d.is}):E.createElement(p)}}v[B]=i,v[P]=d;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=v;e:switch(Tr(v,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Aa(i)}}return Ht(i),Kf(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,l),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==d&&Aa(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(a(166));if(n=Z.current,Rs(i)){if(n=i.stateNode,l=i.memoizedProps,d=null,p=wr,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}n[B]=i,n=!!(n.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||z1(n.nodeValue,l)),n||ei(i,!0)}else n=Qc(n).createTextNode(d),n[B]=i,i.stateNode=n}return Ht(i),null;case 31:if(l=i.memoizedState,n===null||n.memoizedState!==null){if(d=Rs(i),l!==null){if(n===null){if(!d)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[B]=i}else Fi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ht(i),n=!1}else l=nf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return i.flags&256?(fn(i),i):(fn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Ht(i),null;case 13:if(d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Rs(i),d!==null&&d.dehydrated!==null){if(n===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[B]=i}else Fi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ht(i),p=!1}else p=nf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(fn(i),i):(fn(i),null)}return fn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=d!==null,n=n!==null&&n.memoizedState!==null,l&&(d=i.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048)),l!==n&&l&&(i.child.flags|=8192),Fc(i,i.updateQueue),Ht(i),null);case 4:return _e(),n===null&&g0(i.stateNode.containerInfo),Ht(i),null;case 10:return Sa(i.type),Ht(i),null;case 19:if(C(Zt),d=i.memoizedState,d===null)return Ht(i),null;if(p=(i.flags&128)!==0,v=d.rendering,v===null)if(p)Jl(d,!1);else{if(Xt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=Ec(n),v!==null){for(i.flags|=128,Jl(d,!1),n=v.updateQueue,i.updateQueue=n,Fc(i,n),i.subtreeFlags=0,n=l,l=i.child;l!==null;)hp(l,n),l=l.sibling;return W(Zt,Zt.current&1|2),vt&&ba(i,d.treeForkCount),i.child}n=n.sibling}d.tail!==null&&xt()>Hc&&(i.flags|=128,p=!0,Jl(d,!1),i.lanes=4194304)}else{if(!p)if(n=Ec(v),n!==null){if(i.flags|=128,p=!0,n=n.updateQueue,i.updateQueue=n,Fc(i,n),Jl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!vt)return Ht(i),null}else 2*xt()-d.renderingStartTime>Hc&&l!==536870912&&(i.flags|=128,p=!0,Jl(d,!1),i.lanes=4194304);d.isBackwards?(v.sibling=i.child,i.child=v):(n=d.last,n!==null?n.sibling=v:i.child=v,d.last=v)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=xt(),n.sibling=null,l=Zt.current,W(Zt,p?l&1|2:l&1),vt&&ba(i,d.treeForkCount),n):(Ht(i),null);case 22:case 23:return fn(i),vf(),d=i.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(l&536870912)!==0&&(i.flags&128)===0&&(Ht(i),i.subtreeFlags&6&&(i.flags|=8192)):Ht(i),l=i.updateQueue,l!==null&&Fc(i,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==l&&(i.flags|=2048),n!==null&&C(Ui),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Sa(ar),Ht(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Gw(n,i){switch(tf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Sa(ar),_e(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ge(i),null;case 31:if(i.memoizedState!==null){if(fn(i),i.alternate===null)throw Error(a(340));Fi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(fn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Fi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return C(Zt),null;case 4:return _e(),null;case 10:return Sa(i.type),null;case 22:case 23:return fn(i),vf(),n!==null&&C(Ui),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Sa(ar),null;case 25:return null;default:return null}}function Ug(n,i){switch(tf(i),i.tag){case 3:Sa(ar),_e();break;case 26:case 27:case 5:Ge(i);break;case 4:_e();break;case 31:i.memoizedState!==null&&fn(i);break;case 13:fn(i);break;case 19:C(Zt);break;case 10:Sa(i.type);break;case 22:case 23:fn(i),vf(),n!==null&&C(Ui);break;case 24:Sa(ar)}}function Ql(n,i){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&n)===n){d=void 0;var v=l.create,E=l.inst;d=v(),E.destroy=d}l=l.next}while(l!==p)}}catch(M){jt(i,i.return,M)}}function li(n,i,l){try{var d=i.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&n)===n){var E=d.inst,M=E.destroy;if(M!==void 0){E.destroy=void 0,p=i;var K=l,le=M;try{le()}catch(xe){jt(p,K,xe)}}}d=d.next}while(d!==v)}}catch(xe){jt(i,i.return,xe)}}function Pg(n){var i=n.updateQueue;if(i!==null){var l=n.stateNode;try{Op(i,l)}catch(d){jt(n,n.return,d)}}}function Hg(n,i,l){l.props=qi(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(d){jt(n,i,d)}}function Zl(n,i){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof l=="function"?n.refCleanup=l(d):l.current=d}}catch(p){jt(n,i,p)}}function la(n,i){var l=n.ref,d=n.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(p){jt(n,i,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){jt(n,i,p)}else l.current=null}function $g(n){var i=n.type,l=n.memoizedProps,d=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(p){jt(n,n.return,p)}}function Yf(n,i,l){try{var d=n.stateNode;fS(d,n.type,l,i),d[P]=i}catch(p){jt(n,n.return,p)}}function Gg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&mi(n.type)||n.tag===4}function Xf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Gg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&mi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jf(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(n),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=xa));else if(d!==4&&(d===27&&mi(n.type)&&(l=n.stateNode,i=null),n=n.child,n!==null))for(Jf(n,i,l),n=n.sibling;n!==null;)Jf(n,i,l),n=n.sibling}function Bc(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(d!==4&&(d===27&&mi(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Bc(n,i,l),n=n.sibling;n!==null;)Bc(n,i,l),n=n.sibling}function qg(n){var i=n.stateNode,l=n.memoizedProps;try{for(var d=n.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Tr(i,d,l),i[B]=n,i[P]=l}catch(v){jt(n,n.return,v)}}var ja=!1,lr=!1,Qf=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,gr=null;function qw(n,i){if(n=n.containerInfo,y0=iu,n=ap(n),Gd(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,M=-1,K=-1,le=0,xe=0,Ee=n,fe=null;t:for(;;){for(var pe;Ee!==l||p!==0&&Ee.nodeType!==3||(M=E+p),Ee!==v||d!==0&&Ee.nodeType!==3||(K=E+d),Ee.nodeType===3&&(E+=Ee.nodeValue.length),(pe=Ee.firstChild)!==null;)fe=Ee,Ee=pe;for(;;){if(Ee===n)break t;if(fe===l&&++le===p&&(M=E),fe===v&&++xe===d&&(K=E),(pe=Ee.nextSibling)!==null)break;Ee=fe,fe=Ee.parentNode}Ee=pe}l=M===-1||K===-1?null:{start:M,end:K}}else l=null}l=l||{start:0,end:0}}else l=null;for(_0={focusedElem:n,selectionRange:l},iu=!1,gr=i;gr!==null;)if(i=gr,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,gr=n;else for(;gr!==null;){switch(i=gr,v=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)p=n[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,l=i,p=v.memoizedProps,v=v.memoizedState,d=l.stateNode;try{var We=qi(l.type,p);n=d.getSnapshotBeforeUpdate(We,v),d.__reactInternalSnapshotBeforeUpdate=n}catch(tt){jt(l,l.return,tt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,l=n.nodeType,l===9)S0(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":S0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,gr=n;break}gr=i.return}}function Vg(n,i,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Ra(n,l),d&4&&Ql(5,l);break;case 1:if(Ra(n,l),d&4)if(n=l.stateNode,i===null)try{n.componentDidMount()}catch(E){jt(l,l.return,E)}else{var p=qi(l.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(p,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){jt(l,l.return,E)}}d&64&&Pg(l),d&512&&Zl(l,l.return);break;case 3:if(Ra(n,l),d&64&&(n=l.updateQueue,n!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Op(n,i)}catch(E){jt(l,l.return,E)}}break;case 27:i===null&&d&4&&qg(l);case 26:case 5:Ra(n,l),i===null&&d&4&&$g(l),d&512&&Zl(l,l.return);break;case 12:Ra(n,l);break;case 31:Ra(n,l),d&4&&Xg(n,l);break;case 13:Ra(n,l),d&4&&Jg(n,l),d&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=eS.bind(null,l),_S(n,l))));break;case 22:if(d=l.memoizedState!==null||ja,!d){i=i!==null&&i.memoizedState!==null||lr,p=ja;var v=lr;ja=d,(lr=i)&&!v?Oa(n,l,(l.subtreeFlags&8772)!==0):Ra(n,l),ja=p,lr=v}break;case 30:break;default:Ra(n,l)}}function Kg(n){var i=n.alternate;i!==null&&(n.alternate=null,Kg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Re(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var qt=null,Yr=!1;function Ca(n,i,l){for(l=l.child;l!==null;)Yg(n,i,l),l=l.sibling}function Yg(n,i,l){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Tn,l)}catch{}switch(l.tag){case 26:lr||la(l,i),Ca(n,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:lr||la(l,i);var d=qt,p=Yr;mi(l.type)&&(qt=l.stateNode,Yr=!1),Ca(n,i,l),oo(l.stateNode),qt=d,Yr=p;break;case 5:lr||la(l,i);case 6:if(d=qt,p=Yr,qt=null,Ca(n,i,l),qt=d,Yr=p,qt!==null)if(Yr)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(l.stateNode)}catch(v){jt(l,i,v)}else try{qt.removeChild(l.stateNode)}catch(v){jt(l,i,v)}break;case 18:qt!==null&&(Yr?(n=qt,P1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Js(n)):P1(qt,l.stateNode));break;case 4:d=qt,p=Yr,qt=l.stateNode.containerInfo,Yr=!0,Ca(n,i,l),qt=d,Yr=p;break;case 0:case 11:case 14:case 15:li(2,l,i),lr||li(4,l,i),Ca(n,i,l);break;case 1:lr||(la(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Hg(l,i,d)),Ca(n,i,l);break;case 21:Ca(n,i,l);break;case 22:lr=(d=lr)||l.memoizedState!==null,Ca(n,i,l),lr=d;break;default:Ca(n,i,l)}}function Xg(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Js(n)}catch(l){jt(i,i.return,l)}}}function Jg(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Js(n)}catch(l){jt(i,i.return,l)}}function Ww(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Wg),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Wg),i;default:throw Error(a(435,n.tag))}}function Ic(n,i){var l=Ww(n);i.forEach(function(d){if(!l.has(d)){l.add(d);var p=tS.bind(null,n,d);d.then(p,p)}})}function Xr(n,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d],v=n,E=i,M=E;e:for(;M!==null;){switch(M.tag){case 27:if(mi(M.type)){qt=M.stateNode,Yr=!1;break e}break;case 5:qt=M.stateNode,Yr=!1;break e;case 3:case 4:qt=M.stateNode.containerInfo,Yr=!0;break e}M=M.return}if(qt===null)throw Error(a(160));Yg(v,E,p),qt=null,Yr=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Qg(i,n),i=i.sibling}var Hn=null;function Qg(n,i){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Xr(i,n),Jr(n),d&4&&(li(3,n,n.return),Ql(3,n),li(5,n,n.return));break;case 1:Xr(i,n),Jr(n),d&512&&(lr||l===null||la(l,l.return)),d&64&&ja&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var p=Hn;if(Xr(i,n),Jr(n),d&512&&(lr||l===null||la(l,l.return)),d&4){var v=l!==null?l.memoizedState:null;if(d=n.memoizedState,l===null)if(d===null)if(n.stateNode===null){e:{d=n.type,l=n.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":v=p.getElementsByTagName("title")[0],(!v||v[de]||v[B]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(d),p.head.insertBefore(v,p.querySelector("head > title"))),Tr(v,d,l),v[B]=n,Ye(v),d=v;break e;case"link":var E=Q1("link","href",p).get(d+(l.href||""));if(E){for(var M=0;M<E.length;M++)if(v=E[M],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(M,1);break t}}v=p.createElement(d),Tr(v,d,l),p.head.appendChild(v);break;case"meta":if(E=Q1("meta","content",p).get(d+(l.content||""))){for(M=0;M<E.length;M++)if(v=E[M],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(M,1);break t}}v=p.createElement(d),Tr(v,d,l),p.head.appendChild(v);break;default:throw Error(a(468,d))}v[B]=n,Ye(v),d=v}n.stateNode=d}else Z1(p,n.type,n.stateNode);else n.stateNode=J1(p,d,n.memoizedProps);else v!==d?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,d===null?Z1(p,n.type,n.stateNode):J1(p,d,n.memoizedProps)):d===null&&n.stateNode!==null&&Yf(n,n.memoizedProps,l.memoizedProps)}break;case 27:Xr(i,n),Jr(n),d&512&&(lr||l===null||la(l,l.return)),l!==null&&d&4&&Yf(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Xr(i,n),Jr(n),d&512&&(lr||l===null||la(l,l.return)),n.flags&32){p=n.stateNode;try{_s(p,"")}catch(We){jt(n,n.return,We)}}d&4&&n.stateNode!=null&&(p=n.memoizedProps,Yf(n,p,l!==null?l.memoizedProps:p)),d&1024&&(Qf=!0);break;case 6:if(Xr(i,n),Jr(n),d&4){if(n.stateNode===null)throw Error(a(162));d=n.memoizedProps,l=n.stateNode;try{l.nodeValue=d}catch(We){jt(n,n.return,We)}}break;case 3:if(tu=null,p=Hn,Hn=Zc(i.containerInfo),Xr(i,n),Hn=p,Jr(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Js(i.containerInfo)}catch(We){jt(n,n.return,We)}Qf&&(Qf=!1,Zg(n));break;case 4:d=Hn,Hn=Zc(n.stateNode.containerInfo),Xr(i,n),Jr(n),Hn=d;break;case 12:Xr(i,n),Jr(n);break;case 31:Xr(i,n),Jr(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Ic(n,d)));break;case 13:Xr(i,n),Jr(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Pc=xt()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Ic(n,d)));break;case 22:p=n.memoizedState!==null;var K=l!==null&&l.memoizedState!==null,le=ja,xe=lr;if(ja=le||p,lr=xe||K,Xr(i,n),lr=xe,ja=le,Jr(n),d&8192)e:for(i=n.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||K||ja||lr||Wi(n)),l=null,i=n;;){if(i.tag===5||i.tag===26){if(l===null){K=l=i;try{if(v=K.stateNode,p)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{M=K.stateNode;var Ee=K.memoizedProps.style,fe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;M.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(We){jt(K,K.return,We)}}}else if(i.tag===6){if(l===null){K=i;try{K.stateNode.nodeValue=p?"":K.memoizedProps}catch(We){jt(K,K.return,We)}}}else if(i.tag===18){if(l===null){K=i;try{var pe=K.stateNode;p?H1(pe,!0):H1(K.stateNode,!1)}catch(We){jt(K,K.return,We)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=n.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Ic(n,l))));break;case 19:Xr(i,n),Jr(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Ic(n,d)));break;case 30:break;case 21:break;default:Xr(i,n),Jr(n)}}function Jr(n){var i=n.flags;if(i&2){try{for(var l,d=n.return;d!==null;){if(Gg(d)){l=d;break}d=d.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var p=l.stateNode,v=Xf(n);Bc(n,v,p);break;case 5:var E=l.stateNode;l.flags&32&&(_s(E,""),l.flags&=-33);var M=Xf(n);Bc(n,M,E);break;case 3:case 4:var K=l.stateNode.containerInfo,le=Xf(n);Jf(n,le,K);break;default:throw Error(a(161))}}catch(xe){jt(n,n.return,xe)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Zg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Zg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ra(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Vg(n,i.alternate,i),i=i.sibling}function Wi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:li(4,i,i.return),Wi(i);break;case 1:la(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Hg(i,i.return,l),Wi(i);break;case 27:oo(i.stateNode);case 26:case 5:la(i,i.return),Wi(i);break;case 22:i.memoizedState===null&&Wi(i);break;case 30:Wi(i);break;default:Wi(i)}n=n.sibling}}function Oa(n,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,p=n,v=i,E=v.flags;switch(v.tag){case 0:case 11:case 15:Oa(p,v,l),Ql(4,v);break;case 1:if(Oa(p,v,l),d=v,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(le){jt(d,d.return,le)}if(d=v,p=d.updateQueue,p!==null){var M=d.stateNode;try{var K=p.shared.hiddenCallbacks;if(K!==null)for(p.shared.hiddenCallbacks=null,p=0;p<K.length;p++)Rp(K[p],M)}catch(le){jt(d,d.return,le)}}l&&E&64&&Pg(v),Zl(v,v.return);break;case 27:qg(v);case 26:case 5:Oa(p,v,l),l&&d===null&&E&4&&$g(v),Zl(v,v.return);break;case 12:Oa(p,v,l);break;case 31:Oa(p,v,l),l&&E&4&&Xg(p,v);break;case 13:Oa(p,v,l),l&&E&4&&Jg(p,v);break;case 22:v.memoizedState===null&&Oa(p,v,l),Zl(v,v.return);break;case 30:break;default:Oa(p,v,l)}i=i.sibling}}function Zf(n,i){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Il(l))}function e0(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Il(n))}function $n(n,i,l,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e1(n,i,l,d),i=i.sibling}function e1(n,i,l,d){var p=i.flags;switch(i.tag){case 0:case 11:case 15:$n(n,i,l,d),p&2048&&Ql(9,i);break;case 1:$n(n,i,l,d);break;case 3:$n(n,i,l,d),p&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Il(n)));break;case 12:if(p&2048){$n(n,i,l,d),n=i.stateNode;try{var v=i.memoizedProps,E=v.id,M=v.onPostCommit;typeof M=="function"&&M(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(K){jt(i,i.return,K)}}else $n(n,i,l,d);break;case 31:$n(n,i,l,d);break;case 13:$n(n,i,l,d);break;case 23:break;case 22:v=i.stateNode,E=i.alternate,i.memoizedState!==null?v._visibility&2?$n(n,i,l,d):eo(n,i):v._visibility&2?$n(n,i,l,d):(v._visibility|=2,Us(n,i,l,d,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Zf(E,i);break;case 24:$n(n,i,l,d),p&2048&&e0(i.alternate,i);break;default:$n(n,i,l,d)}}function Us(n,i,l,d,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=n,E=i,M=l,K=d,le=E.flags;switch(E.tag){case 0:case 11:case 15:Us(v,E,M,K,p),Ql(8,E);break;case 23:break;case 22:var xe=E.stateNode;E.memoizedState!==null?xe._visibility&2?Us(v,E,M,K,p):eo(v,E):(xe._visibility|=2,Us(v,E,M,K,p)),p&&le&2048&&Zf(E.alternate,E);break;case 24:Us(v,E,M,K,p),p&&le&2048&&e0(E.alternate,E);break;default:Us(v,E,M,K,p)}i=i.sibling}}function eo(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=n,d=i,p=d.flags;switch(d.tag){case 22:eo(l,d),p&2048&&Zf(d.alternate,d);break;case 24:eo(l,d),p&2048&&e0(d.alternate,d);break;default:eo(l,d)}i=i.sibling}}var to=8192;function Ps(n,i,l){if(n.subtreeFlags&to)for(n=n.child;n!==null;)t1(n,i,l),n=n.sibling}function t1(n,i,l){switch(n.tag){case 26:Ps(n,i,l),n.flags&to&&n.memoizedState!==null&&NS(l,Hn,n.memoizedState,n.memoizedProps);break;case 5:Ps(n,i,l);break;case 3:case 4:var d=Hn;Hn=Zc(n.stateNode.containerInfo),Ps(n,i,l),Hn=d;break;case 22:n.memoizedState===null&&(d=n.alternate,d!==null&&d.memoizedState!==null?(d=to,to=16777216,Ps(n,i,l),to=d):Ps(n,i,l));break;default:Ps(n,i,l)}}function r1(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ro(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];gr=d,a1(d,n)}r1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)n1(n),n=n.sibling}function n1(n){switch(n.tag){case 0:case 11:case 15:ro(n),n.flags&2048&&li(9,n,n.return);break;case 3:ro(n);break;case 12:ro(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Uc(n)):ro(n);break;default:ro(n)}}function Uc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];gr=d,a1(d,n)}r1(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:li(8,i,i.return),Uc(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Uc(i));break;default:Uc(i)}n=n.sibling}}function a1(n,i){for(;gr!==null;){var l=gr;switch(l.tag){case 0:case 11:case 15:li(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Il(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,gr=d;else e:for(l=n;gr!==null;){d=gr;var p=d.sibling,v=d.return;if(Kg(d),d===l){gr=null;break e}if(p!==null){p.return=v,gr=p;break e}gr=v}}}var Vw={getCacheForType:function(n){var i=Sr(ar),l=i.data.get(n);return l===void 0&&(l=n(),i.data.set(n,l)),l},cacheSignal:function(){return Sr(ar).controller.signal}},Kw=typeof WeakMap=="function"?WeakMap:Map,Et=0,Bt=null,ht=null,pt=0,At=0,hn=null,oi=!1,Hs=!1,t0=!1,Na=0,Xt=0,ci=0,Vi=0,r0=0,mn=0,$s=0,no=null,Qr=null,n0=!1,Pc=0,i1=0,Hc=1/0,$c=null,ui=null,hr=0,di=null,Gs=null,Da=0,a0=0,i0=null,s1=null,ao=0,s0=null;function pn(){return(Et&2)!==0&&pt!==0?pt&-pt:J.T!==null?f0():O()}function l1(){if(mn===0)if((pt&536870912)===0||vt){var n=ln;ln<<=1,(ln&3932160)===0&&(ln=262144),mn=n}else mn=536870912;return n=dn.current,n!==null&&(n.flags|=32),mn}function Zr(n,i,l){(n===Bt&&(At===2||At===9)||n.cancelPendingCommit!==null)&&(qs(n,0),fi(n,pt,mn,!1)),Un(n,l),((Et&2)===0||n!==Bt)&&(n===Bt&&((Et&2)===0&&(Vi|=l),Xt===4&&fi(n,pt,mn,!1)),oa(n))}function o1(n,i,l){if((Et&6)!==0)throw Error(a(327));var d=!l&&(i&127)===0&&(i&n.expiredLanes)===0||na(n,i),p=d?Jw(n,i):o0(n,i,!0),v=d;do{if(p===0){Hs&&!d&&fi(n,i,0,!1);break}else{if(l=n.current.alternate,v&&!Yw(l)){p=o0(n,i,!1),v=!1;continue}if(p===2){if(v=i,n.errorRecoveryDisabledLanes&v)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var M=n;p=no;var K=M.current.memoizedState.isDehydrated;if(K&&(qs(M,E).flags|=256),E=o0(M,E,!1),E!==2){if(t0&&!K){M.errorRecoveryDisabledLanes|=v,Vi|=v,p=4;break e}v=Qr,Qr=p,v!==null&&(Qr===null?Qr=v:Qr.push.apply(Qr,v))}p=E}if(v=!1,p!==2)continue}}if(p===1){qs(n,0),fi(n,i,0,!0);break}e:{switch(d=n,v=p,v){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:fi(d,i,mn,!oi);break e;case 2:Qr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=Pc+300-xt(),10<p)){if(fi(d,i,mn,!oi),Wa(d,0,!0)!==0)break e;Da=i,d.timeoutHandle=I1(c1.bind(null,d,l,Qr,$c,n0,i,mn,Vi,$s,oi,v,"Throttled",-0,0),p);break e}c1(d,l,Qr,$c,n0,i,mn,Vi,$s,oi,v,null,-0,0)}}break}while(!0);oa(n)}function c1(n,i,l,d,p,v,E,M,K,le,xe,Ee,fe,pe){if(n.timeoutHandle=-1,Ee=i.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xa},t1(i,v,Ee);var We=(v&62914560)===v?Pc-xt():(v&4194048)===v?i1-xt():0;if(We=DS(Ee,We),We!==null){Da=v,n.cancelPendingCommit=We(v1.bind(null,n,i,v,l,d,p,E,M,K,xe,Ee,null,fe,pe)),fi(n,v,E,!le);return}}v1(n,i,v,l,d,p,E,M,K)}function Yw(n){for(var i=n;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var p=l[d],v=p.getSnapshot;p=p.value;try{if(!cn(v(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fi(n,i,l,d){i&=~r0,i&=~Vi,n.suspendedLanes|=i,n.pingedLanes&=~i,d&&(n.warmLanes|=i),d=n.expirationTimes;for(var p=i;0<p;){var v=31-Kt(p),E=1<<v;d[v]=-1,p&=~E}l!==0&&Oi(n,l,i)}function Gc(){return(Et&6)===0?(io(0),!1):!0}function l0(){if(ht!==null){if(At===0)var n=ht.return;else n=ht,wa=Bi=null,Sf(n),zs=null,Pl=0,n=ht;for(;n!==null;)Ug(n.alternate,n),n=n.return;ht=null}}function qs(n,i){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,pS(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Da=0,l0(),Bt=n,ht=l=_a(n.current,null),pt=i,At=0,hn=null,oi=!1,Hs=na(n,i),t0=!1,$s=mn=r0=Vi=ci=Xt=0,Qr=no=null,n0=!1,(i&8)!==0&&(i|=i&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=i;0<d;){var p=31-Kt(d),v=1<<p;i|=n[p],d&=~v}return Na=i,dc(),l}function u1(n,i){ot=null,J.H=Yl,i===Ms||i===yc?(i=kp(),At=3):i===df?(i=kp(),At=4):At=i===If?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,ht===null&&(Xt=1,Dc(n,An(i,n.current)))}function d1(){var n=dn.current;return n===null?!0:(pt&4194048)===pt?On===null:(pt&62914560)===pt||(pt&536870912)!==0?n===On:!1}function f1(){var n=J.H;return J.H=Yl,n===null?Yl:n}function h1(){var n=J.A;return J.A=Vw,n}function qc(){Xt=4,oi||(pt&4194048)!==pt&&dn.current!==null||(Hs=!0),(ci&134217727)===0&&(Vi&134217727)===0||Bt===null||fi(Bt,pt,mn,!1)}function o0(n,i,l){var d=Et;Et|=2;var p=f1(),v=h1();(Bt!==n||pt!==i)&&($c=null,qs(n,i)),i=!1;var E=Xt;e:do try{if(At!==0&&ht!==null){var M=ht,K=hn;switch(At){case 8:l0(),E=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(i=!0);var le=At;if(At=0,hn=null,Ws(n,M,K,le),l&&Hs){E=0;break e}break;default:le=At,At=0,hn=null,Ws(n,M,K,le)}}Xw(),E=Xt;break}catch(xe){u1(n,xe)}while(!0);return i&&n.shellSuspendCounter++,wa=Bi=null,Et=d,J.H=p,J.A=v,ht===null&&(Bt=null,pt=0,dc()),E}function Xw(){for(;ht!==null;)m1(ht)}function Jw(n,i){var l=Et;Et|=2;var d=f1(),p=h1();Bt!==n||pt!==i?($c=null,Hc=xt()+500,qs(n,i)):Hs=na(n,i);e:do try{if(At!==0&&ht!==null){i=ht;var v=hn;t:switch(At){case 1:At=0,hn=null,Ws(n,i,v,1);break;case 2:case 9:if(Ep(v)){At=0,hn=null,p1(i);break}i=function(){At!==2&&At!==9||Bt!==n||(At=7),oa(n)},v.then(i,i);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Ep(v)?(At=0,hn=null,p1(i)):(At=0,hn=null,Ws(n,i,v,7));break;case 5:var E=null;switch(ht.tag){case 26:E=ht.memoizedState;case 5:case 27:var M=ht;if(E?ev(E):M.stateNode.complete){At=0,hn=null;var K=M.sibling;if(K!==null)ht=K;else{var le=M.return;le!==null?(ht=le,Wc(le)):ht=null}break t}}At=0,hn=null,Ws(n,i,v,5);break;case 6:At=0,hn=null,Ws(n,i,v,6);break;case 8:l0(),Xt=6;break e;default:throw Error(a(462))}}Qw();break}catch(xe){u1(n,xe)}while(!0);return wa=Bi=null,J.H=d,J.A=p,Et=l,ht!==null?0:(Bt=null,pt=0,dc(),Xt)}function Qw(){for(;ht!==null&&!En();)m1(ht)}function m1(n){var i=Bg(n.alternate,n,Na);n.memoizedProps=n.pendingProps,i===null?Wc(n):ht=i}function p1(n){var i=n,l=i.alternate;switch(i.tag){case 15:case 0:i=Ng(l,i,i.pendingProps,i.type,void 0,pt);break;case 11:i=Ng(l,i,i.pendingProps,i.type.render,i.ref,pt);break;case 5:Sf(i);default:Ug(l,i),i=ht=hp(i,Na),i=Bg(l,i,Na)}n.memoizedProps=n.pendingProps,i===null?Wc(n):ht=i}function Ws(n,i,l,d){wa=Bi=null,Sf(i),zs=null,Pl=0;var p=i.return;try{if(Uw(n,p,i,l,pt)){Xt=1,Dc(n,An(l,n.current)),ht=null;return}}catch(v){if(p!==null)throw ht=p,v;Xt=1,Dc(n,An(l,n.current)),ht=null;return}i.flags&32768?(vt||d===1?n=!0:Hs||(pt&536870912)!==0?n=!1:(oi=n=!0,(d===2||d===9||d===3||d===6)&&(d=dn.current,d!==null&&d.tag===13&&(d.flags|=16384))),g1(i,n)):Wc(i)}function Wc(n){var i=n;do{if((i.flags&32768)!==0){g1(i,oi);return}n=i.return;var l=$w(i.alternate,i,Na);if(l!==null){ht=l;return}if(i=i.sibling,i!==null){ht=i;return}ht=i=n}while(i!==null);Xt===0&&(Xt=5)}function g1(n,i){do{var l=Gw(n.alternate,n);if(l!==null){l.flags&=32767,ht=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(n=n.sibling,n!==null)){ht=n;return}ht=n=l}while(n!==null);Xt=6,ht=null}function v1(n,i,l,d,p,v,E,M,K){n.cancelPendingCommit=null;do Vc();while(hr!==0);if((Et&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(v=i.lanes|i.childLanes,v|=Yd,kl(n,l,v,E,M,K),n===Bt&&(ht=Bt=null,pt=0),Gs=i,di=n,Da=l,a0=v,i0=p,s1=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,rS(tr,function(){return w1(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=J.T,J.T=null,p=me.p,me.p=2,E=Et,Et|=4;try{qw(n,i,l)}finally{Et=E,me.p=p,J.T=d}}hr=1,x1(),y1(),_1()}}function x1(){if(hr===1){hr=0;var n=di,i=Gs,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var d=me.p;me.p=2;var p=Et;Et|=4;try{Qg(i,n);var v=_0,E=ap(n.containerInfo),M=v.focusedElem,K=v.selectionRange;if(E!==M&&M&&M.ownerDocument&&np(M.ownerDocument.documentElement,M)){if(K!==null&&Gd(M)){var le=K.start,xe=K.end;if(xe===void 0&&(xe=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(xe,M.value.length);else{var Ee=M.ownerDocument||document,fe=Ee&&Ee.defaultView||window;if(fe.getSelection){var pe=fe.getSelection(),We=M.textContent.length,tt=Math.min(K.start,We),zt=K.end===void 0?tt:Math.min(K.end,We);!pe.extend&&tt>zt&&(E=zt,zt=tt,tt=E);var re=rp(M,tt),X=rp(M,zt);if(re&&X&&(pe.rangeCount!==1||pe.anchorNode!==re.node||pe.anchorOffset!==re.offset||pe.focusNode!==X.node||pe.focusOffset!==X.offset)){var ae=Ee.createRange();ae.setStart(re.node,re.offset),pe.removeAllRanges(),tt>zt?(pe.addRange(ae),pe.extend(X.node,X.offset)):(ae.setEnd(X.node,X.offset),pe.addRange(ae))}}}}for(Ee=[],pe=M;pe=pe.parentNode;)pe.nodeType===1&&Ee.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ee.length;M++){var be=Ee[M];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}iu=!!y0,_0=y0=null}finally{Et=p,me.p=d,J.T=l}}n.current=i,hr=2}}function y1(){if(hr===2){hr=0;var n=di,i=Gs,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var d=me.p;me.p=2;var p=Et;Et|=4;try{Vg(n,i.alternate,i)}finally{Et=p,me.p=d,J.T=l}}hr=3}}function _1(){if(hr===4||hr===3){hr=0,ra();var n=di,i=Gs,l=Da,d=s1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?hr=5:(hr=0,Gs=di=null,b1(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(ui=null),va(l),i=i.stateNode,pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Tn,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=J.T,p=me.p,me.p=2,J.T=null;try{for(var v=n.onRecoverableError,E=0;E<d.length;E++){var M=d[E];v(M.value,{componentStack:M.stack})}}finally{J.T=i,me.p=p}}(Da&3)!==0&&Vc(),oa(n),p=n.pendingLanes,(l&261930)!==0&&(p&42)!==0?n===s0?ao++:(ao=0,s0=n):ao=0,io(0)}}function b1(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Il(i)))}function Vc(){return x1(),y1(),_1(),w1()}function w1(){if(hr!==5)return!1;var n=di,i=a0;a0=0;var l=va(Da),d=J.T,p=me.p;try{me.p=32>l?32:l,J.T=null,l=i0,i0=null;var v=di,E=Da;if(hr=0,Gs=di=null,Da=0,(Et&6)!==0)throw Error(a(331));var M=Et;if(Et|=4,n1(v.current),e1(v,v.current,E,l),Et=M,io(0,!1),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Tn,v)}catch{}return!0}finally{me.p=p,J.T=d,b1(n,i)}}function S1(n,i,l){i=An(l,i),i=Bf(n.stateNode,i,2),n=ai(n,i,2),n!==null&&(Un(n,2),oa(n))}function jt(n,i,l){if(n.tag===3)S1(n,n,l);else for(;i!==null;){if(i.tag===3){S1(i,n,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ui===null||!ui.has(d))){n=An(l,n),l=Eg(2),d=ai(i,l,2),d!==null&&(Tg(l,d,i,n),Un(d,2),oa(d));break}}i=i.return}}function c0(n,i,l){var d=n.pingCache;if(d===null){d=n.pingCache=new Kw;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(t0=!0,p.add(l),n=Zw.bind(null,n,i,l),i.then(n,n))}function Zw(n,i,l){var d=n.pingCache;d!==null&&d.delete(i),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Bt===n&&(pt&l)===l&&(Xt===4||Xt===3&&(pt&62914560)===pt&&300>xt()-Pc?(Et&2)===0&&qs(n,0):r0|=l,$s===pt&&($s=0)),oa(n)}function E1(n,i){i===0&&(i=Va()),n=zi(n,i),n!==null&&(Un(n,i),oa(n))}function eS(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),E1(n,l)}function tS(n,i){var l=0;switch(n.tag){case 31:case 13:var d=n.stateNode,p=n.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(i),E1(n,l)}function rS(n,i){return kt(n,i)}var Kc=null,Vs=null,u0=!1,Yc=!1,d0=!1,hi=0;function oa(n){n!==Vs&&n.next===null&&(Vs===null?Kc=Vs=n:Vs=Vs.next=n),Yc=!0,u0||(u0=!0,aS())}function io(n,i){if(!d0&&Yc){d0=!0;do for(var l=!1,d=Kc;d!==null;){if(n!==0){var p=d.pendingLanes;if(p===0)var v=0;else{var E=d.suspendedLanes,M=d.pingedLanes;v=(1<<31-Kt(42|n)+1)-1,v&=p&~(E&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,j1(d,v))}else v=pt,v=Wa(d,d===Bt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||na(d,v)||(l=!0,j1(d,v));d=d.next}while(l);d0=!1}}function nS(){T1()}function T1(){Yc=u0=!1;var n=0;hi!==0&&mS()&&(n=hi);for(var i=xt(),l=null,d=Kc;d!==null;){var p=d.next,v=k1(d,i);v===0?(d.next=null,l===null?Kc=p:l.next=p,p===null&&(Vs=l)):(l=d,(n!==0||(v&3)!==0)&&(Yc=!0)),d=p}hr!==0&&hr!==5||io(n),hi!==0&&(hi=0)}function k1(n,i){for(var l=n.suspendedLanes,d=n.pingedLanes,p=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var E=31-Kt(v),M=1<<E,K=p[E];K===-1?((M&l)===0||(M&d)!==0)&&(p[E]=vs(M,i)):K<=i&&(n.expiredLanes|=M),v&=~M}if(i=Bt,l=pt,l=Wa(n,n===i?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,l===0||n===i&&(At===2||At===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&Br(d),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||na(n,l)){if(i=l&-l,i===n.callbackPriority)return i;switch(d!==null&&Br(d),va(l)){case 2:case 8:l=In;break;case 32:l=tr;break;case 268435456:l=Oe;break;default:l=tr}return d=A1.bind(null,n),l=kt(l,d),n.callbackPriority=i,n.callbackNode=l,i}return d!==null&&d!==null&&Br(d),n.callbackPriority=2,n.callbackNode=null,2}function A1(n,i){if(hr!==0&&hr!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Vc()&&n.callbackNode!==l)return null;var d=pt;return d=Wa(n,n===Bt?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(o1(n,d,i),k1(n,xt()),n.callbackNode!=null&&n.callbackNode===l?A1.bind(null,n):null)}function j1(n,i){if(Vc())return null;o1(n,i,!0)}function aS(){gS(function(){(Et&6)!==0?kt(Ir,nS):T1()})}function f0(){if(hi===0){var n=Ns;n===0&&(n=ga,ga<<=1,(ga&261888)===0&&(ga=256)),hi=n}return hi}function C1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:nc(""+n)}function R1(n,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,n.id&&l.setAttribute("form",n.id),i.parentNode.insertBefore(l,i),n=new FormData(n),l.parentNode.removeChild(l),n}function iS(n,i,l,d,p){if(i==="submit"&&l&&l.stateNode===p){var v=C1((p[P]||null).action),E=d.submitter;E&&(i=(i=E[P]||null)?C1(i.formAction):E.getAttribute("formAction"),i!==null&&(v=i,E=null));var M=new lc("action","action",null,d,p);n.push({event:M,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(hi!==0){var K=E?R1(p,E):new FormData(p);Nf(l,{pending:!0,data:K,method:p.method,action:v},null,K)}}else typeof v=="function"&&(M.preventDefault(),K=E?R1(p,E):new FormData(p),Nf(l,{pending:!0,data:K,method:p.method,action:v},v,K))},currentTarget:p}]})}}for(var h0=0;h0<Kd.length;h0++){var m0=Kd[h0],sS=m0.toLowerCase(),lS=m0[0].toUpperCase()+m0.slice(1);Pn(sS,"on"+lS)}Pn(lp,"onAnimationEnd"),Pn(op,"onAnimationIteration"),Pn(cp,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Sw,"onTransitionRun"),Pn(Ew,"onTransitionStart"),Pn(Tw,"onTransitionCancel"),Pn(up,"onTransitionEnd"),Se("onMouseEnter",["mouseout","mouseover"]),Se("onMouseLeave",["mouseout","mouseover"]),Se("onPointerEnter",["pointerout","pointerover"]),Se("onPointerLeave",["pointerout","pointerover"]),Te("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Te("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Te("onBeforeInput",["compositionend","keypress","textInput","paste"]),Te("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Te("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Te("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function O1(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],p=d.event;d=d.listeners;e:{var v=void 0;if(i)for(var E=d.length-1;0<=E;E--){var M=d[E],K=M.instance,le=M.currentTarget;if(M=M.listener,K!==v&&p.isPropagationStopped())break e;v=M,p.currentTarget=le;try{v(p)}catch(xe){uc(xe)}p.currentTarget=null,v=K}else for(E=0;E<d.length;E++){if(M=d[E],K=M.instance,le=M.currentTarget,M=M.listener,K!==v&&p.isPropagationStopped())break e;v=M,p.currentTarget=le;try{v(p)}catch(xe){uc(xe)}p.currentTarget=null,v=K}}}}function mt(n,i){var l=i[se];l===void 0&&(l=i[se]=new Set);var d=n+"__bubble";l.has(d)||(N1(i,n,2,!1),l.add(d))}function p0(n,i,l){var d=0;i&&(d|=4),N1(l,n,d,i)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function g0(n){if(!n[Xc]){n[Xc]=!0,F.forEach(function(l){l!=="selectionchange"&&(oS.has(l)||p0(l,!1,n),p0(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Xc]||(i[Xc]=!0,p0("selectionchange",!1,i))}}function N1(n,i,l,d){switch(lv(i)){case 2:var p=LS;break;case 8:p=FS;break;default:p=O0}l=p.bind(null,i,l,n),p=void 0,!zd||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?n.addEventListener(i,l,{capture:!0,passive:p}):n.addEventListener(i,l,!0):p!==void 0?n.addEventListener(i,l,{passive:p}):n.addEventListener(i,l,!1)}function v0(n,i,l,d,p){var v=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var M=d.stateNode.containerInfo;if(M===p)break;if(E===4)for(E=d.return;E!==null;){var K=E.tag;if((K===3||K===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;M!==null;){if(E=Me(M),E===null)return;if(K=E.tag,K===5||K===6||K===26||K===27){d=v=E;continue e}M=M.parentNode}}d=d.return}Fm(function(){var le=v,xe=Dd(l),Ee=[];e:{var fe=dp.get(n);if(fe!==void 0){var pe=lc,We=n;switch(n){case"keypress":if(ic(l)===0)break e;case"keydown":case"keyup":pe=tw;break;case"focusin":We="focus",pe=Id;break;case"focusout":We="blur",pe=Id;break;case"beforeblur":case"afterblur":pe=Id;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=$b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=aw;break;case lp:case op:case cp:pe=Wb;break;case up:pe=sw;break;case"scroll":case"scrollend":pe=Pb;break;case"wheel":pe=ow;break;case"copy":case"cut":case"paste":pe=Kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Hm;break;case"toggle":case"beforetoggle":pe=uw}var tt=(i&4)!==0,zt=!tt&&(n==="scroll"||n==="scrollend"),re=tt?fe!==null?fe+"Capture":null:fe;tt=[];for(var X=le,ae;X!==null;){var be=X;if(ae=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ae===null||re===null||(be=jl(X,re),be!=null&&tt.push(lo(X,be,ae))),zt)break;X=X.return}0<tt.length&&(fe=new pe(fe,We,null,l,xe),Ee.push({event:fe,listeners:tt}))}}if((i&7)===0){e:{if(fe=n==="mouseover"||n==="pointerover",pe=n==="mouseout"||n==="pointerout",fe&&l!==Nd&&(We=l.relatedTarget||l.fromElement)&&(Me(We)||We[V]))break e;if((pe||fe)&&(fe=xe.window===xe?xe:(fe=xe.ownerDocument)?fe.defaultView||fe.parentWindow:window,pe?(We=l.relatedTarget||l.toElement,pe=le,We=We?Me(We):null,We!==null&&(zt=o(We),tt=We.tag,We!==zt||tt!==5&&tt!==27&&tt!==6)&&(We=null)):(pe=null,We=le),pe!==We)){if(tt=Um,be="onMouseLeave",re="onMouseEnter",X="mouse",(n==="pointerout"||n==="pointerover")&&(tt=Hm,be="onPointerLeave",re="onPointerEnter",X="pointer"),zt=pe==null?fe:Ne(pe),ae=We==null?fe:Ne(We),fe=new tt(be,X+"leave",pe,l,xe),fe.target=zt,fe.relatedTarget=ae,be=null,Me(xe)===le&&(tt=new tt(re,X+"enter",We,l,xe),tt.target=ae,tt.relatedTarget=zt,be=tt),zt=be,pe&&We)t:{for(tt=cS,re=pe,X=We,ae=0,be=re;be;be=tt(be))ae++;be=0;for(var et=X;et;et=tt(et))be++;for(;0<ae-be;)re=tt(re),ae--;for(;0<be-ae;)X=tt(X),be--;for(;ae--;){if(re===X||X!==null&&re===X.alternate){tt=re;break t}re=tt(re),X=tt(X)}tt=null}else tt=null;pe!==null&&D1(Ee,fe,pe,tt,!1),We!==null&&zt!==null&&D1(Ee,zt,We,tt,!0)}}e:{if(fe=le?Ne(le):window,pe=fe.nodeName&&fe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&fe.type==="file")var _t=Xm;else if(Km(fe))if(Jm)_t=_w;else{_t=xw;var Xe=vw}else pe=fe.nodeName,!pe||pe.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?le&&Od(le.elementType)&&(_t=Xm):_t=yw;if(_t&&(_t=_t(n,le))){Ym(Ee,_t,l,xe);break e}Xe&&Xe(n,fe,le),n==="focusout"&&le&&fe.type==="number"&&le.memoizedProps.value!=null&&Rd(fe,"number",fe.value)}switch(Xe=le?Ne(le):window,n){case"focusin":(Km(Xe)||Xe.contentEditable==="true")&&(Es=Xe,qd=le,Ll=null);break;case"focusout":Ll=qd=Es=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,ip(Ee,l,xe);break;case"selectionchange":if(ww)break;case"keydown":case"keyup":ip(Ee,l,xe)}var ut;if(Pd)e:{switch(n){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Ss?Wm(n,l)&&(gt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(gt="onCompositionStart");gt&&($m&&l.locale!=="ko"&&(Ss||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ss&&(ut=Bm()):(Ja=xe,Ld="value"in Ja?Ja.value:Ja.textContent,Ss=!0)),Xe=Jc(le,gt),0<Xe.length&&(gt=new Pm(gt,n,null,l,xe),Ee.push({event:gt,listeners:Xe}),ut?gt.data=ut:(ut=Vm(l),ut!==null&&(gt.data=ut)))),(ut=fw?hw(n,l):mw(n,l))&&(gt=Jc(le,"onBeforeInput"),0<gt.length&&(Xe=new Pm("onBeforeInput","beforeinput",null,l,xe),Ee.push({event:Xe,listeners:gt}),Xe.data=ut)),iS(Ee,n,le,l,xe)}O1(Ee,i)})}function lo(n,i,l){return{instance:n,listener:i,currentTarget:l}}function Jc(n,i){for(var l=i+"Capture",d=[];n!==null;){var p=n,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=jl(n,l),p!=null&&d.unshift(lo(n,p,v)),p=jl(n,i),p!=null&&d.push(lo(n,p,v))),n.tag===3)return d;n=n.return}return[]}function cS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function D1(n,i,l,d,p){for(var v=i._reactName,E=[];l!==null&&l!==d;){var M=l,K=M.alternate,le=M.stateNode;if(M=M.tag,K!==null&&K===d)break;M!==5&&M!==26&&M!==27||le===null||(K=le,p?(le=jl(l,v),le!=null&&E.unshift(lo(l,le,K))):p||(le=jl(l,v),le!=null&&E.push(lo(l,le,K)))),l=l.return}E.length!==0&&n.push({event:i,listeners:E})}var uS=/\r\n?/g,dS=/\u0000|\uFFFD/g;function M1(n){return(typeof n=="string"?n:""+n).replace(uS,`
`).replace(dS,"")}function z1(n,i){return i=M1(i),M1(n)===i}function Mt(n,i,l,d,p,v){switch(l){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||_s(n,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&_s(n,""+d);break;case"className":ft(n,"class",d);break;case"tabIndex":ft(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ft(n,l,d);break;case"style":zm(n,d,v);break;case"data":if(i!=="object"){ft(n,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||l!=="href")){n.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=nc(""+d),n.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Mt(n,i,"name",p.name,p,null),Mt(n,i,"formEncType",p.formEncType,p,null),Mt(n,i,"formMethod",p.formMethod,p,null),Mt(n,i,"formTarget",p.formTarget,p,null)):(Mt(n,i,"encType",p.encType,p,null),Mt(n,i,"method",p.method,p,null),Mt(n,i,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=nc(""+d),n.setAttribute(l,d);break;case"onClick":d!=null&&(n.onclick=xa);break;case"onScroll":d!=null&&mt("scroll",n);break;case"onScrollEnd":d!=null&&mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}l=nc(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""+d):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":d===!0?n.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,d):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(l,d):n.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(l):n.setAttribute(l,d);break;case"popover":mt("beforetoggle",n),mt("toggle",n),yt(n,"popover",d);break;case"xlinkActuate":Ft(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ft(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ft(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ft(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ft(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ft(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":yt(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ib.get(l)||l,yt(n,l,d))}}function x0(n,i,l,d,p,v){switch(l){case"style":zm(n,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"children":typeof d=="string"?_s(n,d):(typeof d=="number"||typeof d=="bigint")&&_s(n,""+d);break;case"onScroll":d!=null&&mt("scroll",n);break;case"onScrollEnd":d!=null&&mt("scrollend",n);break;case"onClick":d!=null&&(n.onclick=xa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ne.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),v=n[P]||null,v=v!=null?v[l]:null,typeof v=="function"&&n.removeEventListener(i,v,p),typeof d=="function")){typeof v!="function"&&v!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(i,d,p);break e}l in n?n[l]=d:d===!0?n.setAttribute(l,""):yt(n,l,d)}}}function Tr(n,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",n),mt("load",n);var d=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var E=l[v];if(E!=null)switch(v){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Mt(n,i,v,E,l,null)}}p&&Mt(n,i,"srcSet",l.srcSet,l,null),d&&Mt(n,i,"src",l.src,l,null);return;case"input":mt("invalid",n);var M=v=E=p=null,K=null,le=null;for(d in l)if(l.hasOwnProperty(d)){var xe=l[d];if(xe!=null)switch(d){case"name":p=xe;break;case"type":E=xe;break;case"checked":K=xe;break;case"defaultChecked":le=xe;break;case"value":v=xe;break;case"defaultValue":M=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(a(137,i));break;default:Mt(n,i,d,xe,l,null)}}Om(n,v,M,K,le,E,p,!1);return;case"select":mt("invalid",n),d=E=v=null;for(p in l)if(l.hasOwnProperty(p)&&(M=l[p],M!=null))switch(p){case"value":v=M;break;case"defaultValue":E=M;break;case"multiple":d=M;default:Mt(n,i,p,M,l,null)}i=v,l=E,n.multiple=!!d,i!=null?ys(n,!!d,i,!1):l!=null&&ys(n,!!d,l,!0);return;case"textarea":mt("invalid",n),v=p=d=null;for(E in l)if(l.hasOwnProperty(E)&&(M=l[E],M!=null))switch(E){case"value":d=M;break;case"defaultValue":p=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:Mt(n,i,E,M,l,null)}Dm(n,d,p,v);return;case"option":for(K in l)if(l.hasOwnProperty(K)&&(d=l[K],d!=null))switch(K){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Mt(n,i,K,d,l,null)}return;case"dialog":mt("beforetoggle",n),mt("toggle",n),mt("cancel",n),mt("close",n);break;case"iframe":case"object":mt("load",n);break;case"video":case"audio":for(d=0;d<so.length;d++)mt(so[d],n);break;case"image":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"embed":case"source":case"link":mt("error",n),mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in l)if(l.hasOwnProperty(le)&&(d=l[le],d!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Mt(n,i,le,d,l,null)}return;default:if(Od(i)){for(xe in l)l.hasOwnProperty(xe)&&(d=l[xe],d!==void 0&&x0(n,i,xe,d,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(d=l[M],d!=null&&Mt(n,i,M,d,l,null))}function fS(n,i,l,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,E=null,M=null,K=null,le=null,xe=null;for(pe in l){var Ee=l[pe];if(l.hasOwnProperty(pe)&&Ee!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":K=Ee;default:d.hasOwnProperty(pe)||Mt(n,i,pe,null,d,Ee)}}for(var fe in d){var pe=d[fe];if(Ee=l[fe],d.hasOwnProperty(fe)&&(pe!=null||Ee!=null))switch(fe){case"type":v=pe;break;case"name":p=pe;break;case"checked":le=pe;break;case"defaultChecked":xe=pe;break;case"value":E=pe;break;case"defaultValue":M=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(a(137,i));break;default:pe!==Ee&&Mt(n,i,fe,pe,d,Ee)}}Cd(n,E,M,K,le,xe,v,p);return;case"select":pe=E=M=fe=null;for(v in l)if(K=l[v],l.hasOwnProperty(v)&&K!=null)switch(v){case"value":break;case"multiple":pe=K;default:d.hasOwnProperty(v)||Mt(n,i,v,null,d,K)}for(p in d)if(v=d[p],K=l[p],d.hasOwnProperty(p)&&(v!=null||K!=null))switch(p){case"value":fe=v;break;case"defaultValue":M=v;break;case"multiple":E=v;default:v!==K&&Mt(n,i,p,v,d,K)}i=M,l=E,d=pe,fe!=null?ys(n,!!l,fe,!1):!!d!=!!l&&(i!=null?ys(n,!!l,i,!0):ys(n,!!l,l?[]:"",!1));return;case"textarea":pe=fe=null;for(M in l)if(p=l[M],l.hasOwnProperty(M)&&p!=null&&!d.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Mt(n,i,M,null,d,p)}for(E in d)if(p=d[E],v=l[E],d.hasOwnProperty(E)&&(p!=null||v!=null))switch(E){case"value":fe=p;break;case"defaultValue":pe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==v&&Mt(n,i,E,p,d,v)}Nm(n,fe,pe);return;case"option":for(var We in l)if(fe=l[We],l.hasOwnProperty(We)&&fe!=null&&!d.hasOwnProperty(We))switch(We){case"selected":n.selected=!1;break;default:Mt(n,i,We,null,d,fe)}for(K in d)if(fe=d[K],pe=l[K],d.hasOwnProperty(K)&&fe!==pe&&(fe!=null||pe!=null))switch(K){case"selected":n.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Mt(n,i,K,fe,d,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in l)fe=l[tt],l.hasOwnProperty(tt)&&fe!=null&&!d.hasOwnProperty(tt)&&Mt(n,i,tt,null,d,fe);for(le in d)if(fe=d[le],pe=l[le],d.hasOwnProperty(le)&&fe!==pe&&(fe!=null||pe!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(137,i));break;default:Mt(n,i,le,fe,d,pe)}return;default:if(Od(i)){for(var zt in l)fe=l[zt],l.hasOwnProperty(zt)&&fe!==void 0&&!d.hasOwnProperty(zt)&&x0(n,i,zt,void 0,d,fe);for(xe in d)fe=d[xe],pe=l[xe],!d.hasOwnProperty(xe)||fe===pe||fe===void 0&&pe===void 0||x0(n,i,xe,fe,d,pe);return}}for(var re in l)fe=l[re],l.hasOwnProperty(re)&&fe!=null&&!d.hasOwnProperty(re)&&Mt(n,i,re,null,d,fe);for(Ee in d)fe=d[Ee],pe=l[Ee],!d.hasOwnProperty(Ee)||fe===pe||fe==null&&pe==null||Mt(n,i,Ee,fe,d,pe)}function L1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var p=l[d],v=p.transferSize,E=p.initiatorType,M=p.duration;if(v&&M&&L1(E)){for(E=0,M=p.responseEnd,d+=1;d<l.length;d++){var K=l[d],le=K.startTime;if(le>M)break;var xe=K.transferSize,Ee=K.initiatorType;xe&&L1(Ee)&&(K=K.responseEnd,E+=xe*(K<M?1:(M-le)/(K-le)))}if(--d,i+=8*(v+E)/(p.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var y0=null,_0=null;function Qc(n){return n.nodeType===9?n:n.ownerDocument}function F1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B1(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function b0(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var w0=null;function mS(){var n=window.event;return n&&n.type==="popstate"?n===w0?!1:(w0=n,!0):(w0=null,!1)}var I1=typeof setTimeout=="function"?setTimeout:void 0,pS=typeof clearTimeout=="function"?clearTimeout:void 0,U1=typeof Promise=="function"?Promise:void 0,gS=typeof queueMicrotask=="function"?queueMicrotask:typeof U1<"u"?function(n){return U1.resolve(null).then(n).catch(vS)}:I1;function vS(n){setTimeout(function(){throw n})}function mi(n){return n==="head"}function P1(n,i){var l=i,d=0;do{var p=l.nextSibling;if(n.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(d===0){n.removeChild(p),Js(i);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")oo(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,oo(l);for(var v=l.firstChild;v;){var E=v.nextSibling,M=v.nodeName;v[de]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=E}}else l==="body"&&oo(n.ownerDocument.body);l=p}while(l);Js(i)}function H1(n,i){var l=n;n=0;do{var d=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=d}while(l)}function S0(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":S0(l),Re(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function xS(n,i,l,d){for(;n.nodeType===1;){var p=l;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[de])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=Nn(n.nextSibling),n===null)break}return null}function yS(n,i,l){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Nn(n.nextSibling),n===null))return null;return n}function $1(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Nn(n.nextSibling),n===null))return null;return n}function E0(n){return n.data==="$?"||n.data==="$~"}function T0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function _S(n,i){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||l.readyState!=="loading")i();else{var d=function(){i(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function Nn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var k0=null;function G1(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(i===0)return Nn(n.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}n=n.nextSibling}return null}function q1(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return n;i--}else l!=="/$"&&l!=="/&"||i++}n=n.previousSibling}return null}function W1(n,i,l){switch(i=Qc(l),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function oo(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Re(n)}var Dn=new Map,V1=new Set;function Zc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ma=me.d;me.d={f:bS,r:wS,D:SS,C:ES,L:TS,m:kS,X:jS,S:AS,M:CS};function bS(){var n=Ma.f(),i=Gc();return n||i}function wS(n){var i=$e(n);i!==null&&i.tag===5&&i.type==="form"?ug(i):Ma.r(n)}var Ks=typeof document>"u"?null:document;function K1(n,i,l){var d=Ks;if(d&&typeof i=="string"&&i){var p=nr(i);p='link[rel="'+n+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),V1.has(p)||(V1.add(p),n={rel:n,crossOrigin:l,href:i},d.querySelector(p)===null&&(i=d.createElement("link"),Tr(i,"link",n),Ye(i),d.head.appendChild(i)))}}function SS(n){Ma.D(n),K1("dns-prefetch",n,null)}function ES(n,i){Ma.C(n,i),K1("preconnect",n,i)}function TS(n,i,l){Ma.L(n,i,l);var d=Ks;if(d&&n&&i){var p='link[rel="preload"][as="'+nr(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+nr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+nr(l.imageSizes)+'"]')):p+='[href="'+nr(n)+'"]';var v=p;switch(i){case"style":v=Ys(n);break;case"script":v=Xs(n)}Dn.has(v)||(n=x({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:n,as:i},l),Dn.set(v,n),d.querySelector(p)!==null||i==="style"&&d.querySelector(co(v))||i==="script"&&d.querySelector(uo(v))||(i=d.createElement("link"),Tr(i,"link",n),Ye(i),d.head.appendChild(i)))}}function kS(n,i){Ma.m(n,i);var l=Ks;if(l&&n){var d=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+nr(d)+'"][href="'+nr(n)+'"]',v=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Xs(n)}if(!Dn.has(v)&&(n=x({rel:"modulepreload",href:n},i),Dn.set(v,n),l.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uo(v)))return}d=l.createElement("link"),Tr(d,"link",n),Ye(d),l.head.appendChild(d)}}}function AS(n,i,l){Ma.S(n,i,l);var d=Ks;if(d&&n){var p=Ie(d).hoistableStyles,v=Ys(n);i=i||"default";var E=p.get(v);if(!E){var M={loading:0,preload:null};if(E=d.querySelector(co(v)))M.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":i},l),(l=Dn.get(v))&&A0(n,l);var K=E=d.createElement("link");Ye(K),Tr(K,"link",n),K._p=new Promise(function(le,xe){K.onload=le,K.onerror=xe}),K.addEventListener("load",function(){M.loading|=1}),K.addEventListener("error",function(){M.loading|=2}),M.loading|=4,eu(E,i,d)}E={type:"stylesheet",instance:E,count:1,state:M},p.set(v,E)}}}function jS(n,i){Ma.X(n,i);var l=Ks;if(l&&n){var d=Ie(l).hoistableScripts,p=Xs(n),v=d.get(p);v||(v=l.querySelector(uo(p)),v||(n=x({src:n,async:!0},i),(i=Dn.get(p))&&j0(n,i),v=l.createElement("script"),Ye(v),Tr(v,"link",n),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function CS(n,i){Ma.M(n,i);var l=Ks;if(l&&n){var d=Ie(l).hoistableScripts,p=Xs(n),v=d.get(p);v||(v=l.querySelector(uo(p)),v||(n=x({src:n,async:!0,type:"module"},i),(i=Dn.get(p))&&j0(n,i),v=l.createElement("script"),Ye(v),Tr(v,"link",n),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function Y1(n,i,l,d){var p=(p=Z.current)?Zc(p):null;if(!p)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Ys(l.href),l=Ie(p).hoistableStyles,d=l.get(i),d||(d={type:"style",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Ys(l.href);var v=Ie(p).hoistableStyles,E=v.get(n);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,E),(v=p.querySelector(co(n)))&&!v._p&&(E.instance=v,E.state.loading=5),Dn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Dn.set(n,l),v||RS(p,n,l,E.state))),i&&d===null)throw Error(a(528,""));return E}if(i&&d!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xs(l),l=Ie(p).hoistableScripts,d=l.get(i),d||(d={type:"script",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Ys(n){return'href="'+nr(n)+'"'}function co(n){return'link[rel="stylesheet"]['+n+"]"}function X1(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function RS(n,i,l,d){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=n.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),Tr(i,"link",l),Ye(i),n.head.appendChild(i))}function Xs(n){return'[src="'+nr(n)+'"]'}function uo(n){return"script[async]"+n}function J1(n,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var d=n.querySelector('style[data-href~="'+nr(l.href)+'"]');if(d)return i.instance=d,Ye(d),d;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),Ye(d),Tr(d,"style",p),eu(d,l.precedence,n),i.instance=d;case"stylesheet":p=Ys(l.href);var v=n.querySelector(co(p));if(v)return i.state.loading|=4,i.instance=v,Ye(v),v;d=X1(l),(p=Dn.get(p))&&A0(d,p),v=(n.ownerDocument||n).createElement("link"),Ye(v);var E=v;return E._p=new Promise(function(M,K){E.onload=M,E.onerror=K}),Tr(v,"link",d),i.state.loading|=4,eu(v,l.precedence,n),i.instance=v;case"script":return v=Xs(l.src),(p=n.querySelector(uo(v)))?(i.instance=p,Ye(p),p):(d=l,(p=Dn.get(v))&&(d=x({},l),j0(d,p)),n=n.ownerDocument||n,p=n.createElement("script"),Ye(p),Tr(p,"link",d),n.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,eu(d,l.precedence,n));return i.instance}function eu(n,i,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,v=p,E=0;E<d.length;E++){var M=d[E];if(M.dataset.precedence===i)v=M;else if(v!==p)break}v?v.parentNode.insertBefore(n,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(n,i.firstChild))}function A0(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function j0(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var tu=null;function Q1(n,i,l){if(tu===null){var d=new Map,p=tu=new Map;p.set(l,d)}else p=tu,d=p.get(l),d||(d=new Map,p.set(l,d));if(d.has(n))return d;for(d.set(n,null),l=l.getElementsByTagName(n),p=0;p<l.length;p++){var v=l[p];if(!(v[de]||v[B]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(i)||"";E=n+E;var M=d.get(E);M?M.push(v):d.set(E,[v])}}return d}function Z1(n,i,l){n=n.ownerDocument||n,n.head.insertBefore(l,i==="title"?n.querySelector("head > title"):null)}function OS(n,i,l){if(l===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ev(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function NS(n,i,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Ys(d.href),v=i.querySelector(co(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=ru.bind(n),i.then(n,n)),l.state.loading|=4,l.instance=v,Ye(v);return}v=i.ownerDocument||i,d=X1(d),(p=Dn.get(p))&&A0(d,p),v=v.createElement("link"),Ye(v);var E=v;E._p=new Promise(function(M,K){E.onload=M,E.onerror=K}),Tr(v,"link",d),l.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=ru.bind(n),i.addEventListener("load",l),i.addEventListener("error",l))}}var C0=0;function DS(n,i){return n.stylesheets&&n.count===0&&au(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var d=setTimeout(function(){if(n.stylesheets&&au(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+i);0<n.imgBytes&&C0===0&&(C0=62500*hS());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&au(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>C0?50:800)+i);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function ru(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)au(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var nu=null;function au(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,nu=new Map,i.forEach(MS,n),nu=null,ru.call(n))}function MS(n,i){if(!(i.state.loading&4)){var l=nu.get(n);if(l)var d=l.get(null);else{l=new Map,nu.set(n,l);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var E=p[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),d=E)}d&&l.set(null,d)}p=i.instance,E=p.getAttribute("data-precedence"),v=l.get(E)||d,v===d&&l.set(null,p),l.set(E,p),this.count++,d=ru.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),v?v.parentNode.insertBefore(p,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),i.state.loading|=4}}var fo={$$typeof:T,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function zS(n,i,l,d,p,v,E,M,K){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.hiddenUpdates=Ka(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function tv(n,i,l,d,p,v,E,M,K,le,xe,Ee){return n=new zS(n,i,l,E,K,le,xe,Ee,M),i=1,v===!0&&(i|=24),v=un(3,null,null,i),n.current=v,v.stateNode=n,i=of(),i.refCount++,n.pooledCache=i,i.refCount++,v.memoizedState={element:d,isDehydrated:l,cache:i},ff(v),n}function rv(n){return n?(n=As,n):As}function nv(n,i,l,d,p,v){p=rv(p),d.context===null?d.context=p:d.pendingContext=p,d=ni(i),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=ai(n,d,i),l!==null&&(Zr(l,n,i),$l(l,n,i))}function av(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function R0(n,i){av(n,i),(n=n.alternate)&&av(n,i)}function iv(n){if(n.tag===13||n.tag===31){var i=zi(n,67108864);i!==null&&Zr(i,n,67108864),R0(n,67108864)}}function sv(n){if(n.tag===13||n.tag===31){var i=pn();i=Xa(i);var l=zi(n,i);l!==null&&Zr(l,n,i),R0(n,i)}}var iu=!0;function LS(n,i,l,d){var p=J.T;J.T=null;var v=me.p;try{me.p=2,O0(n,i,l,d)}finally{me.p=v,J.T=p}}function FS(n,i,l,d){var p=J.T;J.T=null;var v=me.p;try{me.p=8,O0(n,i,l,d)}finally{me.p=v,J.T=p}}function O0(n,i,l,d){if(iu){var p=N0(d);if(p===null)v0(n,i,d,su,l),ov(n,d);else if(IS(p,n,i,l,d))d.stopPropagation();else if(ov(n,d),i&4&&-1<BS.indexOf(n)){for(;p!==null;){var v=$e(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=Pr(v.pendingLanes);if(E!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;E;){var K=1<<31-Kt(E);M.entanglements[1]|=K,E&=~K}oa(v),(Et&6)===0&&(Hc=xt()+500,io(0))}}break;case 31:case 13:M=zi(v,2),M!==null&&Zr(M,v,2),Gc(),R0(v,2)}if(v=N0(d),v===null&&v0(n,i,d,su,l),v===p)break;p=v}p!==null&&d.stopPropagation()}else v0(n,i,d,null,l)}}function N0(n){return n=Dd(n),D0(n)}var su=null;function D0(n){if(su=null,n=Me(n),n!==null){var i=o(n);if(i===null)n=null;else{var l=i.tag;if(l===13){if(n=c(i),n!==null)return n;n=null}else if(l===31){if(n=f(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return su=n,null}function lv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case Ir:return 2;case In:return 8;case tr:case ma:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var M0=!1,pi=null,gi=null,vi=null,ho=new Map,mo=new Map,xi=[],BS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ov(n,i){switch(n){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":ho.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(i.pointerId)}}function po(n,i,l,d,p,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},i!==null&&(i=$e(i),i!==null&&iv(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function IS(n,i,l,d,p){switch(i){case"focusin":return pi=po(pi,n,i,l,d,p),!0;case"dragenter":return gi=po(gi,n,i,l,d,p),!0;case"mouseover":return vi=po(vi,n,i,l,d,p),!0;case"pointerover":var v=p.pointerId;return ho.set(v,po(ho.get(v)||null,n,i,l,d,p)),!0;case"gotpointercapture":return v=p.pointerId,mo.set(v,po(mo.get(v)||null,n,i,l,d,p)),!0}return!1}function cv(n){var i=Me(n.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){n.blockedOn=i,q(n.priority,function(){sv(l)});return}}else if(i===31){if(i=f(l),i!==null){n.blockedOn=i,q(n.priority,function(){sv(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lu(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=N0(n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);Nd=d,l.target.dispatchEvent(d),Nd=null}else return i=$e(l),i!==null&&iv(i),n.blockedOn=l,!1;i.shift()}return!0}function uv(n,i,l){lu(n)&&l.delete(i)}function US(){M0=!1,pi!==null&&lu(pi)&&(pi=null),gi!==null&&lu(gi)&&(gi=null),vi!==null&&lu(vi)&&(vi=null),ho.forEach(uv),mo.forEach(uv)}function ou(n,i){n.blockedOn===i&&(n.blockedOn=null,M0||(M0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,US)))}var cu=null;function dv(n){cu!==n&&(cu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cu===n&&(cu=null);for(var i=0;i<n.length;i+=3){var l=n[i],d=n[i+1],p=n[i+2];if(typeof d!="function"){if(D0(d||l)===null)continue;break}var v=$e(l);v!==null&&(n.splice(i,3),i-=3,Nf(v,{pending:!0,data:p,method:l.method,action:d},d,p))}}))}function Js(n){function i(K){return ou(K,n)}pi!==null&&ou(pi,n),gi!==null&&ou(gi,n),vi!==null&&ou(vi,n),ho.forEach(i),mo.forEach(i);for(var l=0;l<xi.length;l++){var d=xi[l];d.blockedOn===n&&(d.blockedOn=null)}for(;0<xi.length&&(l=xi[0],l.blockedOn===null);)cv(l),l.blockedOn===null&&xi.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var p=l[d],v=l[d+1],E=p[P]||null;if(typeof v=="function")E||dv(l);else if(E){var M=null;if(v&&v.hasAttribute("formAction")){if(p=v,E=v[P]||null)M=E.formAction;else if(D0(p)!==null)continue}else M=E.action;typeof M=="function"?l[d+1]=M:(l.splice(d,3),d-=3),dv(l)}}}function fv(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function z0(n){this._internalRoot=n}uu.prototype.render=z0.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,d=pn();nv(l,d,n,i,null,null)},uu.prototype.unmount=z0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;nv(n.current,2,null,n,null,null),Gc(),i[V]=null}};function uu(n){this._internalRoot=n}uu.prototype.unstable_scheduleHydration=function(n){if(n){var i=O();n={blockedOn:null,target:n,priority:i};for(var l=0;l<xi.length&&i!==0&&i<xi[l].priority;l++);xi.splice(l,0,n),l===0&&cv(n)}};var hv=e.version;if(hv!=="19.2.1")throw Error(a(527,hv,"19.2.1"));me.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var PS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Tn=du.inject(PS),pr=du}catch{}}return vo.createRoot=function(n,i){if(!s(n))throw Error(a(299));var l=!1,d="",p=_g,v=bg,E=wg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=tv(n,1,!1,null,null,l,d,null,p,v,E,fv),n[V]=i.current,g0(n),new z0(i)},vo.hydrateRoot=function(n,i,l){if(!s(n))throw Error(a(299));var d=!1,p="",v=_g,E=bg,M=wg,K=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(K=l.formState)),i=tv(n,1,!0,i,l??null,d,p,K,v,E,M,fv),i.context=rv(null),l=i.current,d=pn(),d=Xa(d),p=ni(d),p.callback=null,ai(l,p,d),l=d,i.current.lanes=l,Un(i,l),oa(i),n[V]=i.current,g0(n),new uu(i)},vo.version="19.2.1",vo}var Sv;function QS(){if(Sv)return B0.exports;Sv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),B0.exports=JS(),B0.exports}var ZS=QS();const eE=Bh(ZS);var Ev="popstate";function tE(t={}){function e(s,o){let{pathname:c="/",search:f="",hash:h=""}=cs(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ch("",{pathname:c,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let c=s.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let h=s.location.href,m=h.indexOf("#");f=m===-1?h:h.slice(0,m)}return f+"#"+(typeof o=="string"?o:Do(o))}function a(s,o){bn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return nE(e,r,a,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rE(){return Math.random().toString(36).substring(2,10)}function Tv(t,e){return{usr:t.state,key:t.key,idx:e}}function ch(t,e,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?cs(e):e,state:r,key:e&&e.key||a||rE()}}function Do({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function nE(t,e,r,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,c=s.history,f="POP",h=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function x(){f="POP";let b=g(),k=b==null?null:b-m;m=b,h&&h({action:f,location:_.location,delta:k})}function y(b,k){f="PUSH";let R=ch(_.location,b,k);r&&r(R,b),m=g()+1;let T=Tv(R,m),L=_.createHref(R);try{c.pushState(T,"",L)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(L)}o&&h&&h({action:f,location:_.location,delta:1})}function w(b,k){f="REPLACE";let R=ch(_.location,b,k);r&&r(R,b),m=g();let T=Tv(R,m),L=_.createHref(R);c.replaceState(T,"",L),o&&h&&h({action:f,location:_.location,delta:0})}function S(b){return aE(b)}let _={get action(){return f},get location(){return t(s,c)},listen(b){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Ev,x),h=b,()=>{s.removeEventListener(Ev,x),h=null}},createHref(b){return e(s,b)},createURL:S,encodeLocation(b){let k=S(b);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:w,go(b){return c.go(b)}};return _}function aE(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Do(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function iy(t,e,r="/"){return iE(t,e,r,!1)}function iE(t,e,r,a){let s=typeof e=="string"?cs(e):e,o=Pa(s.pathname||"/",r);if(o==null)return null;let c=sy(t);sE(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=vE(o);f=pE(c[h],m,a)}return f}function sy(t,e=[],r=[],a="",s=!1){let o=(c,f,h=s,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&h)return;Vt(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let x=Fa([a,g.relativePath]),y=r.concat(g);c.children&&c.children.length>0&&(Vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),sy(c.children,e,y,x,h)),!(c.path==null&&!c.index)&&e.push({path:x,score:hE(x,c.index),routesMeta:y})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))o(c,f);else for(let h of ly(c.path))o(c,f,!0,h)}),e}function ly(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let c=ly(a.join("/")),f=[];return f.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&f.push(...c),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function sE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:mE(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var lE=/^:[\w-]+$/,oE=3,cE=2,uE=1,dE=10,fE=-2,kv=t=>t==="*";function hE(t,e){let r=t.split("/"),a=r.length;return r.some(kv)&&(a+=fE),e&&(a+=cE),r.filter(s=>!kv(s)).reduce((s,o)=>s+(lE.test(o)?oE:o===""?uE:dE),a)}function mE(t,e){return t.length===e.length&&t.slice(0,-1).every((a,s)=>a===e[s])?t[t.length-1]-e[e.length-1]:0}function pE(t,e,r=!1){let{routesMeta:a}=t,s={},o="/",c=[];for(let f=0;f<a.length;++f){let h=a[f],m=f===a.length-1,g=o==="/"?e:e.slice(o.length)||"/",x=Fu({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),y=h.route;if(!x&&m&&r&&!a[a.length-1].route.index&&(x=Fu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),c.push({params:s,pathname:Fa([o,x.pathname]),pathnameBase:wE(Fa([o,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(o=Fa([o,x.pathnameBase]))}return c}function Fu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=gE(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:a.reduce((m,{paramName:g,isOptional:x},y)=>{if(g==="*"){let S=f[y]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[y];return x&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function gE(t,e=!1,r=!0){bn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(a.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function vE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Pa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}var xE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yE=t=>xE.test(t);function _E(t,e="/"){let{pathname:r,search:a="",hash:s=""}=typeof t=="string"?cs(t):t,o;if(r)if(yE(r))o=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?o=Av(r.substring(1),"/"):o=Av(r,e)}else o=e;return{pathname:o,search:SE(a),hash:EE(s)}}function Av(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function H0(t,e,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bE(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Uh(t){let e=bE(t);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function Ph(t,e,r,a=!1){let s;typeof t=="string"?s=cs(t):(s={...t},Vt(!s.pathname||!s.pathname.includes("?"),H0("?","pathname","search",s)),Vt(!s.pathname||!s.pathname.includes("#"),H0("#","pathname","hash",s)),Vt(!s.search||!s.search.includes("#"),H0("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,f;if(c==null)f=r;else{let x=e.length-1;if(!a&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),x-=1;s.pathname=y.join("/")}f=x>=0?e[x]:"/"}let h=_E(s,f),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var Fa=t=>t.join("/").replace(/\/\/+/g,"/"),wE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function kE(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oy=["POST","PUT","PATCH","DELETE"];new Set(oy);var AE=["GET",...oy];new Set(AE);var xl=D.createContext(null);xl.displayName="DataRouter";var dd=D.createContext(null);dd.displayName="DataRouterState";D.createContext(!1);var cy=D.createContext({isTransitioning:!1});cy.displayName="ViewTransition";var jE=D.createContext(new Map);jE.displayName="Fetchers";var CE=D.createContext(null);CE.displayName="Await";var Ln=D.createContext(null);Ln.displayName="Navigation";var Wo=D.createContext(null);Wo.displayName="Location";var ta=D.createContext({outlet:null,matches:[],isDataRoute:!1});ta.displayName="Route";var Hh=D.createContext(null);Hh.displayName="RouteError";function RE(t,{relative:e}={}){Vt(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=D.useContext(Ln),{hash:s,pathname:o,search:c}=Vo(t,{relative:e}),f=o;return r!=="/"&&(f=o==="/"?r:Fa([r,o])),a.createHref({pathname:f,search:c,hash:s})}function yl(){return D.useContext(Wo)!=null}function ha(){return Vt(yl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Wo).location}var uy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dy(t){D.useContext(Ln).static||D.useLayoutEffect(t)}function fd(){let{isDataRoute:t}=D.useContext(ta);return t?qE():OE()}function OE(){Vt(yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(xl),{basename:e,navigator:r}=D.useContext(Ln),{matches:a}=D.useContext(ta),{pathname:s}=ha(),o=JSON.stringify(Uh(a)),c=D.useRef(!1);return dy(()=>{c.current=!0}),D.useCallback((h,m={})=>{if(bn(c.current,uy),!c.current)return;if(typeof h=="number"){r.go(h);return}let g=Ph(h,JSON.parse(o),s,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Fa([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,o,s,t])}var NE=D.createContext(null);function DE(t){let e=D.useContext(ta).outlet;return D.useMemo(()=>e&&D.createElement(NE.Provider,{value:t},e),[e,t])}function Vo(t,{relative:e}={}){let{matches:r}=D.useContext(ta),{pathname:a}=ha(),s=JSON.stringify(Uh(r));return D.useMemo(()=>Ph(t,JSON.parse(s),a,e==="path"),[t,s,a,e])}function ME(t,e){return fy(t,e)}function fy(t,e,r,a,s){Vt(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(Ln),{matches:c}=D.useContext(ta),f=c[c.length-1],h=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",x=f&&f.route;{let R=x&&x.path||"";hy(m,!x||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let y=ha(),w;if(e){let R=typeof e=="string"?cs(e):e;Vt(g==="/"||R.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=y;let S=w.pathname||"/",_=S;if(g!=="/"){let R=g.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(R.length).join("/")}let b=iy(t,{pathname:_});bn(x||b!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),bn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=IE(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:Fa([g,o.encodeLocation?o.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:Fa([g,o.encodeLocation?o.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),c,r,a,s);return e&&k?D.createElement(Wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function zE(){let t=GE(),e=TE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:s},r):null,c)}var LE=D.createElement(zE,null),FE=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(ta.Provider,{value:this.props.routeContext},D.createElement(Hh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BE({routeContext:t,match:e,children:r}){let a=D.useContext(xl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(ta.Provider,{value:t},r)}function IE(t,e=[],r=null,a=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,c=r?.errors;if(c!=null){let g=o.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);Vt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,h=-1;if(r)for(let g=0;g<o.length;g++){let x=o[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=g),x.route.id){let{loaderData:y,errors:w}=r,S=x.route.loader&&!y.hasOwnProperty(x.route.id)&&(!w||w[x.route.id]===void 0);if(x.route.lazy||S){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let m=r&&a?(g,x)=>{a(g,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:kE(r.matches),errorInfo:x})}:void 0;return o.reduceRight((g,x,y)=>{let w,S=!1,_=null,b=null;r&&(w=c&&x.route.id?c[x.route.id]:void 0,_=x.route.errorElement||LE,f&&(h<0&&y===0?(hy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,b=null):h===y&&(S=!0,b=x.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,y+1)),R=()=>{let T;return w?T=_:S?T=b:x.route.Component?T=D.createElement(x.route.Component,null):x.route.element?T=x.route.element:T=g,D.createElement(BE,{match:x,routeContext:{outlet:g,matches:k,isDataRoute:r!=null},children:T})};return r&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?D.createElement(FE,{location:r.location,revalidation:r.revalidation,component:_,error:w,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:m}):R()},null)}function $h(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UE(t){let e=D.useContext(xl);return Vt(e,$h(t)),e}function PE(t){let e=D.useContext(dd);return Vt(e,$h(t)),e}function HE(t){let e=D.useContext(ta);return Vt(e,$h(t)),e}function Gh(t){let e=HE(t),r=e.matches[e.matches.length-1];return Vt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function $E(){return Gh("useRouteId")}function GE(){let t=D.useContext(Hh),e=PE("useRouteError"),r=Gh("useRouteError");return t!==void 0?t:e.errors?.[r]}function qE(){let{router:t}=UE("useNavigate"),e=Gh("useNavigate"),r=D.useRef(!1);return dy(()=>{r.current=!0}),D.useCallback(async(s,o={})=>{bn(r.current,uy),r.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var jv={};function hy(t,e,r){!e&&!jv[t]&&(jv[t]=!0,bn(!1,r))}D.memo(WE);function WE({routes:t,future:e,state:r,unstable_onError:a}){return fy(t,void 0,r,a,e)}function VE({to:t,replace:e,state:r,relative:a}){Vt(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=D.useContext(Ln);bn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=D.useContext(ta),{pathname:c}=ha(),f=fd(),h=Ph(t,Uh(o),c,a==="path"),m=JSON.stringify(h);return D.useEffect(()=>{f(JSON.parse(m),{replace:e,state:r,relative:a})},[f,m,a,e,r]),null}function KE(t){return DE(t.context)}function Wn(t){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YE({basename:t="/",children:e=null,location:r,navigationType:a="POP",navigator:s,static:o=!1,unstable_useTransitions:c}){Vt(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:f,navigator:s,static:o,unstable_useTransitions:c,future:{}}),[f,s,o,c]);typeof r=="string"&&(r=cs(r));let{pathname:m="/",search:g="",hash:x="",state:y=null,key:w="default"}=r,S=D.useMemo(()=>{let _=Pa(m,f);return _==null?null:{location:{pathname:_,search:g,hash:x,state:y,key:w},navigationType:a}},[f,m,g,x,y,w,a]);return bn(S!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:D.createElement(Ln.Provider,{value:h},D.createElement(Wo.Provider,{children:e,value:S}))}function XE({children:t,location:e}){return ME(uh(t),e)}function uh(t,e=[]){let r=[];return D.Children.forEach(t,(a,s)=>{if(!D.isValidElement(a))return;let o=[...e,s];if(a.type===D.Fragment){r.push.apply(r,uh(a.props.children,o));return}Vt(a.type===Wn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=uh(a.props.children,o)),r.push(c)}),r}var Ou="get",Nu="application/x-www-form-urlencoded";function hd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function JE(t){return hd(t)&&t.tagName.toLowerCase()==="button"}function QE(t){return hd(t)&&t.tagName.toLowerCase()==="form"}function ZE(t){return hd(t)&&t.tagName.toLowerCase()==="input"}function eT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tT(t,e){return t.button===0&&(!e||e==="_self")&&!eT(t)}var fu=null;function rT(){if(fu===null)try{new FormData(document.createElement("form"),0),fu=!1}catch{fu=!0}return fu}var nT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $0(t){return t!=null&&!nT.has(t)?(bn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nu}"`),null):t}function aT(t,e){let r,a,s,o,c;if(QE(t)){let f=t.getAttribute("action");a=f?Pa(f,e):null,r=t.getAttribute("method")||Ou,s=$0(t.getAttribute("enctype"))||Nu,o=new FormData(t)}else if(JE(t)||ZE(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(a=h?Pa(h,e):null,r=t.getAttribute("formmethod")||f.getAttribute("method")||Ou,s=$0(t.getAttribute("formenctype"))||$0(f.getAttribute("enctype"))||Nu,o=new FormData(f,t),!rT()){let{name:m,type:g,value:x}=t;if(g==="image"){let y=m?`${m}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else m&&o.append(m,x)}}else{if(hd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ou,a=null,s=Nu,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iT(t,e,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&Pa(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function sT(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oT(t,e,r){let a=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await sT(o,r);return c.links?c.links():[]}return[]}));return fT(a.flat(1).filter(lT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Cv(t,e,r,a,s,o){let c=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,f=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,m)=>c(h,m)||f(h,m)):o==="data"?e.filter((h,m)=>{let g=a.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function cT(t,e,{includeHydrateFallback:r}={}){return uT(t.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function uT(t){return[...new Set(t)]}function dT(t){let e={},r=Object.keys(t).sort();for(let a of r)e[a]=t[a];return e}function fT(t,e){let r=new Set;return new Set(e),t.reduce((a,s)=>{let o=JSON.stringify(dT(s));return r.has(o)||(r.add(o),a.push({key:o,link:s})),a},[])}function my(){let t=D.useContext(xl);return qh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hT(){let t=D.useContext(dd);return qh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wh=D.createContext(void 0);Wh.displayName="FrameworkContext";function py(){let t=D.useContext(Wh);return qh(t,"You must render this element inside a <HydratedRouter> element"),t}function mT(t,e){let r=D.useContext(Wh),[a,s]=D.useState(!1),[o,c]=D.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=e,y=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=k=>{k.forEach(R=>{c(R.isIntersecting)})},b=new IntersectionObserver(_,{threshold:.5});return y.current&&b.observe(y.current),()=>{b.disconnect()}}},[t]),D.useEffect(()=>{if(a){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[a]);let w=()=>{s(!0)},S=()=>{s(!1),c(!1)};return r?t!=="intent"?[o,y,{}]:[o,y,{onFocus:xo(f,w),onBlur:xo(h,S),onMouseEnter:xo(m,w),onMouseLeave:xo(g,S),onTouchStart:xo(x,w)}]:[!1,y,{}]}function xo(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function pT({page:t,...e}){let{router:r}=my(),a=D.useMemo(()=>iy(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?D.createElement(vT,{page:t,matches:a,...e}):null}function gT(t){let{manifest:e,routeModules:r}=py(),[a,s]=D.useState([]);return D.useEffect(()=>{let o=!1;return oT(t,e,r).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,r]),a}function vT({page:t,matches:e,...r}){let a=ha(),{manifest:s,routeModules:o}=py(),{basename:c}=my(),{loaderData:f,matches:h}=hT(),m=D.useMemo(()=>Cv(t,e,h,s,a,"data"),[t,e,h,s,a]),g=D.useMemo(()=>Cv(t,e,h,s,a,"assets"),[t,e,h,s,a]),x=D.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let S=new Set,_=!1;if(e.forEach(k=>{let R=s.routes[k.route.id];!R||!R.hasLoader||(!m.some(T=>T.route.id===k.route.id)&&k.route.id in f&&o[k.route.id]?.shouldRevalidate||R.hasClientLoader?_=!0:S.add(k.route.id))}),S.size===0)return[];let b=iT(t,c,"data");return _&&S.size>0&&b.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[b.pathname+b.search]},[c,f,a,s,m,e,t,o]),y=D.useMemo(()=>cT(g,s),[g,s]),w=gT(g);return D.createElement(D.Fragment,null,x.map(S=>D.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),y.map(S=>D.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),w.map(({key:S,link:_})=>D.createElement("link",{key:S,nonce:r.nonce,..._})))}function xT(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gy&&(window.__reactRouterVersion="7.10.1")}catch{}function yT({basename:t,children:e,unstable_useTransitions:r,window:a}){let s=D.useRef();s.current==null&&(s.current=tE({window:a,v5Compat:!0}));let o=s.current,[c,f]=D.useState({action:o.action,location:o.location}),h=D.useCallback(m=>{r===!1?f(m):D.startTransition(()=>f(m))},[r]);return D.useLayoutEffect(()=>o.listen(h),[o,h]),D.createElement(YE,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:r===!0})}var vy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,md=D.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:s,reloadDocument:o,replace:c,state:f,target:h,to:m,preventScrollReset:g,viewTransition:x,...y},w){let{basename:S,unstable_useTransitions:_}=D.useContext(Ln),b=typeof m=="string"&&vy.test(m),k,R=!1;if(typeof m=="string"&&b&&(k=m,gy))try{let te=new URL(window.location.href),ee=m.startsWith("//")?new URL(te.protocol+m):new URL(m),ie=Pa(ee.pathname,S);ee.origin===te.origin&&ie!=null?m=ie+ee.search+ee.hash:R=!0}catch{bn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=RE(m,{relative:s}),[L,H,Y]=mT(a,y),A=ST(m,{replace:c,state:f,target:h,preventScrollReset:g,relative:s,viewTransition:x,unstable_useTransitions:_});function I(te){e&&e(te),te.defaultPrevented||A(te)}let G=D.createElement("a",{...y,...Y,href:k||T,onClick:R||o?e:I,ref:xT(w,H),target:h,"data-discover":!b&&r==="render"?"true":void 0});return L&&!b?D.createElement(D.Fragment,null,G,D.createElement(pT,{page:T})):G});md.displayName="Link";var _T=D.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:s=!1,style:o,to:c,viewTransition:f,children:h,...m},g){let x=Vo(c,{relative:m.relative}),y=ha(),w=D.useContext(dd),{navigator:S,basename:_}=D.useContext(Ln),b=w!=null&&jT(x)&&f===!0,k=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,R=y.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(R=R.toLowerCase(),T=T?T.toLowerCase():null,k=k.toLowerCase()),T&&_&&(T=Pa(T,_)||T);const L=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let H=R===k||!s&&R.startsWith(k)&&R.charAt(L)==="/",Y=T!=null&&(T===k||!s&&T.startsWith(k)&&T.charAt(k.length)==="/"),A={isActive:H,isPending:Y,isTransitioning:b},I=H?e:void 0,G;typeof a=="function"?G=a(A):G=[a,H?"active":null,Y?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let te=typeof o=="function"?o(A):o;return D.createElement(md,{...m,"aria-current":I,className:G,ref:g,style:te,to:c,viewTransition:f},typeof h=="function"?h(A):h)});_T.displayName="NavLink";var bT=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:s,state:o,method:c=Ou,action:f,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:x,...y},w)=>{let{unstable_useTransitions:S}=D.useContext(Ln),_=kT(),b=AT(f,{relative:m}),k=c.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&vy.test(f),T=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let H=L.nativeEvent.submitter,Y=H?.getAttribute("formmethod")||c,A=()=>_(H||L.currentTarget,{fetcherKey:e,method:Y,navigate:r,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:x});S&&r!==!1?D.startTransition(()=>A()):A()};return D.createElement("form",{ref:w,method:k,action:b,onSubmit:a?h:T,...y,"data-discover":!R&&t==="render"?"true":void 0})});bT.displayName="Form";function wT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xy(t){let e=D.useContext(xl);return Vt(e,wT(t)),e}function ST(t,{target:e,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:c,unstable_useTransitions:f}={}){let h=fd(),m=ha(),g=Vo(t,{relative:o});return D.useCallback(x=>{if(tT(x,e)){x.preventDefault();let y=r!==void 0?r:Do(m)===Do(g),w=()=>h(t,{replace:y,state:a,preventScrollReset:s,relative:o,viewTransition:c});f?D.startTransition(()=>w()):w()}},[m,h,g,r,a,e,t,s,o,c,f])}var ET=0,TT=()=>`__${String(++ET)}__`;function kT(){let{router:t}=xy("useSubmit"),{basename:e}=D.useContext(Ln),r=$E(),a=t.fetch,s=t.navigate;return D.useCallback(async(o,c={})=>{let{action:f,method:h,encType:m,formData:g,body:x}=aT(o,e);if(c.navigate===!1){let y=c.fetcherKey||TT();await a(y,r,c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await s(c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,s,e,r])}function AT(t,{relative:e}={}){let{basename:r}=D.useContext(Ln),a=D.useContext(ta);Vt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...Vo(t||".",{relative:e})},c=ha();if(t==null){o.search=c.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(x=>x).forEach(x=>f.append("index",x));let g=f.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Fa([r,o.pathname])),Do(o)}function jT(t,{relative:e}={}){let r=D.useContext(cy);Vt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=xy("useViewTransitionState"),s=Vo(t,{relative:e});if(!r.isTransitioning)return!1;let o=Pa(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=Pa(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Fu(s.pathname,c)!=null||Fu(s.pathname,o)!=null}var dh=ay(),za={},hu={},fh=function(t,e){return fh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},fh(t,e)};function yy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fh(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Bu=function(){return Bu=Object.assign||function(e){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Bu.apply(this,arguments)};function _l(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(r[a[s]]=t[a[s]]);return r}function _y(t,e,r,a){var s=arguments.length,o=s<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,a);else for(var f=t.length-1;f>=0;f--)(c=t[f])&&(o=(s<3?c(o):s>3?c(e,r,o):c(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function by(t,e){return function(r,a){e(r,a,t)}}function wy(t,e,r,a,s,o){function c(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var f=a.kind,h=f==="getter"?"get":f==="setter"?"set":"value",m=!e&&t?a.static?t:t.prototype:null,g=e||(m?Object.getOwnPropertyDescriptor(m,a.name):{}),x,y=!1,w=r.length-1;w>=0;w--){var S={};for(var _ in a)S[_]=_==="access"?{}:a[_];for(var _ in a.access)S.access[_]=a.access[_];S.addInitializer=function(k){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(k||null))};var b=(0,r[w])(f==="accessor"?{get:g.get,set:g.set}:g[h],S);if(f==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(x=c(b.get))&&(g.get=x),(x=c(b.set))&&(g.set=x),(x=c(b.init))&&s.unshift(x)}else(x=c(b))&&(f==="field"?s.unshift(x):g[h]=x)}m&&Object.defineProperty(m,a.name,g),y=!0}function Sy(t,e,r){for(var a=arguments.length>2,s=0;s<e.length;s++)r=a?e[s].call(t,r):e[s].call(t);return a?r:void 0}function Ey(t){return typeof t=="symbol"?t:"".concat(t)}function Ty(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function ky(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ve(t,e,r,a){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(g){try{m(a.next(g))}catch(x){c(x)}}function h(g){try{m(a.throw(g))}catch(x){c(x)}}function m(g){g.done?o(g.value):s(g.value).then(f,h)}m((a=a.apply(t,e||[])).next())})}function Ay(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(g){return h([m,g])}}function h(m){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(a=1,s&&(o=m[0]&2?s.return:m[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,m[1])).done)return o;switch(s=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,s=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){r.label=m[1];break}if(m[0]===6&&r.label<o[1]){r.label=o[1],o=m;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(m);break}o[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(g){m=[6,g],s=0}finally{a=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var pd=Object.create?(function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}):(function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]});function jy(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pd(e,t,r)}function Iu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var a=r.call(t),s,o=[],c;try{for(;(e===void 0||e-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(f){c={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(c)throw c.error}}return o}function Cy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Vh(arguments[e]));return t}function Ry(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var a=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],c=0,f=o.length;c<f;c++,s++)a[s]=o[c];return a}function Oy(t,e,r){if(r||arguments.length===2)for(var a=0,s=e.length,o;a<s;a++)(o||!(a in e))&&(o||(o=Array.prototype.slice.call(e,0,a)),o[a]=e[a]);return t.concat(o||Array.prototype.slice.call(e))}function pl(t){return this instanceof pl?(this.v=t,this):new pl(t)}function Ny(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(w){return function(S){return Promise.resolve(S).then(w,x)}}function f(w,S){a[w]&&(s[w]=function(_){return new Promise(function(b,k){o.push([w,_,b,k])>1||h(w,_)})},S&&(s[w]=S(s[w])))}function h(w,S){try{m(a[w](S))}catch(_){y(o[0][3],_)}}function m(w){w.value instanceof pl?Promise.resolve(w.value.v).then(g,x):y(o[0][2],w)}function g(w){h("next",w)}function x(w){h("throw",w)}function y(w,S){w(S),o.shift(),o.length&&h(o[0][0],o[0][1])}}function Dy(t){var e,r;return e={},a("next"),a("throw",function(s){throw s}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(s,o){e[s]=t[s]?function(c){return(r=!r)?{value:pl(t[s](c)),done:!1}:o?o(c):c}:o}}function My(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Iu=="function"?Iu(t):t[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(o){r[o]=t[o]&&function(c){return new Promise(function(f,h){c=t[o](c),s(f,h,c.done,c.value)})}}function s(o,c,f,h){Promise.resolve(h).then(function(m){o({value:m,done:f})},c)}}function zy(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var CT=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},hh=function(t){return hh=Object.getOwnPropertyNames||function(e){var r=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[r.length]=a);return r},hh(t)};function Ly(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=hh(t),a=0;a<r.length;a++)r[a]!=="default"&&pd(e,t,r[a]);return CT(e,t),e}function Fy(t){return t&&t.__esModule?t:{default:t}}function By(t,e,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(t):a?a.value:e.get(t)}function Iy(t,e,r,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function Uy(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Py(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],r&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:a,async:r})}else r&&t.stack.push({async:!0});return e}var RT=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var a=new Error(r);return a.name="SuppressedError",a.error=t,a.suppressed=e,a};function Hy(t){function e(o){t.error=t.hasError?new RT(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,a=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&a===1)return a=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(o).then(s,function(c){return e(c),s()})}else a|=1}catch(c){e(c)}if(a===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function $y(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,s,o,c){return a?e?".jsx":".js":s&&(!o||!c)?r:s+o+"."+c.toLowerCase()+"js"}):t}const OT={__extends:yy,__assign:Bu,__rest:_l,__decorate:_y,__param:by,__esDecorate:wy,__runInitializers:Sy,__propKey:Ey,__setFunctionName:Ty,__metadata:ky,__awaiter:Ve,__generator:Ay,__createBinding:pd,__exportStar:jy,__values:Iu,__read:Vh,__spread:Cy,__spreadArrays:Ry,__spreadArray:Oy,__await:pl,__asyncGenerator:Ny,__asyncDelegator:Dy,__asyncValues:My,__makeTemplateObject:zy,__importStar:Ly,__importDefault:Fy,__classPrivateFieldGet:By,__classPrivateFieldSet:Iy,__classPrivateFieldIn:Uy,__addDisposableResource:Py,__disposeResources:Hy,__rewriteRelativeImportExtension:$y},NT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Py,get __assign(){return Bu},__asyncDelegator:Dy,__asyncGenerator:Ny,__asyncValues:My,__await:pl,__awaiter:Ve,__classPrivateFieldGet:By,__classPrivateFieldIn:Uy,__classPrivateFieldSet:Iy,__createBinding:pd,__decorate:_y,__disposeResources:Hy,__esDecorate:wy,__exportStar:jy,__extends:yy,__generator:Ay,__importDefault:Fy,__importStar:Ly,__makeTemplateObject:zy,__metadata:ky,__param:by,__propKey:Ey,__read:Vh,__rest:_l,__rewriteRelativeImportExtension:$y,__runInitializers:Sy,__setFunctionName:Ty,__spread:Cy,__spreadArray:Oy,__spreadArrays:Ry,__values:Iu,default:OT},Symbol.toStringTag,{value:"Module"})),DT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let gd=class extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}},Gy=class extends gd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},mh=class extends gd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},ph=class extends gd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Uu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Uu||(Uu={}));class MT{constructor(e,{headers:r={},customFetch:a,region:s=Uu.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=DT(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ve(this,arguments,void 0,function*(r,a={}){var s;let o,c;try{const{headers:f,method:h,body:m,signal:g,timeout:x}=a;let y={},{region:w}=a;w||(w=this.region);const S=new URL(`${this.url}/${r}`);w&&w!=="any"&&(y["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let _;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(y["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(y["Content-Type"]="application/json",_=JSON.stringify(m)):_=m;let b=g;x&&(c=new AbortController,o=setTimeout(()=>c.abort(),x),g?(b=c.signal,g.addEventListener("abort",()=>c.abort())):b=c.signal);const k=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),f),body:_,signal:b}).catch(H=>{throw new Gy(H)}),R=k.headers.get("x-relay-error");if(R&&R==="true")throw new mh(k);if(!k.ok)throw new ph(k);let T=((s=k.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),L;return T==="application/json"?L=yield k.json():T==="application/octet-stream"||T==="application/pdf"?L=yield k.blob():T==="text/event-stream"?L=k:T==="multipart/form-data"?L=yield k.formData():L=yield k.text(),{data:L,error:null,response:k}}catch(f){return{data:null,error:f,response:f instanceof ph||f instanceof mh?f.context:void 0}}finally{o&&clearTimeout(o)}})}}const zT=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Uu},FunctionsClient:MT,FunctionsError:gd,FunctionsFetchError:Gy,FunctionsHttpError:ph,FunctionsRelayError:mh},Symbol.toStringTag,{value:"Module"})),qy=qo(zT);var zr={};const bl=qo(NT);var mu={},pu={},gu={},vu={},xu={},yu={},Rv;function Wy(){if(Rv)return yu;Rv=1,Object.defineProperty(yu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yu.default=t,yu}var Ov;function Vy(){if(Ov)return xu;Ov=1,Object.defineProperty(xu,"__esModule",{value:!0});const e=bl.__importDefault(Wy());let r=class{constructor(s){var o,c;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(c=s.isMaybeSingle)!==null&&c!==void 0?c:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,g,x,y;let w=null,S=null,_=null,b=h.status,k=h.statusText;if(h.ok){if(this.method!=="HEAD"){const H=await h.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?S=H:S=JSON.parse(H))}const T=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),L=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");T&&L&&L.length>1&&(_=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,_=null,b=406,k="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const T=await h.text();try{w=JSON.parse(T),Array.isArray(w)&&h.status===404&&(S=[],w=null,b=200,k="OK")}catch{h.status===404&&T===""?(b=204,k="No Content"):w={message:T}}if(w&&this.isMaybeSingle&&(!((y=w?.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,b=200,k="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:S,count:_,status:b,statusText:k}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,g,x,y,w,S;let _="";const b=h?.cause;if(b){const k=(m=b?.message)!==null&&m!==void 0?m:"",R=(g=b?.code)!==null&&g!==void 0?g:"";_=`${(x=h?.name)!==null&&x!==void 0?x:"FetchError"}: ${h?.message}`,_+=`

Caused by: ${(y=b?.name)!==null&&y!==void 0?y:"Error"}: ${k}`,R&&(_+=` (${R})`),b?.stack&&(_+=`
${b.stack}`)}else _=(w=h?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(S=h?.name)!==null&&S!==void 0?S:"FetchError"}: ${h?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(s,o)}returns(){return this}overrideTypes(){return this}};return xu.default=r,xu}var Nv;function Ky(){if(Nv)return vu;Nv=1,Object.defineProperty(vu,"__esModule",{value:!0});const e=bl.__importDefault(Vy());let r=class extends e.default{select(s){let o=!1;const c=(s??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:c,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${s}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:c=o}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${s}`),this}range(s,o,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(m,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:c=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var g;const x=[s?"analyze":null,o?"verbose":null,c?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${y}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return vu.default=r,vu}var Dv;function Kh(){if(Dv)return gu;Dv=1,Object.defineProperty(gu,"__esModule",{value:!0});const e=bl.__importDefault(Ky()),r=new RegExp("[,()]");let a=class extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}regexMatch(o,c){return this.url.searchParams.append(o,`match.${c}`),this}regexIMatch(o,c){return this.url.searchParams.append(o,`imatch.${c}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}isDistinct(o,c){return this.url.searchParams.append(o,`isdistinct.${c}`),this}in(o,c){const f=Array.from(new Set(c)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${f})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:f,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const g=f===void 0?"":`(${f})`;return this.url.searchParams.append(o,`${m}fts${g}.${c}`),this}match(o){return Object.entries(o).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(o,c,f){return this.url.searchParams.append(o,`not.${c}.${f}`),this}or(o,{foreignTable:c,referencedTable:f=c}={}){const h=f?`${f}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,f){return this.url.searchParams.append(o,`${c}.${f}`),this}};return gu.default=a,gu}var Mv;function Yy(){if(Mv)return pu;Mv=1,Object.defineProperty(pu,"__esModule",{value:!0});const e=bl.__importDefault(Kh());let r=class{constructor(s,{headers:o={},schema:c,fetch:f}){this.url=s,this.headers=new Headers(o),this.schema=c,this.fetch=f}select(s,o){const{head:c=!1,count:f}=o??{},h=c?"HEAD":"GET";let m=!1;const g=(s??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",g),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:c=!0}={}){var f;const h="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:c=!1,count:f,defaultToNull:h=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const x=s.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(x.length>0){const y=[...new Set(x)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:o}={}){var c;const f="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var o;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return pu.default=r,pu}var zv;function LT(){if(zv)return mu;zv=1,Object.defineProperty(mu,"__esModule",{value:!0});const t=bl,e=t.__importDefault(Yy()),r=t.__importDefault(Kh());let a=class Xy{constructor(o,{headers:c={},schema:f,fetch:h}={}){this.url=o,this.headers=new Headers(c),this.schemaName=f,this.fetch=h}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new Xy(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:f=!1,get:h=!1,count:m}={}){var g;let x;const y=new URL(`${this.url}/rpc/${o}`);let w;f||h?(x=f?"HEAD":"GET",Object.entries(c).filter(([_,b])=>b!==void 0).map(([_,b])=>[_,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([_,b])=>{y.searchParams.append(_,b)})):(x="POST",w=c);const S=new Headers(this.headers);return m&&S.set("Prefer",`count=${m}`),new r.default({method:x,url:y,headers:S,schema:this.schemaName,body:w,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};return mu.default=a,mu}var Lv;function Jy(){if(Lv)return zr;Lv=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.PostgrestError=zr.PostgrestBuilder=zr.PostgrestTransformBuilder=zr.PostgrestFilterBuilder=zr.PostgrestQueryBuilder=zr.PostgrestClient=void 0;const t=bl,e=t.__importDefault(LT());zr.PostgrestClient=e.default;const r=t.__importDefault(Yy());zr.PostgrestQueryBuilder=r.default;const a=t.__importDefault(Kh());zr.PostgrestFilterBuilder=a.default;const s=t.__importDefault(Ky());zr.PostgrestTransformBuilder=s.default;const o=t.__importDefault(Vy());zr.PostgrestBuilder=o.default;const c=t.__importDefault(Wy());return zr.PostgrestError=c.default,zr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:c.default},zr}class Qy{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const FT="2.86.2",BT=`realtime-js/${FT}`,Zy="1.0.0",IT="2.0.0",Fv=Zy,gh=1e4,UT=1e3,PT=100;var Zi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zi||(Zi={}));var cr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(cr||(cr={}));var Yn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Yn||(Yn={}));var vh;(function(t){t.websocket="websocket"})(vh||(vh={}));var es;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(es||(es={}));class HT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const s=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,a;const s=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,a){var s,o;const c=e.topic,f=(s=e.ref)!==null&&s!==void 0?s:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",m=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+c.length+m.length+x.length,w=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(w),_=0;S.setUint8(_++,this.KINDS.userBroadcastPush),S.setUint8(_++,h.length),S.setUint8(_++,f.length),S.setUint8(_++,c.length),S.setUint8(_++,m.length),S.setUint8(_++,x.length),S.setUint8(_++,r),Array.from(h,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(f,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(c,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(m,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(x,k=>S.setUint8(_++,k.charCodeAt(0)));var b=new Uint8Array(w.byteLength+a.byteLength);return b.set(new Uint8Array(w),0),b.set(new Uint8Array(a),w.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[s,o,c,f,h]=a;return r({join_ref:s,ref:o,topic:c,event:f,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),s=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,a){const s=r.getUint8(1),o=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=a.decode(e.slice(h,h+s));h=h+s;const g=a.decode(e.slice(h,h+o));h=h+o;const x=a.decode(e.slice(h,h+c));h=h+c;const y=e.slice(h,e.byteLength),w=f===this.JSON_ENCODING?JSON.parse(a.decode(y)):y,S={type:this.BROADCAST_EVENT,event:g,payload:w};return c>0&&(S.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class e_{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var It;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(It||(It={}));const Bv=(t,e,r={})=>{var a;const s=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=$T(c,t,e,s),o),{}):{}},$T=(t,e,r,a)=>{const s=e.find(f=>f.name===t),o=s?.type,c=r[t];return o&&!a.includes(o)?t_(o,c):xh(c)},t_=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return VT(e,r)}switch(t){case It.bool:return GT(e);case It.float4:case It.float8:case It.int2:case It.int4:case It.int8:case It.numeric:case It.oid:return qT(e);case It.json:case It.jsonb:return WT(e);case It.timestamp:return KT(e);case It.abstime:case It.date:case It.daterange:case It.int4range:case It.int8range:case It.money:case It.reltime:case It.text:case It.time:case It.timestamptz:case It.timetz:case It.tsrange:case It.tstzrange:return xh(e);default:return xh(e)}},xh=t=>t,GT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},WT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},VT=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,a=t[r];if(t[0]==="{"&&a==="}"){let o;const c=t.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(f=>t_(e,f))}return t},KT=t=>typeof t=="string"?t.replace(" ","T"):t,r_=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class G0{constructor(e,r,a={},s=gh){this.channel=e,this.event=r,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(yh||(yh={}));let n_=class Du{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Du.syncState(this.state,s,o,c),this.pendingDiffs.forEach(h=>{this.state=Du.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},s=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Du.syncDiff(this.state,s,o,c),f())}),this.onJoin((s,o,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:c})}),this.onLeave((s,o,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,s){const o=this.cloneDeep(e),c=this.transformState(r),f={},h={};return this.map(o,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const x=o[m];if(x){const y=g.map(b=>b.presence_ref),w=x.map(b=>b.presence_ref),S=g.filter(b=>w.indexOf(b.presence_ref)<0),_=x.filter(b=>y.indexOf(b.presence_ref)<0);S.length>0&&(f[m]=S),_.length>0&&(h[m]=_)}else f[m]=g}),this.syncDiff(o,{joins:f,leaves:h},a,s)}static syncDiff(e,r,a,s){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(o,(f,h)=>{var m;const g=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(h),g.length>0){const x=e[f].map(w=>w.presence_ref),y=g.filter(w=>x.indexOf(w.presence_ref)<0);e[f].unshift(...y)}a(f,g,h)}),this.map(c,(f,h)=>{let m=e[f];if(!m)return;const g=h.map(x=>x.presence_ref);m=m.filter(x=>g.indexOf(x.presence_ref)<0),e[f]=m,s(f,m,h),m.length===0&&delete e[f]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const s=e[a];return"metas"in s?r[a]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[a]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var _h;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_h||(_h={}));var cl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cl||(cl={}));var da;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(da||(da={}));const YT=cr;let a_=class i_{constructor(e,r={config:{}},a){var s,o;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=cr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new G0(this,Yn.join,this.params,this.timeout),this.rejoinTimer=new e_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yn.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new n_(this),this.broadcastEndpointURL=r_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==cr.closed){const{config:{broadcast:c,presence:f,private:h}}=this.params,m=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(w=>w.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[cl.PRESENCE]&&this.bindings[cl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,x={},y={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(da.CHANNEL_ERROR,w)),this._onClose(()=>e?.(da.CLOSED)),this.updateJoinPayload(Object.assign({config:y},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket.setAuth(),w===void 0){e?.(da.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(S=_?.length)!==null&&S!==void 0?S:0,k=[];for(let R=0;R<b;R++){const T=_[R],{filter:{event:L,schema:H,table:Y,filter:A}}=T,I=w&&w[R];if(I&&I.event===L&&I.schema===H&&I.table===Y&&I.filter===A)k.push(Object.assign(Object.assign({},T),{id:I.id}));else{this.unsubscribe(),this.state=cr.errored,e?.(da.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(da.SUBSCRIBED);return}}).receive("error",w=>{this.state=cr.errored,e?.(da.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(da.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===cr.joined&&e===cl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var a,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,f,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=cr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new G0(this,Yn.leave,{},e),a.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=cr.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const s=new AbortController,o=setTimeout(()=>s.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),c}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new G0(this,e,r,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>PT){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var s,o;const c=e.toLocaleLowerCase(),{close:f,error:h,leave:m,join:g}=Yn;if(a&&[f,h,m,g].indexOf(c)>=0&&a!==this._joinRef())return;let y=this._onMessage(c,r,a);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var S,_,b;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((b=(_=w.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===c}).map(w=>w.callback(y,a)):(o=this.bindings[c])===null||o===void 0||o.filter(w=>{var S,_,b,k,R,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const L=w.id,H=(S=w.filter)===null||S===void 0?void 0:S.event;return L&&((_=r.ids)===null||_===void 0?void 0:_.includes(L))&&(H==="*"||H?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const L=(R=(k=w?.filter)===null||k===void 0?void 0:k.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return L==="*"||L===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:_,table:b,commit_timestamp:k,type:R,errors:T}=S;y=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:k,eventType:R,new:{},old:{},errors:T}),this._getPayloadRecords(S))}w.callback(y,a)})}_isClosed(){return this.state===cr.closed}_isJoined(){return this.state===cr.joined}_isJoining(){return this.state===cr.joining}_isLeaving(){return this.state===cr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:a};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&i_.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Yn.close,{},e)}_onError(e){this._on(Yn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Bv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Bv(e.columns,e.old_record)),r}};const q0=()=>{},_u={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XT=[1e3,2e3,5e3,1e4],JT=1e4,QT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let ZT=class{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gh,this.transport=null,this.heartbeatIntervalMs=_u.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q0,this.ref=0,this.reconnectTimer=null,this.vsn=Fv,this.logger=q0,this.conn=null,this.sendBuffer=[],this.serializer=new HT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${vh.websocket}`,this.httpEndpoint=r_(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qy.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Zi.connecting:return es.Connecting;case Zi.open:return es.Open;case Zi.closing:return es.Closing;default:return es.Closed}}isConnected(){return this.connectionState()===es.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===a);if(s)return s;{const o=new a_(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:a,payload:s,ref:o}=e,c=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${a} (${o})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(UT,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_u.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:o,ref:c}=r,f=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${a} ${s} ${f}`.trim(),o),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(s,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zi.open||this.conn.readyState===Zi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Yn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${a}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([QT],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:BT};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Yn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new e_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_u.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,s,o,c,f,h,m,g,x,y,w;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:gh,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:_u.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:q0,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:Fv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(S=>XT[S-1]||JT),this.vsn){case Zy:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((S,_)=>_(JSON.stringify(S))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((S,_)=>_(JSON.parse(S)));break;case IT:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const ek=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:YT,get REALTIME_LISTEN_TYPES(){return cl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return _h},get REALTIME_PRESENCE_LISTEN_EVENTS(){return yh},get REALTIME_SUBSCRIBE_STATES(){return da},RealtimeChannel:a_,RealtimeClient:ZT,RealtimePresence:n_,WebSocketFactory:Qy},Symbol.toStringTag,{value:"Module"})),s_=qo(ek);class Ko extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Wt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class l_ extends Ko{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pu extends Ko{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Yh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tk=()=>Response,bh=t=>{if(Array.isArray(t))return t.map(r=>bh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,a])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=bh(a)}),e},rk=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},nk=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),W0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ak=(t,e,r)=>Ve(void 0,void 0,void 0,function*(){const a=yield tk();t instanceof a&&!r?.noResolveJson?t.json().then(s=>{const o=t.status||500,c=s?.statusCode||o+"";e(new l_(W0(s),o,c))}).catch(s=>{e(new Pu(W0(s),s))}):e(new Pu(W0(t),t))}),ik=(t,e,r,a)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||!a?s:(rk(a)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(a)):s.body=a,e?.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Yo(t,e,r,a,s,o){return Ve(this,void 0,void 0,function*(){return new Promise((c,f)=>{t(r,ik(e,a,s,o)).then(h=>{if(!h.ok)throw h;return a?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>ak(h,f,a))})})}function Mo(t,e,r,a){return Ve(this,void 0,void 0,function*(){return Yo(t,"GET",e,r,a)})}function Kn(t,e,r,a,s){return Ve(this,void 0,void 0,function*(){return Yo(t,"POST",e,a,s,r)})}function wh(t,e,r,a,s){return Ve(this,void 0,void 0,function*(){return Yo(t,"PUT",e,a,s,r)})}function sk(t,e,r,a){return Ve(this,void 0,void 0,function*(){return Yo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Xh(t,e,r,a,s){return Ve(this,void 0,void 0,function*(){return Yo(t,"DELETE",e,a,s,r)})}class lk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Ve(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Wt(e))return{data:null,error:e};throw e}})}}var o_;class ok{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[o_]="BlobDownloadBuilder",this.promise=null}asStream(){return new lk(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ve(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Wt(e))return{data:null,error:e};throw e}})}}o_=Symbol.toStringTag;const ck={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uk{constructor(e,r={},a,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=Yh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,s){return Ve(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Iv),s);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),h&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(h))):(o=a,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),s?.headers&&(f=Object.assign(Object.assign({},f),s.headers));const m=this._removeEmptyFolders(r),g=this._getFinalPath(m),x=yield(e=="PUT"?wh:Kn)(this.fetch,`${this.url}/object/${g}`,o,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Wt(o))return{data:null,error:o};throw o}})}upload(e,r,a){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,s){return Ve(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Iv.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.append("cacheControl",m.cacheControl)):(h=a,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const x=yield wh(this.fetch,f.toString(),h,{headers:g});return{data:{path:o,fullPath:x.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Wt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return Ve(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const o=yield Kn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),c=new URL(this.url+o.url),f=c.searchParams.get("token");if(!f)throw new Ko("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Wt(a))return{data:null,error:a};throw a}})}update(e,r,a){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return Ve(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}copy(e,r,a){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,a){return Ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Kn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,a){return Ve(this,void 0,void 0,function*(){try{const s=yield Kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),c=o?`?${o}`:"",f=this._getFinalPath(e),h=()=>Mo(this.fetch,`${this.url}/${s}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new ok(h,this.shouldThrowOnError)}info(e){return Ve(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield Mo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:bh(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Wt(a))return{data:null,error:a};throw a}})}exists(e){return Ve(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield sk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Wt(a)&&a instanceof Pu){const s=a.originalError;if([400,404].includes(s?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),s=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const f=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&s.push(h);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${m}`)}}}remove(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}list(e,r,a){return Ve(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ck),r),{prefix:e||""});return{data:yield Kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}listV2(e,r){return Ve(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield Kn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Wt(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const c_="2.86.2",u_={"X-Client-Info":`storage-js/${c_}`};class dk{constructor(e,r={},a,s){this.shouldThrowOnError=!1;const o=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},u_),r),this.fetch=Yh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ve(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Mo(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}getBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}createBucket(e){return Ve(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return Ve(this,void 0,void 0,function*(){try{return{data:yield wh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Wt(a))return{data:null,error:a};throw a}})}emptyBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var zo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fk(t,e,r){const a=new URL(e,t);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&a.searchParams.set(s,o);return a.toString()}async function hk(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function mk(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:s,body:o,headers:c}){const f=fk(t.baseUrl,a,s),h=await hk(t.auth),m=await e(f,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...h,...c},body:o?JSON.stringify(o):void 0}),g=await m.text(),x=(m.headers.get("content-type")||"").includes("application/json"),y=x&&g?JSON.parse(g):g;if(!m.ok){const w=x?y:void 0,S=w?.error;throw new zo(S?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:S?.type,icebergCode:S?.code,details:w})}return{status:m.status,headers:m.headers,data:y}}}}function bu(t){return t.join("")}var pk=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:bu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bu(t.namespace)}`}),!0}catch(e){if(e instanceof zo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof zo&&r.status===409)return;throw r}}};function Qs(t){return t.join("")}var gk=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qs(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof zo&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof zo&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},vk=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=mk({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new pk(this.client,e),this.tableOps=new gk(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class d_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},u_),r),this.fetch=Yh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Ve(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const a=r.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Mo(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}from(e){if(!nk(e))throw new Ko("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new vk({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Ve(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Jh={"X-Client-Info":`storage-js/${c_}`,"Content-Type":"application/json"};class Qh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function tn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Mu extends Qh{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class f_ extends Qh{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Sh;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Sh||(Sh={}));const vd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xk=()=>Response,h_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yk=t=>Array.from(new Float32Array(t)),_k=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Uv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bk=(t,e,r)=>Ve(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(c=>{const f=c?.statusCode||c?.code||s+"";e(new Mu(Uv(c),s,f))}).catch(()=>{const c=s+"",f=o.statusText||`HTTP ${s} error`;e(new Mu(f,s,c))});else{const c=s+"",f=o.statusText||`HTTP ${s} error`;e(new Mu(f,s,c))}}else e(new f_(Uv(t),t))}),wk=(t,e,r,a)=>{const s={method:t,headers:e?.headers||{}};return a?(h_(a)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),r)):s};function Sk(t,e,r,a,s,o){return Ve(this,void 0,void 0,function*(){return new Promise((c,f)=>{t(r,wk(e,a,s,o)).then(h=>{if(!h.ok)throw h;if(a?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>bk(h,f,a))})})}function _n(t,e,r,a,s){return Ve(this,void 0,void 0,function*(){return Sk(t,"POST",e,a,s,r)})}class m_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jh),r),this.fetch=vd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ve(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Ve(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tn(a))return{data:null,error:a};throw a}})}listIndexes(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Ve(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tn(a))return{data:null,error:a};throw a}})}}class p_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jh),r),this.fetch=vd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ve(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield _n(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}getVectors(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}listVectors(e){return Ve(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield _n(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}queryVectors(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Ve(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield _n(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}}class g_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jh),r),this.fetch=vd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}getBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}listBuckets(){return Ve(this,arguments,void 0,function*(e={}){try{return{data:yield _n(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}}class v_ extends g_{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new x_(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ve(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ve(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ve(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ve(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class x_ extends m_{constructor(e,r,a,s){super(e,r,s),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ve(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ve(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ve(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ve(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new y_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class y_ extends p_{constructor(e,r,a,s,o){super(e,r,o),this.vectorBucketName=a,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ve(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ve(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ve(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ve(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ve(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ek extends dk{constructor(e,r={},a,s){super(e,r,a,s)}from(e){return new uk(this.url,this.headers,e,this.fetch)}get vectors(){return new v_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new d_(this.url+"/iceberg",this.headers,this.fetch)}}const Tk=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:d_,StorageApiError:l_,StorageClient:Ek,StorageError:Ko,StorageUnknownError:Pu,StorageVectorsApiError:Mu,StorageVectorsClient:v_,StorageVectorsError:Qh,get StorageVectorsErrorCode(){return Sh},StorageVectorsUnknownError:f_,VectorBucketApi:g_,VectorBucketScope:x_,VectorDataApi:p_,VectorIndexApi:m_,VectorIndexScope:y_,isPlainObject:h_,isStorageError:Wt,isStorageVectorsError:tn,normalizeToFloat32:yk,resolveFetch:vd,resolveResponse:xk,validateVectorDimension:_k},Symbol.toStringTag,{value:"Module"})),kk=qo(Tk);var V0={},yo={},Pv;function Ak(){return Pv||(Pv=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.version=void 0,yo.version="2.86.2"),yo}var Hv;function jk(){return Hv||(Hv=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=Ak();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(V0)),V0}var K0={},$v;function Ck(){return $v||($v=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...o)=>s(...o):(...o)=>fetch(...o);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const a=(s,o,c)=>{const f=(0,t.resolveFetch)(c),h=(0,t.resolveHeadersConstructor)();return async(m,g)=>{var x;const y=(x=await o())!==null&&x!==void 0?x:s;let w=new h(g?.headers);return w.has("apikey")||w.set("apikey",s),w.has("Authorization")||w.set("Authorization",`Bearer ${y}`),f(m,Object.assign(Object.assign({},g),{headers:w}))}};t.fetchWithAuth=a})(K0)),K0}var La={},Gv;function Rk(){if(Gv)return La;Gv=1,Object.defineProperty(La,"__esModule",{value:!0}),La.isBrowser=void 0,La.uuid=t,La.ensureTrailingSlash=e,La.applySettingDefaults=a,La.validateSupabaseUrl=s;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var c=Math.random()*16|0,f=o=="x"?c:c&3|8;return f.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const r=()=>typeof window<"u";La.isBrowser=r;function a(o,c){var f,h;const{db:m,auth:g,realtime:x,global:y}=o,{db:w,auth:S,realtime:_,global:b}=c,k={db:Object.assign(Object.assign({},w),m),auth:Object.assign(Object.assign({},S),g),realtime:Object.assign(Object.assign({},_),x),storage:{},global:Object.assign(Object.assign(Object.assign({},b),y),{headers:Object.assign(Object.assign({},(f=b?.headers)!==null&&f!==void 0?f:{}),(h=y?.headers)!==null&&h!==void 0?h:{})}),accessToken:async()=>""};return o.accessToken?k.accessToken=o.accessToken:delete k.accessToken,k}function s(o){const c=o?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return La}var _o={};const __="2.86.2",il=30*1e3,Eh=3,Y0=Eh*il,Ok="http://localhost:9999",Nk="supabase.auth.token",Dk={"X-Client-Info":`gotrue-js/${__}`},Th="X-Supabase-Api-Version",b_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zk=600*1e3;let gl=class extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function Je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let w_=class extends gl{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function S_(t){return Je(t)&&t.name==="AuthApiError"}let bi=class extends gl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Ga=class extends gl{constructor(e,r,a,s){super(e,a,s),this.name=r,this.status=a}},en=class extends Ga{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function E_(t){return Je(t)&&t.name==="AuthSessionMissingError"}let Xi=class extends Ga{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},So=class extends Ga{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Eo=class extends Ga{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function T_(t){return Je(t)&&t.name==="AuthImplicitGrantRedirectError"}let kh=class extends Ga{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Hu=class extends Ga{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function zu(t){return Je(t)&&t.name==="AuthRetryableFetchError"}let Ah=class extends Ga{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function Lk(t){return Je(t)&&t.name==="AuthWeakPasswordError"}let $u=class extends Ga{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qv=` 	
\r=`.split(""),Fk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<qv.length;e+=1)t[qv[e].charCodeAt(0)]=-2;for(let e=0;e<Gu.length;e+=1)t[Gu[e].charCodeAt(0)]=e;return t})();function Wv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Gu[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Gu[a]),e.queuedBits-=6}}function k_(t,e,r){const a=Fk[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Vv(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=c=>{Uk(c,a,r)};for(let c=0;c<t.length;c+=1)k_(t.charCodeAt(c),s,o);return e.join("")}function Bk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ik(t,e){for(let r=0;r<t.length;r+=1){let a=t.charCodeAt(r);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Bk(a,e)}}function Uk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ul(t){const e=[],r={queue:0,queuedBits:0},a=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)k_(t.charCodeAt(s),r,a);return new Uint8Array(e)}function Pk(t){const e=[];return Ik(t,r=>e.push(r)),new Uint8Array(e)}function rs(t){const e=[],r={queue:0,queuedBits:0},a=s=>{e.push(s)};return t.forEach(s=>Wv(s,r,a)),Wv(null,r,a),e.join("")}function Hk(t){return Math.round(Date.now()/1e3)+t}function $k(){return Symbol("auth-callback")}const Ar=()=>typeof window<"u"&&typeof document<"u",Ki={tested:!1,writable:!1},A_=()=>{if(!Ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ki.tested)return Ki.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ki.tested=!0,Ki.writable=!0}catch{Ki.tested=!0,Ki.writable=!1}return Ki.writable};function Gk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((a,s)=>{e[s]=a}),e}const j_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",sl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Yi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},kr=async(t,e)=>{await t.removeItem(e)};class xd{constructor(){this.promise=new xd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}xd.promiseConstructor=Promise;function X0(t){const e=t.split(".");if(e.length!==3)throw new $u("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!Mk.test(e[a]))throw new $u("JWT not in base64url format");return{header:JSON.parse(Vv(e[0])),payload:JSON.parse(Vv(e[1])),signature:ul(e[2]),raw:{header:e[0],payload:e[1]}}}async function Wk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Vk(t,e){return new Promise((a,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await t(o);if(!e(o,null,c)){a(c);return}}catch(c){if(!e(o,c)){s(c);return}}})()})}function Kk(t){return("0"+t.toString(16)).substr(-2)}function Yk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(e),Array.from(e,Kk).join("")}async function Xk(t){const r=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(a);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Jk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Xk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zs(t,e,r=!1){const a=Yk();let s=a;r&&(s+="/PASSWORD_RECOVERY"),await sl(t,`${e}-code-verifier`,s);const o=await Jk(a);return[o,a===o?"plain":"s256"]}const Qk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zk(t){const e=t.headers.get(Th);if(!e||!e.match(Qk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function e4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function t4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function el(t){if(!r4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function J0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function n4(t,e){return new Proxy(t,{get:(r,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,s)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,s)}})}function Kv(t){return JSON.parse(JSON.stringify(t))}const Ji=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),a4=[502,503,504];async function Yv(t){var e;if(!qk(t))throw new Hu(Ji(t),0);if(a4.includes(t.status))throw new Hu(Ji(t),t.status);let r;try{r=await t.json()}catch(o){throw new bi(Ji(o),o)}let a;const s=Zk(t);if(s&&s.getTime()>=b_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new Ah(Ji(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new en}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Ah(Ji(r),t.status,r.weak_password.reasons);throw new w_(Ji(r),t.status||500,a)}const i4=(t,e,r,a)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),r))};async function rt(t,e,r,a){var s;const o=Object.assign({},a?.headers);o[Th]||(o[Th]=b_["2024-01-01"].name),a?.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const c=(s=a?.query)!==null&&s!==void 0?s:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await s4(t,e,r+f,{headers:o,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(h):{data:Object.assign({},h),error:null}}async function s4(t,e,r,a,s,o){const c=i4(e,a,s,o);let f;try{f=await t(r,Object.assign({},c))}catch(h){throw console.error(h),new Hu(Ji(h),0)}if(f.ok||await Yv(f),a?.noResolveJson)return f;try{return await f.json()}catch(h){await Yv(h)}}function Vn(t){var e;let r=null;c4(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Hk(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:a},error:null}}function Xv(t){const e=Vn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function l4(t){return{data:t,error:null}}function o4(t){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:s,verification_type:o}=t,c=_l(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:r,hashed_token:a,redirect_to:s,verification_type:o},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function Jv(t){return t}function c4(t){return t.access_token&&t.refresh_token&&t.expires_in}const Lu=["global","local","others"];let Zh=class{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=j_(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Lu[0]){if(Lu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lu.join(", ")}`);try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Je(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wi})}catch(a){if(Je(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=_l(e,["options"]),s=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(s.new_email=a?.newEmail,delete s.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:o4,redirectTo:r?.redirectTo})}catch(r){if(Je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wi})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,s,o,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},g=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Jv});if(g.error)throw g.error;const x=await g.json(),y=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);m[`${b}Page`]=_}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Je(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){el(e);try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wi})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){el(e);try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:wi})}catch(a){if(Je(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){el(e);try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:wi})}catch(a){if(Je(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){el(e.userId);try{const{data:r,error:a}=await rt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:a}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _deleteFactor(e){el(e.userId),el(e.id);try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,s,o,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},g=await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Jv});if(g.error)throw g.error;const x=await g.json(),y=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);m[`${b}Page`]=_}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Je(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await rt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Je(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await rt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}};function Qv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Qi={debug:!!(globalThis&&A_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class em extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let C_=class extends em{};class u4 extends em{}async function R_(t,e,r){Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new C_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Zv={};async function d4(t,e,r){var a;const s=(a=Zv[t])!==null&&a!==void 0?a:Promise.resolve(),o=Promise.race([s.catch(()=>null),e>=0?new Promise((c,f)=>{setTimeout(()=>{f(new u4(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return Zv[t]=o.catch(async c=>{if(c&&c.isAcquireTimeout)return await s,null;throw c}),await o}function f4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function O_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function h4(t){return parseInt(t,16)}function m4(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function p4(t){var e;const{chainId:r,domain:a,expirationTime:s,issuedAt:o=new Date,nonce:c,notBefore:f,requestId:h,resources:m,scheme:g,uri:x,version:y}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=O_(t.address),S=g?`${g}://${a}`:a,_=t.statement?`${t.statement}
`:"",b=`${S} wants you to sign in with your Ethereum account:
${w}

${_}`;let k=`URI: ${x}
Version: ${y}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(s&&(k+=`
Expiration Time: ${s.toISOString()}`),f&&(k+=`
Not Before: ${f.toISOString()}`),h&&(k+=`
Request ID: ${h}`),m){let R=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);R+=`
- ${T}`}k+=R}return`${b}
${k}`}class ur extends Error{constructor({message:e,code:r,cause:a,name:s}){var o;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=s??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class qu extends ur{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function g4({error:t,options:e}){var r,a,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ur({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ur({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ur({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ur({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ur({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ur({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ur({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ur({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(N_(c)){if(o.rp.id!==c)return new ur({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ur({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ur({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function v4({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ur({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ur({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(N_(a)){if(r.rpId!==a)return new ur({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ur({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class x4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const y4=new x4;function _4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:a}=t,s=_l(t,["challenge","user","excludeCredentials"]),o=ul(e).buffer,c=Object.assign(Object.assign({},r),{id:ul(r.id).buffer}),f=Object.assign(Object.assign({},s),{challenge:o,user:c});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const m=a[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:ul(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function b4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,a=_l(t,["challenge","allowCredentials"]),s=ul(e).buffer,o=Object.assign(Object.assign({},a),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];o.allowCredentials[c]=Object.assign(Object.assign({},f),{id:ul(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return o}function w4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:rs(new Uint8Array(t.response.attestationObject)),clientDataJSON:rs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function S4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,a=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:rs(new Uint8Array(s.authenticatorData)),clientDataJSON:rs(new Uint8Array(s.clientDataJSON)),signature:rs(new Uint8Array(s.signature)),userHandle:s.userHandle?rs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function N_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ex(){var t,e;return!!(Ar()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function E4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new qu("Browser returned unexpected credential type",e)}:{data:null,error:new qu("Empty credential response",e)}}catch(e){return{data:null,error:g4({error:e,options:t})}}}async function T4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new qu("Browser returned unexpected credential type",e)}:{data:null,error:new qu("Empty credential response",e)}}catch(e){return{data:null,error:v4({error:e,options:t})}}}const k4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},A4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wu(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of t)if(s)for(const o in s){const c=s[o];if(c!==void 0)if(Array.isArray(c))a[o]=c;else if(r(c))a[o]=c;else if(e(c)){const f=a[o];e(f)?a[o]=Wu(f,c):a[o]=Wu(c)}else a[o]=c}return a}function j4(t,e){return Wu(k4,t,e||{})}function C4(t,e){return Wu(A4,t,e||{})}class R4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:s},o){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:f};const h=s??y4.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=j4(c.webauthn.credential_options.publicKey,o?.create),{data:g,error:x}=await E4({publicKey:m,signal:h});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const m=C4(c.webauthn.credential_options.publicKey,o?.request),{data:g,error:x}=await T4(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(c){return Je(c)?{data:null,error:c}:{data:null,error:new bi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new gl("rpId is required for WebAuthn authentication")};try{if(!ex())return{data:null,error:new bi("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:s},{request:o});if(!c)return{data:null,error:f};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:a,credential_response:h.credential_response}})}catch(c){return Je(c)?{data:null,error:c}:{data:null,error:new bi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new gl("rpId is required for WebAuthn registration")};try{if(!ex())return{data:null,error:new bi("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var x;return(x=g.data)===null||x===void 0?void 0:x.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:s},{create:o});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return Je(c)?{data:null,error:c}:{data:null,error:new bi("Unexpected error in register",c)}}}}f4();const O4={url:Ok,storageKey:Nk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function tx(t,e,r){return await r()}const tl={};let tm=class jh{get jwks(){var e,r;return(r=(e=tl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=tl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},O4),e);if(this.storageKey=o.storageKey,this.instanceID=(r=jh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,jh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ar()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Zh({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=j_(o.fetch),this.lock=o.lock||tx,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Ar()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=R_:this.lock=tx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new R4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:A_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Qv(this.memoryStorage)),Ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${__}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(Ar()&&(r=Gk(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Ar()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),T_(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:f}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Je(r)?this._returnResult({error:r}):this._returnResult({error:new bi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,s;try{const o=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Vn}),{data:c,error:f}=o;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(Je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,a,s;try{let o;if("email"in e){const{email:g,password:x,options:y}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Zs(this.storage,this.storageKey)),o=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:g,password:x,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:w,code_challenge_method:S},xform:Vn})}else if("phone"in e){const{phone:g,password:x,options:y}=e;o=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(a=y?.data)!==null&&a!==void 0?a:{},channel:(s=y?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Vn})}else throw new So("You must provide either an email or phone number and a password");const{data:c,error:f}=o;if(f||!c)return await kr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:c,options:f}=e;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Xv})}else if("phone"in e){const{phone:o,password:c,options:f}=e;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Xv})}else throw new So("You must provide either an email or phone number and a password");const{data:a,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!a||!a.session||!a.user){const o=new Xi;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,s,o,c,f,h,m,g,x,y;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:_,wallet:b,statement:k,options:R}=e;let T;if(Ar())if(typeof b=="object")T=b;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")T=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=b}const L=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href),H=await T.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=O_(H[0]);let A=(a=R?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!A){const G=await T.request({method:"eth_chainId"});A=h4(G)}const I={domain:L.host,address:Y,statement:k,uri:L.href,version:"1",chainId:A,nonce:(s=R?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=R?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=R?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=R?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=R?.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=p4(I),S=await T.request({method:"personal_sign",params:[m4(w),Y]})}try{const{data:_,error:b}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Vn});if(b)throw b;if(!_||!_.session||!_.user){const k=new Xi;return this._returnResult({data:{user:null,session:null},error:k})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:b})}catch(_){if(Je(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,a,s,o,c,f,h,m,g,x,y,w;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:b,wallet:k,statement:R,options:T}=e;let L;if(Ar())if(typeof k=="object")L=k;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))L=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=k}const H=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in L&&L.signIn){const Y=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),R?{statement:R}:null));let A;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")A=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)A=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)S=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),_=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${H.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(s=(a=T?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=T?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((x=(g=T?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...T.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const Y=await L.signMessage(new TextEncoder().encode(S),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=Y}}try{const{data:b,error:k}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:rs(_)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Vn});if(k)throw k;if(!b||!b.session||!b.user){const R=new Xi;return this._returnResult({data:{user:null,session:null},error:R})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(Je(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await Yi(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(r??"").split("/");try{const{data:o,error:c}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Vn});if(await kr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const f=new Xi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:c})}catch(o){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Je(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:a,token:s,access_token:o,nonce:c}=e,f=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Vn}),{data:h,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const g=new Xi;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,s,o,c;try{if("email"in e){const{email:f,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Zs(this.storage,this.storageKey));const{error:x}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:f,options:h}=e,{data:m,error:g}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(s=h?.data)!==null&&s!==void 0?s:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:g})}throw new So("You must provide either an email or phone number.")}catch(f){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Je(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var r,a;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:f}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Vn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(s){if(Je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,a,s,o,c;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Zs(this.storage,this.storageKey));const m=await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:l4});return!((o=m.data)===null||o===void 0)&&o.url&&Ar()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Je(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new en;const{error:s}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Je(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:s,options:o}=e,{error:c}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:s,options:o}=e,{data:c,error:f}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new So("You must provide either an email or phone number and a type")}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Y0:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await Yi(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=J0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=n4(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wi}):await this._useSession(async r=>{var a,s,o;const{data:c,error:f}=r;if(f)throw f;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:wi})})}catch(r){if(Je(r))return E_(r)&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:s,error:o}=a;if(o)throw o;if(!s.session)throw new en;const c=s.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await Zs(this.storage,this.storageKey));const{data:m,error:g}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:wi});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Je(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new en;const r=Date.now()/1e3;let a=r,s=!0,o=null;const{payload:c}=X0(e.access_token);if(c.exp&&(a=c.exp,s=a<=r),s){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:c,error:f}=r;if(f)throw f;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new en;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ar())throw new Eo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Eo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Eo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kh("No code detected.");const{data:R,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:o,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=e;if(!o||!f||!c||!m)throw new Eo("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(f);let y=g+x;h&&(y=parseInt(h));const w=y-g;w*1e3<=il&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${x}s`);const S=y-x;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,g);const{data:_,error:b}=await this._getUser(o);if(b)throw b;const k={provider_token:a,provider_refresh_token:s,access_token:o,expires_in:x,expires_at:y,refresh_token:c,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(a){if(Je(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Yi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const c=(a=s.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(S_(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=$k(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,s;try{const{data:{session:o},error:c}=r;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await Zs(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Je(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:s}=await this._useSession(async o=>{var c,f,h,m,g;const{data:x,error:y}=o;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return Ar()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(Je(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:c,provider:f,token:h,access_token:m,nonce:g}=e,x=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:h,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Vn}),{data:y,error:w}=x;return w?this._returnResult({data:{user:null,session:null},error:w}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Xi}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:w}))}catch(s){if(await kr(this.storage,`${this.storageKey}-code-verifier`),Je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,s;const{data:o,error:c}=r;if(c)throw c;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await Vk(async s=>(s>0&&await Wk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vn})),(s,o)=>{const c=200*Math.pow(2,s);return o&&zu(o)&&Date.now()+c-a<il})}catch(a){if(this._debug(r,"error",a),Je(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),Ar()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await Yi(this.storage,this.storageKey);if(s&&this.userStorage){let c=await Yi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await sl(this.userStorage,this.storageKey+"-user",c)),s.user=(e=c?.user)!==null&&e!==void 0?e:J0()}else if(s&&!s.user&&!s.user){const c=await Yi(this.storage,this.storageKey+"-user");c&&c?.user?(s.user=c.user,await kr(this.storage,this.storageKey+"-user"),await sl(this.storage,this.storageKey,s)):s.user=J0()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Y0;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${Y0}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),zu(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(s.access_token);!f&&c?.user?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xd;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new en;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={data:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(s,"error",o),Je(o)){const c={data:null,error:o};return zu(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,a=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,r)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await kr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await sl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Kv(s);await sl(this.storage,this.storageKey,o)}else{const s=Kv(r);await sl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kr(this.storage,this.storageKey),await kr(this.storage,this.storageKey+"-code-verifier"),await kr(this.storage,this.storageKey+"-user"),this.userStorage&&await kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ar()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),il);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-e)/il);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${il}ms, refresh threshold is ${Eh} ticks`),s<=Eh&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof em)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ar()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const s=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,c]=await Zs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(f.toString())}if(a?.queryParams){const o=new URLSearchParams(a.queryParams);s.push(o.toString())}return a?.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await rt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,s;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((s=h?.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?w4(e.webauthn.credential_response):S4(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:_4(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:b4(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r?.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=X0(a.access_token);let c=null;o.aal&&(c=o.aal);let f=c;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=o.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;return s?this._returnResult({data:null,error:s}):a?await rt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new en})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new en});const c=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Ar()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(Je(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new en});const c=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Ar()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(Je(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await rt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new en})})}catch(e){if(Je(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;return s?this._returnResult({data:null,error:s}):a?(await rt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new en})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(f=>f.kid===e);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(f=>f.kid===e),a&&this.jwks_cached_at+zk>s)return a;const{data:o,error:c}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,a=o.keys.find(f=>f.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});a=w.session.access_token}const{header:s,payload:o,signature:c,raw:{header:f,payload:h}}=X0(a);r?.allowExpired||e4(o.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:o,header:s,signature:c},error:null}}const g=t4(s.alg),x=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,c,Pk(`${f}.${h}`)))throw new $u("Invalid JWT signature");return{data:{claims:o,header:s,signature:c},error:null}}catch(a){if(Je(a))return this._returnResult({data:null,error:a});throw a}}};tm.nextInstanceID={};const N4=Zh,D4=tm,M4=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:N4,AuthApiError:w_,AuthClient:D4,AuthError:gl,AuthImplicitGrantRedirectError:Eo,AuthInvalidCredentialsError:So,AuthInvalidJwtError:$u,AuthInvalidTokenResponseError:Xi,AuthPKCEGrantCodeExchangeError:kh,AuthRetryableFetchError:Hu,AuthSessionMissingError:en,AuthUnknownError:bi,AuthWeakPasswordError:Ah,CustomAuthError:Ga,GoTrueAdminApi:Zh,GoTrueClient:tm,NavigatorLockAcquireTimeoutError:C_,SIGN_OUT_SCOPES:Lu,isAuthApiError:S_,isAuthError:Je,isAuthImplicitGrantRedirectError:T_,isAuthRetryableFetchError:zu,isAuthSessionMissingError:E_,isAuthWeakPasswordError:Lk,lockInternals:Qi,navigatorLock:R_,processLock:d4},Symbol.toStringTag,{value:"Module"})),D_=qo(M4);var rx;function z4(){if(rx)return _o;rx=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.SupabaseAuthClient=void 0;const t=D_;let e=class extends t.AuthClient{constructor(a){super(a)}};return _o.SupabaseAuthClient=e,_o}var nx;function ax(){if(nx)return hu;nx=1,Object.defineProperty(hu,"__esModule",{value:!0});const t=qy,e=Jy(),r=s_,a=kk,s=jk(),o=Ck(),c=Rk(),f=z4();class h{constructor(g,x,y){var w,S,_;this.supabaseUrl=g,this.supabaseKey=x;const b=(0,c.validateSupabaseUrl)(g);if(!x)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",b),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",b),this.storageUrl=new URL("storage/v1",b),this.functionsUrl=new URL("functions/v1",b);const k=`sb-${b.hostname.split(".")[0]}-auth-token`,R={db:s.DEFAULT_DB_OPTIONS,realtime:s.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},s.DEFAULT_AUTH_OPTIONS),{storageKey:k}),global:s.DEFAULT_GLOBAL_OPTIONS},T=(0,c.applySettingDefaults)(y??{},R);this.storageKey=(w=T.auth.storageKey)!==null&&w!==void 0?w:"",this.headers=(S=T.global.headers)!==null&&S!==void 0?S:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(L,H)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(H)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=T.auth)!==null&&_!==void 0?_:{},this.headers,T.global.fetch),this.fetch=(0,o.fetchWithAuth)(x,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.accessToken&&this.accessToken().then(L=>this.realtime.setAuth(L)).catch(L=>console.warn("Failed to set initial Realtime auth token:",L)),this.rest=new e.PostgrestClient(new URL("rest/v1",b).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,y?.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(g){return this.rest.from(g)}schema(g){return this.rest.schema(g)}rpc(g,x={},y={head:!1,get:!1,count:void 0}){return this.rest.rpc(g,x,y)}channel(g,x={config:{}}){return this.realtime.channel(g,x)}getChannels(){return this.realtime.getChannels()}removeChannel(g){return this.realtime.removeChannel(g)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var g,x;if(this.accessToken)return await this.accessToken();const{data:y}=await this.auth.getSession();return(x=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:g,persistSession:x,detectSessionInUrl:y,storage:w,userStorage:S,storageKey:_,flowType:b,lock:k,debug:R,throwOnError:T},L,H){const Y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},Y),L),storageKey:_,autoRefreshToken:g,persistSession:x,detectSessionInUrl:y,storage:w,userStorage:S,flowType:b,lock:k,debug:R,throwOnError:T,fetch:H,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(g){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},g),{params:Object.assign({apikey:this.supabaseKey},g?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((x,y)=>{this._handleTokenChanged(x,"CLIENT",y?.access_token)})}_handleTokenChanged(g,x,y){(g==="TOKEN_REFRESHED"||g==="SIGNED_IN")&&this.changedAccessToken!==y?(this.changedAccessToken=y,this.realtime.setAuth(y)):g==="SIGNED_OUT"&&(this.realtime.setAuth(),x=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return hu.default=h,hu}var ix;function L4(){return ix||(ix=1,(function(t){var e=za&&za.__createBinding||(Object.create?(function(g,x,y,w){w===void 0&&(w=y);var S=Object.getOwnPropertyDescriptor(x,y);(!S||("get"in S?!x.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return x[y]}}),Object.defineProperty(g,w,S)}):(function(g,x,y,w){w===void 0&&(w=y),g[w]=x[y]})),r=za&&za.__exportStar||function(g,x){for(var y in g)y!=="default"&&!Object.prototype.hasOwnProperty.call(x,y)&&e(x,g,y)},a=za&&za.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=a(ax());r(D_,t);var o=Jy();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var c=qy;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(s_,t);var f=ax();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return a(f).default}});const h=(g,x,y)=>new s.default(g,x,y);t.createClient=h;function m(){if(typeof window<"u"||typeof process>"u")return!1;const g=process.version;if(g==null)return!1;const x=g.match(/^v(\d+)\./);return x?parseInt(x[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(za)),za}var M_=L4();const z_=Bh(M_),F4=$S({__proto__:null,default:z_},[M_]),{PostgrestError:_7,FunctionsHttpError:b7,FunctionsFetchError:w7,FunctionsRelayError:S7,FunctionsError:E7,FunctionRegion:T7,SupabaseClient:k7,createClient:B4,GoTrueAdminApi:A7,GoTrueClient:j7,AuthAdminApi:C7,AuthClient:R7,navigatorLock:O7,NavigatorLockAcquireTimeoutError:N7,lockInternals:D7,processLock:M7,SIGN_OUT_SCOPES:z7,AuthError:L7,AuthApiError:F7,AuthUnknownError:B7,CustomAuthError:I7,AuthSessionMissingError:U7,AuthInvalidTokenResponseError:P7,AuthInvalidCredentialsError:H7,AuthImplicitGrantRedirectError:$7,AuthPKCEGrantCodeExchangeError:G7,AuthRetryableFetchError:q7,AuthWeakPasswordError:W7,AuthInvalidJwtError:V7,isAuthError:K7,isAuthApiError:Y7,isAuthSessionMissingError:X7,isAuthImplicitGrantRedirectError:J7,isAuthRetryableFetchError:Q7,isAuthWeakPasswordError:Z7,RealtimePresence:eM,RealtimeChannel:tM,RealtimeClient:rM,REALTIME_LISTEN_TYPES:nM,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:aM,REALTIME_PRESENCE_LISTEN_EVENTS:iM,REALTIME_SUBSCRIBE_STATES:sM,REALTIME_CHANNEL_STATES:lM}=z_||F4,I4="https://kynwwhugwnzekrozxytj.supabase.co",U4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5bnd3aHVnd256ZWtyb3p4eXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMTQ0NzUsImV4cCI6MjA4MDU5MDQ3NX0.9JKTRgcYhzdQ2jaIi95PlFFj_bgg6jzJObLP9BQUHYg",Ae=B4(I4,U4),L_=D.createContext({}),Sn=()=>D.useContext(L_),P4=({children:t})=>{const[e,r]=D.useState(null),[a,s]=D.useState(!0);D.useEffect(()=>{const h=localStorage.getItem("panela_user");h&&r(JSON.parse(h)),s(!1)},[]);const f={user:e,login:async(h,m)=>{try{const{data:g,error:x}=await Ae.from("app_users").select("*").eq("username",h).eq("password",m).single();if(x||!g)throw new Error("Kullanc ad veya ifre hatal");return r(g),localStorage.setItem("panela_user",JSON.stringify(g)),{success:!0}}catch(g){return{error:g.message}}},signOut:()=>{r(null),localStorage.removeItem("panela_user")},loading:a,session:e?{user:e}:null};return u.jsx(L_.Provider,{value:f,children:!a&&t})};function H4(){const[t,e]=D.useState(!1),[r,a]=D.useState(""),[s,o]=D.useState(""),[c,f]=D.useState(null),{login:h}=Sn(),m=fd(),g=async x=>{x.preventDefault(),e(!0),f(null);const y=await h(r,s);y.success?m("/"):f(y.error),e(!1)};return u.jsx("div",{style:{display:"flex",minHeight:"100vh",alignItems:"center",justifyContent:"center",background:"#F3F0FF"},children:u.jsxs("div",{className:"glass-panel fade-in",style:{padding:"3rem",borderRadius:"var(--radius-xl)",width:"100%",maxWidth:"420px",textAlign:"center"},children:[u.jsx("h1",{style:{fontSize:"3rem",fontWeight:"800",marginBottom:"1rem",letterSpacing:"-1px",color:"var(--color-primary)"},children:"Panela"}),u.jsx("p",{style:{color:"var(--color-text-muted)",marginBottom:"2rem"},children:"Giri yap ve ynetmeye bala."}),c&&u.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--color-error)",padding:"0.75rem",borderRadius:"var(--radius-sm)",marginBottom:"1.5rem",fontSize:"0.9rem"},children:c}),u.jsxs("form",{onSubmit:g,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsx("input",{type:"text",placeholder:"Kullanc Ad",value:r,onChange:x=>a(x.target.value),required:!0,autoComplete:"username",style:{padding:"0.875rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid var(--color-border)",background:"rgba(255,255,255,0.8)",fontSize:"1rem"}}),u.jsx("input",{type:"password",placeholder:"ifre",value:s,onChange:x=>o(x.target.value),required:!0,autoComplete:"current-password",style:{padding:"0.875rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid var(--color-border)",background:"rgba(255,255,255,0.8)",fontSize:"1rem"}}),u.jsx("button",{type:"submit",disabled:t,style:{marginTop:"0.5rem",padding:"0.875rem",borderRadius:"var(--radius-md)",background:"var(--color-primary)",color:"white",fontWeight:"600",fontSize:"1rem",boxShadow:"var(--shadow-glow)",transition:"transform 0.2s",opacity:t?.7:1},children:t?"Kontrol Ediliyor...":"Giri Yap"})]})]})})}const $4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),sx=t=>{const e=G4(t);return e.charAt(0).toUpperCase()+e.slice(1)},F_=(...t)=>t.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),q4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var W4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const V4=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:c,...f},h)=>D.createElement("svg",{ref:h,...W4,width:e,height:e,stroke:t,strokeWidth:a?Number(r)*24/Number(e):r,className:F_("lucide",s),...!o&&!q4(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,g])=>D.createElement(m,g)),...Array.isArray(o)?o:[o]]));const He=(t,e)=>{const r=D.forwardRef(({className:a,...s},o)=>D.createElement(V4,{ref:o,iconNode:e,className:F_(`lucide-${$4(sx(t))}`,`lucide-${t}`,a),...s}));return r.displayName=sx(t),r};const K4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],B_=He("arrow-right",K4);const Y4=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],X4=He("badge-check",Y4);const J4=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],I_=He("book-marked",J4);const Q4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yd=He("book-open",Q4);const Z4=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Ch=He("brain",Z4);const e5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rm=He("calendar",e5);const t5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],r5=He("chart-column",t5);const n5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],a5=He("chart-line",n5);const i5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nm=He("check",i5);const s5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],l5=He("chevron-down",s5);const o5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],c5=He("chevron-right",o5);const u5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],d5=He("chevron-up",u5);const f5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],h5=He("circle-alert",f5);const m5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],am=He("circle-check-big",m5);const p5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],U_=He("circle-check",p5);const g5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],P_=He("circle-x",g5);const v5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x5=He("clock-4",v5);const y5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],im=He("clock",y5);const _5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],b5=He("download",_5);const w5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],To=He("ellipsis",w5);const S5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Xn=He("external-link",S5);const E5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],T5=He("file-spreadsheet",E5);const k5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],A5=He("file-text",k5);const j5=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],C5=He("flag",j5);const R5=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],O5=He("flame",R5);const N5=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],lx=He("folder",N5);const D5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],H_=He("funnel",D5);const M5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ox=He("globe",M5);const z5=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],$_=He("graduation-cap",z5);const L5=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],cx=He("hand",L5);const F5=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],B5=He("hash",F5);const I5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],U5=He("history",I5);const P5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],H5=He("info",P5);const $5=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ux=He("instagram",$5);const G5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Vu=He("layout-dashboard",G5);const q5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Rh=He("lightbulb",q5);const W5=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],V5=He("link-2",W5);const K5=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Y5=He("link",K5);const X5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],dx=He("list",X5);const J5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],nn=He("loader-circle",J5);const Q5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Z5=He("log-out",Q5);const eA=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],G_=He("map",eA);const tA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],rA=He("maximize-2",tA);const nA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],q_=He("message-square",nA);const aA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],iA=He("monitor",aA);const sA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Lo=He("package",sA);const lA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],oA=He("pause",lA);const cA=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Ku=He("pen-tool",cA);const uA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],W_=He("pen",uA);const dA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],sm=He("play",dA);const fA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ti=He("plus",fA);const hA=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],V_=He("rocket",hA);const mA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],K_=He("rotate-ccw",mA);const pA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xo=He("save",pA);const gA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Y_=He("search",gA);const vA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xA=He("send",vA);const yA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_A=He("settings",yA);const bA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lm=He("shield-check",bA);const wA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fx=He("shield",wA);const SA=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],X_=He("shopping-bag",SA);const EA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],TA=He("smartphone",EA);const kA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],is=He("sparkles",kA);const AA=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_d=He("square-check-big",AA);const jA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Oh=He("square-pen",jA);const CA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],RA=He("square",CA);const OA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Fo=He("star",OA);const NA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ki=He("trash-2",NA);const DA=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],MA=He("trending-down",DA);const zA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],J_=He("trending-up",zA);const LA=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Q0=He("truck",LA);const FA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],BA=He("upload",FA);const IA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],UA=He("user",IA);const PA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Nh=He("video",PA);const HA=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],$A=He("wand-sparkles",HA);const GA=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],qA=He("workflow",GA);const WA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ea=He("x",WA);const VA=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Z0=He("youtube",VA);const KA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Q_=He("zap",KA);function YA(){const{pathname:t}=ha(),{signOut:e}=Sn(),r=[{label:"zet",path:"/",icon:Vu},{label:"rnlerim",path:"/products",icon:X_},{label:"Yaplacaklar",path:"/todos",icon:_d},{label:"Yol Haritas",path:"/roadmap",icon:G_},{label:"Aratrma",path:"/research",icon:Y_},{label:"Creative Lab",path:"/creative-lab",icon:Vu},{label:"Academy Hub",path:"/academy",icon:$_},{label:"Ayarlar",path:"/settings",icon:_A}];return u.jsxs("aside",{className:"sidebar",children:[u.jsx("div",{className:"sidebar-header",children:u.jsx("h2",{children:"Panela"})}),u.jsx("nav",{className:"sidebar-nav",children:r.map(a=>{const s=a.icon,o=t===a.path;return u.jsxs(md,{to:a.path,className:`nav-item ${o?"active":""}`,children:[u.jsx(s,{size:20}),u.jsx("span",{children:a.label})]},a.path)})}),u.jsx("div",{className:"sidebar-footer",children:u.jsxs("button",{onClick:e,className:"nav-item logout-btn",children:[u.jsx(Z5,{size:20}),u.jsx("span",{children:"k Yap"})]})}),u.jsx("style",{children:`
        .sidebar {
          width: 260px;
          height: 100vh;
          background: rgba(255, 255, 255, 0.8);
          border-right: 1px solid var(--color-border);
          display: flex;
          flex-direction: column;
          position: fixed;
          left: 0;
          top: 0;
          padding: 2rem 1.5rem;
          backdrop-filter: blur(10px);
          z-index: 50;
        }

        .sidebar-header {
          margin-bottom: 3rem;
          padding-left: 0.5rem;
        }

        .sidebar-header h2 {
          font-size: 1.75rem;
          font-weight: 800;
          letter-spacing: -0.5px;
        }

        .sidebar-nav {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          flex: 1;
        }

        .nav-item {
          display: flex;
          align-items: center;
          gap: 1rem;
          padding: 0.875rem 1rem;
          border-radius: var(--radius-md);
          color: var(--color-text-muted);
          font-weight: 500;
          transition: all 0.2s;
        }

        .nav-item:hover {
          background: rgba(139, 92, 246, 0.05);
          color: var(--color-primary);
        }

        .nav-item.active {
          background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
          color: white;
          box-shadow: var(--shadow-sm);
        }

        .logout-btn {
          color: var(--color-error);
          width: 100%;
        }
        
        .logout-btn:hover {
          background: rgba(239, 68, 68, 0.05);
          color: var(--color-error);
        }

        @media (max-width: 768px) {
          .sidebar {
            display: none;
          }
        }
      `})]})}function XA(){const{pathname:t}=ha(),e=[{label:"zet",path:"/",icon:Vu},{label:"rnler",path:"/products",icon:X_},{label:"ler",path:"/todos",icon:_d},{label:"Aratr",path:"/research",icon:Y_},{label:"Creative",path:"/creative-lab",icon:Vu},{label:"Academy",path:"/academy",icon:$_},{label:"Yol",path:"/roadmap",icon:G_}];return u.jsxs("nav",{className:"mobile-nav glass-panel",children:[e.map(r=>{const a=r.icon,s=t===r.path;return u.jsxs(md,{to:r.path,className:`mobile-item ${s?"active":""}`,children:[u.jsx("div",{className:"icon-wrapper",children:u.jsx(a,{size:22})}),u.jsx("span",{className:"label",children:r.label})]},r.path)}),u.jsx("style",{children:`
        .mobile-nav {
          display: none;
          position: fixed;
          bottom: 1.5rem;
          left: 50%;
          transform: translateX(-50%);
          width: 90%;
          max-width: 400px;
          border-radius: var(--radius-xl);
          padding: 0.75rem 1.5rem;
          justify-content: space-between;
          z-index: 100;
        }

        .mobile-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.25rem;
          color: var(--color-text-muted);
          transition: all 0.2s;
        }

        .mobile-item.active {
          color: var(--color-primary);
        }

        .mobile-item.active .icon-wrapper {
          transform: translateY(-2px);
        }
        
        .label {
          font-size: 0.7rem;
          font-weight: 500;
        }

        @media (max-width: 768px) {
          .mobile-nav {
            display: flex;
          }
        }
      `})]})}function JA(){return u.jsxs("div",{className:"layout",children:[u.jsx(YA,{}),u.jsx("main",{className:"main-content",children:u.jsx("div",{className:"content-container",children:u.jsx(KE,{})})}),u.jsx(XA,{}),u.jsx("style",{children:`
        .layout {
          min-height: 100vh;
          background: var(--color-background);
        }

        .main-content {
          margin-left: 260px; /* Sidebar width */
          min-height: 100vh;
          padding: 2rem;
          transition: margin 0.3s;
        }

        .content-container {
          max-width: 1200px;
          margin: 0 auto;
          padding-bottom: 5rem; /* Space for mobile nav */
        }

        @media (max-width: 768px) {
          .main-content {
            margin-left: 0;
            padding: 1.5rem 1rem;
          }
        }
      `})]})}function QA(){const{user:t}=Sn(),e=fd(),[r,a]=D.useState([]),[s,o]=D.useState({tasks_view_mode:"latest",tasks_count:3,tasks_animation_duration:5,tasks_status_filters:["Todo","In Progress","Review"]}),[c,f]=D.useState(!0),h=D.useRef(null),[m,g]=D.useState(0);D.useEffect(()=>(t&&y(),()=>{h.current&&clearInterval(h.current)}),[t]),D.useEffect(()=>{s.tasks_view_mode==="loop"?x(r.length):h.current&&clearInterval(h.current)},[s,r]);const x=T=>{h.current&&clearInterval(h.current);const L=s.tasks_count||3;if(T<=L)return;const H=(s.tasks_animation_duration||5)*1e3;h.current=setInterval(()=>{g(Y=>(Y+L)%T)},H)},y=async()=>{try{const{data:T}=await Ae.from("user_settings").select("tasks_view_mode, tasks_count, tasks_animation_duration, tasks_status_filters").eq("user_id",t.id).maybeSingle(),L={tasks_view_mode:T?.tasks_view_mode||"latest",tasks_count:T?.tasks_count||3,tasks_animation_duration:T?.tasks_animation_duration||5,tasks_status_filters:T?.tasks_status_filters?.length?T.tasks_status_filters:["Todo","In Progress","Review"]};o(L);const H=L.tasks_status_filters?.length?L.tasks_status_filters:["Todo","In Progress","Review"],Y=Ae.from("todos").select("*").in("status",H);if(L.tasks_view_mode==="latest"||L.tasks_view_mode==="loop"){const{data:A,error:I}=await Y.order("created_at",{ascending:!1}).limit(Math.max(L.tasks_count||3,10));if(I)throw I;a(w(A||[],L.tasks_count))}else{const{data:A,error:I}=await Y.order("created_at",{ascending:!1}).limit(Math.max((L.tasks_count||3)*3,15));if(I)throw I;const G=S(A||[]);a(w(G,L.tasks_count))}}catch(T){console.error("Error fetching dashboard tasks:",T)}finally{f(!1)}},w=(T,L=3)=>{const H={Todo:1,"In Progress":2,Review:3};return[...T].sort((A,I)=>{const G=H[A.status]||99,te=H[I.status]||99;return G!==te?G-te:new Date(A.created_at)-new Date(I.created_at)}).slice(0,L||3)},S=T=>{const L=[...T];for(let H=L.length-1;H>0;H--){const Y=Math.floor(Math.random()*(H+1));[L[H],L[Y]]=[L[Y],L[H]]}return L},_=T=>{switch(T){case"Tasarm":return"bg-purple-100 text-purple-700";case"Yazlm":return"bg-blue-100 text-blue-700";case"Pazarlama":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},b=T=>{switch(T){case"Todo":return"#f59e0b";case"In Progress":return"#3b82f6";case"Review":return"#a855f7";default:return"#cbd5e1"}},k=T=>T?new Date(T).toLocaleString("tr-TR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit",hour12:!1}):"Tarih yok",R=D.useMemo(()=>{const T=s.tasks_count||3;if(s.tasks_view_mode==="loop"&&r.length>T){const L=[];for(let H=0;H<T;H++)L.push(r[(m+H)%r.length]);return L}return r.slice(0,T)},[r,s,m]);return c?u.jsxs("div",{className:"glass-panel widget-container animate-pulse",children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"h-16 bg-gray-100 rounded-lg"}),u.jsx("div",{className:"h-16 bg-gray-100 rounded-lg"}),u.jsx("div",{className:"h-16 bg-gray-100 rounded-lg"})]})]}):u.jsxs("div",{className:"glass-panel widget-container",children:[u.jsxs("div",{className:"widget-header",children:[u.jsxs("h3",{children:[u.jsx(im,{size:20,className:"text-primary"})," Yaklaan Grevler"]}),u.jsxs("button",{onClick:()=>e("/todos"),className:"view-all-btn",children:["Tm ",u.jsx(B_,{size:14})]})]}),u.jsx("div",{className:"tasks-list",children:R.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon-bg",children:u.jsx(U_,{size:32,className:"text-success"})}),u.jsx("p",{className:"empty-title",children:"Harika!"}),u.jsx("p",{className:"empty-desc",children:"u an acil bir grevin yok. Kahve molas? "})]}):R.map(T=>u.jsxs("div",{className:"task-item",onClick:()=>e("/todos"),children:[u.jsxs("div",{className:"task-content",children:[u.jsx("h4",{className:"task-title",children:T.title}),u.jsxs("div",{className:"task-meta",children:[u.jsx("span",{className:`task-tag ${_(T.tags?.[0])}`,children:T.tags?.[0]||"Genel"}),u.jsxs("span",{className:"task-date",children:[u.jsx(rm,{size:12}),k(T.due_date)]})]})]}),u.jsx("div",{className:"task-action",children:u.jsx("div",{className:"status-indicator",style:{background:b(T.status)}})})]},T.id))}),u.jsx("style",{children:`
                .widget-container {
                    padding: 1.5rem;
                    height: 100%;
                    display: flex;
                    flex-direction: column;
                }

                .widget-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 1.5rem;
                }

                .widget-header h3 {
                    font-size: 1.1rem;
                    font-weight: 600;
                    color: var(--color-text-main);
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                }

                .view-all-btn {
                    font-size: 0.85rem;
                    color: var(--color-primary);
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    gap: 0.25rem;
                    padding: 0.25rem 0.5rem;
                    border-radius: 6px;
                    transition: all 0.2s;
                }

                .view-all-btn:hover {
                    background: rgba(var(--color-primary-rgb), 0.1);
                }

                .tasks-list {
                    display: flex;
                    flex-direction: column;
                    gap: 0.75rem;
                    flex: 1;
                }

                .task-item {
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 0.75rem 1rem;
                    background: rgba(255, 255, 255, 0.5);
                    border: 1px solid rgba(0, 0, 0, 0.05);
                    border-radius: 12px;
                    cursor: pointer;
                    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
                }

                .task-item:hover {
                    transform: translateY(-2px);
                    background: white;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
                    border-color: rgba(var(--color-primary-rgb), 0.2);
                }

                .task-title {
                    font-size: 0.95rem;
                    font-weight: 600;
                    color: var(--color-text-main);
                    margin-bottom: 0.35rem;
                    line-height: 1.3;
                    display: -webkit-box;
                    -webkit-line-clamp: 1;
                    -webkit-box-orient: vertical;
                    overflow: hidden;
                }

                .task-meta {
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                }

                .task-tag {
                    font-size: 0.7rem;
                    padding: 2px 8px;
                    border-radius: 10px;
                    font-weight: 600;
                    letter-spacing: 0.02em;
                }

                /* Setup Tailwind-like colors manually since we don't have full tailwind */
                .bg-purple-100 { background: #F3E8FF; }
                .text-purple-700 { color: #7E22CE; }
                .bg-blue-100 { background: #DBEAFE; }
                .text-blue-700 { color: #1D4ED8; }
                .bg-orange-100 { background: #FFEDD5; }
                .text-orange-700 { color: #C2410C; }
                .bg-gray-100 { background: #F3F4F6; }
                .text-gray-700 { color: #374151; }

                .task-date {
                    font-size: 0.75rem;
                    color: var(--color-text-muted);
                    display: flex;
                    align-items: center;
                    gap: 0.25rem;
                }

                .empty-state {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    padding: 2rem 1rem;
                    text-align: center;
                    background: rgba(255,255,255,0.3);
                    border-radius: 16px;
                    border: 2px dashed rgba(0,0,0,0.05);
                }

                .empty-icon-bg {
                    width: 56px;
                    height: 56px;
                    border-radius: 50%;
                    background: rgba(16, 185, 129, 0.1);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin-bottom: 1rem;
                }

                .empty-title {
                    font-size: 1.1rem;
                    font-weight: 700;
                    color: var(--color-text-main);
                    margin-bottom: 0.25rem;
                }

                .empty-desc {
                    font-size: 0.9rem;
                    color: var(--color-text-muted);
                }
            `})]})}function ZA(){const{user:t}=Sn(),[e,r]=D.useState(!0),[a,s]=D.useState([]),[o,c]=D.useState({product_view_mode:"latest",product_count:3,animation_duration:5}),[f,h]=D.useState(0);D.useEffect(()=>{if(!t?.id)return;const S=async()=>{try{const{data:k,error:R}=await Ae.from("user_settings").select("*").eq("user_id",t.id).maybeSingle();return R?(console.error("Widget Settings Fetch Error:",R),null):k?(console.log("Widget Settings Loaded:",k),c(k),k):(console.log("Widget: No settings found, using defaults."),null)}catch(k){return console.error("Widget Error:",k),null}},_=async(k=o)=>{try{let R=Ae.from("products").select("*").eq("user_id",t.id);k.product_view_mode==="latest"?R=R.order("created_at",{ascending:!1}).limit(k.product_count||3):R=R.order("created_at",{ascending:!1});const{data:T,error:L}=await R;if(L)throw L;s(T||[]),r(!1)}catch(R){console.error("Products Fetch Error:",R),r(!1)}};S().then(k=>{k?_(k):_()});const b=Ae.channel("settings_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"user_settings",filter:`user_id=eq.${t.id}`},async k=>{console.log("Real-time Settings Update:",k.new);const R=k.new;c(R),_(R)}).subscribe();return()=>{Ae.removeChannel(b)}},[t]);const[m,g]=D.useState([]),x=D.useRef(Date.now());if(D.useEffect(()=>{if(a.length===0){g([]);return}let S=[...a];if(o.product_view_mode==="random"){const _=x.current,k=(R=>{let T=R;return()=>(T=(T*9301+49297)%233280,T/233280)})(_);for(let R=S.length-1;R>0;R--){const T=Math.floor(k()*(R+1));[S[R],S[T]]=[S[T],S[R]]}S=S.slice(0,o.product_count||3)}else o.product_view_mode==="latest"&&(S.sort((_,b)=>new Date(b.created_at)-new Date(_.created_at)),S=S.slice(0,o.product_count||3));g(S)},[o.product_view_mode,o.product_count,a]),D.useEffect(()=>{o.product_view_mode==="random"&&(x.current=Date.now())},[o.product_view_mode]),D.useEffect(()=>{if(o.product_view_mode!=="loop"||a.length<=(o.product_count||3)){h(0);return}const S=setInterval(()=>{h(_=>{const b=Math.ceil(a.length/(o.product_count||3));return(_+1)%b})},(o.animation_duration||5)*1e3);return()=>clearInterval(S)},[o.product_view_mode,o.animation_duration,o.product_count,a.length]),e)return u.jsx("div",{className:"glass-panel",style:{padding:"2rem",display:"flex",justifyContent:"center"},children:u.jsx(nn,{className:"animate-spin text-primary"})});if(a.length===0)return u.jsxs("div",{className:"glass-panel",style:{padding:"2rem",textAlign:"center"},children:[u.jsx(Lo,{size:32,className:"text-muted",style:{margin:"0 auto 1rem"}}),u.jsx("p",{className:"text-muted",children:"Henz kefedilmi rn yok."})]});let y=[];const w=o.product_count||3;if(a.length===0)return null;if(o.product_view_mode==="loop")if(a.length<=w)y=a.slice(0,w);else{const S=f*w;for(let _=0;_<w;_++){const b=(S+_)%a.length;y.push(a[b])}}else y=m.slice(0,w);return u.jsxs("div",{className:"discovered-products-widget",children:[u.jsx("div",{className:"section-header",children:u.jsxs("h3",{className:"section-title",children:[u.jsx(Lo,{size:20,className:"text-primary"}),"Kefedilen rnler",o.product_view_mode==="loop"&&u.jsx("span",{className:"live-badge",children:"Canl Ak"})]})}),u.jsx("div",{className:"products-grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))"},children:y.map((S,_)=>u.jsxs("div",{className:"product-card glass-panel fade-in",children:[u.jsxs("div",{className:"product-header",children:[u.jsx("span",{className:`priority-dot ${S.priority?.toLowerCase()}`}),u.jsx("h4",{className:"product-name",children:S.name})]}),S.thoughts&&u.jsx("p",{className:"product-thoughts line-clamp-2",children:S.thoughts}),u.jsxs("div",{className:"product-footer",children:[u.jsx("span",{className:"status-tag",children:S.status}),u.jsx("button",{className:"btn-icon",children:u.jsx(B_,{size:16})})]})]},`${S.id}-${_}`))}),u.jsx("style",{children:`
               .discovered-products-widget {
                   margin-bottom: 2rem;
               }

               .section-header {
                   display: flex;
                   align-items: center;
                   margin-bottom: 1rem;
                   gap: 1rem;
               }

               .section-title {
                   font-size: 1.1rem;
                   font-weight: 600;
                   display: flex;
                   align-items: center;
                   gap: 0.5rem;
                   color: var(--color-text-main);
               }

               .live-badge {
                   font-size: 0.7rem;
                   background: rgba(var(--color-primary-rgb), 0.1);
                   color: var(--color-primary);
                   padding: 0.2rem 0.6rem;
                   border-radius: 20px;
                   font-weight: 600;
                   display: flex;
                   align-items: center;
                   gap: 4px;
               }

               .live-badge::before {
                   content: '';
                   width: 6px;
                   height: 6px;
                   border-radius: 50%;
                   background: var(--color-primary);
                   animation: pulse 1.5s infinite;
               }

               .products-grid {
                   display: grid;
                   gap: 1.5rem;
               }

               .product-card {
                   padding: 1.25rem;
                   transition: transform 0.3s ease, box-shadow 0.3s ease;
                   border: 1px solid rgba(255,255,255,0.4);
               }

               .product-card:hover {
                   transform: translateY(-4px);
                   box-shadow: var(--shadow-md);
               }

               .product-header {
                   display: flex;
                   align-items: center;
                   gap: 0.5rem;
                   margin-bottom: 0.75rem;
               }

               .priority-dot {
                   width: 8px;
                   height: 8px;
                   border-radius: 50%;
                   background: #cbd5e1;
               }
               .priority-dot.high { background: #ef4444; box-shadow: 0 0 8px rgba(239,68,68,0.4); }
               .priority-dot.medium { background: #f59e0b; }
               .priority-dot.low { background: #10b981; }

               .product-name {
                   font-weight: 600;
                   font-size: 1rem;
                   margin: 0;
                   width: 100%;
                   overflow: hidden;
                   text-overflow: ellipsis;
                   white-space: nowrap;
               }

               .product-thoughts {
                   font-size: 0.85rem;
                   color: var(--color-text-muted);
                   margin-bottom: 1.25rem;
                   line-height: 1.5;
                   height: 2.6rem; /* fixed height for alignment */
               }

               .line-clamp-2 {
                   display: -webkit-box;
                   -webkit-line-clamp: 2;
                   -webkit-box-orient: vertical;
                   overflow: hidden;
               }

               .product-footer {
                   display: flex;
                   justify-content: space-between;
                   align-items: center;
                   border-top: 1px solid rgba(0,0,0,0.05);
                   padding-top: 0.75rem;
               }

               .status-tag {
                   font-size: 0.75rem;
                   padding: 0.25rem 0.75rem;
                   border-radius: 6px;
                   background: rgba(0,0,0,0.05);
                   color: var(--color-text-muted);
                   font-weight: 500;
               }

               .btn-icon {
                   background: none;
                   border: none;
                   color: var(--color-primary);
                   cursor: pointer;
                   padding: 0.25rem;
                   border-radius: 50%;
                   transition: background 0.2s;
                   display: flex;
                   align-items: center;
                   justify-content: center;
               }

               .btn-icon:hover {
                   background: rgba(var(--color-primary-rgb), 0.1);
               }
           `})]})}function e3(){const{user:t}=Sn(),[e,r]=D.useState({products:0,todos:0,completedTodos:0,roadmapStep:"Balang"});return D.useEffect(()=>{(async()=>{try{const{count:s}=await Ae.from("products").select("*",{count:"exact",head:!0}),{count:o}=await Ae.from("todos").select("*",{count:"exact",head:!0}).eq("status","Todo"),{count:c}=await Ae.from("todos").select("*",{count:"exact",head:!0}).eq("status","Done"),{data:f}=await Ae.from("roadmap_steps").select("title").neq("status","Completed").order("sort_order",{ascending:!0}).limit(1).single();r({products:s||0,todos:o||0,completedTodos:c||0,roadmapStep:f?.title||"Tm Tamamland! "})}catch(s){console.error("Error loading stats:",s)}})()},[]),u.jsxs("div",{className:"dashboard fade-in",children:[u.jsxs("header",{className:"page-header",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"welcome-text",children:["Hogeldin, ",u.jsx("span",{className:"font-bold",children:t?.username||"Giriimci"})," "]}),u.jsx("p",{className:"subtitle",children:"Bugn e-ticaret imparatorluun iin neler yapyoruz?"})]}),u.jsx("div",{className:"date-badge",children:new Date().toLocaleDateString("tr-TR",{weekday:"long",day:"numeric",month:"long"})})]}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"widget highlight-widget",children:[u.jsxs("div",{className:"widget-header",children:[u.jsx(is,{className:"icon-pulse"}),u.jsx("h3",{children:"Aktif Hedef"})]}),u.jsx("p",{className:"widget-value",children:e.roadmapStep}),u.jsx("p",{className:"widget-desc",children:"Bu admda derinlemesine aratrma yap."}),u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-fill",style:{width:"35%"}})})]}),u.jsxs("div",{className:"widget glass-panel",children:[u.jsx("div",{className:"widget-icon bg-blue",children:u.jsx(Lo,{size:24,color:"#3B82F6"})}),u.jsxs("div",{className:"widget-info",children:[u.jsx("p",{className:"label",children:"Kefedilen rnler"}),u.jsx("p",{className:"value",children:e.products})]})]}),u.jsxs("div",{className:"widget glass-panel",children:[u.jsx("div",{className:"widget-icon bg-green",children:u.jsx(am,{size:24,color:"#10B981"})}),u.jsxs("div",{className:"widget-info",children:[u.jsx("p",{className:"label",children:"Mevcut Grevler"}),u.jsxs("p",{className:"value",children:[e.todos," ",u.jsxs("span",{className:"sub-value",children:["(",e.completedTodos," tamamland)"]})]})]})]})]}),u.jsxs("div",{className:"dashboard-main-grid",children:[u.jsxs("section",{className:"dashboard-section",children:[u.jsx(ZA,{}),u.jsx(QA,{})]}),u.jsxs("section",{className:"dashboard-section",children:[u.jsxs("h3",{className:"section-title",children:[" ",u.jsx(J_,{size:20})," Son Hareketler"]}),u.jsx("div",{className:"glass-panel activity-list",children:u.jsx("p",{className:"empty-state",children:"Henz bir aktivite yok. Bir rn ekleyerek bala!"})})]})]}),u.jsx("style",{children:`
        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-end;
          margin-bottom: 2.5rem;
          flex-wrap: wrap;
          gap: 1rem;
        }
        
        .welcome-text {
          font-size: 2rem;
          font-weight: 700;
          color: var(--color-text-main);
          margin-bottom: 0.5rem;
        }

        .subtitle {
          color: var(--color-text-muted);
        }

        .date-badge {
          background: white;
          padding: 0.5rem 1rem;
          border-radius: var(--radius-lg);
          font-weight: 600;
          color: var(--color-primary);
          box-shadow: var(--shadow-sm);
        }

        .stats-grid {
          display: grid;
          grid-template-columns: 1.5fr 1fr 1fr;
          gap: 1.5rem;
          margin-bottom: 2rem;
        }

        .widget {
          padding: 1.5rem;
          border-radius: var(--radius-lg);
          display: flex;
          flex-direction: column;
        }

        .highlight-widget {
          background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
          color: white;
          grid-row: span 1;
        }

        .highlight-widget .widget-header {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-bottom: 1rem;
          font-weight: 500;
          opacity: 0.9;
        }

        .widget-value {
          font-size: 1.5rem;
          font-weight: 700;
          margin-bottom: 0.25rem;
        }

        .widget-desc {
          font-size: 0.9rem;
          opacity: 0.8;
          margin-bottom: 1rem;
        }

        .progress-bar {
          height: 6px;
          background: rgba(255,255,255,0.2);
          border-radius: 10px;
          overflow: hidden;
        }
        
        .progress-fill {
          height: 100%;
          background: white;
        }

        .glass-panel .widget-icon {
          width: 48px;
          height: 48px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 1rem;
        }
        
        .bg-blue { background: rgba(59, 130, 246, 0.1); }
        .bg-green { background: rgba(16, 185, 129, 0.1); }

        .widget-info .label {
          color: var(--color-text-muted);
          font-size: 0.9rem;
          margin-bottom: 0.25rem;
        }
        
        .widget-info .value {
          font-size: 1.5rem;
          font-weight: 700;
          color: var(--color-text-main);
        }

        .sub-value {
          font-size: 0.9rem;
          color: var(--color-success);
          font-weight: 500;
        }

        /* NEW STYLES */
        .dashboard-main-grid {
          display: grid;
          grid-template-columns: 2fr 1fr;
          gap: 1.5rem;
          margin-bottom: 2rem;
        }

        .dashboard-section {
          display: flex;
          flex-direction: column;
          height: 100%;
        }

        .section-title {
          font-size: 1.1rem;
          font-weight: 600;
          margin-bottom: 1rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          color: var(--color-text-main);
        }

        .activity-list {
            padding: 2rem;
            text-align: center;
            border-radius: var(--radius-lg);
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .empty-state {
          color: var(--color-text-muted);
        }
        
        .icon-pulse {
          animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
          0% { opacity: 1; }
          50% { opacity: 0.5; }
          100% { opacity: 1; }
        }

        @media (max-width: 1024px) {
          .stats-grid, .dashboard-main-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})}function Dh({type:t="status",value:e}){const r={Idea:"var(--color-info)",Researching:"var(--color-warning)",Sourcing:"var(--color-primary)",Live:"var(--color-success)",High:"var(--color-error)",Medium:"var(--color-warning)",Low:"var(--color-success)",Todo:"var(--color-text-muted)","In Progress":"var(--color-primary)",Done:"var(--color-success)",default:"var(--color-text-muted)"},a=r[e]||r.default,s={backgroundColor:a,opacity:.15,position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"var(--radius-sm)"};return u.jsxs("span",{style:{position:"relative",padding:"0.25rem 0.75rem",borderRadius:"var(--radius-sm)",color:a,fontWeight:"600",fontSize:"0.8rem",display:"inline-block",whiteSpace:"nowrap"},children:[u.jsx("span",{style:s}),u.jsx("span",{style:{position:"relative",zIndex:1},children:e})]})}function ns({title:t,isOpen:e,onClose:r,children:a}){return e?dh.createPortal(u.jsxs("div",{className:"modal-container",onClick:r,children:[u.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:t}),u.jsx("button",{onClick:r,className:"close-btn",children:u.jsx(ea,{size:20})})]}),u.jsx("div",{className:"modal-body",children:a})]}),u.jsx("style",{children:`
        .modal-container {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          /* background: REMOVED as per request */
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 99999; /* Increased z-index */
          animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
          width: 90%;
          max-width: 500px;
          border-radius: var(--radius-xl);
          max-height: 85vh;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 80px -12px rgba(0, 0, 0, 0.4); /* Deep, premium shadow */
          animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
          background: rgba(255, 255, 255, 0.95); /* Slightly more opaque for readability */
        }

        @keyframes slideUp {
          from { transform: translateY(20px) scale(0.98); opacity: 0; }
          to { transform: translateY(0) scale(1); opacity: 1; }
        }

        .modal-header {
          padding: 1.5rem 2rem;
          border-bottom: 1px solid rgba(0, 0, 0, 0.05); /* Softer border */
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .modal-header h3 {
          font-size: 1.5rem; /* Clean, not shouting */
          font-weight: 700;
          color: var(--color-text-main);
          letter-spacing: -0.02em;
        }

        .close-btn {
          color: var(--color-text-muted);
          padding: 0.5rem;
          border-radius: 50%;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          background: rgba(0,0,0,0.03);
        }

        .close-btn:hover {
          background: rgba(239, 68, 68, 0.1);
          color: var(--color-error);
          transform: rotate(90deg);
        }

        .modal-body {
          padding: 2rem;
          overflow-y: auto;
          scrollbar-width: thin;
        }
      `})]}),document.body):null}function t3(){const[t,e]=D.useState([]),[r,a]=D.useState(!0),[s,o]=D.useState(!1),[c,f]=D.useState(!1),[h,m]=D.useState({name:"",price:"",link:"",status:"Idea",priority:"Medium",thoughts:""}),[g,x]=D.useState(null);D.useEffect(()=>{y()},[]);const y=async()=>{try{a(!0);const{data:T,error:L}=await Ae.from("products").select("*").order("created_at",{ascending:!1});if(L)throw L;e(T)}catch(T){console.error("Error fetching products:",T.message)}finally{a(!1)}},{user:w}=Sn(),S=async T=>{T.preventDefault();try{if(!w||!w.id)throw new Error("Kullanc oturumu bulunamad. Ltfen tekrar giri yapn.");const L={...h,user_id:w.id};if(g){const{error:H}=await Ae.from("products").update(L).eq("id",g);if(H)throw H}else{const{error:H}=await Ae.from("products").insert([L]);if(H)throw H}o(!1),y(),k()}catch(L){alert("Hata: "+L.message)}},_=async T=>{if(window.confirm("Bu rn silmek istediine emin misin?"))try{const{error:L}=await Ae.from("products").delete().eq("id",T);if(L)throw L;e(t.filter(H=>H.id!==T))}catch(L){console.error("Error deleting:",L.message)}},b=T=>{m({name:T.name,price:T.price,link:T.link,status:T.status,priority:T.priority,thoughts:T.thoughts}),x(T.id),o(!0)},k=()=>{m({name:"",price:"",link:"",status:"Idea",priority:"Medium",thoughts:""}),x(null)},R=async T=>{const L=!T.is_favorite;e(t.map(H=>H.id===T.id?{...H,is_favorite:L}:H)),await Ae.from("products").update({is_favorite:L}).eq("id",T.id)};return u.jsxs("div",{className:"page-container fade-in",children:[u.jsxs("div",{className:"page-header",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"rn Paneli"}),u.jsx("p",{className:"text-muted",children:"Fikirlerini ve bulduun rnleri buradan ynet."})]}),u.jsxs("button",{onClick:()=>{k(),o(!0)},className:"btn-cta",children:[u.jsx(Ti,{size:18}),u.jsx("span",{children:"Yeni rn Ekle"})]})]}),u.jsxs("div",{className:"table-card glass-panel",children:[u.jsxs("div",{className:"table-topbar",children:[u.jsx("div",{className:"table-title",children:"rn Listesi"}),u.jsxs("button",{className:"toggle-wide",onClick:()=>f(!c),children:[u.jsx(TA,{size:16}),c?"Standart Grnm":" Grnm evir"]})]}),r?u.jsx("div",{className:"skeleton-grid",children:[1,2,3].map(T=>u.jsxs("div",{className:"skeleton-row",children:[u.jsx("div",{className:"skeleton-cell wide"}),u.jsx("div",{className:"skeleton-cell"}),u.jsx("div",{className:"skeleton-cell"})]},T))}):t.length===0?u.jsx("div",{className:"p-12 text-center text-muted",children:"Hi rn yok. Yukardan ekleyebilirsin!"}):u.jsx("div",{className:`table-container ${c?"wide-mode":""}`,children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{width:"50",children:"Fav"}),u.jsx("th",{children:"rn smi"}),u.jsx("th",{children:"Tahmini Fiyat"}),u.jsx("th",{children:"Durum"}),u.jsx("th",{children:"ncelik"}),u.jsx("th",{children:"Notlar"}),u.jsx("th",{width:"100",children:"lemler"})]})}),u.jsx("tbody",{children:t.map(T=>u.jsxs("tr",{children:[u.jsx("td",{className:"text-center",children:u.jsx("button",{onClick:()=>R(T),className:`star-btn ${T.is_favorite?"active":""}`,children:u.jsx(Fo,{size:18,fill:T.is_favorite?"orange":"none",color:T.is_favorite?"orange":"currentColor"})})}),u.jsx("td",{children:u.jsxs("div",{className:"product-name",children:[u.jsx("span",{className:"truncate-line",children:T.name}),T.link&&u.jsx("a",{href:T.link,target:"_blank",rel:"noopener noreferrer",className:"link-icon",children:u.jsx(Xn,{size:14})})]})}),u.jsx("td",{className:"truncate-line",children:T.price}),u.jsx("td",{children:u.jsx(Dh,{value:T.status})}),u.jsx("td",{children:u.jsx(Dh,{value:T.priority})}),u.jsx("td",{className:"truncate-cell",children:T.thoughts}),u.jsx("td",{children:u.jsxs("div",{className:"actions-cell",children:[u.jsx("button",{onClick:()=>b(T),className:"action-btn edit",children:u.jsx(W_,{size:16})}),u.jsx("button",{onClick:()=>_(T.id),className:"action-btn delete",children:u.jsx(ki,{size:16})})]})})]},T.id))})]})})]}),u.jsx(ns,{title:g?"rn Dzenle":"Yeni rn Ekle",isOpen:s,onClose:()=>o(!1),children:u.jsxs("form",{onSubmit:S,className:"form-grid",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"rn Ad"}),u.jsx("input",{required:!0,value:h.name,onChange:T=>m({...h,name:T.target.value}),placeholder:"rn: Galaxy Projektr",className:"input-premium"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"rn Linki"}),u.jsx("input",{value:h.link,onChange:T=>m({...h,link:T.target.value}),placeholder:"https://trendyol.com/...",className:"input-premium"})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Sat Fiyat (Tahmini)"}),u.jsx("input",{value:h.price,onChange:T=>m({...h,price:T.target.value}),placeholder:"rn: 450 TL",className:"input-premium"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"ncelik Seviyesi"}),u.jsxs("select",{value:h.priority,onChange:T=>m({...h,priority:T.target.value}),className:"input-premium",children:[u.jsx("option",{value:"Low",children:"Dk"}),u.jsx("option",{value:"Medium",children:"Orta"}),u.jsx("option",{value:"High",children:"Yksek"})]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Mevcut Durum"}),u.jsxs("select",{value:h.status,onChange:T=>m({...h,status:T.target.value}),className:"input-premium",children:[u.jsx("option",{value:"Idea",children:"Fikir Aamas"}),u.jsx("option",{value:"Researching",children:"Aratrlyor"}),u.jsx("option",{value:"Sourcing",children:"Tedarik Aranyor"}),u.jsx("option",{value:"Live",children:"Yaynda"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Notlar & Strateji"}),u.jsx("textarea",{rows:4,value:h.thoughts,onChange:T=>m({...h,thoughts:T.target.value}),placeholder:"Rakip analizi, kar marj tahmini vb.",className:"input-premium"})]}),u.jsx("button",{type:"submit",className:"btn-primary full-width",children:g?"Kaydet":"Ekle"})]})}),u.jsx("style",{children:`
        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
        }

        .btn-cta {
          background: linear-gradient(135deg, #8B5CF6, #F472B6);
          color: white;
          padding: 0.85rem 1.4rem;
          border-radius: var(--radius-lg);
          font-weight: 700;
          display: inline-flex;
          gap: 0.6rem;
          align-items: center;
          box-shadow: 0 12px 30px rgba(139,92,246,0.25);
          transition: transform 0.2s, box-shadow 0.2s;
          border: none;
        }
        .btn-cta:hover { transform: translateY(-1px); box-shadow: 0 16px 40px rgba(139,92,246,0.3); }
        .btn-cta:active { transform: scale(0.98); }

        .filters-bar {
          display: flex;
          gap: 1rem;
          padding: 1rem;
          border-radius: var(--radius-lg);
          margin-bottom: 1.5rem;
          align-items: center;
        }

        .search-wrapper {
          flex: 1;
          display: flex;
          align-items: center;
          gap: 0.75rem;
          background: rgba(255,255,255,0.5);
          padding: 0.5rem 1rem;
          border-radius: var(--radius-md);
          border: 1px solid transparent;
          transition: all 0.2s;
        }

        .search-wrapper:focus-within {
          background: white;
          border-color: var(--color-primary);
          box-shadow: 0 0 0 3px rgba(139,92,246,0.1);
        }

        .search-wrapper input {
          width: 100%;
          border: none;
          background: none;
          font-size: 0.95rem;
        }

        .table-card { padding: 1rem; }
        .table-topbar {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 0.5rem;
        }
        .table-title { font-weight: 700; color: var(--color-text-main); }
        .toggle-wide {
          display: inline-flex;
          align-items: center;
          gap: 0.4rem;
          padding: 0.5rem 0.75rem;
          border-radius: var(--radius-md);
          border: 1px solid var(--color-border);
          background: white;
          font-weight: 600;
          color: var(--color-text-main);
          cursor: pointer;
        }
        .toggle-wide:hover { background: rgba(var(--color-primary-rgb),0.05); }

        .table-container {
          overflow-x: auto;
          border-radius: var(--radius-lg);
          background: white;
        }

        .data-table {
          width: 100%;
          border-collapse: collapse;
          min-width: 800px;
        }
        .wide-mode .data-table { min-width: 1100px; }

        .data-table th {
          text-align: left;
          padding: 1rem 1.5rem;
          background: rgba(248, 250, 252, 0.8);
          color: var(--color-text-muted);
          font-size: 0.8rem;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          border-bottom: 1px solid var(--color-border);
        }

        .data-table td {
          padding: 1rem 1.5rem;
          border-bottom: 1px solid var(--color-border);
          color: var(--color-text-main);
          font-size: 0.95rem;
        }
        
        .data-table tr:hover {
          background: rgba(241, 245, 249, 0.5);
        }

        .product-name {
          font-weight: 600;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          max-width: 260px;
        }
        .truncate-line {
          display: inline-block;
          max-width: 220px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .link-icon {
          color: var(--color-text-muted);
          transition: color 0.2s;
        }
        .link-icon:hover { color: var(--color-primary); }

        .truncate-cell {
          max-width: 250px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          color: var(--color-text-muted);
        }

        .actions-cell {
          display: flex;
          gap: 0.5rem;
        }

        .action-btn {
          padding: 0.4rem;
          border-radius: var(--radius-sm);
          color: var(--color-text-muted);
          transition: all 0.2s;
        }

        .edit:hover { background: rgba(59, 130, 246, 0.1); color: var(--color-info); }
        .delete:hover { background: rgba(239, 68, 68, 0.1); color: var(--color-error); }

        .star-btn {
          color: var(--color-border);
          transition: transform 0.2s;
        }
        .star-btn:hover { transform: scale(1.1); }
        .star-btn.active { color: orange; }

        .form-grid {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }
        
        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 1rem;
        }

        .form-group label {
          display: block;
          margin-bottom: 0.4rem;
          font-size: 0.9rem;
          color: var(--color-text-muted);
          font-weight: 500;
        }

        .form-group input, 
        .form-group select, 
        .form-group textarea {
          width: 100%;
          padding: 0.75rem;
          border-radius: var(--radius-md);
          border: 1px solid var(--color-border);
          background: var(--color-background);
          transition: border-color 0.2s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
          border-color: var(--color-primary);
          outline: none;
        }

        .full-width { width: 100%; margin-top: 1rem; }

        .skeleton-grid {
          display: grid;
          gap: 0.75rem;
        }
        .skeleton-row {
          display: grid;
          grid-template-columns: 2fr 1fr 1fr;
          gap: 0.5rem;
        }
        .skeleton-cell {
          height: 14px;
          background: linear-gradient(90deg, rgba(226,232,240,0.6), rgba(226,232,240,0.9), rgba(226,232,240,0.6));
          border-radius: 6px;
          animation: shimmer 1.2s infinite;
        }
        .skeleton-cell.wide { grid-column: span 2; height: 16px; }
        @keyframes shimmer {
          0% { background-position: -200px 0; }
          100% { background-position: 200px 0; }
        }

        @media (max-width: 768px) {
          .page-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 0.75rem;
          }
          .table-card { padding: 0.75rem; }
          .data-table { min-width: 720px; }
          .toggle-wide { width: 100%; justify-content: center; }
        }
      `})]})}function r3({todos:t,onStatusChange:e,onEdit:r,onDelete:a,users:s,activities:o,onOpenActivityModal:c,onCreate:f,onOpenDraftsModal:h}){const m=[{id:"Todo",title:"Yaplacaklar",tagClass:"tag-1"},{id:"In Progress",title:"Devam Edenler",tagClass:"tag-2"},{id:"Review",title:"Kontrol",tagClass:"tag-3"},{id:"Done",title:"Tamamland",tagClass:"tag-4"}],g=(b,k)=>{b.dataTransfer.setData("todoId",k),b.dataTransfer.effectAllowed="move",b.target.style.opacity="0.4"},x=b=>{b.target.style.opacity="1"},y=b=>{b.preventDefault(),b.dataTransfer.dropEffect="move"},w=(b,k)=>{b.preventDefault();const R=b.dataTransfer.getData("todoId");R&&e(R,k)},S=b=>t.filter(k=>k.status===b&&k.status!=="Draft"),_=(b,k=15)=>b?b.length<=k?b:b.slice(0,k)+"":"";return u.jsxs("div",{className:"kanban-app fade-in",children:[u.jsxs("main",{className:"project",children:[u.jsxs("div",{className:"project-info",children:[u.jsx("h1",{children:"Grevler"}),u.jsxs("button",{className:"add-task-icon",onClick:()=>f&&f(),children:[u.jsx(Ti,{size:16})," Yeni"]})]}),u.jsx("div",{className:"project-tasks fixed-grid",children:m.map(b=>u.jsxs("div",{className:"project-column",onDragOver:y,onDrop:k=>w(k,b.id),children:[u.jsxs("div",{className:"project-column-heading",children:[u.jsx("h2",{className:"project-column-heading__title",children:b.title}),b.id==="Done"?u.jsx("button",{className:"project-column-heading__options",onClick:()=>h&&h(),title:"Taslaklar Gster",children:u.jsx(To,{size:20})}):u.jsx("button",{className:"project-column-heading__options",children:u.jsx(To,{size:20})})]}),u.jsx("div",{className:"project-column-body",children:S(b.id).map(k=>u.jsxs("div",{className:"task",draggable:"true",onDragStart:R=>g(R,k.id),onDragEnd:x,onClick:()=>r(k),style:{userSelect:"none",cursor:"pointer"},children:[u.jsxs("div",{className:"task__tags",children:[u.jsx("span",{className:`task__tag task__tag--${k.tags?.[0]?"illustration":"copyright"}`,children:k.tags?.[0]||"Genel"}),u.jsxs("div",{className:"task-actions",style:{display:"flex",gap:"5px"},children:[u.jsx("button",{onClick:R=>{R.stopPropagation(),r(k)},className:"task__options",children:u.jsx(Oh,{size:14})}),u.jsx("button",{onClick:R=>{R.stopPropagation(),a(k.id)},className:"task__options",children:u.jsx(ki,{size:14})})]})]}),u.jsx("p",{children:k.title}),u.jsxs("div",{className:"task__stats",children:[u.jsxs("span",{children:[u.jsx(C5,{size:12}),u.jsx("time",{children:new Date(k.due_date).toLocaleDateString("tr-TR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})})]}),u.jsx("span",{className:"task__owner",children:s[k.created_by]?.substring(0,2).toUpperCase()||"??"})]})]},k.id))})]},b.id))})]}),u.jsxs("aside",{className:"task-details",children:[u.jsxs("div",{className:"tag-progress",children:[u.jsx("h2",{children:"lerleme Durumu"}),u.jsxs("div",{className:"tag-progress",children:[u.jsxs("p",{children:["Devam Edenler ",u.jsx("span",{children:S("In Progress").length})]}),u.jsx("progress",{className:"progress",max:t.length||1,value:S("In Progress").length})]}),u.jsxs("div",{className:"tag-progress",children:[u.jsxs("p",{children:["Tamamlananlar ",u.jsx("span",{children:S("Done").length})]}),u.jsx("progress",{className:"progress",max:t.length||1,value:S("Done").length})]})]}),u.jsxs("div",{className:"task-activity",children:[u.jsx("h2",{children:"Son Hareketler"}),u.jsxs("ul",{className:"activity-list",children:[o&&o.slice(0,4).map(b=>{const k=_(b.details,15);return u.jsxs("li",{className:"activity-row",children:[u.jsxs("span",{className:"activity-icon","data-type":b.action_type,children:[b.action_type==="CREATE"&&u.jsx(Ti,{size:14}),b.action_type==="UPDATE"&&u.jsx(Oh,{size:14}),b.action_type==="DELETE"&&u.jsx(ki,{size:14}),b.action_type==="MOVE"&&u.jsx(To,{size:14})]}),u.jsxs("div",{className:"activity-text",children:[u.jsx("div",{className:"activity-user",children:b.app_users?.username||"Kullanc"}),u.jsxs("p",{className:"activity-desc",children:[b.action_type==="CREATE"&&`yeni grev ekledi: ${k||"Grev"}`,b.action_type==="UPDATE"&&`grevi gncelledi: ${k||"Grev"}`,b.action_type==="DELETE"&&`"${k}" grevini sildi.`,b.action_type==="MOVE"&&`grevi tad: ${k||"Grev"}`]}),u.jsx("time",{className:"activity-time",children:new Date(b.created_at).toLocaleString("tr-TR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit",hour12:!1})})]})]},b.id)}),(!o||o.length===0)&&u.jsxs("li",{className:"activity-row empty",children:[u.jsx("span",{className:"activity-icon","data-type":"INFO",children:u.jsx(To,{size:12})}),u.jsxs("div",{className:"activity-text",children:[u.jsx("div",{className:"activity-user",children:"Sistem"}),u.jsx("p",{className:"activity-desc",children:"Hazr."}),u.jsx("time",{className:"activity-time",children:"imdi"})]})]})]}),o&&o.length>4&&u.jsxs("button",{onClick:c,className:"btn-show-more",children:["Daha Fazla Gster (",o.length-4,")"]})]})]})]})}function n3({isOpen:t,onClose:e,activities:r}){const[a,s]=D.useState(""),[o,c]=D.useState(""),f=D.useMemo(()=>{const g=new Set(r.map(x=>x.app_users?.username).filter(Boolean));return Array.from(g)},[r]),h=r.filter(g=>{const x=a?g.app_users?.username===a:!0,y=o?g.action_type===o:!0;return x&&y}),m=g=>{switch(g){case"CREATE":return"Ekleme";case"UPDATE":return"Gncelleme";case"DELETE":return"Silme";case"MOVE":return"Tama";default:return g}};return u.jsxs(ns,{title:"Hareket Gemii",isOpen:t,onClose:e,children:[u.jsxs("div",{className:"activity-filters",style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",padding:"1rem",background:"rgba(255,255,255,0.5)",borderRadius:"var(--radius-lg)",border:"1px solid rgba(0,0,0,0.05)"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"13px",color:"var(--color-text-muted)",marginBottom:"0.5rem"},children:"Kullanc"}),u.jsxs("select",{value:a,onChange:g=>s(g.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px"},children:[u.jsx("option",{value:"",children:"Tm"}),f.map(g=>u.jsx("option",{value:g,children:g},g))]})]}),u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"13px",color:"var(--color-text-muted)",marginBottom:"0.5rem"},children:"lem Tr"}),u.jsxs("select",{value:o,onChange:g=>c(g.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px"},children:[u.jsx("option",{value:"",children:"Tm"}),u.jsx("option",{value:"CREATE",children:"Yeni Grev"}),u.jsx("option",{value:"UPDATE",children:"Gncelleme"}),u.jsx("option",{value:"MOVE",children:"Durum Deiiklii"}),u.jsx("option",{value:"DELETE",children:"Silme"})]})]}),(a||o)&&u.jsx("div",{style:{display:"flex",alignItems:"end"},children:u.jsx("button",{onClick:()=>{s(""),c("")},style:{padding:"0.5rem",color:"var(--color-error)",background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center"},children:u.jsx(ea,{size:18})})})]}),u.jsx("div",{className:"activity-list",style:{maxHeight:"60vh",overflowY:"auto"},children:h.length===0?u.jsx("p",{style:{textAlign:"center",color:"var(--color-text-muted)",padding:"2rem"},children:"Kayt bulunamad."}):u.jsx("ul",{style:{padding:0,listStyle:"none"},children:h.map(g=>u.jsxs("li",{style:{padding:"1rem",borderBottom:"1px solid #f1f5f9",display:"flex",alignItems:"start",gap:"1rem"},children:[u.jsxs("span",{style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,background:g.action_type==="CREATE"?"#dcfce7":g.action_type==="UPDATE"?"#dbeafe":g.action_type==="DELETE"?"#fee2e2":"#fef9c3",color:g.action_type==="CREATE"?"#166534":g.action_type==="UPDATE"?"#1e40af":g.action_type==="DELETE"?"#991b1b":"#854d0e"},children:[g.action_type==="CREATE"&&u.jsx(Ti,{size:16}),g.action_type==="UPDATE"&&u.jsx(Oh,{size:16}),g.action_type==="DELETE"&&u.jsx(ki,{size:16}),g.action_type==="MOVE"&&u.jsx(To,{size:16})]}),u.jsxs("div",{children:[u.jsxs("div",{style:{fontSize:"14px",marginBottom:"0.2rem"},children:[u.jsx("span",{style:{fontWeight:"600"},children:g.app_users?.username||"Kullanc"}),u.jsx("span",{style:{margin:"0 0.5rem",color:"#cbd5e1"},children:""}),u.jsx("span",{style:{fontSize:"12px",padding:"2px 6px",borderRadius:"4px",background:"#f1f5f9",color:"#64748b"},children:m(g.action_type)})]}),u.jsxs("p",{style:{fontSize:"14px",color:"#334155",margin:0},children:[g.action_type==="CREATE"&&"Yeni grev oluturdu.",g.action_type==="UPDATE"&&"Grev detaylarn gncelledi.",g.action_type==="DELETE"&&`"${g.details}" adl grevi sildi.`,g.action_type==="MOVE"&&`Grevi "${g.details}" aamasna tad.`]}),u.jsx("time",{style:{fontSize:"12px",color:"#94a3b8",display:"block",marginTop:"0.4rem"},children:new Date(g.created_at).toLocaleString("tr-TR",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})})]})]},g.id))})})]})}function a3(){const[t,e]=D.useState([]),[r,a]=D.useState(!0),[s,o]=D.useState(!1),[c,f]=D.useState(!1),[h,m]=D.useState(!1),[g,x]=D.useState(null),[y,w]=D.useState({}),[S,_]=D.useState([]),[b,k]=D.useState({search:"",createdBy:"",dateFrom:"",dateTo:"",tag:""}),R=D.useRef(null),[T,L]=D.useState({id:null,title:"",priority:"Medium",due_date:"",tags:""});D.useEffect(()=>{A(),H()},[]);const H=async()=>{const{data:ce}=await Ae.from("todo_activities").select(`
                *,
                app_users (
                    username
                )
            `).order("created_at",{ascending:!1}).limit(20);ce&&_(ce)},Y=async(ce,J,me)=>{try{if(!I?.id)return;const{error:Ce}=await Ae.from("todo_activities").insert([{todo_id:me,user_id:I.id,action_type:ce,details:J}]);if(Ce){if(Ce.code==="42501"||Ce.code==="401"){console.debug("Activity log skipped (RLS/unauthorized).");return}throw Ce}H()}catch(Ce){console.error("Activity logging failed (safe to ignore if RLS not set):",Ce)}},A=async()=>{try{a(!0);const{data:ce,error:J}=await Ae.from("todos").select("*").order("due_date",{ascending:!0});if(J)throw J;const me=new Date,Ce=new Date(me.getTime()-1440*60*1e3),Fe=ce.filter(Q=>Q.status==="Done"&&Q.completed_at&&new Date(Q.completed_at)<Ce);if(Fe.length>0){const Q=Fe.map(C=>C.id);await Ae.from("todos").update({status:"Draft",completed_at:null}).in("id",Q);const j=ce.map(C=>Q.includes(C.id)?{...C,status:"Draft",completed_at:null}:C);e(j)}else e(ce)}catch(ce){console.error("Error fetching todos:",ce.message)}finally{a(!1)}};D.useEffect(()=>{(async()=>{const{data:J}=await Ae.from("app_users").select("id, username");if(J){const me=J.reduce((Ce,Fe)=>({...Ce,[Fe.id]:Fe.username}),{});w(me)}})()},[]);const{user:I}=Sn(),G=async ce=>{ce.preventDefault();try{if(!I||!I.id)throw new Error("Oturum kapal.");if(!I||!I.id)throw new Error("Oturum kapal.");const J=T.tags?[T.tags]:["Genel"],me={title:T.title,priority:"Medium",due_date:T.due_date,tags:J,created_by:I.id};if(T.id){const{error:Ce}=await Ae.from("todos").update({title:me.title,priority:me.priority,due_date:me.due_date,tags:me.tags}).eq("id",T.id);if(Ce)throw Ce;Y("UPDATE","grevi gncelledi",T.id)}else{const{data:Ce,error:Fe}=await Ae.from("todos").insert([me]).select();if(Fe)throw Fe;Ce&&Ce[0]&&Y("CREATE","yeni grev ekledi",Ce[0].id)}o(!1),A(),te()}catch(J){alert(J.message)}},te=()=>{const ce=new Date,J=Ce=>Ce.toString().padStart(2,"0"),me=`${ce.getFullYear()}-${J(ce.getMonth()+1)}-${J(ce.getDate())}T${J(ce.getHours())}:${J(ce.getMinutes())}`;L({id:null,title:"",priority:"Medium",due_date:me,tags:"Genel"})},ee=ce=>{let J="";if(ce.due_date){const me=new Date(ce.due_date),Ce=Fe=>Fe.toString().padStart(2,"0");J=`${me.getFullYear()}-${Ce(me.getMonth()+1)}-${Ce(me.getDate())}T${Ce(me.getHours())}:${Ce(me.getMinutes())}`}L({id:ce.id,title:ce.title,priority:ce.priority,due_date:J,tags:ce.tags&&ce.tags.length>0?ce.tags[0]:"Genel"}),o(!0),setTimeout(()=>{R.current&&(R.current.style.height="auto",R.current.style.height=`${R.current.scrollHeight}px`)},100)},ie=ce=>{L({...T,title:ce.target.value}),R.current&&(R.current.style.height="auto",R.current.style.height=`${R.current.scrollHeight}px`)},ye=async ce=>{if(!window.confirm("Grevi silmek istiyor musun?"))return;const J=t.find(Ce=>Ce.id===ce),{error:me}=await Ae.from("todos").delete().eq("id",ce);me?(console.error("Error deleting:",me),alert("Silinirken hata olutu.")):(e(t.filter(Ce=>Ce.id!==ce)),J&&Y("DELETE",J.title,null))},qe=async(ce,J)=>{e(t.map(Fe=>Fe.id===ce?{...Fe,status:J}:Fe));const me={status:J};J==="Done"?me.completed_at=new Date().toISOString():me.completed_at=null;const{error:Ce}=await Ae.from("todos").update(me).eq("id",ce);Ce?(console.error("Error updating status:",Ce),A()):Y("MOVE",J==="Todo"?"Yaplacaklar":J==="In Progress"?"Devam Edenler":J==="Review"?"Kontrol":"Tamamland",ce)};return u.jsxs("div",{className:"page-container fade-in",style:{padding:0,maxWidth:"100%",margin:0},children:[u.jsx(r3,{todos:t,onStatusChange:qe,onEdit:ee,onDelete:ye,users:y,activities:S,onOpenActivityModal:()=>f(!0),onCreate:()=>{te(),o(!0)},onOpenDraftsModal:()=>m(!0)}),u.jsx(n3,{isOpen:c,onClose:()=>f(!1),activities:S}),u.jsx(ns,{title:"Taslaklar",isOpen:h,onClose:()=>m(!1),children:u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",gap:"1rem",padding:"1rem",background:"#f8fafc",borderRadius:"var(--radius-md)"},children:[u.jsx("input",{type:"text",placeholder:"Grev ieriinde ara...",value:b.search,onChange:ce=>k({...b,search:ce.target.value}),style:{padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"14px"}}),u.jsxs("select",{value:b.createdBy,onChange:ce=>k({...b,createdBy:ce.target.value}),style:{padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"},children:[u.jsx("option",{value:"",children:"Tm Kullanclar"}),Object.entries(y).map(([ce,J])=>u.jsx("option",{value:ce,children:J},ce))]}),u.jsx("input",{type:"date",placeholder:"Balang",value:b.dateFrom,onChange:ce=>k({...b,dateFrom:ce.target.value}),style:{padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"14px"}}),u.jsx("input",{type:"date",placeholder:"Biti",value:b.dateTo,onChange:ce=>k({...b,dateTo:ce.target.value}),style:{padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"14px"}})]}),u.jsxs("select",{value:b.tag,onChange:ce=>k({...b,tag:ce.target.value}),style:{padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"},children:[u.jsx("option",{value:"",children:"Tm Etiketler"}),u.jsx("option",{value:"Genel",children:"Genel"}),u.jsx("option",{value:"Tasarm",children:"Tasarm"}),u.jsx("option",{value:"Yazlm",children:"Yazlm"}),u.jsx("option",{value:"Pazarlama",children:"Pazarlama"})]}),u.jsxs("div",{style:{maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[t.filter(ce=>ce.status==="Draft").filter(ce=>!(b.search&&!ce.title.toLowerCase().includes(b.search.toLowerCase())||b.createdBy&&ce.created_by!==b.createdBy||b.dateFrom&&new Date(ce.created_at)<new Date(b.dateFrom)||b.dateTo&&new Date(ce.created_at)>new Date(b.dateTo)||b.tag&&(!ce.tags||!ce.tags.includes(b.tag)))).map(ce=>u.jsxs("div",{onClick:()=>x(ce),style:{padding:"1rem",background:"white",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.target.style.borderColor="var(--color-primary)",onMouseLeave:J=>J.target.style.borderColor="#e2e8f0",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"0.5rem"},children:[u.jsx("h3",{style:{margin:0,fontSize:"15px",fontWeight:"600"},children:ce.title}),u.jsx("span",{style:{padding:"0.2rem 0.6rem",background:"#f0fdf4",color:"#166534",borderRadius:"100px",fontSize:"11px",fontWeight:"600"},children:ce.tags?.[0]||"Genel"})]}),u.jsxs("div",{style:{fontSize:"12px",color:"#64748b",display:"flex",gap:"1rem"},children:[u.jsx("span",{children:y[ce.created_by]||"Bilinmeyen"}),u.jsx("span",{children:new Date(ce.created_at).toLocaleDateString("tr-TR")})]})]},ce.id)),t.filter(ce=>ce.status==="Draft").length===0&&u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b"},children:"Henz taslak grev yok."})]})]})}),u.jsx(ns,{title:"Grev nizleme",isOpen:g!==null,onClose:()=>x(null),children:g&&u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"GREV BALII"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"15px",background:"#f8fafc",whiteSpace:"pre-wrap",wordWrap:"break-word",lineHeight:"1.5"},children:g.title})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"SON TARH"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",background:"#f8fafc"},children:g.due_date?new Date(g.due_date).toLocaleString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Belirtilmemi"})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"ETKET"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",background:"#f8fafc"},children:g.tags?.[0]||"Genel"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"OLUTURULMA TARH"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",background:"#f8fafc"},children:new Date(g.created_at).toLocaleString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),g.completed_at&&u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"TAMAMLANMA TARH"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",background:"#f8fafc"},children:new Date(g.completed_at).toLocaleString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"OLUTURAN"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",background:"#f8fafc"},children:y[g.created_by]||"Bilinmeyen"})]})]})}),u.jsx(ns,{title:T.id?"Grevi Dzenle":"Yeni Grev Ekle",isOpen:s,onClose:()=>o(!1),children:u.jsxs("form",{onSubmit:G,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"GREV BALII"}),u.jsx("textarea",{ref:R,required:!0,value:T.title,onChange:ie,placeholder:"rn: Muhasebeciyle grme ayarla...",rows:1,style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"15px",outline:"none",transition:"border-color 0.2s",background:"#f8fafc",resize:"none",overflow:"hidden",minHeight:"44px",lineHeight:"1.5",fontFamily:"inherit"},onFocus:ce=>ce.target.style.borderColor="var(--color-primary)",onBlur:ce=>ce.target.style.borderColor="#e2e8f0"})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"SON TARH"}),u.jsx("input",{type:"datetime-local",required:!0,value:T.due_date,onChange:ce=>L({...T,due_date:ce.target.value}),style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",outline:"none",background:"#f8fafc"}})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"ETKET"}),u.jsxs("select",{value:T.tags,onChange:ce=>L({...T,tags:ce.target.value}),style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",outline:"none",background:"#f8fafc",appearance:"none",cursor:"pointer"},children:[u.jsx("option",{value:"Genel",children:"Genel"}),u.jsx("option",{value:"Tasarm",children:"Tasarm"}),u.jsx("option",{value:"Yazlm",children:"Yazlm"}),u.jsx("option",{value:"Pazarlama",children:"Pazarlama"})]})]})]}),u.jsx("button",{type:"submit",style:{marginTop:"1rem",padding:"1rem",borderRadius:"var(--radius-md)",background:"var(--color-primary)",color:"white",border:"none",fontSize:"15px",fontWeight:"600",cursor:"pointer",transition:"transform 0.1s",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},className:"btn-primary full-width",onMouseDown:ce=>ce.target.style.transform="scale(0.98)",onMouseUp:ce=>ce.target.style.transform="scale(1)",children:T.id?"Deiiklikleri Kaydet":"Grevi Olutur"})]})})]})}function i3(){const[t,e]=D.useState([]),[r,a]=D.useState(!0),[s,o]=D.useState(null),[c,f]=D.useState({});D.useEffect(()=>{h()},[]);const h=async()=>{try{a(!0);const{data:S,error:_}=await Ae.from("roadmap_steps").select("*").order("sort_order",{ascending:!0});if(_)throw _;e(S)}catch(S){console.error("Error fetching roadmap:",S.message)}finally{a(!1)}},m=S=>{o(s===S?null:S)},g=async(S,_)=>{const k={"Not Started":"Learning",Learning:"Completed",Completed:"Not Started"}[_]||"Not Started";e(t.map(R=>R.id===S?{...R,status:k}:R)),await Ae.from("roadmap_steps").update({status:k}).eq("id",S)},x=async S=>{const _=c[S];if(_!==void 0)try{await Ae.from("roadmap_steps").update({research_notes:_}).eq("id",S),e(t.map(b=>b.id===S?{...b,research_notes:_}:b)),alert("Not kaydedildi!")}catch(b){console.error("Save error:",b)}},y=(S,_)=>{f({...c,[S]:_})},w=S=>{switch(S){case"Completed":return"var(--color-success)";case"Learning":return"var(--color-primary)";default:return"var(--color-text-muted)"}};return u.jsxs("div",{className:"page-container fade-in",children:[u.jsx("div",{className:"page-header",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Yol Haritas"}),u.jsx("p",{className:"text-muted",children:"E-ticaret baars iin adm adm rehber."})]})}),u.jsx("div",{className:"roadmap-container",children:t.map((S,_)=>{const b=s===S.id,k=w(S.status);return u.jsxs("div",{className:`roadmap-step ${S.status==="Completed"?"completed":""}`,children:[u.jsxs("div",{className:"step-connector",children:[u.jsx("div",{className:"step-number",style:{borderColor:k,color:k},children:S.status==="Completed"?u.jsx(nm,{size:16}):_+1}),_!==t.length-1&&u.jsx("div",{className:"step-line"})]}),u.jsxs("div",{className:"step-content glass-panel",children:[u.jsxs("div",{className:"step-header",onClick:()=>m(S.id),children:[u.jsxs("div",{className:"header-info",children:[u.jsx("h3",{className:S.status==="Completed"?"text-muted":"",children:S.title}),u.jsxs("span",{className:"status-badge",style:{background:S.status==="Not Started"?"var(--color-border)":k,opacity:.8},onClick:R=>{R.stopPropagation(),g(S.id,S.status)},children:[S.status==="Not Started"&&"Balanmad",S.status==="Learning"&&"Aratrlyor",S.status==="Completed"&&"Tamamland"]})]}),b?u.jsx(d5,{size:20}):u.jsx(l5,{size:20})]}),b&&u.jsxs("div",{className:"step-body fade-in",children:[u.jsx("p",{className:"step-desc",children:S.description}),u.jsxs("div",{className:"research-box",children:[u.jsxs("div",{className:"research-header",children:[u.jsx(yd,{size:16}),u.jsx("span",{children:"Aratrma & Notlar"})]}),u.jsx("textarea",{className:"research-input",placeholder:"Bu adm ile ilgili rendiklerini buraya not al...",value:c[S.id]!==void 0?c[S.id]:S.research_notes||"",onChange:R=>y(S.id,R.target.value)}),u.jsx("div",{className:"action-row",children:u.jsxs("button",{onClick:()=>x(S.id),className:"save-btn",children:[u.jsx(Xo,{size:16})," Kaydet"]})})]})]})]})]},S.id)})}),u.jsx("style",{children:`
        .roadmap-container {
          display: flex;
          flex-direction: column;
          gap: 0;
          max-width: 800px;
          margin: 0 auto;
        }

        .roadmap-step {
          display: flex;
          gap: 1.5rem;
        }

        .step-connector {
          display: flex;
          flex-direction: column;
          align-items: center;
          min-width: 40px;
        }

        .step-number {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          border: 2px solid var(--color-border);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          background: var(--color-background);
          z-index: 2;
          transition: all 0.3s;
        }

        .step-line {
          width: 2px;
          flex: 1;
          background: var(--color-border);
          margin-top: -2px;
          margin-bottom: -2px;
        }

        .step-content {
          flex: 1;
          margin-bottom: 2rem;
          border-radius: var(--radius-lg);
          overflow: hidden;
          transition: all 0.3s;
        }
        
        .step-content:hover {
          box-shadow: var(--shadow-lg);
        }

        .step-header {
          padding: 1.25rem 1.5rem;
          display: flex;
          justify-content: space-between;
          align-items: center;
          cursor: pointer;
          background: rgba(255,255,255,0.5);
        }
        
        .header-info {
          display: flex;
          align-items: center;
          gap: 1rem;
          flex-wrap: wrap;
        }

        .header-info h3 {
          font-weight: 700;
          font-size: 1.1rem;
        }

        .status-badge {
          font-size: 0.75rem;
          padding: 0.25rem 0.75rem;
          border-radius: 20px;
          color: white;
          font-weight: 600;
          cursor: pointer;
          transition: transform 0.2s;
        }
        
        .status-badge:hover { transform: scale(1.05); }

        .step-body {
          padding: 1.5rem;
          background: white;
          border-top: 1px solid var(--color-border);
        }

        .step-desc {
          margin-bottom: 1.5rem;
          color: var(--color-text-muted);
          line-height: 1.6;
        }

        .research-box {
          background: var(--color-background);
          border-radius: var(--radius-md);
          padding: 1rem;
          border: 1px solid var(--color-border);
        }

        .research-header {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-bottom: 0.75rem;
          font-size: 0.9rem;
          font-weight: 600;
          color: var(--color-primary);
        }

        .research-input {
          width: 100%;
          min-height: 100px;
          padding: 0.75rem;
          border-radius: var(--radius-sm);
          border: 1px solid var(--color-border);
          resize: vertical;
          font-size: 0.95rem;
          margin-bottom: 0.5rem;
        }
        
        .research-input:focus { border-color: var(--color-primary); outline: none; }

        .action-row {
          display: flex;
          justify-content: flex-end;
        }

        .save-btn {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem 1rem;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-sm);
          font-size: 0.85rem;
          font-weight: 600;
          transition: opacity 0.2s;
        }
        
        .save-btn:hover { opacity: 0.9; }

        .page-header { margin-bottom: 2.5rem; }
      `})]})}const s3=async()=>{try{const t=["/Panela/weeks/week1/Ads Library Keywordlar.txt","/weeks/week1/Ads Library Keywordlar.txt","./weeks/week1/Ads Library Keywordlar.txt"];let e=null;for(const s of t)try{if(e=await fetch(s),e.ok)break}catch{continue}return!e||!e.ok?(console.warn("Keywords file not found, using empty array"),[]):(await e.text()).split("|").map(s=>s.trim()).filter(s=>s.length>0).filter((s,o,c)=>c.indexOf(s)===o)}catch(t){return console.error("Error loading keywords file:",t),[]}},l3=async(t,e)=>{if(!e||e.length===0)return;const{data:r}=await t.from("research_keywords").select("keyword"),a=new Set(r?.map(c=>c.keyword)||[]),s=e.filter(c=>!a.has(c));if(s.length===0)return;const{error:o}=await t.from("research_keywords").insert(s.map(c=>({keyword:c,created_by:null})));o&&console.error("Error inserting keywords:",o)};function o3({onAdd:t,loading:e=!1}){const[r,a]=D.useState(""),s=c=>{if(c.preventDefault(),!r.trim())return;const f=r.split(",").map(h=>h.trim()).filter(h=>h.length>0);f.length>0&&(t(f),a(""))},o=async c=>{const f=c.target.files?.[0];if(f){try{const m=(await f.text()).split(/[|,\n]/).map(g=>g.trim()).filter(g=>g.length>0).filter((g,x,y)=>y.indexOf(g)===x);m.length>0&&t(m)}catch(h){console.error("Error reading file:",h)}c.target.value=""}};return u.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"flex-start"},children:[u.jsxs("form",{onSubmit:s,style:{flex:1,display:"flex",gap:"0.5rem"},children:[u.jsx("input",{type:"text",value:r,onChange:c=>a(c.target.value),placeholder:"Kelime ekle (virglle ayrarak toplu ekleyebilirsin)",disabled:e,style:{flex:1,padding:"0.65rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",fontSize:"14px",transition:"border var(--transition-fast), box-shadow var(--transition-fast)"},onFocus:c=>{c.target.style.borderColor="var(--color-primary)",c.target.style.boxShadow="0 0 0 3px rgba(139,92,246,0.15)"},onBlur:c=>{c.target.style.borderColor="var(--color-border)",c.target.style.boxShadow="none"}}),u.jsxs("button",{type:"submit",disabled:e||!r.trim(),className:"primary",style:{padding:"0.65rem 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx(Ti,{size:18}),"Ekle"]})]}),u.jsxs("label",{style:{padding:"0.65rem 1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",fontSize:"14px",transition:"all var(--transition-fast)"},onMouseEnter:c=>{c.currentTarget.style.borderColor="var(--color-primary)",c.currentTarget.style.boxShadow="var(--shadow-sm)"},onMouseLeave:c=>{c.currentTarget.style.borderColor="var(--color-border)",c.currentTarget.style.boxShadow="none"},children:[u.jsx(BA,{size:18}),"Dosya",u.jsx("input",{type:"file",accept:".txt",onChange:o,style:{display:"none"},disabled:e})]})]})}function c3({isOpen:t,onClose:e,userId:r}){const[a,s]=D.useState([]),[o,c]=D.useState(!0),[f,h]=D.useState(""),[m,g]=D.useState(""),[x,y]=D.useState("");D.useEffect(()=>{t&&r&&w()},[t,r]);const w=async()=>{c(!0);try{let b=Ae.from("research_history").select("*").eq("user_id",r).order("created_at",{ascending:!1});f&&(b=b.ilike("keyword",`%${f}%`)),m&&(b=b.eq("country_code",m)),x&&(b=b.eq("action_type",x));const{data:k,error:R}=await b;if(R)throw R;s(k||[])}catch(b){console.error("Error loading history:",b)}finally{c(!1)}};if(D.useEffect(()=>{t&&w()},[f,m,x]),!t)return null;const S=b=>{const k=new Date(b);return new Intl.DateTimeFormat("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(k)},_=b=>({US:"",CA:"",GB:"",AU:"",NZ:""})[b]||b;return u.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},onClick:e,children:u.jsxs("div",{style:{background:"white",borderRadius:"var(--radius-lg)",width:"100%",maxWidth:"800px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"var(--shadow-lg)"},onClick:b=>b.stopPropagation(),children:[u.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[u.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"700"},children:"Aratrma Gemii"}),u.jsx("button",{onClick:e,style:{padding:"0.5rem",borderRadius:"var(--radius-sm)",border:"none",background:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx(ea,{size:24})})]}),u.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[u.jsx("input",{type:"text",placeholder:"Kelime ara...",value:f,onChange:b=>h(b.target.value),style:{flex:1,minWidth:"200px",padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px"}}),u.jsxs("select",{value:m,onChange:b=>g(b.target.value),style:{padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"},children:[u.jsx("option",{value:"",children:"Tm lkeler"}),u.jsx("option",{value:"US",children:" US"}),u.jsx("option",{value:"CA",children:" CA"}),u.jsx("option",{value:"GB",children:" GB"}),u.jsx("option",{value:"AU",children:" AU"}),u.jsx("option",{value:"NZ",children:" NZ"})]}),u.jsxs("select",{value:x,onChange:b=>y(b.target.value),style:{padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"},children:[u.jsx("option",{value:"",children:"Tm lemler"}),u.jsx("option",{value:"clicked",children:"Tklama"}),u.jsx("option",{value:"reset",children:"Reset"})]})]}),u.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem"},children:o?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Ykleniyor..."}):a.length===0?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Henz gemi kayd yok"}):u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:a.map(b=>u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",gap:"1rem",background:b.action_type==="reset"?"rgba(239, 68, 68, 0.05)":"var(--color-background)"},children:[u.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"var(--radius-sm)",background:b.action_type==="reset"?"rgba(239, 68, 68, 0.1)":"rgba(139, 92, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:b.action_type==="reset"?u.jsx(K_,{size:20,color:"var(--color-error)"}):u.jsx(im,{size:20,color:"var(--color-primary)"})}),u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:b.keyword}),u.jsxs("div",{style:{fontSize:"14px",color:"var(--color-text-muted)",display:"flex",gap:"0.5rem",alignItems:"center"},children:[u.jsxs("span",{children:[_(b.country_code)," ",b.country_code]}),u.jsx("span",{children:""}),u.jsx("span",{children:b.action_type==="clicked"?"Tklama":"Reset"})]})]}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:S(b.created_at)})]},b.id))})})]})})}const u3=[{code:"US",flag:"",name:"ABD"},{code:"CA",flag:"",name:"Kanada"},{code:"GB",flag:"",name:"ngiltere"},{code:"AU",flag:"",name:"Avustralya"},{code:"NZ",flag:"",name:"Yeni Zelanda"}];function d3({userId:t}){const[e,r]=D.useState([]),[a,s]=D.useState(!0),[o,c]=D.useState(new Set),[f,h]=D.useState(new Set),[m,g]=D.useState(new Map),[x,y]=D.useState(!1),[w,S]=D.useState(""),[_,b]=D.useState("");D.useEffect(()=>{t&&(k(),R())},[t]);const k=async()=>{s(!0);try{const I=await s3();await l3(Ae,I);const{data:G,error:te}=await Ae.from("research_keywords").select("*").order("keyword",{ascending:!0});if(te)throw te;r(G||[])}catch(I){console.error("Error loading keywords:",I)}finally{s(!1)}},R=async()=>{if(t)try{const{data:I}=await Ae.from("research_history").select("keyword, country_code").eq("user_id",t).eq("action_type","clicked"),G=new Set;I?.forEach(ye=>{G.add(`${ye.keyword}|${ye.country_code}`)}),c(G);const{data:te}=await Ae.from("research_history").select(`
          keyword, 
          country_code, 
          user_id,
          app_users(username, full_name)
        `).eq("action_type","clicked").neq("user_id",t),ee=new Set,ie=new Map;te?.forEach(ye=>{const qe=`${ye.keyword}|${ye.country_code}`;ee.add(qe),ie.has(qe)||ie.set(qe,[]);const ce=ye.app_users;ce&&!ie.get(qe).find(J=>J.id===ye.user_id)&&ie.get(qe).push({id:ye.user_id,username:ce.username||"Bilinmeyen",full_name:ce.full_name})}),h(ee),g(ie)}catch(I){console.error("Error loading clicked states:",I);const{data:G}=await Ae.from("research_history").select("keyword, country_code").eq("action_type","clicked").neq("user_id",t),te=new Set;G?.forEach(ee=>{te.add(`${ee.keyword}|${ee.country_code}`)}),h(te)}},T=async(I,G)=>{if(!t)return;const te=`${I}|${G}`;let ee=`https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=${G}&is_targeted_country=false&media_type=all&q=${encodeURIComponent(I)}&search_type=keyword_unordered`;w&&(ee+=`&start_date[min]=${w}`),_&&(ee+=`&start_date[max]=${_}`);try{localStorage.setItem("meta_last_search",JSON.stringify({keyword:I,country_code:G,url:ee,ts:Date.now()})),window.dispatchEvent(new Event("meta_last_search_updated"))}catch{}window.open(ee,"_blank");try{const{error:ie}=await Ae.from("research_history").insert({user_id:t,keyword:I,country_code:G,action_type:"clicked"});if(ie)throw ie;c(ye=>new Set([...ye,te])),R()}catch(ie){console.error("Error saving click:",ie)}},L=async(I,G)=>{if(t)try{const{error:te}=await Ae.from("research_history").delete().eq("user_id",t).eq("keyword",I).eq("country_code",G).eq("action_type","clicked");if(te)throw te;const{error:ee}=await Ae.from("research_history").insert({user_id:t,keyword:I,country_code:G,action_type:"reset"});if(ee)throw ee;const ie=`${I}|${G}`;c(ye=>{const qe=new Set(ye);return qe.delete(ie),qe}),R()}catch(te){console.error("Error resetting:",te)}},H=async I=>{try{const{error:G}=await Ae.from("research_keywords").insert(I.map(te=>({keyword:te,created_by:t})));if(G)throw G;k()}catch(G){console.error("Error adding keywords:",G)}},Y=(I,G)=>o.has(`${I}|${G}`),A=(I,G)=>f.has(`${I}|${G}`);return u.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[u.jsxs("div",{style:{marginBottom:"1.5rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[u.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"700"},children:"Hzl Balatc"}),u.jsxs("button",{onClick:()=>y(!0),className:"primary",style:{padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"14px"},children:[u.jsx(U5,{size:18}),"Gemi"]})]}),u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",marginBottom:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[u.jsx(rm,{size:18,color:"var(--color-primary)"}),u.jsx("label",{style:{fontSize:"14px",fontWeight:"600",color:"var(--color-text-main)"},children:"Tarih Aral (Opsiyonel)"})]}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"0.25rem"},children:"Balang"}),u.jsx("input",{type:"date",value:w,onChange:I=>S(I.target.value),style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"}})]}),u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"0.25rem"},children:"Biti"}),u.jsx("input",{type:"date",value:_,onChange:I=>b(I.target.value),min:w||void 0,style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"}})]}),(w||_)&&u.jsxs("button",{onClick:()=>{S(""),b("")},style:{padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",background:"white",cursor:"pointer",fontSize:"12px",fontWeight:"600",color:"var(--color-text-muted)",display:"flex",alignItems:"center",gap:"0.25rem",height:"fit-content"},onMouseEnter:I=>{I.currentTarget.style.borderColor="var(--color-error)",I.currentTarget.style.color="var(--color-error)"},onMouseLeave:I=>{I.currentTarget.style.borderColor="var(--color-border)",I.currentTarget.style.color="var(--color-text-muted)"},children:[u.jsx(ea,{size:14}),"Temizle"]})]}),(w||_)&&u.jsx("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"var(--color-primary)",fontWeight:"500"},children:w&&_?`Aralk: ${new Date(w).toLocaleDateString("tr-TR")} - ${new Date(_).toLocaleDateString("tr-TR")}`:w?`Balang: ${new Date(w).toLocaleDateString("tr-TR")}`:`Biti: ${new Date(_).toLocaleDateString("tr-TR")}`})]}),u.jsx(o3,{onAdd:H})]}),u.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.75rem"},children:a?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Ykleniyor..."}):e.length===0?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Henz anahtar kelime yok"}):e.map(I=>u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",transition:"all var(--transition-fast)"},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:u.jsx("span",{style:{fontWeight:"600",fontSize:"15px"},children:I.keyword})}),u.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:u3.map(G=>{const te=Y(I.keyword,G.code),ee=A(I.keyword,G.code);return u.jsxs("div",{style:{position:"relative"},children:[u.jsxs("button",{onClick:()=>T(I.keyword,G.code),disabled:te,style:{padding:"0.5rem 0.75rem",border:`1px solid ${te?"var(--color-success)":ee?"var(--color-primary)":"var(--color-border)"}`,borderRadius:"var(--radius-sm)",background:te?"rgba(16, 185, 129, 0.1)":ee?"rgba(139, 92, 246, 0.05)":"white",cursor:te?"default":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"13px",fontWeight:"500",opacity:te?.6:1,transition:"all var(--transition-fast)",position:"relative"},onMouseEnter:ie=>{te||(ie.currentTarget.style.borderColor="var(--color-primary)",ie.currentTarget.style.boxShadow="var(--shadow-sm)")},onMouseLeave:ie=>{te||(ie.currentTarget.style.borderColor=ee?"var(--color-primary)":"var(--color-border)",ie.currentTarget.style.boxShadow="none")},children:[u.jsx("span",{children:G.flag}),u.jsx("span",{children:G.code}),te&&u.jsx(nm,{size:14,color:"var(--color-success)"}),ee&&!te&&u.jsx("span",{style:{fontSize:"10px",color:"var(--color-primary)"},children:""})]}),te&&u.jsx("button",{onClick:ie=>{ie.stopPropagation(),L(I.keyword,G.code)},style:{position:"absolute",top:"-8px",right:"-8px",width:"20px",height:"20px",borderRadius:"50%",background:"var(--color-error)",border:"2px solid white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:0},title:"Sfrla",children:u.jsx(K_,{size:10,color:"white"})})]},G.code)})})]},I.id))}),u.jsx(c3,{isOpen:x,onClose:()=>y(!1),userId:t})]})}function Z_({value:t=0,onChange:e,label:r,disabled:a=!1}){const[s,o]=D.useState(0),c=g=>{!a&&e&&e(g)},f=g=>{a||o(g)},h=()=>{a||o(0)},m=s||t;return u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[r&&u.jsx("label",{style:{fontSize:"14px",fontWeight:"500",color:"var(--color-text-main)"},children:r}),u.jsxs("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[[1,2,3,4,5].map(g=>u.jsx("button",{type:"button",onClick:()=>c(g),onMouseEnter:()=>f(g),onMouseLeave:h,disabled:a,style:{background:"none",border:"none",padding:"0",cursor:a?"default":"pointer",transition:"transform 0.1s"},children:u.jsx(Fo,{size:24,fill:g<=m?"var(--color-warning)":"transparent",color:g<=m?"var(--color-warning)":"var(--color-border)",style:{transition:"all 0.2s",transform:g<=m&&!a?"scale(1.1)":"scale(1)"}})},g)),t>0&&u.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"14px",color:"var(--color-text-muted)",fontWeight:"600"},children:[t,"/5"]})]})]})}const f3=[{key:"innovative",label:"novatif mi?"},{key:"lightweight",label:"Hafif mi?"},{key:"low_variation",label:"Varyasyonu Az m?"},{key:"problem_solving",label:"Sorun zyor mu?"},{key:"visual_sellable",label:"Gstererek Satlabilir mi?"}];function h3({userId:t,onProductsChange:e}){const[r,a]=D.useState(!1),[s,o]=D.useState({product_name:"",meta_link:"",trendyol_link:"",amazon_link:"",image_url:"",ad_count:"",country_code:"",search_keyword:"",scores:{innovative:0,lightweight:0,low_variation:0,problem_solving:0,visual_sellable:0},notes:""}),c=D.useMemo(()=>{const x=Object.values(s.scores);return x.length===0?0:x.reduce((y,w)=>y+w,0)/x.length},[s.scores]);D.useEffect(()=>{const x=()=>{try{const S=localStorage.getItem("meta_last_search");if(!S)return;const _=JSON.parse(S);(_?.keyword||_?.country_code)&&o(b=>({...b,search_keyword:_.keyword||b.search_keyword,country_code:_.country_code||b.country_code,meta_link:_.url||b.meta_link}))}catch{}};x();const y=S=>{S.key==="meta_last_search"&&x()},w=()=>{x()};return window.addEventListener("storage",y),window.addEventListener("meta_last_search_updated",w),()=>{window.removeEventListener("storage",y),window.removeEventListener("meta_last_search_updated",w)}},[]);const f=(x,y)=>{o(w=>({...w,scores:{...w.scores,[x]:y}}))},m=(parseInt(s.ad_count||"0")||0)>30,g=async()=>{a(!0);try{const x=s.product_name.trim();if(!x){alert("Ltfen rn adn girin"),a(!1);return}if(!t){alert("Kullanc bilgisi bulunamad. Ltfen tekrar giri yapn."),a(!1);return}const y=s.scores,w=Object.values(y).reduce((L,H)=>L+H,0)/Object.values(y).length,S={user_id:t,product_name:x,meta_link:s.meta_link.trim()||null,trendyol_link:s.trendyol_link.trim()||null,amazon_link:s.amazon_link.trim()||null,image_url:s.image_url.trim()||null,ad_count:s.ad_count?parseInt(s.ad_count):0,country_code:s.country_code.trim()||null,search_keyword:s.search_keyword.trim()||null,scores:y,potential_score:parseFloat((isFinite(w)?w:0).toFixed(2)),notes:s.notes.trim()||null},{data:_,error:b}=await Ae.from("discovered_products").insert([S]).select();if(b)throw console.error("Supabase error:",b),b;if(!_||_.length===0)throw new Error("rn kaydedildi ama yant alnamad");const k=localStorage.getItem("meta_last_search");let R="",T="";if(k)try{const L=JSON.parse(k);R=L.keyword||"",T=L.country_code||""}catch{}o({product_name:"",meta_link:"",trendyol_link:"",amazon_link:"",image_url:"",ad_count:"",country_code:T,search_keyword:R,scores:{innovative:0,lightweight:0,low_variation:0,problem_solving:0,visual_sellable:0},notes:""}),e&&e(),console.log("rn baaryla kaydedildi:",_[0])}catch(x){console.error("Error saving product:",x);const y=x.message||"rn kaydedilirken hata olutu";alert(`rn kaydedilemedi: ${y}`)}finally{a(!1)}};return u.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[u.jsx("div",{style:{flexShrink:0,marginBottom:"0.75rem"},children:u.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",marginBottom:"0.75rem"},children:"Hzl Analiz ve Kayt"})}),u.jsx("div",{id:"product-form",style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",overflowY:"auto",flex:1,minHeight:0},children:u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Sat Linki"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[u.jsx("input",{type:"text",value:s.image_url,onChange:x=>o(y=>({...y,image_url:x.target.value})),placeholder:"https://...",style:{flex:1,padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}}),s.image_url&&u.jsx("img",{src:s.image_url,alt:"Preview",style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)"},onError:x=>{x.target.style.display="none"}})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"rn Ad"}),u.jsx("input",{type:"text",value:s.product_name,onChange:x=>o(y=>({...y,product_name:x.target.value})),placeholder:"rn ad",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Meta Linki"}),u.jsx("input",{type:"text",value:s.meta_link,onChange:x=>o(y=>({...y,meta_link:x.target.value})),placeholder:"https://www.facebook.com/ads/library/...",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Trendyol Linki"}),u.jsx("input",{type:"text",value:s.trendyol_link,onChange:x=>o(y=>({...y,trendyol_link:x.target.value})),placeholder:"https://www.trendyol.com/...",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Reklam Says"}),u.jsxs("div",{style:{position:"relative"},children:[u.jsx("input",{type:"number",value:s.ad_count,onChange:x=>o(y=>({...y,ad_count:x.target.value})),placeholder:"0",min:"0",style:{width:"100%",padding:"0.5rem 0.65rem",border:`1px solid ${m?"var(--color-success)":"var(--color-border)"}`,borderRadius:"var(--radius-sm)",fontSize:"13px",transition:"border var(--transition-fast)"}}),m&&u.jsx("span",{style:{position:"absolute",top:"-8px",right:"8px",padding:"0.2rem 0.4rem",background:"var(--color-success)",color:"white",borderRadius:"var(--radius-sm)",fontSize:"10px",fontWeight:"700"},children:" Markalama"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Amazon Linki"}),u.jsx("input",{type:"text",value:s.amazon_link,onChange:x=>o(y=>({...y,amazon_link:x.target.value})),placeholder:"https://www.amazon.com/...",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:f3.map(x=>u.jsx(Z_,{label:`${x.label}`,value:s.scores[x.key],onChange:y=>f(x.key,y)},x.key))}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"lke Kodu (US/CA/GB/AU/NZ)"}),u.jsx("input",{type:"text",value:s.country_code,onChange:x=>o(y=>({...y,country_code:x.target.value})),placeholder:"US",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Anahtar Kelime"}),u.jsx("input",{type:"text",value:s.search_keyword,onChange:x=>o(y=>({...y,search_keyword:x.target.value})),placeholder:"rn: free shipping",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Not"}),u.jsx("textarea",{value:s.notes,onChange:x=>o(y=>({...y,notes:x.target.value})),rows:2,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",resize:"vertical"}})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem",alignItems:"end"},children:[c>0&&u.jsxs("div",{style:{padding:"0.75rem",background:"var(--color-background)",borderRadius:"var(--radius-sm)",textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"11px",color:"var(--color-text-muted)",marginBottom:"0.25rem"},children:"Potansiyel Skoru"}),u.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:c>=4?"var(--color-success)":c>=3?"var(--color-warning)":"var(--color-error)"},children:[c.toFixed(1),"/5"]})]}),u.jsxs("button",{onClick:g,disabled:r,className:"primary",style:{padding:"0.6rem 1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:"600",fontSize:"13px",background:"linear-gradient(135deg, var(--color-primary), var(--color-accent))",boxShadow:"var(--shadow-glow)",opacity:r?.5:1,cursor:r?"not-allowed":"pointer"},children:[u.jsx(Xo,{size:16}),"Kaydet"]})]})]})})]})}const m3="v19.0",e2=`https://graph.facebook.com/${m3}`,Yu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5bnd3aHVnd256ZWtyb3p4eXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMTQ0NzUsImV4cCI6MjA4MDU5MDQ3NX0.9JKTRgcYhzdQ2jaIi95PlFFj_bgg6jzJObLP9BQUHYg";function t2(){try{if(typeof localStorage<"u"){const t=localStorage.getItem("meta_proxy_override");if(t)return t}}catch{}return"https://kynwwhugwnzekrozxytj.functions.supabase.co/meta-ads-proxy"}const p3=t=>new Promise(e=>setTimeout(e,t)),g3=/(shop\s*now|imdi\s*alveri\s*yap)/i;function v3(t){return[t.ad_creative_body,t.ad_creative_link_title,t.ad_creative_link_caption,t.ad_creative_link_description,t.link_caption,t.link_description].filter(Boolean).some(r=>g3.test(r))}function x3(t){return{Authorization:t?`Bearer ${t}`:void 0}}async function om(t,e,r=1){const a=await fetch(t,{headers:x3(e)});if(!a.ok){if(r>0&&a.status>=500)return await p3(400),om(t,e,r-1);const s=await a.text();throw new Error(`Graph error ${a.status}: ${s}`)}return a.json()}async function y3(t){const{countries:e=[],search_terms:r=[],ad_active_status:a="ALL",media_type:s="ALL",publisher_platforms:o=[],since:c,until:f,limit:h=25,accessToken:m,after:g}=t,x=new URLSearchParams;x.set("search_type","KEYWORD_UNORDERED"),x.set("ad_type","ALL"),x.set("ad_active_status",a.toUpperCase()),x.set("media_type",s.toUpperCase()),x.set("limit",String(h)),x.set("fields",["ad_snapshot_url","page_name","page_id","ad_creative_body","ad_creative_link_title","ad_creative_link_caption","ad_creative_link_description","link_caption","link_description","publisher_platforms","impressions","delivery_by_region"].join(",")),e.length&&e.forEach((S,_)=>x.set(`ad_reached_countries[${_}]`,S)),r.length&&x.set("search_terms",r.join(" ")),o.length&&o.forEach((S,_)=>x.set(`publisher_platforms[${_}]`,S.toLowerCase())),c&&x.set("ad_delivery_date_min",c),f&&x.set("ad_delivery_date_max",f),g&&x.set("after",g);const y=`${e2}/ads_archive?${x.toString()}`,w=t2();if(w){const S=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json",apikey:Yu,Authorization:`Bearer ${Yu}`},body:JSON.stringify({action:"search",query:Object.fromEntries(x),after:g,countries:e,search_terms:r,publisher_platforms:o,since:c,until:f})});if(!S.ok){let _;try{_=await S.json()}catch{const L=await S.text();throw new Error(`Proxy error ${S.status}: ${L}`)}const b=_.error||"Unknown proxy error",k=_.code,R=_.details;if(k==="TOKEN_VALIDATION_ERROR"||b.includes("token")||b.includes("Token"))throw new Error(`Token hatas: ${b}. Ltfen Supabase secrets'da META_ADS_TOKEN'in doru ekilde set edildiinden emin olun.`);if(R&&R.code){const T=R.code===1?"Token geersiz veya sresi dolmu. Ltfen yeni bir token oluturun.":R.code===190?"Token sresi dolmu. Ltfen yeni bir token oluturun.":R.code===10||R.code===200?"Token yetersiz izinlere sahip. ads_read veya ads_management izinlerini kontrol edin.":"";throw new Error(`${b}${T?` ${T}`:""}${R.originalMessage?` (${R.originalMessage})`:""}`)}throw new Error(`Proxy error ${S.status}: ${b}${R?` - ${JSON.stringify(R)}`:""}`)}return S.json()}return om(y,m)}async function _3({page_id:t,since:e,until:r,accessToken:a,limit:s=50}){const o=new URLSearchParams;o.set("search_type","PAGE"),o.set("page_ids[0]",t),o.set("ad_active_status","all"),o.set("limit",String(s)),o.set("fields","id"),e&&o.set("ad_delivery_date_min",e),r&&o.set("ad_delivery_date_max",r);const c=`${e2}/ads_archive?${o.toString()}`,f=t2();if(f){const g=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json",apikey:Yu,Authorization:`Bearer ${Yu}`},body:JSON.stringify({action:"count",query:Object.fromEntries(o)})});if(!g.ok){let w;try{w=await g.json()}catch{const R=await g.text();throw new Error(`Proxy error ${g.status}: ${R}`)}const S=w.error||"Unknown proxy error",_=w.code,b=w.details;if(_==="TOKEN_VALIDATION_ERROR"||S.includes("token")||S.includes("Token"))throw new Error(`Token hatas: ${S}. Ltfen Supabase secrets'da META_ADS_TOKEN'in doru ekilde set edildiinden emin olun.`);if(b&&b.code){const k=b.code===1?"Token geersiz veya sresi dolmu. Ltfen yeni bir token oluturun.":b.code===190?"Token sresi dolmu. Ltfen yeni bir token oluturun.":b.code===10||b.code===200?"Token yetersiz izinlere sahip. ads_read veya ads_management izinlerini kontrol edin.":"";throw new Error(`${S}${k?` ${k}`:""}${b.originalMessage?` (${b.originalMessage})`:""}`)}throw new Error(`Proxy error ${g.status}: ${S}${b?` - ${JSON.stringify(b)}`:""}`)}return((await g.json()).data||[]).length}return((await om(c,a)).data||[]).length}const b3=/shop\s*now|imdi\s*alveri\s*yap/i,w3=["US","CA","GB","AU","NZ"],S3=["facebook","instagram"],E3=()=>new Date().toISOString().slice(0,10),T3=()=>{const t=new Date;return t.setDate(t.getDate()-14),t.toISOString().slice(0,10)};function k3({onPrefill:t}){const r="https://kynwwhugwnzekrozxytj.functions.supabase.co/meta-ads-proxy",[a,s]=D.useState(""),[o,c]=D.useState(""),f=!!(o||r),[h,m]=D.useState(w3.join(",")),[g,x]=D.useState(""),[y,w]=D.useState("ALL"),[S,_]=D.useState(S3.join(",")),[b,k]=D.useState("ACTIVE"),[R,T]=D.useState(T3()),[L,H]=D.useState(E3()),[Y,A]=D.useState(50),[I,G]=D.useState(25),[te,ee]=D.useState(!1),[ie,ye]=D.useState([]),[qe,ce]=D.useState([]),J=D.useMemo(()=>h.split(",").map(N=>N.trim().toUpperCase()).filter(Boolean),[h]),me=D.useMemo(()=>g.split(",").map(N=>N.trim()).filter(Boolean),[g]),Ce=D.useMemo(()=>S.split(",").map(N=>N.trim().toLowerCase()).filter(Boolean),[S]),Fe=N=>ce(U=>[`${new Date().toLocaleTimeString()}: ${N}`,...U].slice(0,30)),Q=async()=>{ee(!0),ye([]);try{let N=[],U,Z=0,he=0,we=0;for(Fe(` Tarama balatld: ${me.length} keyword, ${J.length} lke`);N.length<Y;){const ke=await y3({countries:J,search_terms:me,ad_active_status:b,media_type:y,publisher_platforms:Ce,since:R,until:L,limit:I,accessToken:a||"EAA9Y5I8p9rMBQH8Kh2Hb27yYREEhyCk7UKF72SXaNZCd8flKiIxGZCkQJ2bLhNdFNNSCn6nokezXmo2sJ0KobmvRwDPmQPYKNTqLZBb0W5RssrgZBSMzV8amJgJnnuFrPIWZBZASfoxwYmS0hUG287TMySGbZADT69BC9dJtwSzmOL0vajAD9E9ysRom2lIEJCFmA1aRjLCA2qZBb51nDxWlRzIp3tnH5fSlEkxmrsNX",after:U}),Ge=ke.data||[];Z+=Ge.length,Fe(` ekilen: ${Ge.length}, Toplam: ${Z}`),Ge.length===0&&Fe(" Bu sayfada sonu yok, devam ediliyor...");const Ke=await Promise.all(Ge.map(async nt=>{const De=v3(nt)||b3.test(nt.ad_creative_body||"");De&&he++;let at=null;try{at=await _3({page_id:nt.page_id,since:R,until:L,accessToken:a||"EAA9Y5I8p9rMBQH8Kh2Hb27yYREEhyCk7UKF72SXaNZCd8flKiIxGZCkQJ2bLhNdFNNSCn6nokezXmo2sJ0KobmvRwDPmQPYKNTqLZBb0W5RssrgZBSMzV8amJgJnnuFrPIWZBZASfoxwYmS0hUG287TMySGbZADT69BC9dJtwSzmOL0vajAD9E9ysRom2lIEJCFmA1aRjLCA2qZBb51nDxWlRzIp3tnH5fSlEkxmrsNX",limit:50}),at>=30&&we++}catch{}return{...nt,ctaHit:De,pageCount:at,keywordUsed:me.join(", "),countriesUsed:J.join(", ")}}));if(N=[...N,...Ke],U=ke.paging?.cursors?.after,!U||Ge.length===0){Fe(" Sayfa sonu, tarama tamamland");break}if(N.length>=Y)break}Fe(` zet: Toplam ${Z} reklam ekildi`),Fe(` CTA bulunan: ${he} reklam`),Fe(` 30+ reklam veren: ${we} sayfa`);const _e=N.filter(ke=>(ke.pageCount??0)>=30&&ke.ctaHit);ye(_e),Fe(` Final filtre sonucu: ${_e.length} uygun sayfa`),_e.length===0&&Z>0&&Fe(" pucu: Filtreler ok sk olabilir. CTA veya 30+ reklam filtresini gevetmeyi deneyin.")}catch(N){console.error(N);const U=N.message||"Bilinmeyen hata";U.includes("token")||U.includes("Token")||U.includes("TOKEN")?(Fe(` Token Hatas: ${U}`),Fe(" zm: Supabase secrets'da META_ADS_TOKEN'in doru ekilde set edildiinden emin olun."),Fe(" Token'n ads_read veya ads_management izinlerine sahip olduunu kontrol edin.")):Fe(` Hata: ${U}`)}finally{ee(!1)}},j=N=>{ye(U=>U.filter(Z=>Z.id!==N))},C=N=>{t&&t({product_name:N.page_name||"",meta_link:N.ad_snapshot_url||"",country_code:J[0]||"",search_keyword:me.join(", "),proof_link:N.ad_snapshot_url||"",notes:N.ad_creative_body||""});try{localStorage.setItem("meta_prefill_product",JSON.stringify({product_name:N.page_name||"",meta_link:N.ad_snapshot_url||"",country_code:J[0]||"",search_keyword:me.join(", "),proof_link:N.ad_snapshot_url||"",notes:N.ad_creative_body||""}))}catch{}};D.useEffect(()=>{try{const N=localStorage.getItem("meta_proxy_override");N&&c(N)}catch{}},[]);const W=N=>{c(N);try{N?localStorage.setItem("meta_proxy_override",N):localStorage.removeItem("meta_proxy_override")}catch{}};return u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",marginBottom:"0.25rem"},children:[u.jsx("span",{style:{background:"var(--color-surface-muted, #f8fafc)",border:"1px solid var(--color-border)",padding:"0.25rem 0.55rem",borderRadius:"10px",fontSize:"12px",letterSpacing:"0.3px",color:"var(--color-text-main)"},children:"Otomatik Meta Tarayc"}),u.jsx("span",{style:{background:"rgba(16,185,129,0.12)",border:"1px solid rgba(16,185,129,0.25)",color:"#0f766e",padding:"0.25rem 0.55rem",borderRadius:"10px",fontSize:"12px",fontWeight:700},children:"CTA + 30+ reklam filtresi"}),f&&u.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.35rem",fontSize:"12px",color:"#0f766e",background:"#ecfdf3",padding:"0.25rem 0.55rem",borderRadius:"10px",border:"1px solid #d1fae5"},children:[u.jsx(fx,{size:12}),"Proxy aktif"]}),!f&&u.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.35rem",fontSize:"12px",color:"#1d4ed8",background:"#eef2ff",padding:"0.25rem 0.55rem",borderRadius:"10px",border:"1px solid #e0e7ff"},children:[u.jsx(fx,{size:12}),"Env token"]})]}),u.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:700,color:"var(--color-text-main)"},children:`14 gnde "Shop now/imdi alveri yap" CTA'sn yakalayan sayfalar bul`})]}),u.jsx("button",{onClick:()=>{ye([]),ce([])},style:{padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",background:"white",color:"var(--color-text-main)",fontWeight:600,fontSize:"13px"},children:"Temizle"})]}),u.jsx("div",{id:"meta-scanner-form",style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",marginBottom:"0.75rem",maxHeight:"50vh",overflowY:"auto"},children:u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"lkeler (virglle)"}),u.jsx("input",{type:"text",value:h,onChange:N=>m(N.target.value),placeholder:"US,CA,GB",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Keywords (virglle)"}),u.jsx("input",{type:"text",value:g,onChange:N=>x(N.target.value),placeholder:"shop now, buy now",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Platformlar"}),u.jsx("input",{type:"text",value:S,onChange:N=>_(N.target.value),placeholder:"facebook,instagram",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Media Type"}),u.jsxs("select",{value:y,onChange:N=>w(N.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"},children:[u.jsx("option",{value:"ALL",children:"ALL"}),u.jsx("option",{value:"VIDEO",children:"VIDEO"}),u.jsx("option",{value:"IMAGE",children:"IMAGE"})]})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Status"}),u.jsxs("select",{value:b,onChange:N=>k(N.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"},children:[u.jsx("option",{value:"ALL",children:"ALL"}),u.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),u.jsx("option",{value:"INACTIVE",children:"INACTIVE"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Tarih (Min)"}),u.jsx("input",{type:"date",value:R,onChange:N=>T(N.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Tarih (Max)"}),u.jsx("input",{type:"date",value:L,onChange:N=>H(N.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Hedef Adet"}),u.jsx("input",{type:"number",value:Y,onChange:N=>A(parseInt(N.target.value)||0),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Sayfa Bana Limit"}),u.jsx("input",{type:"number",value:I,onChange:N=>G(parseInt(N.target.value)||25),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]}),!1,u.jsxs("div",{children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.35rem",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:[u.jsx(V5,{size:12}),"Proxy URL (istee bal)"]}),u.jsx("input",{type:"text",value:o,onChange:N=>W(N.target.value),placeholder:r,style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]})]}),!1]})}),u.jsx("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"0.75rem"},children:u.jsxs("button",{onClick:Q,className:"primary",disabled:te||!f&&!1,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1.1rem",borderRadius:"var(--radius-sm)",fontSize:"14px",fontWeight:600},children:[te?u.jsx(nn,{size:16,className:"spin"}):u.jsx(sm,{size:16}),"Taramay Balat"]})}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"0.75rem"},children:ie.map(N=>u.jsxs("div",{className:"glass-panel",style:{padding:"0.85rem",borderRadius:"14px",border:"1px solid var(--color-border)",position:"relative"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"0.5rem"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:"700",fontSize:"15px"},children:N.page_name||"Bilinmeyen Sayfa"}),u.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:["Page ID: ",N.page_id]}),u.jsxs("div",{style:{display:"flex",gap:"0.35rem",flexWrap:"wrap",marginTop:"0.35rem",fontSize:"11px"},children:[u.jsxs("span",{style:{background:"rgba(16,185,129,0.1)",color:"var(--color-success)",padding:"0.2rem 0.4rem",borderRadius:"8px",fontWeight:700},children:[N.pageCount??"?"," ads /14g"]}),N.ctaHit?u.jsx("span",{style:{background:"rgba(139,92,246,0.12)",color:"var(--color-primary)",padding:"0.2rem 0.4rem",borderRadius:"8px",fontWeight:700},children:"CTA bulundu"}):u.jsx("span",{style:{background:"rgba(239,68,68,0.1)",color:"var(--color-error)",padding:"0.2rem 0.4rem",borderRadius:"8px",fontWeight:700},children:"CTA yok"}),u.jsx("span",{style:{background:"rgba(59,130,246,0.1)",color:"#2563eb",padding:"0.2rem 0.4rem",borderRadius:"8px",fontWeight:700},children:N.countriesUsed}),u.jsx("span",{style:{background:"rgba(16,185,129,0.1)",color:"#0f766e",padding:"0.2rem 0.4rem",borderRadius:"8px",fontWeight:700},children:N.keywordUsed})]})]}),u.jsxs("div",{style:{display:"flex",gap:"0.35rem"},children:[u.jsx("a",{href:N.ad_snapshot_url,target:"_blank",rel:"noreferrer",title:"Snapshot",style:{padding:"0.35rem",borderRadius:"10px",border:"1px solid var(--color-border)",background:"white"},children:u.jsx(Xn,{size:14})}),u.jsx("button",{onClick:()=>j(N.id),style:{padding:"0.35rem",borderRadius:"10px",border:"1px solid var(--color-border)",background:"white"},children:u.jsx(ea,{size:14})})]})]}),u.jsx("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"var(--color-text-muted)",maxHeight:"70px",overflow:"auto"},children:N.ad_creative_body||"Metin yok"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.65rem"},children:[u.jsxs("button",{onClick:()=>C(N),className:"primary",style:{flex:1,padding:"0.55rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.35rem"},children:[u.jsx(U_,{size:14}),"Taslaa ekle"]}),u.jsx("button",{onClick:()=>j(N.id),style:{padding:"0.55rem",border:"1px solid var(--color-border)",borderRadius:"10px",background:"white",fontWeight:"600"},children:"Sil"})]})]},N.id))}),u.jsxs("div",{style:{marginTop:"1rem"},children:[u.jsx("div",{className:"eyebrow",children:"Log"}),u.jsx("div",{style:{maxHeight:"120px",overflow:"auto",fontSize:"12px",color:"var(--color-text-muted)",padding:"0.5rem",border:"1px solid var(--color-border)",borderRadius:"10px",background:"white"},children:qe.length===0?"Henz log yok":qe.map((N,U)=>u.jsx("div",{children:N},U))})]})]})}function A3({product:t,onEdit:e,currentUserId:r,unreadCount:a=0,isNew:s=!1,firstSeenAt:o=null}){typeof t.scores=="string"?JSON.parse(t.scores):t.scores;const c=x=>x>=4?"var(--color-success)":x>=3?"var(--color-warning)":"var(--color-error)",f=t.app_users||{},h=t.user_id===r,m=f.username||f.full_name||"Bilinmeyen",g=t.created_at?new Date(t.created_at).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return u.jsxs("div",{style:{padding:"1.25rem",border:s?"2px solid rgba(139, 92, 246, 0.3)":"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:s?"linear-gradient(135deg, rgba(139, 92, 246, 0.02), rgba(99, 102, 241, 0.02))":"white",transition:"all var(--transition-fast)",cursor:"pointer",position:"relative",boxShadow:s?"0 0 0 1px rgba(139, 92, 246, 0.1), 0 4px 12px rgba(139, 92, 246, 0.15)":"none",animation:s?"pulseGlow 2s ease-in-out infinite":"none"},onMouseEnter:x=>{s||(x.currentTarget.style.borderColor="var(--color-primary)",x.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:x=>{s||(x.currentTarget.style.borderColor="var(--color-border)",x.currentTarget.style.boxShadow="none")},onClick:e,children:[s&&u.jsx("div",{style:{position:"absolute",top:"8px",left:"8px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",color:"white",borderRadius:"8px",padding:"0.25rem 0.5rem",fontSize:"10px",fontWeight:"700",display:"inline-flex",alignItems:"center",gap:"0.25rem",boxShadow:"0 2px 8px rgba(139, 92, 246, 0.4)",zIndex:10,animation:"pulse 2s ease-in-out infinite"},children:"YEN"}),a>0&&u.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",background:"var(--color-primary)",color:"white",borderRadius:"12px",padding:"0.15rem 0.45rem",fontSize:"11px",fontWeight:"700",display:"inline-flex",alignItems:"center",gap:"0.25rem",boxShadow:"0 2px 6px rgba(0,0,0,0.12)",zIndex:10},children:[u.jsx(q_,{size:12}),a]}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.image_url&&u.jsx("img",{src:t.image_url,alt:t.product_name,style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)"},onError:x=>{x.target.style.display="none"}}),u.jsxs("div",{style:{flex:1,minWidth:0},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:t.product_name||"simsiz rn"}),!h&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",background:"rgba(139, 92, 246, 0.1)",borderRadius:"var(--radius-sm)",fontSize:"11px",fontWeight:"600",color:"var(--color-primary)",marginLeft:"0.5rem",flexShrink:0},children:[u.jsx(UA,{size:12}),m]}),h&&u.jsx("div",{style:{padding:"0.25rem 0.5rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"var(--radius-sm)",fontSize:"11px",fontWeight:"600",color:"var(--color-success)",marginLeft:"0.5rem",flexShrink:0},children:"Benim"})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"13px",color:"var(--color-text-muted)"},children:g&&u.jsx("span",{children:g})}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"14px",flexWrap:"wrap"},children:[u.jsx("span",{style:{color:"var(--color-text-muted)"},children:"Reklam Says:"}),u.jsx("span",{style:{fontWeight:"600"},children:t.ad_count??"-"}),t.ad_count>30&&u.jsx("span",{style:{padding:"0.25rem 0.5rem",background:"rgba(16, 185, 129, 0.1)",color:"var(--color-success)",borderRadius:"var(--radius-sm)",fontSize:"12px",fontWeight:"600"},children:" Markalama Sinyali"}),t.country_code&&u.jsx("span",{style:{fontSize:"12px",color:"var(--color-text-muted)",background:"rgba(59,130,246,0.08)",padding:"0.2rem 0.4rem",borderRadius:"8px"},children:t.country_code}),t.search_keyword&&u.jsx("span",{style:{fontSize:"12px",color:"var(--color-text-muted)",background:"rgba(16,185,129,0.08)",padding:"0.2rem 0.4rem",borderRadius:"8px"},children:t.search_keyword})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"14px"},children:[u.jsx("span",{style:{color:"var(--color-text-muted)"},children:"Potansiyel Skoru:"}),u.jsxs("span",{style:{fontWeight:"700",fontSize:"16px",color:c(t.potential_score)},children:[t.potential_score?.toFixed(1)||"0.0","/5"]})]}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",fontSize:"12px"},children:[t.meta_link&&u.jsxs("a",{href:t.meta_link,target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none"},children:[u.jsx(Xn,{size:14}),"Meta"]}),t.image_url&&u.jsxs("a",{href:t.image_url,target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none"},children:[u.jsx(Xn,{size:14}),"rn Sat Linki"]}),t.trendyol_link&&u.jsxs("a",{href:t.trendyol_link,target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none"},children:[u.jsx(Xn,{size:14}),"Trendyol"]}),t.amazon_link&&u.jsxs("a",{href:t.amazon_link,target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none"},children:[u.jsx(Xn,{size:14}),"Amazon"]})]})]})]})]}),u.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.8;
            transform: scale(1.05);
          }
        }
        @keyframes pulseGlow {
          0%, 100% {
            box-shadow: 0 0 0 1px rgba(139, 92, 246, 0.1), 0 4px 12px rgba(139, 92, 246, 0.15);
          }
          50% {
            box-shadow: 0 0 0 1px rgba(139, 92, 246, 0.2), 0 4px 16px rgba(139, 92, 246, 0.25);
          }
        }
      `})]})}var Xu={};Xu.version="0.18.5";var r2=1252,j3=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],n2=function(t){j3.indexOf(t)!=-1&&(r2=t)};function C3(){n2(1252)}var Bo=function(t){n2(t)};function R3(){Bo(1200),C3()}var wu=function(e){return String.fromCharCode(e)},hx=function(e){return String.fromCharCode(e)},Ju,Si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Io(t){for(var e="",r=0,a=0,s=0,o=0,c=0,f=0,h=0,m=0;m<t.length;)r=t.charCodeAt(m++),o=r>>2,a=t.charCodeAt(m++),c=(r&3)<<4|a>>4,s=t.charCodeAt(m++),f=(a&15)<<2|s>>6,h=s&63,isNaN(a)?f=h=64:isNaN(s)&&(h=64),e+=Si.charAt(o)+Si.charAt(c)+Si.charAt(f)+Si.charAt(h);return e}function Ha(t){var e="",r=0,a=0,s=0,o=0,c=0,f=0,h=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var m=0;m<t.length;)o=Si.indexOf(t.charAt(m++)),c=Si.indexOf(t.charAt(m++)),r=o<<2|c>>4,e+=String.fromCharCode(r),f=Si.indexOf(t.charAt(m++)),a=(c&15)<<4|f>>2,f!==64&&(e+=String.fromCharCode(a)),h=Si.indexOf(t.charAt(m++)),s=(f&3)<<6|h,h!==64&&(e+=String.fromCharCode(s));return e}var Tt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),qa=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function ss(t){return Tt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function mx(t){return Tt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Jn=function(e){return Tt?qa(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function bd(t){if(typeof ArrayBuffer>"u")return Jn(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),a=0;a!=t.length;++a)r[a]=t.charCodeAt(a)&255;return e}function Jo(t){if(Array.isArray(t))return t.map(function(a){return String.fromCharCode(a)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function O3(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Rr=Tt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:qa(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var a=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)a.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";a.set(new Uint8Array(t[e]),r)}return a}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function N3(t){for(var e=[],r=0,a=t.length+250,s=ss(t.length+255),o=0;o<t.length;++o){var c=t.charCodeAt(o);if(c<128)s[r++]=c;else if(c<2048)s[r++]=192|c>>6&31,s[r++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var f=t.charCodeAt(++o)&1023;s[r++]=240|c>>8&7,s[r++]=128|c>>2&63,s[r++]=128|f>>6&15|(c&3)<<4,s[r++]=128|f&63}else s[r++]=224|c>>12&15,s[r++]=128|c>>6&63,s[r++]=128|c&63;r>a&&(e.push(s.slice(0,r)),r=0,s=ss(65535),a=65530)}return e.push(s.slice(0,r)),Rr(e)}var Ao=/\u0000/g,Su=/[\u0001-\u0006]/g;function dl(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Qn(t,e){var r=""+t;return r.length>=e?r:Jt("0",e-r.length)+r}function cm(t,e){var r=""+t;return r.length>=e?r:Jt(" ",e-r.length)+r}function Qu(t,e){var r=""+t;return r.length>=e?r:r+Jt(" ",e-r.length)}function D3(t,e){var r=""+Math.round(t);return r.length>=e?r:Jt("0",e-r.length)+r}function M3(t,e){var r=""+t;return r.length>=e?r:Jt("0",e-r.length)+r}var px=Math.pow(2,32);function rl(t,e){if(t>px||t<-px)return D3(t,e);var r=Math.round(t);return M3(r,e)}function Zu(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var gx=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],eh=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function z3(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Qt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},vx={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},L3={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ed(t,e,r){for(var a=t<0?-1:1,s=t*a,o=0,c=1,f=0,h=1,m=0,g=0,x=Math.floor(s);m<e&&(x=Math.floor(s),f=x*c+o,g=x*m+h,!(s-x<5e-8));)s=1/(s-x),o=c,c=f,h=m,m=g;if(g>e&&(m>e?(g=h,f=o):(g=m,f=c)),!r)return[0,a*f,g];var y=Math.floor(a*f/g);return[y,a*f-y*g,g]}function Eu(t,e,r){if(t>2958465||t<0)return null;var a=t|0,s=Math.floor(86400*(t-a)),o=0,c=[],f={D:a,T:s,u:86400*(t-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6&&(f.u=0),e&&e.date1904&&(a+=1462),f.u>.9999&&(f.u=0,++s==86400&&(f.T=s=0,++a,++f.D)),a===60)c=r?[1317,10,29]:[1900,2,29],o=3;else if(a===0)c=r?[1317,8,29]:[1900,1,0],o=6;else{a>60&&--a;var h=new Date(1900,0,1);h.setDate(h.getDate()+a-1),c=[h.getFullYear(),h.getMonth()+1,h.getDate()],o=h.getDay(),a<60&&(o=(o+6)%7),r&&(o=$3(h,c))}return f.y=c[0],f.m=c[1],f.d=c[2],f.S=s%60,s=Math.floor(s/60),f.M=s%60,s=Math.floor(s/60),f.H=s,f.q=o,f}var a2=new Date(1899,11,31,0,0,0),F3=a2.getTime(),B3=new Date(1900,2,1,0,0,0);function i2(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=B3&&(r+=1440*60*1e3),(r-(F3+(t.getTimezoneOffset()-a2.getTimezoneOffset())*6e4))/(1440*60*1e3)}function um(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function I3(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function U3(t){var e=t<0?12:11,r=um(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function P3(t){var e=um(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function H3(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=U3(t):e===10?r=t.toFixed(10).substr(0,12):r=P3(t),um(I3(r.toUpperCase()))}function Mh(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):H3(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ai(14,i2(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function $3(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function G3(t,e,r,a){var s="",o=0,c=0,f=r.y,h,m=0;switch(t){case 98:f=r.y+543;case 121:switch(e.length){case 1:case 2:h=f%100,m=2;break;default:h=f%1e4,m=4;break}break;case 109:switch(e.length){case 1:case 2:h=r.m,m=e.length;break;case 3:return eh[r.m-1][1];case 5:return eh[r.m-1][0];default:return eh[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=r.d,m=e.length;break;case 3:return gx[r.q][0];default:return gx[r.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(r.H+11)%12,m=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=r.H,m=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=r.M,m=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Qn(r.S,e.length):(a>=2?c=a===3?1e3:100:c=a===1?10:1,o=Math.round(c*(r.S+r.u)),o>=60*c&&(o=0),e==="s"?o===0?"0":""+o/c:(s=Qn(o,2+a),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=r.D*24+r.H;break;case"[m]":case"[mm]":h=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":h=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}m=e.length===3?1:2;break;case 101:h=f,m=1;break}var g=m>0?Qn(h,m):"";return g}function Ei(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,a=t.substr(0,r);r!=t.length;r+=e)a+=(a.length>0?",":"")+t.substr(r,e);return a}var s2=/%/g;function q3(t,e,r){var a=e.replace(s2,""),s=e.length-a.length;return Ba(t,a,r*Math.pow(10,2*s))+Jt("%",s)}function W3(t,e,r){for(var a=e.length-1;e.charCodeAt(a-1)===44;)--a;return Ba(t,e.substr(0,a),r/Math.pow(10,3*(e.length-a)))}function l2(t,e){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+l2(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%s;if(o<0&&(o+=s),r=(e/Math.pow(10,o)).toPrecision(a+1+(s+o)%s),r.indexOf("e")===-1){var c=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+o):r+="E+"+(c-o);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,m,g){return h+m+g.substr(0,(s+o)%s)+"."+g.substr(o)+"E"})}else r=e.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var o2=/# (\?+)( ?)\/( ?)(\d+)/;function V3(t,e,r){var a=parseInt(t[4],10),s=Math.round(e*a),o=Math.floor(s/a),c=s-o*a,f=a;return r+(o===0?"":""+o)+" "+(c===0?Jt(" ",t[1].length+1+t[4].length):cm(c,t[1].length)+t[2]+"/"+t[3]+Qn(f,t[4].length))}function K3(t,e,r){return r+(e===0?"":""+e)+Jt(" ",t[1].length+2+t[4].length)}var c2=/^#*0*\.([0#]+)/,u2=/\).*[0#]/,d2=/\(###\) ###\\?-####/;function $r(t){for(var e="",r,a=0;a!=t.length;++a)switch(r=t.charCodeAt(a)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function xx(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function yx(t,e){var r=t-Math.floor(t),a=Math.pow(10,e);return e<(""+Math.round(r*a)).length?0:Math.round(r*a)}function Y3(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function X3(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Mn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(u2)){var a=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Mn("n",a,r):"("+Mn("n",a,-r)+")"}if(e.charCodeAt(e.length-1)===44)return W3(t,e,r);if(e.indexOf("%")!==-1)return q3(t,e,r);if(e.indexOf("E")!==-1)return l2(e,r);if(e.charCodeAt(0)===36)return"$"+Mn(t,e.substr(e.charAt(1)==" "?2:1),r);var s,o,c,f,h=Math.abs(r),m=r<0?"-":"";if(e.match(/^00+$/))return m+rl(h,e.length);if(e.match(/^[#?]+$/))return s=rl(r,0),s==="0"&&(s=""),s.length>e.length?s:$r(e.substr(0,e.length-s.length))+s;if(o=e.match(o2))return V3(o,h,m);if(e.match(/^#+0+$/))return m+rl(h,e.length-e.indexOf("0"));if(o=e.match(c2))return s=xx(r,o[1].length).replace(/^([^\.]+)$/,"$1."+$r(o[1])).replace(/\.$/,"."+$r(o[1])).replace(/\.(\d*)$/,function(S,_){return"."+_+Jt("0",$r(o[1]).length-_.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return m+xx(h,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return m+Ei(rl(h,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Mn(t,e,-r):Ei(""+(Math.floor(r)+Y3(r,o[1].length)))+"."+Qn(yx(r,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return Mn(t,e.replace(/^#,#*,/,""),r);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=dl(Mn(t,e.replace(/[\\-]/g,""),r)),c=0,dl(dl(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return c<s.length?s.charAt(c++):S==="0"?"0":""}));if(e.match(d2))return s=Mn(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var g="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),f=ed(h,Math.pow(10,c)-1,!1),s=""+m,g=Ba("n",o[1],f[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),s+=g+o[2]+"/"+o[3],g=Qu(f[2],c),g.length<o[4].length&&(g=$r(o[4].substr(o[4].length-g.length))+g),s+=g,s;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),f=ed(h,Math.pow(10,c)-1,!0),m+(f[0]||(f[1]?"":"0"))+" "+(f[1]?cm(f[1],c)+o[2]+"/"+o[3]+Qu(f[2],c):Jt(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return s=rl(r,0),e.length<=s.length?s:$r(e.substr(0,e.length-s.length))+s;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=s.indexOf(".");var x=e.indexOf(".")-c,y=e.length-s.length-x;return $r(e.substr(0,x)+s+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return c=yx(r,o[1].length),r<0?"-"+Mn(t,e,-r):Ei(X3(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Qn(0,3-S.length):"")+S})+"."+Qn(c,o[1].length);switch(e){case"###,##0.00":return Mn(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var w=Ei(rl(h,0));return w!=="0"?m+w:"";case"###,###.00":return Mn(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Mn(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function J3(t,e,r){for(var a=e.length-1;e.charCodeAt(a-1)===44;)--a;return Ba(t,e.substr(0,a),r/Math.pow(10,3*(e.length-a)))}function Q3(t,e,r){var a=e.replace(s2,""),s=e.length-a.length;return Ba(t,a,r*Math.pow(10,2*s))+Jt("%",s)}function f2(t,e){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+f2(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%s;if(o<0&&(o+=s),r=(e/Math.pow(10,o)).toPrecision(a+1+(s+o)%s),!r.match(/[Ee]/)){var c=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+o):r+="E+"+(c-o),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,m,g){return h+m+g.substr(0,(s+o)%s)+"."+g.substr(o)+"E"})}else r=e.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ca(t,e,r){if(t.charCodeAt(0)===40&&!e.match(u2)){var a=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ca("n",a,r):"("+ca("n",a,-r)+")"}if(e.charCodeAt(e.length-1)===44)return J3(t,e,r);if(e.indexOf("%")!==-1)return Q3(t,e,r);if(e.indexOf("E")!==-1)return f2(e,r);if(e.charCodeAt(0)===36)return"$"+ca(t,e.substr(e.charAt(1)==" "?2:1),r);var s,o,c,f,h=Math.abs(r),m=r<0?"-":"";if(e.match(/^00+$/))return m+Qn(h,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:$r(e.substr(0,e.length-s.length))+s;if(o=e.match(o2))return K3(o,h,m);if(e.match(/^#+0+$/))return m+Qn(h,e.length-e.indexOf("0"));if(o=e.match(c2))return s=(""+r).replace(/^([^\.]+)$/,"$1."+$r(o[1])).replace(/\.$/,"."+$r(o[1])),s=s.replace(/\.(\d*)$/,function(S,_){return"."+_+Jt("0",$r(o[1]).length-_.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return m+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return m+Ei(""+h);if(o=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ca(t,e,-r):Ei(""+r)+"."+Jt("0",o[1].length);if(o=e.match(/^#,#*,#0/))return ca(t,e.replace(/^#,#*,/,""),r);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=dl(ca(t,e.replace(/[\\-]/g,""),r)),c=0,dl(dl(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return c<s.length?s.charAt(c++):S==="0"?"0":""}));if(e.match(d2))return s=ca(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var g="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),f=ed(h,Math.pow(10,c)-1,!1),s=""+m,g=Ba("n",o[1],f[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),s+=g+o[2]+"/"+o[3],g=Qu(f[2],c),g.length<o[4].length&&(g=$r(o[4].substr(o[4].length-g.length))+g),s+=g,s;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),f=ed(h,Math.pow(10,c)-1,!0),m+(f[0]||(f[1]?"":"0"))+" "+(f[1]?cm(f[1],c)+o[2]+"/"+o[3]+Qu(f[2],c):Jt(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:$r(e.substr(0,e.length-s.length))+s;if(o=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=s.indexOf(".");var x=e.indexOf(".")-c,y=e.length-s.length-x;return $r(e.substr(0,x)+s+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ca(t,e,-r):Ei(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Qn(0,3-S.length):"")+S})+"."+Qn(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var w=Ei(""+h);return w!=="0"?m+w:"";default:if(e.match(/\.[0#?]*$/))return ca(t,e.slice(0,e.lastIndexOf(".")),r)+$r(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ba(t,e,r){return(r|0)===r?ca(t,e,r):Mn(t,e,r)}function Z3(t){for(var e=[],r=!1,a=0,s=0;a<t.length;++a)switch(t.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:e[e.length]=t.substr(s,a-s),s=a+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var h2=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function m2(t){for(var e=0,r="",a="";e<t.length;)switch(r=t.charAt(e)){case"G":Zu(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(a=r;t.charAt(e++)!=="]"&&e<t.length;)a+=t.charAt(e);if(a.match(h2))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function ej(t,e,r,a){for(var s=[],o="",c=0,f="",h="t",m,g,x,y="H";c<t.length;)switch(f=t.charAt(c)){case"G":if(!Zu(t,c))throw new Error("unrecognized character "+f+" in "+t);s[s.length]={t:"G",v:"General"},c+=7;break;case'"':for(o="";(x=t.charCodeAt(++c))!==34&&c<t.length;)o+=String.fromCharCode(x);s[s.length]={t:"t",v:o},++c;break;case"\\":var w=t.charAt(++c),S=w==="("||w===")"?w:"t";s[s.length]={t:S,v:w},++c;break;case"_":s[s.length]={t:"t",v:" "},c+=2;break;case"@":s[s.length]={t:"T",v:e},++c;break;case"B":case"b":if(t.charAt(c+1)==="1"||t.charAt(c+1)==="2"){if(m==null&&(m=Eu(e,r,t.charAt(c+1)==="2"),m==null))return"";s[s.length]={t:"X",v:t.substr(c,2)},h=f,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||m==null&&(m=Eu(e,r),m==null))return"";for(o=f;++c<t.length&&t.charAt(c).toLowerCase()===f;)o+=f;f==="m"&&h.toLowerCase()==="h"&&(f="M"),f==="h"&&(f=y),s[s.length]={t:f,v:o},h=f;break;case"A":case"a":case"":var _={t:f,v:f};if(m==null&&(m=Eu(e,r)),t.substr(c,3).toUpperCase()==="A/P"?(m!=null&&(_.v=m.H>=12?"P":"A"),_.t="T",y="h",c+=3):t.substr(c,5).toUpperCase()==="AM/PM"?(m!=null&&(_.v=m.H>=12?"PM":"AM"),_.t="T",c+=5,y="h"):t.substr(c,5).toUpperCase()==="/"?(m!=null&&(_.v=m.H>=12?"":""),_.t="T",c+=5,y="h"):(_.t="t",++c),m==null&&_.t==="T")return"";s[s.length]=_,h=f;break;case"[":for(o=f;t.charAt(c++)!=="]"&&c<t.length;)o+=t.charAt(c);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(h2)){if(m==null&&(m=Eu(e,r),m==null))return"";s[s.length]={t:"Z",v:o.toLowerCase()},h=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",m2(t)||(s[s.length]={t:"t",v:o}));break;case".":if(m!=null){for(o=f;++c<t.length&&(f=t.charAt(c))==="0";)o+=f;s[s.length]={t:"s",v:o};break}case"0":case"#":for(o=f;++c<t.length&&"0#?.,E+-%".indexOf(f=t.charAt(c))>-1;)o+=f;s[s.length]={t:"n",v:o};break;case"?":for(o=f;t.charAt(++c)===f;)o+=f;s[s.length]={t:f,v:o},h=f;break;case"*":++c,(t.charAt(c)==" "||t.charAt(c)=="*")&&++c;break;case"(":case")":s[s.length]={t:a===1?"t":f,v:f},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=f;c<t.length&&"0123456789".indexOf(t.charAt(++c))>-1;)o+=t.charAt(c);s[s.length]={t:"D",v:o};break;case" ":s[s.length]={t:f,v:f},++c;break;case"$":s[s.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+t);s[s.length]={t:"t",v:f},++c;break}var b=0,k=0,R;for(c=s.length-1,h="t";c>=0;--c)switch(s[c].t){case"h":case"H":s[c].t=y,h="h",b<1&&(b=1);break;case"s":(R=s[c].v.match(/\.0+$/))&&(k=Math.max(k,R[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":h=s[c].t;break;case"m":h==="s"&&(s[c].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&s[c].v.match(/[Hh]/)&&(b=1),b<2&&s[c].v.match(/[Mm]/)&&(b=2),b<3&&s[c].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M),m.M>=60&&(m.M=0,++m.H);break;case 2:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M);break}var T="",L;for(c=0;c<s.length;++c)switch(s[c].t){case"t":case"T":case" ":case"D":break;case"X":s[c].v="",s[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[c].v=G3(s[c].t.charCodeAt(0),s[c].v,m,k),s[c].t="t";break;case"n":case"?":for(L=c+1;s[L]!=null&&((f=s[L].t)==="?"||f==="D"||(f===" "||f==="t")&&s[L+1]!=null&&(s[L+1].t==="?"||s[L+1].t==="t"&&s[L+1].v==="/")||s[c].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(s[L].v==="/"||s[L].v===" "&&s[L+1]!=null&&s[L+1].t=="?"));)s[c].v+=s[L].v,s[L]={v:"",t:";"},++L;T+=s[c].v,c=L-1;break;case"G":s[c].t="t",s[c].v=Mh(e,r);break}var H="",Y,A;if(T.length>0){T.charCodeAt(0)==40?(Y=e<0&&T.charCodeAt(0)===45?-e:e,A=Ba("n",T,Y)):(Y=e<0&&a>1?-e:e,A=Ba("n",T,Y),Y<0&&s[0]&&s[0].t=="t"&&(A=A.substr(1),s[0].v="-"+s[0].v)),L=A.length-1;var I=s.length;for(c=0;c<s.length;++c)if(s[c]!=null&&s[c].t!="t"&&s[c].v.indexOf(".")>-1){I=c;break}var G=s.length;if(I===s.length&&A.indexOf("E")===-1){for(c=s.length-1;c>=0;--c)s[c]==null||"n?".indexOf(s[c].t)===-1||(L>=s[c].v.length-1?(L-=s[c].v.length,s[c].v=A.substr(L+1,s[c].v.length)):L<0?s[c].v="":(s[c].v=A.substr(0,L+1),L=-1),s[c].t="t",G=c);L>=0&&G<s.length&&(s[G].v=A.substr(0,L+1)+s[G].v)}else if(I!==s.length&&A.indexOf("E")===-1){for(L=A.indexOf(".")-1,c=I;c>=0;--c)if(!(s[c]==null||"n?".indexOf(s[c].t)===-1)){for(g=s[c].v.indexOf(".")>-1&&c===I?s[c].v.indexOf(".")-1:s[c].v.length-1,H=s[c].v.substr(g+1);g>=0;--g)L>=0&&(s[c].v.charAt(g)==="0"||s[c].v.charAt(g)==="#")&&(H=A.charAt(L--)+H);s[c].v=H,s[c].t="t",G=c}for(L>=0&&G<s.length&&(s[G].v=A.substr(0,L+1)+s[G].v),L=A.indexOf(".")+1,c=I;c<s.length;++c)if(!(s[c]==null||"n?(".indexOf(s[c].t)===-1&&c!==I)){for(g=s[c].v.indexOf(".")>-1&&c===I?s[c].v.indexOf(".")+1:0,H=s[c].v.substr(0,g);g<s[c].v.length;++g)L<A.length&&(H+=A.charAt(L++));s[c].v=H,s[c].t="t",G=c}}}for(c=0;c<s.length;++c)s[c]!=null&&"n?".indexOf(s[c].t)>-1&&(Y=a>1&&e<0&&c>0&&s[c-1].v==="-"?-e:e,s[c].v=Ba(s[c].t,s[c].v,Y),s[c].t="t");var te="";for(c=0;c!==s.length;++c)s[c]!=null&&(te+=s[c].v);return te}var _x=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function bx(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function tj(t,e){var r=Z3(t),a=r.length,s=r[a-1].indexOf("@");if(a<4&&s>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var o=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,o];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var c=r[0].match(_x),f=r[1].match(_x);return bx(e,c)?[a,r[0]]:bx(e,f)?[a,r[1]]:[a,r[c!=null&&f!=null?2:1]]}return[a,o]}function Ai(t,e,r){r==null&&(r={});var a="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?a=r.dateNF:a=t;break;case"number":t==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Qt)[t],a==null&&(a=r.table&&r.table[vx[t]]||Qt[vx[t]]),a==null&&(a=L3[t]||"General");break}if(Zu(a,0))return Mh(e,r);e instanceof Date&&(e=i2(e,r.date1904));var s=tj(a,e);if(Zu(s[1]))return Mh(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return ej(s[1],e,r,s[0])}function p2(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Qt[r]==null){e<0&&(e=r);continue}if(Qt[r]==t){e=r;break}}e<0&&(e=391)}return Qt[e]=t,e}function wd(t){for(var e=0;e!=392;++e)t[e]!==void 0&&p2(t[e],e)}function Sd(){Qt=z3()}var g2=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function rj(t){var e=typeof t=="number"?Qt[t]:t;return e=e.replace(g2,"(\\d+)"),new RegExp("^"+e+"$")}function nj(t,e,r){var a=-1,s=-1,o=-1,c=-1,f=-1,h=-1;(e.match(g2)||[]).forEach(function(x,y){var w=parseInt(r[y+1],10);switch(x.toLowerCase().charAt(0)){case"y":a=w;break;case"d":o=w;break;case"h":c=w;break;case"s":h=w;break;case"m":c>=0?f=w:s=w;break}}),h>=0&&f==-1&&s>=0&&(f=s,s=-1);var m=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);m.length==7&&(m="0"+m),m.length==8&&(m="20"+m);var g=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return c==-1&&f==-1&&h==-1?m:a==-1&&s==-1&&o==-1?g:m+"T"+g}var aj=(function(){var t={};t.version="1.2.0";function e(){for(var A=0,I=new Array(256),G=0;G!=256;++G)A=G,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,I[G]=A;return typeof Int32Array<"u"?new Int32Array(I):I}var r=e();function a(A){var I=0,G=0,te=0,ee=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(te=0;te!=256;++te)ee[te]=A[te];for(te=0;te!=256;++te)for(G=A[te],I=256+te;I<4096;I+=256)G=ee[I]=G>>>8^A[G&255];var ie=[];for(te=1;te!=16;++te)ie[te-1]=typeof Int32Array<"u"?ee.subarray(te*256,te*256+256):ee.slice(te*256,te*256+256);return ie}var s=a(r),o=s[0],c=s[1],f=s[2],h=s[3],m=s[4],g=s[5],x=s[6],y=s[7],w=s[8],S=s[9],_=s[10],b=s[11],k=s[12],R=s[13],T=s[14];function L(A,I){for(var G=I^-1,te=0,ee=A.length;te<ee;)G=G>>>8^r[(G^A.charCodeAt(te++))&255];return~G}function H(A,I){for(var G=I^-1,te=A.length-15,ee=0;ee<te;)G=T[A[ee++]^G&255]^R[A[ee++]^G>>8&255]^k[A[ee++]^G>>16&255]^b[A[ee++]^G>>>24]^_[A[ee++]]^S[A[ee++]]^w[A[ee++]]^y[A[ee++]]^x[A[ee++]]^g[A[ee++]]^m[A[ee++]]^h[A[ee++]]^f[A[ee++]]^c[A[ee++]]^o[A[ee++]]^r[A[ee++]];for(te+=15;ee<te;)G=G>>>8^r[(G^A[ee++])&255];return~G}function Y(A,I){for(var G=I^-1,te=0,ee=A.length,ie=0,ye=0;te<ee;)ie=A.charCodeAt(te++),ie<128?G=G>>>8^r[(G^ie)&255]:ie<2048?(G=G>>>8^r[(G^(192|ie>>6&31))&255],G=G>>>8^r[(G^(128|ie&63))&255]):ie>=55296&&ie<57344?(ie=(ie&1023)+64,ye=A.charCodeAt(te++)&1023,G=G>>>8^r[(G^(240|ie>>8&7))&255],G=G>>>8^r[(G^(128|ie>>2&63))&255],G=G>>>8^r[(G^(128|ye>>6&15|(ie&3)<<4))&255],G=G>>>8^r[(G^(128|ye&63))&255]):(G=G>>>8^r[(G^(224|ie>>12&15))&255],G=G>>>8^r[(G^(128|ie>>6&63))&255],G=G>>>8^r[(G^(128|ie&63))&255]);return~G}return t.table=r,t.bstr=L,t.buf=H,t.str=Y,t})(),Lt=(function(){var e={};e.version="1.2.1";function r(O,q){for(var z=O.split("/"),B=q.split("/"),P=0,V=0,se=Math.min(z.length,B.length);P<se;++P){if(V=z[P].length-B[P].length)return V;if(z[P]!=B[P])return z[P]<B[P]?-1:1}return z.length-B.length}function a(O){if(O.charAt(O.length-1)=="/")return O.slice(0,-1).indexOf("/")===-1?O:a(O.slice(0,-1));var q=O.lastIndexOf("/");return q===-1?O:O.slice(0,q+1)}function s(O){if(O.charAt(O.length-1)=="/")return s(O.slice(0,-1));var q=O.lastIndexOf("/");return q===-1?O:O.slice(q+1)}function o(O,q){typeof q=="string"&&(q=new Date(q));var z=q.getHours();z=z<<6|q.getMinutes(),z=z<<5|q.getSeconds()>>>1,O.write_shift(2,z);var B=q.getFullYear()-1980;B=B<<4|q.getMonth()+1,B=B<<5|q.getDate(),O.write_shift(2,B)}function c(O){var q=O.read_shift(2)&65535,z=O.read_shift(2)&65535,B=new Date,P=z&31;z>>>=5;var V=z&15;z>>>=4,B.setMilliseconds(0),B.setFullYear(z+1980),B.setMonth(V-1),B.setDate(P);var se=q&31;q>>>=5;var ve=q&63;return q>>>=6,B.setHours(q),B.setMinutes(ve),B.setSeconds(se<<1),B}function f(O){vn(O,0);for(var q={},z=0;O.l<=O.length-4;){var B=O.read_shift(2),P=O.read_shift(2),V=O.l+P,se={};switch(B){case 21589:z=O.read_shift(1),z&1&&(se.mtime=O.read_shift(4)),P>5&&(z&2&&(se.atime=O.read_shift(4)),z&4&&(se.ctime=O.read_shift(4))),se.mtime&&(se.mt=new Date(se.mtime*1e3));break}O.l=V,q[B]=se}return q}var h;function m(){return h||(h={})}function g(O,q){if(O[0]==80&&O[1]==75)return ga(O,q);if((O[0]|32)==109&&(O[1]|32)==105)return Un(O,q);if(O.length<512)throw new Error("CFB file size "+O.length+" < 512");var z=3,B=512,P=0,V=0,se=0,ve=0,oe=0,ue=[],de=O.slice(0,512);vn(de,0);var Re=x(de);switch(z=Re[0],z){case 3:B=512;break;case 4:B=4096;break;case 0:if(Re[1]==0)return ga(O,q);default:throw new Error("Major Version: Expected 3 or 4 saw "+z)}B!==512&&(de=O.slice(0,B),vn(de,28));var Me=O.slice(0,B);y(de,z);var $e=de.read_shift(4,"i");if(z===3&&$e!==0)throw new Error("# Directory Sectors: Expected 0 saw "+$e);de.l+=4,se=de.read_shift(4,"i"),de.l+=4,de.chk("00100000","Mini Stream Cutoff Size: "),ve=de.read_shift(4,"i"),P=de.read_shift(4,"i"),oe=de.read_shift(4,"i"),V=de.read_shift(4,"i");for(var Ne=-1,Ie=0;Ie<109&&(Ne=de.read_shift(4,"i"),!(Ne<0));++Ie)ue[Ie]=Ne;var Ye=w(O,B);b(oe,V,Ye,B,ue);var F=R(Ye,se,ue,B);F[se].name="!Directory",P>0&&ve!==ye&&(F[ve].name="!MiniFAT"),F[ue[0]].name="!FAT",F.fat_addrs=ue,F.ssz=B;var ne={},Te=[],Se=[],Ue=[];T(se,F,Ye,Te,P,ne,Se,ve),S(Se,Ue,Te),Te.shift();var Qe={FileIndex:Se,FullPaths:Ue};return q&&q.raw&&(Qe.raw={header:Me,sectors:Ye}),Qe}function x(O){if(O[O.l]==80&&O[O.l+1]==75)return[0,0];O.chk(qe,"Header Signature: "),O.l+=16;var q=O.read_shift(2,"u");return[O.read_shift(2,"u"),q]}function y(O,q){var z=9;switch(O.l+=2,z=O.read_shift(2)){case 9:if(q!=3)throw new Error("Sector Shift: Expected 9 saw "+z);break;case 12:if(q!=4)throw new Error("Sector Shift: Expected 12 saw "+z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+z)}O.chk("0600","Mini Sector Shift: "),O.chk("000000000000","Reserved: ")}function w(O,q){for(var z=Math.ceil(O.length/q)-1,B=[],P=1;P<z;++P)B[P-1]=O.slice(P*q,(P+1)*q);return B[z-1]=O.slice(z*q),B}function S(O,q,z){for(var B=0,P=0,V=0,se=0,ve=0,oe=z.length,ue=[],de=[];B<oe;++B)ue[B]=de[B]=B,q[B]=z[B];for(;ve<de.length;++ve)B=de[ve],P=O[B].L,V=O[B].R,se=O[B].C,ue[B]===B&&(P!==-1&&ue[P]!==P&&(ue[B]=ue[P]),V!==-1&&ue[V]!==V&&(ue[B]=ue[V])),se!==-1&&(ue[se]=B),P!==-1&&B!=ue[B]&&(ue[P]=ue[B],de.lastIndexOf(P)<ve&&de.push(P)),V!==-1&&B!=ue[B]&&(ue[V]=ue[B],de.lastIndexOf(V)<ve&&de.push(V));for(B=1;B<oe;++B)ue[B]===B&&(V!==-1&&ue[V]!==V?ue[B]=ue[V]:P!==-1&&ue[P]!==P&&(ue[B]=ue[P]));for(B=1;B<oe;++B)if(O[B].type!==0){if(ve=B,ve!=ue[ve])do ve=ue[ve],q[B]=q[ve]+"/"+q[B];while(ve!==0&&ue[ve]!==-1&&ve!=ue[ve]);ue[B]=-1}for(q[0]+="/",B=1;B<oe;++B)O[B].type!==2&&(q[B]+="/")}function _(O,q,z){for(var B=O.start,P=O.size,V=[],se=B;z&&P>0&&se>=0;)V.push(q.slice(se*ie,se*ie+ie)),P-=ie,se=ts(z,se*4);return V.length===0?ge(0):Rr(V).slice(0,O.size)}function b(O,q,z,B,P){var V=ye;if(O===ye){if(q!==0)throw new Error("DIFAT chain shorter than expected")}else if(O!==-1){var se=z[O],ve=(B>>>2)-1;if(!se)return;for(var oe=0;oe<ve&&(V=ts(se,oe*4))!==ye;++oe)P.push(V);b(ts(se,B-4),q-1,z,B,P)}}function k(O,q,z,B,P){var V=[],se=[];P||(P=[]);var ve=B-1,oe=0,ue=0;for(oe=q;oe>=0;){P[oe]=!0,V[V.length]=oe,se.push(O[oe]);var de=z[Math.floor(oe*4/B)];if(ue=oe*4&ve,B<4+ue)throw new Error("FAT boundary crossed: "+oe+" 4 "+B);if(!O[de])break;oe=ts(O[de],ue)}return{nodes:V,data:Cx([se])}}function R(O,q,z,B){var P=O.length,V=[],se=[],ve=[],oe=[],ue=B-1,de=0,Re=0,Me=0,$e=0;for(de=0;de<P;++de)if(ve=[],Me=de+q,Me>=P&&(Me-=P),!se[Me]){oe=[];var Ne=[];for(Re=Me;Re>=0;){Ne[Re]=!0,se[Re]=!0,ve[ve.length]=Re,oe.push(O[Re]);var Ie=z[Math.floor(Re*4/B)];if($e=Re*4&ue,B<4+$e)throw new Error("FAT boundary crossed: "+Re+" 4 "+B);if(!O[Ie]||(Re=ts(O[Ie],$e),Ne[Re]))break}V[Me]={nodes:ve,data:Cx([oe])}}return V}function T(O,q,z,B,P,V,se,ve){for(var oe=0,ue=B.length?2:0,de=q[O].data,Re=0,Me=0,$e;Re<de.length;Re+=128){var Ne=de.slice(Re,Re+128);vn(Ne,64),Me=Ne.read_shift(2),$e=pm(Ne,0,Me-ue),B.push($e);var Ie={name:$e,type:Ne.read_shift(1),color:Ne.read_shift(1),L:Ne.read_shift(4,"i"),R:Ne.read_shift(4,"i"),C:Ne.read_shift(4,"i"),clsid:Ne.read_shift(16),state:Ne.read_shift(4,"i"),start:0,size:0},Ye=Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2);Ye!==0&&(Ie.ct=L(Ne,Ne.l-8));var F=Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2)+Ne.read_shift(2);F!==0&&(Ie.mt=L(Ne,Ne.l-8)),Ie.start=Ne.read_shift(4,"i"),Ie.size=Ne.read_shift(4,"i"),Ie.size<0&&Ie.start<0&&(Ie.size=Ie.type=0,Ie.start=ye,Ie.name=""),Ie.type===5?(oe=Ie.start,P>0&&oe!==ye&&(q[oe].name="!StreamData")):Ie.size>=4096?(Ie.storage="fat",q[Ie.start]===void 0&&(q[Ie.start]=k(z,Ie.start,q.fat_addrs,q.ssz)),q[Ie.start].name=Ie.name,Ie.content=q[Ie.start].data.slice(0,Ie.size)):(Ie.storage="minifat",Ie.size<0?Ie.size=0:oe!==ye&&Ie.start!==ye&&q[oe]&&(Ie.content=_(Ie,q[oe].data,(q[ve]||{}).data))),Ie.content&&vn(Ie.content,0),V[$e]=Ie,se.push(Ie)}}function L(O,q){return new Date((yn(O,q+4)/1e7*Math.pow(2,32)+yn(O,q)/1e7-11644473600)*1e3)}function H(O,q){return m(),g(h.readFileSync(O),q)}function Y(O,q){var z=q&&q.type;switch(z||Tt&&Buffer.isBuffer(O)&&(z="buffer"),z||"base64"){case"file":return H(O,q);case"base64":return g(Jn(Ha(O)),q);case"binary":return g(Jn(O),q)}return g(O,q)}function A(O,q){var z=q||{},B=z.root||"Root Entry";if(O.FullPaths||(O.FullPaths=[]),O.FileIndex||(O.FileIndex=[]),O.FullPaths.length!==O.FileIndex.length)throw new Error("inconsistent CFB structure");O.FullPaths.length===0&&(O.FullPaths[0]=B+"/",O.FileIndex[0]={name:B,type:5}),z.CLSID&&(O.FileIndex[0].clsid=z.CLSID),I(O)}function I(O){var q="Sh33tJ5";if(!Lt.find(O,"/"+q)){var z=ge(4);z[0]=55,z[1]=z[3]=50,z[2]=54,O.FileIndex.push({name:q,type:2,content:z,size:4,L:69,R:69,C:69}),O.FullPaths.push(O.FullPaths[0]+q),G(O)}}function G(O,q){A(O);for(var z=!1,B=!1,P=O.FullPaths.length-1;P>=0;--P){var V=O.FileIndex[P];switch(V.type){case 0:B?z=!0:(O.FileIndex.pop(),O.FullPaths.pop());break;case 1:case 2:case 5:B=!0,isNaN(V.R*V.L*V.C)&&(z=!0),V.R>-1&&V.L>-1&&V.R==V.L&&(z=!0);break;default:z=!0;break}}if(!(!z&&!q)){var se=new Date(1987,1,19),ve=0,oe=Object.create?Object.create(null):{},ue=[];for(P=0;P<O.FullPaths.length;++P)oe[O.FullPaths[P]]=!0,O.FileIndex[P].type!==0&&ue.push([O.FullPaths[P],O.FileIndex[P]]);for(P=0;P<ue.length;++P){var de=a(ue[P][0]);B=oe[de],B||(ue.push([de,{name:s(de).replace("/",""),type:1,clsid:J,ct:se,mt:se,content:null}]),oe[de]=!0)}for(ue.sort(function($e,Ne){return r($e[0],Ne[0])}),O.FullPaths=[],O.FileIndex=[],P=0;P<ue.length;++P)O.FullPaths[P]=ue[P][0],O.FileIndex[P]=ue[P][1];for(P=0;P<ue.length;++P){var Re=O.FileIndex[P],Me=O.FullPaths[P];if(Re.name=s(Me).replace("/",""),Re.L=Re.R=Re.C=-(Re.color=1),Re.size=Re.content?Re.content.length:0,Re.start=0,Re.clsid=Re.clsid||J,P===0)Re.C=ue.length>1?1:-1,Re.size=0,Re.type=5;else if(Me.slice(-1)=="/"){for(ve=P+1;ve<ue.length&&a(O.FullPaths[ve])!=Me;++ve);for(Re.C=ve>=ue.length?-1:ve,ve=P+1;ve<ue.length&&a(O.FullPaths[ve])!=a(Me);++ve);Re.R=ve>=ue.length?-1:ve,Re.type=1}else a(O.FullPaths[P+1]||"")==a(Me)&&(Re.R=P+1),Re.type=2}}}function te(O,q){var z=q||{};if(z.fileType=="mad")return kl(O,z);switch(G(O),z.fileType){case"zip":return on(O,z)}var B=(function($e){for(var Ne=0,Ie=0,Ye=0;Ye<$e.FileIndex.length;++Ye){var F=$e.FileIndex[Ye];if(F.content){var ne=F.content.length;ne>0&&(ne<4096?Ne+=ne+63>>6:Ie+=ne+511>>9)}}for(var Te=$e.FullPaths.length+3>>2,Se=Ne+7>>3,Ue=Ne+127>>7,Qe=Se+Ie+Te+Ue,ze=Qe+127>>7,lt=ze<=109?0:Math.ceil((ze-109)/127);Qe+ze+lt+127>>7>ze;)lt=++ze<=109?0:Math.ceil((ze-109)/127);var yt=[1,lt,ze,Ue,Te,Ie,Ne,0];return $e.FileIndex[0].size=Ne<<6,yt[7]=($e.FileIndex[0].start=yt[0]+yt[1]+yt[2]+yt[3]+yt[4]+yt[5])+(yt[6]+7>>3),yt})(O),P=ge(B[7]<<9),V=0,se=0;{for(V=0;V<8;++V)P.write_shift(1,ce[V]);for(V=0;V<8;++V)P.write_shift(2,0);for(P.write_shift(2,62),P.write_shift(2,3),P.write_shift(2,65534),P.write_shift(2,9),P.write_shift(2,6),V=0;V<3;++V)P.write_shift(2,0);for(P.write_shift(4,0),P.write_shift(4,B[2]),P.write_shift(4,B[0]+B[1]+B[2]+B[3]-1),P.write_shift(4,0),P.write_shift(4,4096),P.write_shift(4,B[3]?B[0]+B[1]+B[2]-1:ye),P.write_shift(4,B[3]),P.write_shift(-4,B[1]?B[0]-1:ye),P.write_shift(4,B[1]),V=0;V<109;++V)P.write_shift(-4,V<B[2]?B[1]+V:-1)}if(B[1])for(se=0;se<B[1];++se){for(;V<236+se*127;++V)P.write_shift(-4,V<B[2]?B[1]+V:-1);P.write_shift(-4,se===B[1]-1?ye:se+1)}var ve=function($e){for(se+=$e;V<se-1;++V)P.write_shift(-4,V+1);$e&&(++V,P.write_shift(-4,ye))};for(se=V=0,se+=B[1];V<se;++V)P.write_shift(-4,me.DIFSECT);for(se+=B[2];V<se;++V)P.write_shift(-4,me.FATSECT);ve(B[3]),ve(B[4]);for(var oe=0,ue=0,de=O.FileIndex[0];oe<O.FileIndex.length;++oe)de=O.FileIndex[oe],de.content&&(ue=de.content.length,!(ue<4096)&&(de.start=se,ve(ue+511>>9)));for(ve(B[6]+7>>3);P.l&511;)P.write_shift(-4,me.ENDOFCHAIN);for(se=V=0,oe=0;oe<O.FileIndex.length;++oe)de=O.FileIndex[oe],de.content&&(ue=de.content.length,!(!ue||ue>=4096)&&(de.start=se,ve(ue+63>>6)));for(;P.l&511;)P.write_shift(-4,me.ENDOFCHAIN);for(V=0;V<B[4]<<2;++V){var Re=O.FullPaths[V];if(!Re||Re.length===0){for(oe=0;oe<17;++oe)P.write_shift(4,0);for(oe=0;oe<3;++oe)P.write_shift(4,-1);for(oe=0;oe<12;++oe)P.write_shift(4,0);continue}de=O.FileIndex[V],V===0&&(de.start=de.size?de.start-1:ye);var Me=V===0&&z.root||de.name;if(ue=2*(Me.length+1),P.write_shift(64,Me,"utf16le"),P.write_shift(2,ue),P.write_shift(1,de.type),P.write_shift(1,de.color),P.write_shift(-4,de.L),P.write_shift(-4,de.R),P.write_shift(-4,de.C),de.clsid)P.write_shift(16,de.clsid,"hex");else for(oe=0;oe<4;++oe)P.write_shift(4,0);P.write_shift(4,de.state||0),P.write_shift(4,0),P.write_shift(4,0),P.write_shift(4,0),P.write_shift(4,0),P.write_shift(4,de.start),P.write_shift(4,de.size),P.write_shift(4,0)}for(V=1;V<O.FileIndex.length;++V)if(de=O.FileIndex[V],de.size>=4096)if(P.l=de.start+1<<9,Tt&&Buffer.isBuffer(de.content))de.content.copy(P,P.l,0,de.size),P.l+=de.size+511&-512;else{for(oe=0;oe<de.size;++oe)P.write_shift(1,de.content[oe]);for(;oe&511;++oe)P.write_shift(1,0)}for(V=1;V<O.FileIndex.length;++V)if(de=O.FileIndex[V],de.size>0&&de.size<4096)if(Tt&&Buffer.isBuffer(de.content))de.content.copy(P,P.l,0,de.size),P.l+=de.size+63&-64;else{for(oe=0;oe<de.size;++oe)P.write_shift(1,de.content[oe]);for(;oe&63;++oe)P.write_shift(1,0)}if(Tt)P.l=P.length;else for(;P.l<P.length;)P.write_shift(1,0);return P}function ee(O,q){var z=O.FullPaths.map(function(oe){return oe.toUpperCase()}),B=z.map(function(oe){var ue=oe.split("/");return ue[ue.length-(oe.slice(-1)=="/"?2:1)]}),P=!1;q.charCodeAt(0)===47?(P=!0,q=z[0].slice(0,-1)+q):P=q.indexOf("/")!==-1;var V=q.toUpperCase(),se=P===!0?z.indexOf(V):B.indexOf(V);if(se!==-1)return O.FileIndex[se];var ve=!V.match(Su);for(V=V.replace(Ao,""),ve&&(V=V.replace(Su,"!")),se=0;se<z.length;++se)if((ve?z[se].replace(Su,"!"):z[se]).replace(Ao,"")==V||(ve?B[se].replace(Su,"!"):B[se]).replace(Ao,"")==V)return O.FileIndex[se];return null}var ie=64,ye=-2,qe="d0cf11e0a1b11ae1",ce=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",me={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ye,FREESECT:-1,HEADER_SIGNATURE:qe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ce(O,q,z){m();var B=te(O,z);h.writeFileSync(q,B)}function Fe(O){for(var q=new Array(O.length),z=0;z<O.length;++z)q[z]=String.fromCharCode(O[z]);return q.join("")}function Q(O,q){var z=te(O,q);switch(q&&q.type||"buffer"){case"file":return m(),h.writeFileSync(q.filename,z),z;case"binary":return typeof z=="string"?z:Fe(z);case"base64":return Io(typeof z=="string"?z:Fe(z));case"buffer":if(Tt)return Buffer.isBuffer(z)?z:qa(z);case"array":return typeof z=="string"?Jn(z):z}return z}var j;function C(O){try{var q=O.InflateRaw,z=new q;if(z._processChunk(new Uint8Array([3,0]),z._finishFlushFlag),z.bytesRead)j=O;else throw new Error("zlib does not expose bytesRead")}catch(B){console.error("cannot use native zlib: "+(B.message||B))}}function W(O,q){if(!j)return Vr(O,q);var z=j.InflateRaw,B=new z,P=B._processChunk(O.slice(O.l),B._finishFlushFlag);return O.l+=B.bytesRead,P}function N(O){return j?j.deflateRawSync(O):Oe(O)}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],he=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function we(O){var q=(O<<1|O<<11)&139536|(O<<5|O<<15)&558144;return(q>>16|q>>8|q)&255}for(var _e=typeof Uint8Array<"u",ke=_e?new Uint8Array(256):[],Ge=0;Ge<256;++Ge)ke[Ge]=we(Ge);function Ke(O,q){var z=ke[O&255];return q<=8?z>>>8-q:(z=z<<8|ke[O>>8&255],q<=16?z>>>16-q:(z=z<<8|ke[O>>16&255],z>>>24-q))}function nt(O,q){var z=q&7,B=q>>>3;return(O[B]|(z<=6?0:O[B+1]<<8))>>>z&3}function De(O,q){var z=q&7,B=q>>>3;return(O[B]|(z<=5?0:O[B+1]<<8))>>>z&7}function at(O,q){var z=q&7,B=q>>>3;return(O[B]|(z<=4?0:O[B+1]<<8))>>>z&15}function st(O,q){var z=q&7,B=q>>>3;return(O[B]|(z<=3?0:O[B+1]<<8))>>>z&31}function Pe(O,q){var z=q&7,B=q>>>3;return(O[B]|(z<=1?0:O[B+1]<<8))>>>z&127}function St(O,q,z){var B=q&7,P=q>>>3,V=(1<<z)-1,se=O[P]>>>B;return z<8-B||(se|=O[P+1]<<8-B,z<16-B)||(se|=O[P+2]<<16-B,z<24-B)||(se|=O[P+3]<<24-B),se&V}function Gt(O,q,z){var B=q&7,P=q>>>3;return B<=5?O[P]|=(z&7)<<B:(O[P]|=z<<B&255,O[P+1]=(z&7)>>8-B),q+3}function kt(O,q,z){var B=q&7,P=q>>>3;return z=(z&1)<<B,O[P]|=z,q+1}function Br(O,q,z){var B=q&7,P=q>>>3;return z<<=B,O[P]|=z&255,z>>>=8,O[P+1]=z,q+8}function En(O,q,z){var B=q&7,P=q>>>3;return z<<=B,O[P]|=z&255,z>>>=8,O[P+1]=z&255,O[P+2]=z>>>8,q+16}function ra(O,q){var z=O.length,B=2*z>q?2*z:q+5,P=0;if(z>=q)return O;if(Tt){var V=mx(B);if(O.copy)O.copy(V);else for(;P<O.length;++P)V[P]=O[P];return V}else if(_e){var se=new Uint8Array(B);if(se.set)se.set(O);else for(;P<z;++P)se[P]=O[P];return se}return O.length=B,O}function xt(O){for(var q=new Array(O),z=0;z<O;++z)q[z]=0;return q}function Bn(O,q,z){var B=1,P=0,V=0,se=0,ve=0,oe=O.length,ue=_e?new Uint16Array(32):xt(32);for(V=0;V<32;++V)ue[V]=0;for(V=oe;V<z;++V)O[V]=0;oe=O.length;var de=_e?new Uint16Array(oe):xt(oe);for(V=0;V<oe;++V)ue[P=O[V]]++,B<P&&(B=P),de[V]=0;for(ue[0]=0,V=1;V<=B;++V)ue[V+16]=ve=ve+ue[V-1]<<1;for(V=0;V<oe;++V)ve=O[V],ve!=0&&(de[V]=ue[ve+16]++);var Re=0;for(V=0;V<oe;++V)if(Re=O[V],Re!=0)for(ve=Ke(de[V],B)>>B-Re,se=(1<<B+4-Re)-1;se>=0;--se)q[ve|se<<Re]=Re&15|V<<4;return B}var Ir=_e?new Uint16Array(512):xt(512),In=_e?new Uint16Array(32):xt(32);if(!_e){for(var tr=0;tr<512;++tr)Ir[tr]=0;for(tr=0;tr<32;++tr)In[tr]=0}(function(){for(var O=[],q=0;q<32;q++)O.push(5);Bn(O,In,32);var z=[];for(q=0;q<=143;q++)z.push(8);for(;q<=255;q++)z.push(9);for(;q<=279;q++)z.push(7);for(;q<=287;q++)z.push(8);Bn(z,Ir,288)})();var ma=(function(){for(var q=_e?new Uint8Array(32768):[],z=0,B=0;z<he.length-1;++z)for(;B<he[z+1];++B)q[B]=z;for(;B<32768;++B)q[B]=29;var P=_e?new Uint8Array(259):[];for(z=0,B=0;z<Z.length-1;++z)for(;B<Z[z+1];++B)P[B]=z;function V(ve,oe){for(var ue=0;ue<ve.length;){var de=Math.min(65535,ve.length-ue),Re=ue+de==ve.length;for(oe.write_shift(1,+Re),oe.write_shift(2,de),oe.write_shift(2,~de&65535);de-- >0;)oe[oe.l++]=ve[ue++]}return oe.l}function se(ve,oe){for(var ue=0,de=0,Re=_e?new Uint16Array(32768):[];de<ve.length;){var Me=Math.min(65535,ve.length-de);if(Me<10){for(ue=Gt(oe,ue,+(de+Me==ve.length)),ue&7&&(ue+=8-(ue&7)),oe.l=ue/8|0,oe.write_shift(2,Me),oe.write_shift(2,~Me&65535);Me-- >0;)oe[oe.l++]=ve[de++];ue=oe.l*8;continue}ue=Gt(oe,ue,+(de+Me==ve.length)+2);for(var $e=0;Me-- >0;){var Ne=ve[de];$e=($e<<5^Ne)&32767;var Ie=-1,Ye=0;if((Ie=Re[$e])&&(Ie|=de&-32768,Ie>de&&(Ie-=32768),Ie<de))for(;ve[Ie+Ye]==ve[de+Ye]&&Ye<250;)++Ye;if(Ye>2){Ne=P[Ye],Ne<=22?ue=Br(oe,ue,ke[Ne+1]>>1)-1:(Br(oe,ue,3),ue+=5,Br(oe,ue,ke[Ne-23]>>5),ue+=3);var F=Ne<8?0:Ne-4>>2;F>0&&(En(oe,ue,Ye-Z[Ne]),ue+=F),Ne=q[de-Ie],ue=Br(oe,ue,ke[Ne]>>3),ue-=3;var ne=Ne<4?0:Ne-2>>1;ne>0&&(En(oe,ue,de-Ie-he[Ne]),ue+=ne);for(var Te=0;Te<Ye;++Te)Re[$e]=de&32767,$e=($e<<5^ve[de])&32767,++de;Me-=Ye-1}else Ne<=143?Ne=Ne+48:ue=kt(oe,ue,1),ue=Br(oe,ue,ke[Ne]),Re[$e]=de&32767,++de}ue=Br(oe,ue,0)-1}return oe.l=(ue+7)/8|0,oe.l}return function(oe,ue){return oe.length<8?V(oe,ue):se(oe,ue)}})();function Oe(O){var q=ge(50+Math.floor(O.length*1.1)),z=ma(O,q);return q.slice(0,z)}var Ur=_e?new Uint16Array(32768):xt(32768),pa=_e?new Uint16Array(32768):xt(32768),Tn=_e?new Uint16Array(128):xt(128),pr=1,Wr=1;function Kt(O,q){var z=st(O,q)+257;q+=5;var B=st(O,q)+1;q+=5;var P=at(O,q)+4;q+=4;for(var V=0,se=_e?new Uint8Array(19):xt(19),ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=1,ue=_e?new Uint8Array(8):xt(8),de=_e?new Uint8Array(8):xt(8),Re=se.length,Me=0;Me<P;++Me)se[U[Me]]=V=De(O,q),oe<V&&(oe=V),ue[V]++,q+=3;var $e=0;for(ue[0]=0,Me=1;Me<=oe;++Me)de[Me]=$e=$e+ue[Me-1]<<1;for(Me=0;Me<Re;++Me)($e=se[Me])!=0&&(ve[Me]=de[$e]++);var Ne=0;for(Me=0;Me<Re;++Me)if(Ne=se[Me],Ne!=0){$e=ke[ve[Me]]>>8-Ne;for(var Ie=(1<<7-Ne)-1;Ie>=0;--Ie)Tn[$e|Ie<<Ne]=Ne&7|Me<<3}var Ye=[];for(oe=1;Ye.length<z+B;)switch($e=Tn[Pe(O,q)],q+=$e&7,$e>>>=3){case 16:for(V=3+nt(O,q),q+=2,$e=Ye[Ye.length-1];V-- >0;)Ye.push($e);break;case 17:for(V=3+De(O,q),q+=3;V-- >0;)Ye.push(0);break;case 18:for(V=11+Pe(O,q),q+=7;V-- >0;)Ye.push(0);break;default:Ye.push($e),oe<$e&&(oe=$e);break}var F=Ye.slice(0,z),ne=Ye.slice(z);for(Me=z;Me<286;++Me)F[Me]=0;for(Me=B;Me<30;++Me)ne[Me]=0;return pr=Bn(F,Ur,286),Wr=Bn(ne,pa,30),q}function ps(O,q){if(O[0]==3&&!(O[1]&3))return[ss(q),2];for(var z=0,B=0,P=mx(q||1<<18),V=0,se=P.length>>>0,ve=0,oe=0;(B&1)==0;){if(B=De(O,z),z+=3,B>>>1)B>>1==1?(ve=9,oe=5):(z=Kt(O,z),ve=pr,oe=Wr);else{z&7&&(z+=8-(z&7));var ue=O[z>>>3]|O[(z>>>3)+1]<<8;if(z+=32,ue>0)for(!q&&se<V+ue&&(P=ra(P,V+ue),se=P.length);ue-- >0;)P[V++]=O[z>>>3],z+=8;continue}for(;;){!q&&se<V+32767&&(P=ra(P,V+32767),se=P.length);var de=St(O,z,ve),Re=B>>>1==1?Ir[de]:Ur[de];if(z+=Re&15,Re>>>=4,(Re>>>8&255)===0)P[V++]=Re;else{if(Re==256)break;Re-=257;var Me=Re<8?0:Re-4>>2;Me>5&&(Me=0);var $e=V+Z[Re];Me>0&&($e+=St(O,z,Me),z+=Me),de=St(O,z,oe),Re=B>>>1==1?In[de]:pa[de],z+=Re&15,Re>>>=4;var Ne=Re<4?0:Re-2>>1,Ie=he[Re];for(Ne>0&&(Ie+=St(O,z,Ne),z+=Ne),!q&&se<$e&&(P=ra(P,$e+100),se=P.length);V<$e;)P[V]=P[V-Ie],++V}}}return q?[P,z+7>>>3]:[P.slice(0,V),z+7>>>3]}function Vr(O,q){var z=O.slice(O.l||0),B=ps(z,q);return O.l+=B[1],B[0]}function gs(O,q){if(O)typeof console<"u"&&console.error(q);else throw new Error(q)}function ga(O,q){var z=O;vn(z,0);var B=[],P=[],V={FileIndex:B,FullPaths:P};A(V,{root:q.root});for(var se=z.length-4;(z[se]!=80||z[se+1]!=75||z[se+2]!=5||z[se+3]!=6)&&se>=0;)--se;z.l=se+4,z.l+=4;var ve=z.read_shift(2);z.l+=6;var oe=z.read_shift(4);for(z.l=oe,se=0;se<ve;++se){z.l+=20;var ue=z.read_shift(4),de=z.read_shift(4),Re=z.read_shift(2),Me=z.read_shift(2),$e=z.read_shift(2);z.l+=8;var Ne=z.read_shift(4),Ie=f(z.slice(z.l+Re,z.l+Re+Me));z.l+=Re+Me+$e;var Ye=z.l;z.l=Ne+4,ln(z,ue,de,V,Ie),z.l=Ye}return V}function ln(O,q,z,B,P){O.l+=2;var V=O.read_shift(2),se=O.read_shift(2),ve=c(O);if(V&8257)throw new Error("Unsupported ZIP encryption");for(var oe=O.read_shift(4),ue=O.read_shift(4),de=O.read_shift(4),Re=O.read_shift(2),Me=O.read_shift(2),$e="",Ne=0;Ne<Re;++Ne)$e+=String.fromCharCode(O[O.l++]);if(Me){var Ie=f(O.slice(O.l,O.l+Me));(Ie[21589]||{}).mt&&(ve=Ie[21589].mt),((P||{})[21589]||{}).mt&&(ve=P[21589].mt)}O.l+=Me;var Ye=O.slice(O.l,O.l+ue);switch(se){case 8:Ye=W(O,de);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+se)}var F=!1;V&8&&(oe=O.read_shift(4),oe==134695760&&(oe=O.read_shift(4),F=!0),ue=O.read_shift(4),de=O.read_shift(4)),ue!=q&&gs(F,"Bad compressed size: "+q+" != "+ue),de!=z&&gs(F,"Bad uncompressed size: "+z+" != "+de),Ya(B,$e,Ye,{unsafe:!0,mt:ve})}function on(O,q){var z=q||{},B=[],P=[],V=ge(1),se=z.compression?8:0,ve=0,oe=0,ue=0,de=0,Re=0,Me=O.FullPaths[0],$e=Me,Ne=O.FileIndex[0],Ie=[],Ye=0;for(oe=1;oe<O.FullPaths.length;++oe)if($e=O.FullPaths[oe].slice(Me.length),Ne=O.FileIndex[oe],!(!Ne.size||!Ne.content||$e=="Sh33tJ5")){var F=de,ne=ge($e.length);for(ue=0;ue<$e.length;++ue)ne.write_shift(1,$e.charCodeAt(ue)&127);ne=ne.slice(0,ne.l),Ie[Re]=aj.buf(Ne.content,0);var Te=Ne.content;se==8&&(Te=N(Te)),V=ge(30),V.write_shift(4,67324752),V.write_shift(2,20),V.write_shift(2,ve),V.write_shift(2,se),Ne.mt?o(V,Ne.mt):V.write_shift(4,0),V.write_shift(-4,Ie[Re]),V.write_shift(4,Te.length),V.write_shift(4,Ne.content.length),V.write_shift(2,ne.length),V.write_shift(2,0),de+=V.length,B.push(V),de+=ne.length,B.push(ne),de+=Te.length,B.push(Te),V=ge(46),V.write_shift(4,33639248),V.write_shift(2,0),V.write_shift(2,20),V.write_shift(2,ve),V.write_shift(2,se),V.write_shift(4,0),V.write_shift(-4,Ie[Re]),V.write_shift(4,Te.length),V.write_shift(4,Ne.content.length),V.write_shift(2,ne.length),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(4,0),V.write_shift(4,F),Ye+=V.l,P.push(V),Ye+=ne.length,P.push(ne),++Re}return V=ge(22),V.write_shift(4,101010256),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,Re),V.write_shift(2,Re),V.write_shift(4,Ye),V.write_shift(4,de),V.write_shift(2,0),Rr([Rr(B),Rr(P),V])}var Pr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Wa(O,q){if(O.ctype)return O.ctype;var z=O.name||"",B=z.match(/\.([^\.]+)$/);return B&&Pr[B[1]]||q&&(B=(z=q).match(/[\.\\]([^\.\\])+$/),B&&Pr[B[1]])?Pr[B[1]]:"application/octet-stream"}function na(O){for(var q=Io(O),z=[],B=0;B<q.length;B+=76)z.push(q.slice(B,B+76));return z.join(`\r
`)+`\r
`}function vs(O){var q=O.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var de=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(de.length==1?"0"+de:de)});q=q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),q.charAt(0)==`
`&&(q="=0D"+q.slice(1)),q=q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var z=[],B=q.split(`\r
`),P=0;P<B.length;++P){var V=B[P];if(V.length==0){z.push("");continue}for(var se=0;se<V.length;){var ve=76,oe=V.slice(se,se+ve);oe.charAt(ve-1)=="="?ve--:oe.charAt(ve-2)=="="?ve-=2:oe.charAt(ve-3)=="="&&(ve-=3),oe=V.slice(se,se+ve),se+=ve,se<V.length&&(oe+="="),z.push(oe)}}return z.join(`\r
`)}function Va(O){for(var q=[],z=0;z<O.length;++z){for(var B=O[z];z<=O.length&&B.charAt(B.length-1)=="=";)B=B.slice(0,B.length-1)+O[++z];q.push(B)}for(var P=0;P<q.length;++P)q[P]=q[P].replace(/[=][0-9A-Fa-f]{2}/g,function(V){return String.fromCharCode(parseInt(V.slice(1),16))});return Jn(q.join(`\r
`))}function Ka(O,q,z){for(var B="",P="",V="",se,ve=0;ve<10;++ve){var oe=q[ve];if(!oe||oe.match(/^\s*$/))break;var ue=oe.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":B=ue[2].trim();break;case"content-type":V=ue[2].trim();break;case"content-transfer-encoding":P=ue[2].trim();break}}switch(++ve,P.toLowerCase()){case"base64":se=Jn(Ha(q.slice(ve).join("")));break;case"quoted-printable":se=Va(q.slice(ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+P)}var de=Ya(O,B.slice(z.length),se,{unsafe:!0});V&&(de.ctype=V)}function Un(O,q){if(Fe(O.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var z=q&&q.root||"",B=(Tt&&Buffer.isBuffer(O)?O.toString("binary"):Fe(O)).split(`\r
`),P=0,V="";for(P=0;P<B.length;++P)if(V=B[P],!!/^Content-Location:/i.test(V)&&(V=V.slice(V.indexOf("file")),z||(z=V.slice(0,V.lastIndexOf("/")+1)),V.slice(0,z.length)!=z))for(;z.length>0&&(z=z.slice(0,z.length-1),z=z.slice(0,z.lastIndexOf("/")+1),V.slice(0,z.length)!=z););var se=(B[1]||"").match(/boundary="(.*?)"/);if(!se)throw new Error("MAD cannot find boundary");var ve="--"+(se[1]||""),oe=[],ue=[],de={FileIndex:oe,FullPaths:ue};A(de);var Re,Me=0;for(P=0;P<B.length;++P){var $e=B[P];$e!==ve&&$e!==ve+"--"||(Me++&&Ka(de,B.slice(Re,P),z),Re=P)}return de}function kl(O,q){var z=q||{},B=z.boundary||"SheetJS";B="------="+B;for(var P=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+B.slice(2)+'"',"","",""],V=O.FullPaths[0],se=V,ve=O.FileIndex[0],oe=1;oe<O.FullPaths.length;++oe)if(se=O.FullPaths[oe].slice(V.length),ve=O.FileIndex[oe],!(!ve.size||!ve.content||se=="Sh33tJ5")){se=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ye){return"_x"+Ye.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ye){return"_u"+Ye.charCodeAt(0).toString(16)+"_"});for(var ue=ve.content,de=Tt&&Buffer.isBuffer(ue)?ue.toString("binary"):Fe(ue),Re=0,Me=Math.min(1024,de.length),$e=0,Ne=0;Ne<=Me;++Ne)($e=de.charCodeAt(Ne))>=32&&$e<128&&++Re;var Ie=Re>=Me*4/5;P.push(B),P.push("Content-Location: "+(z.root||"file:///C:/SheetJS/")+se),P.push("Content-Transfer-Encoding: "+(Ie?"quoted-printable":"base64")),P.push("Content-Type: "+Wa(ve,se)),P.push(""),P.push(Ie?vs(de):na(de))}return P.push(B+`--\r
`),P.join(`\r
`)}function Oi(O){var q={};return A(q,O),q}function Ya(O,q,z,B){var P=B&&B.unsafe;P||A(O);var V=!P&&Lt.find(O,q);if(!V){var se=O.FullPaths[0];q.slice(0,se.length)==se?se=q:(se.slice(-1)!="/"&&(se+="/"),se=(se+q).replace("//","/")),V={name:s(q),type:2},O.FileIndex.push(V),O.FullPaths.push(se),P||Lt.utils.cfb_gc(O)}return V.content=z,V.size=z?z.length:0,B&&(B.CLSID&&(V.clsid=B.CLSID),B.mt&&(V.mt=B.mt),B.ct&&(V.ct=B.ct)),V}function xs(O,q){A(O);var z=Lt.find(O,q);if(z){for(var B=0;B<O.FileIndex.length;++B)if(O.FileIndex[B]==z)return O.FileIndex.splice(B,1),O.FullPaths.splice(B,1),!0}return!1}function Xa(O,q,z){A(O);var B=Lt.find(O,q);if(B){for(var P=0;P<O.FileIndex.length;++P)if(O.FileIndex[P]==B)return O.FileIndex[P].name=s(z),O.FullPaths[P]=z,!0}return!1}function va(O){G(O,!0)}return e.find=ee,e.read=Y,e.parse=g,e.write=Q,e.writeFile=Ce,e.utils={cfb_new:Oi,cfb_add:Ya,cfb_del:xs,cfb_mov:Xa,cfb_gc:va,ReadShift:Co,CheckField:M2,prep_blob:vn,bconcat:Rr,use_zlib:C,_deflateRaw:Oe,_inflateRaw:Vr,consts:me},e})();function ij(t){return typeof t=="string"?bd(t):Array.isArray(t)?O3(t):t}function Qo(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=bd(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var a=r=="utf8"?Po(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,t);if(typeof Blob<"u"){var s=new Blob([ij(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=t,c.href=o,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var f=File(t);return f.open("w"),f.encoding="binary",Array.isArray(e)&&(e=Jo(e)),f.write(e),f.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+t)}function Dr(t){for(var e=Object.keys(t),r=[],a=0;a<e.length;++a)Object.prototype.hasOwnProperty.call(t,e[a])&&r.push(e[a]);return r}function wx(t,e){for(var r=[],a=Dr(t),s=0;s!==a.length;++s)r[t[a[s]][e]]==null&&(r[t[a[s]][e]]=a[s]);return r}function dm(t){for(var e=[],r=Dr(t),a=0;a!==r.length;++a)e[t[r[a]]]=r[a];return e}function Ed(t){for(var e=[],r=Dr(t),a=0;a!==r.length;++a)e[t[r[a]]]=parseInt(r[a],10);return e}function sj(t){for(var e=[],r=Dr(t),a=0;a!==r.length;++a)e[t[r[a]]]==null&&(e[t[r[a]]]=[]),e[t[r[a]]].push(r[a]);return e}var td=new Date(1899,11,30,0,0,0);function an(t,e){var r=t.getTime(),a=td.getTime()+(t.getTimezoneOffset()-td.getTimezoneOffset())*6e4;return(r-a)/(1440*60*1e3)}var v2=new Date,lj=td.getTime()+(v2.getTimezoneOffset()-td.getTimezoneOffset())*6e4,Sx=v2.getTimezoneOffset();function x2(t){var e=new Date;return e.setTime(t*24*60*60*1e3+lj),e.getTimezoneOffset()!==Sx&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Sx)*6e4),e}var Ex=new Date("2017-02-19T19:06:09.000Z"),y2=isNaN(Ex.getFullYear())?new Date("2/19/17"):Ex,oj=y2.getFullYear()==2017;function qr(t,e){var r=new Date(t);if(oj)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(y2.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return t.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Td(t,e){if(Tt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(o){return r[o]||o})}catch{}for(var a=[],s=0;s!=t.length;++s)a.push(String.fromCharCode(t[s]));return a.join("")}function sn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=sn(t[r]));return e}function Jt(t,e){for(var r="";r.length<e;)r+=t;return r}function Ia(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,a=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,o){return r=-r,o}),!isNaN(e=Number(a)))?e/r:e}var cj=["january","february","march","april","may","june","july","august","september","october","november","december"];function Uo(t){var e=new Date(t),r=new Date(NaN),a=e.getYear(),s=e.getMonth(),o=e.getDate();if(isNaN(o))return r;var c=t.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&cj.indexOf(c)==-1)return r}else if(c.match(/[a-z]/))return r;return a<0||a>8099?r:(s>0||o>1)&&a!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function dt(t,e,r){if(t.FullPaths){if(typeof r=="string"){var a;return Tt?a=qa(r):a=N3(r),Lt.utils.cfb_add(t,e,a)}Lt.utils.cfb_add(t,e,r)}else t.file(e,r)}function fm(){return Lt.utils.cfb_new()}var fr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,uj={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},hm=dm(uj),mm=/[&<>'"]/g,dj=/[\u0000-\u0008\u000b-\u001f]/g;function Ot(t){var e=t+"";return e.replace(mm,function(r){return hm[r]}).replace(dj,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Tx(t){return Ot(t).replace(/ /g,"_x0020_")}var _2=/[\u0000-\u001f]/g;function fj(t){var e=t+"";return e.replace(mm,function(r){return hm[r]}).replace(/\n/g,"<br/>").replace(_2,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function hj(t){var e=t+"";return e.replace(mm,function(r){return hm[r]}).replace(_2,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function mj(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function pj(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function th(t){for(var e="",r=0,a=0,s=0,o=0,c=0,f=0;r<t.length;){if(a=t.charCodeAt(r++),a<128){e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),a>191&&a<224){c=(a&31)<<6,c|=s&63,e+=String.fromCharCode(c);continue}if(o=t.charCodeAt(r++),a<240){e+=String.fromCharCode((a&15)<<12|(s&63)<<6|o&63);continue}c=t.charCodeAt(r++),f=((a&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536,e+=String.fromCharCode(55296+(f>>>10&1023)),e+=String.fromCharCode(56320+(f&1023))}return e}function kx(t){var e=ss(2*t.length),r,a,s=1,o=0,c=0,f;for(a=0;a<t.length;a+=s)s=1,(f=t.charCodeAt(a))<128?r=f:f<224?(r=(f&31)*64+(t.charCodeAt(a+1)&63),s=2):f<240?(r=(f&15)*4096+(t.charCodeAt(a+1)&63)*64+(t.charCodeAt(a+2)&63),s=3):(s=4,r=(f&7)*262144+(t.charCodeAt(a+1)&63)*4096+(t.charCodeAt(a+2)&63)*64+(t.charCodeAt(a+3)&63),r-=65536,c=55296+(r>>>10&1023),r=56320+(r&1023)),c!==0&&(e[o++]=c&255,e[o++]=c>>>8,c=0),e[o++]=r%256,e[o++]=r>>>8;return e.slice(0,o).toString("ucs2")}function Ax(t){return qa(t,"binary").toString("utf8")}var Tu="foo bar baz",jo=Tt&&(Ax(Tu)==th(Tu)&&Ax||kx(Tu)==th(Tu)&&kx)||th,Po=Tt?function(t){return qa(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,a=0,s=0;r<t.length;)switch(a=t.charCodeAt(r++),!0){case a<128:e.push(String.fromCharCode(a));break;case a<2048:e.push(String.fromCharCode(192+(a>>6))),e.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=t.charCodeAt(r++)-56320+(a<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(a>>12))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)))}return e.join("")},gj=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)a=a.replace(t[s][0],t[s][1]);return a}})(),b2=/(^\s|\s$|\n)/;function Or(t,e){return"<"+t+(e.match(b2)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Ho(t){return Dr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Le(t,e,r){return"<"+t+(r!=null?Ho(r):"")+(e!=null?(e.match(b2)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function zh(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function vj(t,e){switch(typeof t){case"string":var r=Le("vt:lpwstr",Ot(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Le((t|0)==t?"vt:i4":"vt:r8",Ot(String(t)));case"boolean":return Le("vt:bool",t?"true":"false")}if(t instanceof Date)return Le("vt:filetime",zh(t));throw new Error("Unable to serialize "+t)}var xr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},wl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],xn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function xj(t,e){for(var r=1-2*(t[e+7]>>>7),a=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,o=5;o>=0;--o)s=s*256+t[e+o];return a==2047?s==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),r*Math.pow(2,a-52)*s)}function yj(t,e,r){var a=(e<0||1/e==-1/0?1:0)<<7,s=0,o=0,c=a?-e:e;isFinite(c)?c==0?s=o=0:(s=Math.floor(Math.log(c)/Math.LN2),o=c*Math.pow(2,52-s),s<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?s=-1022:(o-=Math.pow(2,52),s+=1023)):(s=2047,o=isNaN(e)?26985:0);for(var f=0;f<=5;++f,o/=256)t[r+f]=o&255;t[r+6]=(s&15)<<4|o&15,t[r+7]=s>>4|a}var jx=function(t){for(var e=[],r=10240,a=0;a<t[0].length;++a)if(t[0][a])for(var s=0,o=t[0][a].length;s<o;s+=r)e.push.apply(e,t[0][a].slice(s,s+r));return e},Cx=Tt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:qa(e)})):jx(t)}:jx,Rx=function(t,e,r){for(var a=[],s=e;s<r;s+=2)a.push(String.fromCharCode(ko(t,s)));return a.join("").replace(Ao,"")},pm=Tt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Ao,""):Rx(t,e,r)}:Rx,Ox=function(t,e,r){for(var a=[],s=e;s<e+r;++s)a.push(("0"+t[s].toString(16)).slice(-2));return a.join("")},w2=Tt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Ox(t,e,r)}:Ox,Nx=function(t,e,r){for(var a=[],s=e;s<r;s++)a.push(String.fromCharCode(ll(t,s)));return a.join("")},Zo=Tt?function(e,r,a){return Buffer.isBuffer(e)?e.toString("utf8",r,a):Nx(e,r,a)}:Nx,S2=function(t,e){var r=yn(t,e);return r>0?Zo(t,e+4,e+4+r-1):""},E2=S2,T2=function(t,e){var r=yn(t,e);return r>0?Zo(t,e+4,e+4+r-1):""},k2=T2,A2=function(t,e){var r=2*yn(t,e);return r>0?Zo(t,e+4,e+4+r-1):""},j2=A2,C2=function(e,r){var a=yn(e,r);return a>0?pm(e,r+4,r+4+a):""},R2=C2,O2=function(t,e){var r=yn(t,e);return r>0?Zo(t,e+4,e+4+r):""},N2=O2,D2=function(t,e){return xj(t,e)},rd=D2,gm=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Tt&&(E2=function(e,r){if(!Buffer.isBuffer(e))return S2(e,r);var a=e.readUInt32LE(r);return a>0?e.toString("utf8",r+4,r+4+a-1):""},k2=function(e,r){if(!Buffer.isBuffer(e))return T2(e,r);var a=e.readUInt32LE(r);return a>0?e.toString("utf8",r+4,r+4+a-1):""},j2=function(e,r){if(!Buffer.isBuffer(e))return A2(e,r);var a=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+a-1)},R2=function(e,r){if(!Buffer.isBuffer(e))return C2(e,r);var a=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+a)},N2=function(e,r){if(!Buffer.isBuffer(e))return O2(e,r);var a=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+a)},rd=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):D2(e,r)},gm=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var ll=function(t,e){return t[e]},ko=function(t,e){return t[e+1]*256+t[e]},_j=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},yn=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},ts=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},bj=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Co(t,e){var r="",a,s,o=[],c,f,h,m;switch(e){case"dbcs":if(m=this.l,Tt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(h=0;h<t;++h)r+=String.fromCharCode(ko(this,m)),m+=2;t*=2;break;case"utf8":r=Zo(this,this.l,this.l+t);break;case"utf16le":t*=2,r=pm(this,this.l,this.l+t);break;case"wstr":return Co.call(this,t,"dbcs");case"lpstr-ansi":r=E2(this,this.l),t=4+yn(this,this.l);break;case"lpstr-cp":r=k2(this,this.l),t=4+yn(this,this.l);break;case"lpwstr":r=j2(this,this.l),t=4+2*yn(this,this.l);break;case"lpp4":t=4+yn(this,this.l),r=R2(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+yn(this,this.l),r=N2(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(c=ll(this,this.l+t++))!==0;)o.push(wu(c));r=o.join("");break;case"_wstr":for(t=0,r="";(c=ko(this,this.l+t))!==0;)o.push(wu(c)),t+=2;t+=2,r=o.join("");break;case"dbcs-cont":for(r="",m=this.l,h=0;h<t;++h){if(this.lens&&this.lens.indexOf(m)!==-1)return c=ll(this,m),this.l=m+1,f=Co.call(this,t-h,c?"dbcs-cont":"sbcs-cont"),o.join("")+f;o.push(wu(ko(this,m))),m+=2}r=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",m=this.l,h=0;h!=t;++h){if(this.lens&&this.lens.indexOf(m)!==-1)return c=ll(this,m),this.l=m+1,f=Co.call(this,t-h,c?"dbcs-cont":"sbcs-cont"),o.join("")+f;o.push(wu(ll(this,m))),m+=1}r=o.join("");break;default:switch(t){case 1:return a=ll(this,this.l),this.l++,a;case 2:return a=(e==="i"?_j:ko)(this,this.l),this.l+=2,a;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(a=(t>0?ts:bj)(this,this.l),this.l+=4,a):(s=yn(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=rd(this,this.l):s=rd([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=w2(this,this.l,t);break}}return this.l+=t,r}var wj=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},Sj=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},Ej=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function Tj(t,e,r){var a=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)Ej(this,e.charCodeAt(s),this.l+2*s);a=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;a=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var c=e.charCodeAt(s);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:a=1,this[this.l]=e&255;break;case 2:a=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:a=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:a=4,wj(this,e,this.l);break;case 8:if(a=8,r==="f"){yj(this,e,this.l);break}case 16:break;case-4:a=4,Sj(this,e,this.l);break}return this.l+=a,this}function M2(t,e){var r=w2(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function vn(t,e){t.l=e,t.read_shift=Co,t.chk=M2,t.write_shift=Tj}function fa(t,e){t.l+=e}function ge(t){var e=ss(t);return vn(e,0),e}function rn(){var t=[],e=Tt?256:2048,r=function(m){var g=ge(m);return vn(g,0),g},a=r(e),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&t.push(a),a=null)},o=function(m){return a&&m<a.length-a.l?a:(s(),a=r(Math.max(m+1,e)))},c=function(){return s(),Rr(t)},f=function(m){s(),a=m,a.l==null&&(a.l=a.length),o(e)};return{next:o,push:f,end:c,_bufs:t}}function je(t,e,r,a){var s=+e,o;if(!isNaN(s)){a||(a=xN[s].p||(r||[]).length||0),o=1+(s>=128?1:0)+1,a>=128&&++o,a>=16384&&++o,a>=2097152&&++o;var c=t.next(o);s<=127?c.write_shift(1,s):(c.write_shift(1,(s&127)+128),c.write_shift(1,s>>7));for(var f=0;f!=4;++f)if(a>=128)c.write_shift(1,(a&127)+128),a>>=7;else{c.write_shift(1,a);break}a>0&&gm(r)&&t.push(r)}}function Ro(t,e,r){var a=sn(t);if(e.s?(a.cRel&&(a.c+=e.s.c),a.rRel&&(a.r+=e.s.r)):(a.cRel&&(a.c+=e.c),a.rRel&&(a.r+=e.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function Dx(t,e,r){var a=sn(t);return a.s=Ro(a.s,e.s,r),a.e=Ro(a.e,e.s,r),a}function Oo(t,e){if(t.cRel&&t.c<0)for(t=sn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=sn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Nt(t);return!t.cRel&&t.cRel!=null&&(r=jj(r)),!t.rRel&&t.rRel!=null&&(r=kj(r)),r}function rh(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Lr(t.s.c)+":"+(t.e.cRel?"":"$")+Lr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Nr(t.s.r)+":"+(t.e.rRel?"":"$")+Nr(t.e.r):Oo(t.s,e.biff)+":"+Oo(t.e,e.biff)}function vm(t){return parseInt(Aj(t),10)-1}function Nr(t){return""+(t+1)}function kj(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Aj(t){return t.replace(/\$(\d+)$/,"$1")}function xm(t){for(var e=Cj(t),r=0,a=0;a!==e.length;++a)r=26*r+e.charCodeAt(a)-64;return r-1}function Lr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function jj(t){return t.replace(/^([A-Z])/,"$$$1")}function Cj(t){return t.replace(/^\$([A-Z])/,"$1")}function Rj(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function yr(t){for(var e=0,r=0,a=0;a<t.length;++a){var s=t.charCodeAt(a);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function Nt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function wn(t){var e=t.indexOf(":");return e==-1?{s:yr(t),e:yr(t)}:{s:yr(t.slice(0,e)),e:yr(t.slice(e+1))}}function dr(t,e){return typeof e>"u"||typeof e=="number"?dr(t.s,t.e):(typeof t!="string"&&(t=Nt(t)),typeof e!="string"&&(e=Nt(e)),t==e?t:t+":"+e)}function $t(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,s=0,o=t.length;for(r=0;a<o&&!((s=t.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(e.s.c=--r,r=0;a<o&&!((s=t.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;if(e.s.r=--r,a===o||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++a,r=0;a!=o&&!((s=t.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(e.e.c=--r,r=0;a!=o&&!((s=t.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;return e.e.r=--r,e}function Mx(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ai(t.z,r?an(e):e)}catch{}try{return t.w=Ai((t.XF||{}).numFmtId||(r?14:0),r?an(e):e)}catch{return""+e}}function $a(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?ec[t.v]||t.v:e==null?Mx(t,t.v):Mx(t,e))}function us(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",a={};return a[r]=t,{SheetNames:[r],Sheets:a}}function z2(t,e,r){var a=r||{},s=t?Array.isArray(t):a.dense,o=t||(s?[]:{}),c=0,f=0;if(o&&a.origin!=null){if(typeof a.origin=="number")c=a.origin;else{var h=typeof a.origin=="string"?yr(a.origin):a.origin;c=h.r,f=h.c}o["!ref"]||(o["!ref"]="A1:A1")}var m={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var g=$t(o["!ref"]);m.s.c=g.s.c,m.s.r=g.s.r,m.e.c=Math.max(m.e.c,g.e.c),m.e.r=Math.max(m.e.r,g.e.r),c==-1&&(m.e.r=c=g.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[x].length;++y)if(!(typeof e[x][y]>"u")){var w={v:e[x][y]},S=c+x,_=f+y;if(m.s.r>S&&(m.s.r=S),m.s.c>_&&(m.s.c=_),m.e.r<S&&(m.e.r=S),m.e.c<_&&(m.e.c=_),e[x][y]&&typeof e[x][y]=="object"&&!Array.isArray(e[x][y])&&!(e[x][y]instanceof Date))w=e[x][y];else if(Array.isArray(w.v)&&(w.f=e[x][y][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(a.nullError)w.t="e",w.v=0;else if(a.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=a.dateNF||Qt[14],a.cellDates?(w.t="d",w.w=Ai(w.z,an(w.v))):(w.t="n",w.v=an(w.v),w.w=Ai(w.z,w.v))):w.t="s";if(s)o[S]||(o[S]=[]),o[S][_]&&o[S][_].z&&(w.z=o[S][_].z),o[S][_]=w;else{var b=Nt({c:_,r:S});o[b]&&o[b].z&&(w.z=o[b].z),o[b]=w}}}return m.s.c<1e7&&(o["!ref"]=dr(m)),o}function Sl(t,e){return z2(null,t,e)}function Oj(t){return t.read_shift(4,"i")}function Zn(t,e){return e||(e=ge(4)),e.write_shift(4,t),e}function Fr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function _r(t,e){var r=!1;return e==null&&(r=!0,e=ge(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function Nj(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Dj(t,e){return e||(e=ge(4)),e.write_shift(2,0),e.write_shift(2,0),e}function ym(t,e){var r=t.l,a=t.read_shift(1),s=Fr(t),o=[],c={t:s,h:s};if((a&1)!==0){for(var f=t.read_shift(4),h=0;h!=f;++h)o.push(Nj(t));c.r=o}else c.r=[{ich:0,ifnt:0}];return t.l=r+e,c}function Mj(t,e){var r=!1;return e==null&&(r=!0,e=ge(15+4*t.t.length)),e.write_shift(1,0),_r(t.t,e),r?e.slice(0,e.l):e}var zj=ym;function Lj(t,e){var r=!1;return e==null&&(r=!0,e=ge(23+4*t.t.length)),e.write_shift(1,1),_r(t.t,e),e.write_shift(4,1),Dj({},e),r?e.slice(0,e.l):e}function Fn(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function ds(t,e){return e==null&&(e=ge(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function fs(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function hs(t,e){return e==null&&(e=ge(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var Fj=Fr,L2=_r;function _m(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function nd(t,e){var r=!1;return e==null&&(r=!0,e=ge(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var Bj=Fr,Lh=_m,bm=nd;function F2(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,a=e[0]&2;t.l+=4;var s=a===0?rd([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ts(e,0)>>2;return r?s/100:s}function B2(t,e){e==null&&(e=ge(4));var r=0,a=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?a=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(a=1,r=1),a)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function I2(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function Ij(t,e){return e||(e=ge(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var ms=I2,El=Ij;function Tl(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ls(t,e){return(e||ge(8)).write_shift(8,t,"f")}function Uj(t){var e={},r=t.read_shift(1),a=r>>>1,s=t.read_shift(1),o=t.read_shift(2,"i"),c=t.read_shift(1),f=t.read_shift(1),h=t.read_shift(1);switch(t.l++,a){case 0:e.auto=1;break;case 1:e.index=s;var m=Yj[s];m&&(e.rgb=qx(m));break;case 2:e.rgb=qx([c,f,h]);break;case 3:e.theme=s;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function ad(t,e){if(e||(e=ge(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var a=t.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),e.write_shift(1,parseInt(a.slice(0,2),16)),e.write_shift(1,parseInt(a.slice(2,4),16)),e.write_shift(1,parseInt(a.slice(4,6),16)),e.write_shift(1,255)}return e}function Pj(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function Hj(t,e){e||(e=ge(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var U2=2,gn=3,ku=11,id=19,Au=64,$j=65,Gj=71,qj=4108,Wj=4126,Cr=80,zx={1:{n:"CodePage",t:U2},2:{n:"Category",t:Cr},3:{n:"PresentationFormat",t:Cr},4:{n:"ByteCount",t:gn},5:{n:"LineCount",t:gn},6:{n:"ParagraphCount",t:gn},7:{n:"SlideCount",t:gn},8:{n:"NoteCount",t:gn},9:{n:"HiddenCount",t:gn},10:{n:"MultimediaClipCount",t:gn},11:{n:"ScaleCrop",t:ku},12:{n:"HeadingPairs",t:qj},13:{n:"TitlesOfParts",t:Wj},14:{n:"Manager",t:Cr},15:{n:"Company",t:Cr},16:{n:"LinksUpToDate",t:ku},17:{n:"CharacterCount",t:gn},19:{n:"SharedDoc",t:ku},22:{n:"HyperlinksChanged",t:ku},23:{n:"AppVersion",t:gn,p:"version"},24:{n:"DigSig",t:$j},26:{n:"ContentType",t:Cr},27:{n:"ContentStatus",t:Cr},28:{n:"Language",t:Cr},29:{n:"Version",t:Cr},255:{},2147483648:{n:"Locale",t:id},2147483651:{n:"Behavior",t:id},1919054434:{}},Lx={1:{n:"CodePage",t:U2},2:{n:"Title",t:Cr},3:{n:"Subject",t:Cr},4:{n:"Author",t:Cr},5:{n:"Keywords",t:Cr},6:{n:"Comments",t:Cr},7:{n:"Template",t:Cr},8:{n:"LastAuthor",t:Cr},9:{n:"RevNumber",t:Cr},10:{n:"EditTime",t:Au},11:{n:"LastPrinted",t:Au},12:{n:"CreatedDate",t:Au},13:{n:"ModifiedDate",t:Au},14:{n:"PageCount",t:gn},15:{n:"WordCount",t:gn},16:{n:"CharCount",t:gn},17:{n:"Thumbnail",t:Gj},18:{n:"Application",t:Cr},19:{n:"DocSecurity",t:gn},255:{},2147483648:{n:"Locale",t:id},2147483651:{n:"Behavior",t:id},1919054434:{}};function Vj(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Kj=Vj([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Yj=sn(Kj),ec={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Xj={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ju={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function P2(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function H2(t,e){var r=sj(Xj),a=[],s;a[a.length]=fr,a[a.length]=Le("Types",null,{xmlns:xr.CT,"xmlns:xsd":xr.xsd,"xmlns:xsi":xr.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Le("Default",null,{Extension:h[0],ContentType:h[1]})}));var o=function(h){t[h]&&t[h].length>0&&(s=t[h][0],a[a.length]=Le("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:ju[h][e.bookType]||ju[h].xlsx}))},c=function(h){(t[h]||[]).forEach(function(m){a[a.length]=Le("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:ju[h][e.bookType]||ju[h].xlsx})})},f=function(h){(t[h]||[]).forEach(function(m){a[a.length]=Le("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:r[h][0]})})};return o("workbooks"),c("sheets"),c("charts"),f("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(f),f("vba"),f("comments"),f("threadedcomments"),f("drawings"),c("metadata"),f("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var wt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function $2(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function fl(t){var e=[fr,Le("Relationships",null,{xmlns:xr.RELS})];return Dr(t["!id"]).forEach(function(r){e[e.length]=Le("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Rt(t,e,r,a,s,o){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=a,s.Target=r,[wt.HLINK,wt.XPATH,wt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function Jj(t){var e=[fr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Fx(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Qj(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Zj(t){var e=[fr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Fx(t[r][0],t[r][1])),e.push(Qj("",t[r][0]));return e.push(Fx("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function G2(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Xu.version+"</meta:generator></office:meta></office:document-meta>"}var as=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function nh(t,e,r,a,s){s[t]!=null||e==null||e===""||(s[t]=e,e=Ot(e),a[a.length]=r?Le(t,e,r):Or(t,e))}function q2(t,e){var r=e||{},a=[fr,Le("cp:coreProperties",null,{"xmlns:cp":xr.CORE_PROPS,"xmlns:dc":xr.dc,"xmlns:dcterms":xr.dcterms,"xmlns:dcmitype":xr.dcmitype,"xmlns:xsi":xr.xsi})],s={};if(!t&&!r.Props)return a.join("");t&&(t.CreatedDate!=null&&nh("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:zh(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s),t.ModifiedDate!=null&&nh("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:zh(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s));for(var o=0;o!=as.length;++o){var c=as[o],f=r.Props&&r.Props[c[1]]!=null?r.Props[c[1]]:t?t[c[1]]:null;f===!0?f="1":f===!1?f="0":typeof f=="number"&&(f=String(f)),f!=null&&nh(c[0],f,null,a,s)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var hl=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],W2=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function V2(t){var e=[],r=Le;return t||(t={}),t.Application="SheetJS",e[e.length]=fr,e[e.length]=Le("Properties",null,{xmlns:xr.EXT_PROPS,"xmlns:vt":xr.vt}),hl.forEach(function(a){if(t[a[1]]!==void 0){var s;switch(a[2]){case"string":s=Ot(String(t[a[1]]));break;case"bool":s=t[a[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(a[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(a){return"<vt:lpstr>"+Ot(a)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function K2(t){var e=[fr,Le("Properties",null,{xmlns:xr.CUST_PROPS,"xmlns:vt":xr.vt})];if(!t)return e.join("");var r=1;return Dr(t).forEach(function(s){++r,e[e.length]=Le("property",vj(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ot(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Bx={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function eC(t,e){var r=[];return Dr(Bx).map(function(a){for(var s=0;s<as.length;++s)if(as[s][1]==a)return as[s];for(s=0;s<hl.length;++s)if(hl[s][1]==a)return hl[s];throw a}).forEach(function(a){if(t[a[1]]!=null){var s=e&&e.Props&&e.Props[a[1]]!=null?e.Props[a[1]]:t[a[1]];switch(a[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Or(Bx[a[1]]||a[1],s))}}),Le("DocumentProperties",r.join(""),{xmlns:xn.o})}function tC(t,e){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",s=[];return t&&Dr(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var c=0;c<as.length;++c)if(o==as[c][1])return;for(c=0;c<hl.length;++c)if(o==hl[c][1])return;for(c=0;c<r.length;++c)if(o==r[c])return;var f=t[o],h="string";typeof f=="number"?(h="float",f=String(f)):f===!0||f===!1?(h="boolean",f=f?"1":"0"):f=String(f),s.push(Le(Tx(o),f,{"dt:dt":h}))}}),e&&Dr(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var c=e[o],f="string";typeof c=="number"?(f="float",c=String(c)):c===!0||c===!1?(f="boolean",c=c?"1":"0"):c instanceof Date?(f="dateTime.tz",c=c.toISOString()):c=String(c),s.push(Le(Tx(o),c,{"dt:dt":f}))}}),"<"+a+' xmlns="'+xn.o+'">'+s.join("")+"</"+a+">"}function rC(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,a=r%Math.pow(2,32),s=(r-a)/Math.pow(2,32);a*=1e7,s*=1e7;var o=a/Math.pow(2,32)|0;o>0&&(a=a%Math.pow(2,32),s+=o);var c=ge(8);return c.write_shift(4,a),c.write_shift(4,s),c}function Ix(t,e){var r=ge(4),a=ge(4);switch(r.write_shift(4,t==80?31:t),t){case 3:a.write_shift(-4,e);break;case 5:a=ge(8),a.write_shift(8,e,"f");break;case 11:a.write_shift(4,e?1:0);break;case 64:a=rC(e);break;case 31:case 80:for(a=ge(4+2*(e.length+1)+(e.length%2?0:2)),a.write_shift(4,e.length+1),a.write_shift(0,e,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Rr([r,a])}var Y2=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function nC(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Ux(t,e,r){var a=ge(8),s=[],o=[],c=8,f=0,h=ge(8),m=ge(8);if(h.write_shift(4,2),h.write_shift(4,1200),m.write_shift(4,1),o.push(h),s.push(m),c+=8+h.length,!e){m=ge(8),m.write_shift(4,0),s.unshift(m);var g=[ge(4)];for(g[0].write_shift(4,t.length),f=0;f<t.length;++f){var x=t[f][0];for(h=ge(8+2*(x.length+1)+(x.length%2?0:2)),h.write_shift(4,f+2),h.write_shift(4,x.length+1),h.write_shift(0,x,"dbcs");h.l!=h.length;)h.write_shift(1,0);g.push(h)}h=Rr(g),o.unshift(h),c+=8+h.length}for(f=0;f<t.length;++f)if(!(e&&!e[t[f][0]])&&!(Y2.indexOf(t[f][0])>-1||W2.indexOf(t[f][0])>-1)&&t[f][1]!=null){var y=t[f][1],w=0;if(e){w=+e[t[f][0]];var S=r[w];if(S.p=="version"&&typeof y=="string"){var _=y.split(".");y=(+_[0]<<16)+(+_[1]||0)}h=Ix(S.t,y)}else{var b=nC(y);b==-1&&(b=31,y=String(y)),h=Ix(b,y)}o.push(h),m=ge(8),m.write_shift(4,e?w:2+f),s.push(m),c+=8+h.length}var k=8*(o.length+1);for(f=0;f<o.length;++f)s[f].write_shift(4,k),k+=o[f].length;return a.write_shift(4,c),a.write_shift(4,o.length),Rr([a].concat(s).concat(o))}function Px(t,e,r,a,s,o){var c=ge(s?68:48),f=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,Lt.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,s?2:1),c.write_shift(16,e,"hex"),c.write_shift(4,s?68:48);var h=Ux(t,r,a);if(f.push(h),s){var m=Ux(s,null,null);c.write_shift(16,o,"hex"),c.write_shift(4,68+h.length),f.push(m)}return Rr(f)}function aC(t,e){e||(e=ge(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function iC(t,e){return t.read_shift(e)===1}function Gr(t,e){return e||(e=ge(2)),e.write_shift(2,+!!t),e}function X2(t){return t.read_shift(2,"u")}function zn(t,e){return e||(e=ge(2)),e.write_shift(2,t),e}function J2(t,e,r){return r||(r=ge(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Q2(t,e,r){var a=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var o=t.read_shift(1);o&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var c=a?t.read_shift(a,s):"";return c}function sC(t){var e=t.t||"",r=ge(3);r.write_shift(2,e.length),r.write_shift(1,1);var a=ge(2*e.length);a.write_shift(2*e.length,e,"utf16le");var s=[r,a];return Rr(s)}function lC(t,e,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?a=t.read_shift(e,"sbcs-cont"):a=t.read_shift(e,"dbcs-cont"),a}function oC(t,e,r){var a=t.read_shift(r&&r.biff==2?1:2);return a===0?(t.l++,""):lC(t,a,r)}function cC(t,e,r){if(r.biff>5)return oC(t,e,r);var a=t.read_shift(1);return a===0?(t.l++,""):t.read_shift(a,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Z2(t,e,r){return r||(r=ge(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function Hx(t,e){e||(e=ge(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function uC(t){var e=ge(512),r=0,a=t.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var s=a.indexOf("#"),o=s>-1?31:23;switch(a.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var c=[8,6815827,6619237,4849780,83];for(r=0;r<c.length;++r)e.write_shift(4,c[r]);if(o==28)a=a.slice(1),Hx(a,e);else if(o&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<c.length;++r)e.write_shift(1,parseInt(c[r],16));var f=s>-1?a.slice(0,s):a;for(e.write_shift(4,2*(f.length+1)),r=0;r<f.length;++r)e.write_shift(2,f.charCodeAt(r));e.write_shift(2,0),o&8&&Hx(s>-1?a.slice(s+1):"",e)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<c.length;++r)e.write_shift(1,parseInt(c[r],16));for(var h=0;a.slice(h*3,h*3+3)=="../"||a.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,a.length-3*h+1),r=0;r<a.length-3*h;++r)e.write_shift(1,a.charCodeAt(r+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function os(t,e,r,a){return a||(a=ge(6)),a.write_shift(2,t),a.write_shift(2,e),a.write_shift(2,r||0),a}function dC(t,e,r){var a=r.biff>8?4:2,s=t.read_shift(a),o=t.read_shift(a,"i"),c=t.read_shift(a,"i");return[s,o,c]}function fC(t){var e=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2);return{s:{c:a,r:e},e:{c:s,r}}}function eb(t,e){return e||(e=ge(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function wm(t,e,r){var a=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,s=8;break;case"biff4":a=4,s=6;break;case"biff3":a=3,s=6;break;case"biff2":a=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=ge(s);return o.write_shift(2,a),o.write_shift(2,e),s>4&&o.write_shift(2,29282),s>6&&o.write_shift(2,1997),s>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function hC(t,e){var r=!e||e.biff==8,a=ge(r?112:54);for(a.write_shift(e.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function mC(t,e){var r=!e||e.biff>=8?2:1,a=ge(8+r*t.name.length);a.write_shift(4,t.pos),a.write_shift(1,t.hs||0),a.write_shift(1,t.dt),a.write_shift(1,t.name.length),e.biff>=8&&a.write_shift(1,1),a.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=a.slice(0,a.l);return s.l=a.l,s}function pC(t,e){var r=ge(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var a=[],s=0;s<t.length;++s)a[s]=sC(t[s]);var o=Rr([r].concat(a));return o.parts=[r.length].concat(a.map(function(c){return c.length})),o}function gC(){var t=ge(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function vC(t){var e=ge(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function xC(t,e){var r=t.name||"Arial",a=e&&e.biff==5,s=a?15+r.length:16+2*r.length,o=ge(s);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,r.length),a||o.write_shift(1,1),o.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),o}function yC(t,e,r,a){var s=ge(10);return os(t,e,a,s),s.write_shift(4,r),s}function _C(t,e,r,a,s){var o=!s||s.biff==8,c=ge(8+ +o+(1+o)*r.length);return os(t,e,a,c),c.write_shift(2,r.length),o&&c.write_shift(1,1),c.write_shift((1+o)*r.length,r,o?"utf16le":"sbcs"),c}function bC(t,e,r,a){var s=r&&r.biff==5;a||(a=ge(s?3+e.length:5+2*e.length)),a.write_shift(2,t),a.write_shift(s?1:2,e.length),s||a.write_shift(1,1),a.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var o=a.length>a.l?a.slice(0,a.l):a;return o.l==null&&(o.l=o.length),o}function wC(t,e){var r=e.biff==8||!e.biff?4:2,a=ge(2*r+6);return a.write_shift(r,t.s.r),a.write_shift(r,t.e.r+1),a.write_shift(2,t.s.c),a.write_shift(2,t.e.c+1),a.write_shift(2,0),a}function $x(t,e,r,a){var s=r&&r.biff==5;a||(a=ge(s?16:20)),a.write_shift(2,0),t.style?(a.write_shift(2,t.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,t.numFmtId||0),a.write_shift(2,e<<4));var o=0;return t.numFmtId>0&&s&&(o|=1024),a.write_shift(4,o),a.write_shift(4,0),s||a.write_shift(4,0),a.write_shift(2,0),a}function SC(t){var e=ge(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function EC(t,e,r,a,s,o){var c=ge(8);return os(t,e,a,c),J2(r,o,c),c}function TC(t,e,r,a){var s=ge(14);return os(t,e,a,s),ls(r,s),s}function kC(t,e,r){if(r.biff<8)return AC(t,e,r);for(var a=[],s=t.l+e,o=t.read_shift(r.biff>8?4:2);o--!==0;)a.push(dC(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return a}function AC(t,e,r){t[t.l+1]==3&&t[t.l]++;var a=Q2(t,e,r);return a.charCodeAt(0)==3?a.slice(1):a}function jC(t){var e=ge(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)eb(t[r],e);return e}function CC(t){var e=ge(24),r=yr(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(a[s],16));return Rr([e,uC(t[1])])}function RC(t){var e=t[1].Tooltip,r=ge(10+2*(e.length+1));r.write_shift(2,2048);var a=yr(t[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function OC(t){return t||(t=ge(4)),t.write_shift(2,1),t.write_shift(2,1),t}function NC(t,e,r){if(!r.cellStyles)return fa(t,e);var a=r&&r.biff>=12?4:2,s=t.read_shift(a),o=t.read_shift(a),c=t.read_shift(a),f=t.read_shift(a),h=t.read_shift(2);a==2&&(t.l+=2);var m={s,e:o,w:c,ixfe:f,flags:h};return(r.biff>=5||!r.biff)&&(m.level=h>>8&7),m}function DC(t,e){var r=ge(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var a=0;return t.hidden&&(a|=1),r.write_shift(1,a),a=t.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function MC(t){for(var e=ge(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function zC(t,e,r){var a=ge(15);return rc(a,t,e),a.write_shift(8,r,"f"),a}function LC(t,e,r){var a=ge(9);return rc(a,t,e),a.write_shift(2,r),a}var FC=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=dm({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(f,h){var m=[],g=ss(1);switch(h.type){case"base64":g=Jn(Ha(f));break;case"binary":g=Jn(f);break;case"buffer":case"array":g=f;break}vn(g,0);var x=g.read_shift(1),y=!!(x&136),w=!1,S=!1;switch(x){case 2:break;case 3:break;case 48:w=!0,y=!0;break;case 49:w=!0,y=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var _=0,b=521;x==2&&(_=g.read_shift(2)),g.l+=3,x!=2&&(_=g.read_shift(4)),_>1048576&&(_=1e6),x!=2&&(b=g.read_shift(2));var k=g.read_shift(2),R=h.codepage||1252;x!=2&&(g.l+=16,g.read_shift(1),g[g.l]!==0&&(R=t[g[g.l]]),g.l+=1,g.l+=2),S&&(g.l+=36);for(var T=[],L={},H=Math.min(g.length,x==2?521:b-10-(w?264:0)),Y=S?32:11;g.l<H&&g[g.l]!=13;)switch(L={},L.name=Ju.utils.decode(R,g.slice(g.l,g.l+Y)).replace(/[\u0000\r\n].*$/g,""),g.l+=Y,L.type=String.fromCharCode(g.read_shift(1)),x!=2&&!S&&(L.offset=g.read_shift(4)),L.len=g.read_shift(1),x==2&&(L.offset=g.read_shift(2)),L.dec=g.read_shift(1),L.name.length&&T.push(L),x!=2&&(g.l+=S?13:14),L.type){case"B":(!w||L.len!=8)&&h.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(g[g.l]!==13&&(g.l=b-1),g.read_shift(1)!==13)throw new Error("DBF Terminator not found "+g.l+" "+g[g.l]);g.l=b;var A=0,I=0;for(m[0]=[],I=0;I!=T.length;++I)m[0][I]=T[I].name;for(;_-- >0;){if(g[g.l]===42){g.l+=k;continue}for(++g.l,m[++A]=[],I=0,I=0;I!=T.length;++I){var G=g.slice(g.l,g.l+T[I].len);g.l+=T[I].len,vn(G,0);var te=Ju.utils.decode(R,G);switch(T[I].type){case"C":te.trim().length&&(m[A][I]=te.replace(/\s+$/,""));break;case"D":te.length===8?m[A][I]=new Date(+te.slice(0,4),+te.slice(4,6)-1,+te.slice(6,8)):m[A][I]=te;break;case"F":m[A][I]=parseFloat(te.trim());break;case"+":case"I":m[A][I]=S?G.read_shift(-4,"i")^2147483648:G.read_shift(4,"i");break;case"L":switch(te.trim().toUpperCase()){case"Y":case"T":m[A][I]=!0;break;case"N":case"F":m[A][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+te+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));m[A][I]="##MEMO##"+(S?parseInt(te.trim(),10):G.read_shift(4));break;case"N":te=te.replace(/\u0000/g,"").trim(),te&&te!="."&&(m[A][I]=+te||0);break;case"@":m[A][I]=new Date(G.read_shift(-8,"f")-621356832e5);break;case"T":m[A][I]=new Date((G.read_shift(4)-2440588)*864e5+G.read_shift(4));break;case"Y":m[A][I]=G.read_shift(4,"i")/1e4+G.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":m[A][I]=-G.read_shift(-8,"f");break;case"B":if(w&&T[I].len==8){m[A][I]=G.read_shift(8,"f");break}case"G":case"P":G.l+=T[I].len;break;case"0":if(T[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[I].type)}}}if(x!=2&&g.l<g.length&&g[g.l++]!=26)throw new Error("DBF EOF Marker missing "+(g.l-1)+" of "+g.length+" "+g[g.l-1].toString(16));return h&&h.sheetRows&&(m=m.slice(0,h.sheetRows)),h.DBF=T,m}function a(f,h){var m=h||{};m.dateNF||(m.dateNF="yyyymmdd");var g=Sl(r(f,m),m);return g["!cols"]=m.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete m.DBF,g}function s(f,h){try{return us(a(f,h),h)}catch(m){if(h&&h.WTF)throw m}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function c(f,h){var m=h||{};if(+m.codepage>=0&&Bo(+m.codepage),m.type=="string")throw new Error("Cannot write DBF to JS string");var g=rn(),x=ud(f,{header:1,raw:!0,cellDates:!0}),y=x[0],w=x.slice(1),S=f["!cols"]||[],_=0,b=0,k=0,R=1;for(_=0;_<y.length;++_){if(((S[_]||{}).DBF||{}).name){y[_]=S[_].DBF.name,++k;continue}if(y[_]!=null){if(++k,typeof y[_]=="number"&&(y[_]=y[_].toString(10)),typeof y[_]!="string")throw new Error("DBF Invalid column name "+y[_]+" |"+typeof y[_]+"|");if(y.indexOf(y[_])!==_){for(b=0;b<1024;++b)if(y.indexOf(y[_]+"_"+b)==-1){y[_]+="_"+b;break}}}}var T=$t(f["!ref"]),L=[],H=[],Y=[];for(_=0;_<=T.e.c-T.s.c;++_){var A="",I="",G=0,te=[];for(b=0;b<w.length;++b)w[b][_]!=null&&te.push(w[b][_]);if(te.length==0||y[_]==null){L[_]="?";continue}for(b=0;b<te.length;++b){switch(typeof te[b]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=te[b]instanceof Date?"D":"C";break;default:I="C"}G=Math.max(G,String(te[b]).length),A=A&&A!=I?"C":I}G>250&&(G=250),I=((S[_]||{}).DBF||{}).type,I=="C"&&S[_].DBF.len>G&&(G=S[_].DBF.len),A=="B"&&I=="N"&&(A="N",Y[_]=S[_].DBF.dec,G=S[_].DBF.len),H[_]=A=="C"||I=="N"?G:o[A]||0,R+=H[_],L[_]=A}var ee=g.next(32);for(ee.write_shift(4,318902576),ee.write_shift(4,w.length),ee.write_shift(2,296+32*k),ee.write_shift(2,R),_=0;_<4;++_)ee.write_shift(4,0);for(ee.write_shift(4,0|(+e[r2]||3)<<8),_=0,b=0;_<y.length;++_)if(y[_]!=null){var ie=g.next(32),ye=(y[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);ie.write_shift(1,ye,"sbcs"),ie.write_shift(1,L[_]=="?"?"C":L[_],"sbcs"),ie.write_shift(4,b),ie.write_shift(1,H[_]||o[L[_]]||0),ie.write_shift(1,Y[_]||0),ie.write_shift(1,2),ie.write_shift(4,0),ie.write_shift(1,0),ie.write_shift(4,0),ie.write_shift(4,0),b+=H[_]||o[L[_]]||0}var qe=g.next(264);for(qe.write_shift(4,13),_=0;_<65;++_)qe.write_shift(4,0);for(_=0;_<w.length;++_){var ce=g.next(R);for(ce.write_shift(1,0),b=0;b<y.length;++b)if(y[b]!=null)switch(L[b]){case"L":ce.write_shift(1,w[_][b]==null?63:w[_][b]?84:70);break;case"B":ce.write_shift(8,w[_][b]||0,"f");break;case"N":var J="0";for(typeof w[_][b]=="number"&&(J=w[_][b].toFixed(Y[b]||0)),k=0;k<H[b]-J.length;++k)ce.write_shift(1,32);ce.write_shift(1,J,"sbcs");break;case"D":w[_][b]?(ce.write_shift(4,("0000"+w[_][b].getFullYear()).slice(-4),"sbcs"),ce.write_shift(2,("00"+(w[_][b].getMonth()+1)).slice(-2),"sbcs"),ce.write_shift(2,("00"+w[_][b].getDate()).slice(-2),"sbcs")):ce.write_shift(8,"00000000","sbcs");break;case"C":var me=String(w[_][b]!=null?w[_][b]:"").slice(0,H[b]);for(ce.write_shift(1,me,"sbcs"),k=0;k<H[b]-me.length;++k)ce.write_shift(1,32);break}}return g.next(1).write_shift(1,26),g.end()}return{to_workbook:s,to_sheet:a,from_sheet:c}})(),BC=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Dr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,w){var S=t[w];return typeof S=="number"?hx(S):S},a=function(y,w,S){var _=w.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return _==59?y:hx(_)};t["|"]=254;function s(y,w){switch(w.type){case"base64":return o(Ha(y),w);case"binary":return o(y,w);case"buffer":return o(Tt&&Buffer.isBuffer(y)?y.toString("binary"):Jo(y),w);case"array":return o(Td(y),w)}throw new Error("Unrecognized type "+w.type)}function o(y,w){var S=y.split(/[\n\r]+/),_=-1,b=-1,k=0,R=0,T=[],L=[],H=null,Y={},A=[],I=[],G=[],te=0,ee;for(+w.codepage>=0&&Bo(+w.codepage);k!==S.length;++k){te=0;var ie=S[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(e,r),ye=ie.replace(/;;/g,"\0").split(";").map(function(U){return U.replace(/\u0000/g,";")}),qe=ye[0],ce;if(ie.length>0)switch(qe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ye[1].charAt(0)=="P"&&L.push(ie.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,me=!1,Ce=!1,Fe=!1,Q=-1,j=-1;for(R=1;R<ye.length;++R)switch(ye[R].charAt(0)){case"A":break;case"X":b=parseInt(ye[R].slice(1))-1,me=!0;break;case"Y":for(_=parseInt(ye[R].slice(1))-1,me||(b=0),ee=T.length;ee<=_;++ee)T[ee]=[];break;case"K":ce=ye[R].slice(1),ce.charAt(0)==='"'?ce=ce.slice(1,ce.length-1):ce==="TRUE"?ce=!0:ce==="FALSE"?ce=!1:isNaN(Ia(ce))?isNaN(Uo(ce).getDate())||(ce=qr(ce)):(ce=Ia(ce),H!==null&&m2(H)&&(ce=x2(ce))),J=!0;break;case"E":Fe=!0;var C=L6(ye[R].slice(1),{r:_,c:b});T[_][b]=[T[_][b],C];break;case"S":Ce=!0,T[_][b]=[T[_][b],"S5S"];break;case"G":break;case"R":Q=parseInt(ye[R].slice(1))-1;break;case"C":j=parseInt(ye[R].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+ie)}if(J&&(T[_][b]&&T[_][b].length==2?T[_][b][0]=ce:T[_][b]=ce,H=null),Ce){if(Fe)throw new Error("SYLK shared formula cannot have own formula");var W=Q>-1&&T[Q][j];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");T[_][b][1]=F6(W[1],{r:_-Q,c:b-j})}break;case"F":var N=0;for(R=1;R<ye.length;++R)switch(ye[R].charAt(0)){case"X":b=parseInt(ye[R].slice(1))-1,++N;break;case"Y":for(_=parseInt(ye[R].slice(1))-1,ee=T.length;ee<=_;++ee)T[ee]=[];break;case"M":te=parseInt(ye[R].slice(1))/20;break;case"F":break;case"G":break;case"P":H=L[parseInt(ye[R].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(G=ye[R].slice(1).split(" "),ee=parseInt(G[0],10);ee<=parseInt(G[1],10);++ee)te=parseInt(G[2],10),I[ee-1]=te===0?{hidden:!0}:{wch:te},Sm(I[ee-1]);break;case"C":b=parseInt(ye[R].slice(1))-1,I[b]||(I[b]={});break;case"R":_=parseInt(ye[R].slice(1))-1,A[_]||(A[_]={}),te>0?(A[_].hpt=te,A[_].hpx=ib(te)):te===0&&(A[_].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+ie)}N<1&&(H=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+ie)}}return A.length>0&&(Y["!rows"]=A),I.length>0&&(Y["!cols"]=I),w&&w.sheetRows&&(T=T.slice(0,w.sheetRows)),[T,Y]}function c(y,w){var S=s(y,w),_=S[0],b=S[1],k=Sl(_,w);return Dr(b).forEach(function(R){k[R]=b[R]}),k}function f(y,w){return us(c(y,w),w)}function h(y,w,S,_){var b="C;Y"+(S+1)+";X"+(_+1)+";K";switch(y.t){case"n":b+=y.v||0,y.f&&!y.F&&(b+=";E"+Tm(y.f,{r:S,c:_}));break;case"b":b+=y.v?"TRUE":"FALSE";break;case"e":b+=y.w||y.v;break;case"d":b+='"'+(y.w||y.v)+'"';break;case"s":b+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function m(y,w){w.forEach(function(S,_){var b="F;W"+(_+1)+" "+(_+1)+" ";S.hidden?b+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=sd(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=ld(S.wpx)),typeof S.wch=="number"&&(b+=Math.round(S.wch))),b.charAt(b.length-1)!=" "&&y.push(b)})}function g(y,w){w.forEach(function(S,_){var b="F;";S.hidden?b+="M0;":S.hpt?b+="M"+20*S.hpt+";":S.hpx&&(b+="M"+20*od(S.hpx)+";"),b.length>2&&y.push(b+"R"+(_+1))})}function x(y,w){var S=["ID;PWXL;N;E"],_=[],b=$t(y["!ref"]),k,R=Array.isArray(y),T=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),y["!cols"]&&m(S,y["!cols"]),y["!rows"]&&g(S,y["!rows"]),S.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var L=b.s.r;L<=b.e.r;++L)for(var H=b.s.c;H<=b.e.c;++H){var Y=Nt({r:L,c:H});k=R?(y[L]||[])[H]:y[Y],!(!k||k.v==null&&(!k.f||k.F))&&_.push(h(k,y,L,H))}return S.join(T)+T+_.join(T)+T+"E"+T}return{to_workbook:f,to_sheet:c,from_sheet:x}})(),IC=(function(){function t(o,c){switch(c.type){case"base64":return e(Ha(o),c);case"binary":return e(o,c);case"buffer":return e(Tt&&Buffer.isBuffer(o)?o.toString("binary"):Jo(o),c);case"array":return e(Td(o),c)}throw new Error("Unrecognized type "+c.type)}function e(o,c){for(var f=o.split(`
`),h=-1,m=-1,g=0,x=[];g!==f.length;++g){if(f[g].trim()==="BOT"){x[++h]=[],m=0;continue}if(!(h<0)){var y=f[g].trim().split(","),w=y[0],S=y[1];++g;for(var _=f[g]||"";(_.match(/["]/g)||[]).length&1&&g<f.length-1;)_+=`
`+f[++g];switch(_=_.trim(),+w){case-1:if(_==="BOT"){x[++h]=[],m=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?x[h][m]=!0:_==="FALSE"?x[h][m]=!1:isNaN(Ia(S))?isNaN(Uo(S).getDate())?x[h][m]=S:x[h][m]=qr(S):x[h][m]=Ia(S),++m;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),x[h][m++]=_!==""?_:null;break}if(_==="EOD")break}}return c&&c.sheetRows&&(x=x.slice(0,c.sheetRows)),x}function r(o,c){return Sl(t(o,c),c)}function a(o,c){return us(r(o,c),c)}var s=(function(){var o=function(h,m,g,x,y){h.push(m),h.push(g+","+x),h.push('"'+y.replace(/"/g,'""')+'"')},c=function(h,m,g,x){h.push(m+","+g),h.push(m==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(h){var m=[],g=$t(h["!ref"]),x,y=Array.isArray(h);o(m,"TABLE",0,1,"sheetjs"),o(m,"VECTORS",0,g.e.r-g.s.r+1,""),o(m,"TUPLES",0,g.e.c-g.s.c+1,""),o(m,"DATA",0,0,"");for(var w=g.s.r;w<=g.e.r;++w){c(m,-1,0,"BOT");for(var S=g.s.c;S<=g.e.c;++S){var _=Nt({r:w,c:S});if(x=y?(h[w]||[])[S]:h[_],!x){c(m,1,0,"");continue}switch(x.t){case"n":var b=x.w;!b&&x.v!=null&&(b=x.v),b==null?x.f&&!x.F?c(m,1,0,"="+x.f):c(m,1,0,""):c(m,0,b,"V");break;case"b":c(m,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":c(m,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=Ai(x.z||Qt[14],an(qr(x.v)))),c(m,0,x.w,"V");break;default:c(m,1,0,"")}}}c(m,-1,0,"EOD");var k=`\r
`,R=m.join(k);return R}})();return{to_workbook:a,to_sheet:r,from_sheet:s}})(),tb=(function(){function t(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(x,y){for(var w=x.split(`
`),S=-1,_=-1,b=0,k=[];b!==w.length;++b){var R=w[b].trim().split(":");if(R[0]==="cell"){var T=yr(R[1]);if(k.length<=T.r)for(S=k.length;S<=T.r;++S)k[S]||(k[S]=[]);switch(S=T.r,_=T.c,R[2]){case"t":k[S][_]=t(R[3]);break;case"v":k[S][_]=+R[3];break;case"vtf":var L=R[R.length-1];case"vtc":switch(R[3]){case"nl":k[S][_]=!!+R[4];break;default:k[S][_]=+R[4];break}R[2]=="vtf"&&(k[S][_]=[k[S][_],L])}}}return y&&y.sheetRows&&(k=k.slice(0,y.sheetRows)),k}function a(x,y){return Sl(r(x,y),y)}function s(x,y){return us(a(x,y),y)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function m(x){if(!x||!x["!ref"])return"";for(var y=[],w=[],S,_="",b=wn(x["!ref"]),k=Array.isArray(x),R=b.s.r;R<=b.e.r;++R)for(var T=b.s.c;T<=b.e.c;++T)if(_=Nt({r:R,c:T}),S=k?(x[R]||[])[T]:x[_],!(!S||S.v==null||S.t==="z")){switch(w=["cell",_,"t"],S.t){case"s":case"str":w.push(e(S.v));break;case"n":S.f?(w[2]="vtf",w[3]="n",w[4]=S.v,w[5]=e(S.f)):(w[2]="v",w[3]=S.v);break;case"b":w[2]="vt"+(S.f?"f":"c"),w[3]="nl",w[4]=S.v?"1":"0",w[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var L=an(qr(S.v));w[2]="vtc",w[3]="nd",w[4]=""+L,w[5]=S.w||Ai(S.z||Qt[14],L);break;case"e":continue}y.push(w.join(":"))}return y.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function g(x){return[o,c,f,c,m(x),h].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:g}})(),UC=(function(){function t(g,x,y,w,S){S.raw?x[y][w]=g:g===""||(g==="TRUE"?x[y][w]=!0:g==="FALSE"?x[y][w]=!1:isNaN(Ia(g))?isNaN(Uo(g).getDate())?x[y][w]=g:x[y][w]=qr(g):x[y][w]=Ia(g))}function e(g,x){var y=x||{},w=[];if(!g||g.length===0)return w;for(var S=g.split(/[\r\n]/),_=S.length-1;_>=0&&S[_].length===0;)--_;for(var b=10,k=0,R=0;R<=_;++R)k=S[R].indexOf(" "),k==-1?k=S[R].length:k++,b=Math.max(b,k);for(R=0;R<=_;++R){w[R]=[];var T=0;for(t(S[R].slice(0,b).trim(),w,R,T,y),T=1;T<=(S[R].length-b)/10+1;++T)t(S[R].slice(b+(T-1)*10,b+T*10).trim(),w,R,T,y)}return y.sheetRows&&(w=w.slice(0,y.sheetRows)),w}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(g){for(var x={},y=!1,w=0,S=0;w<g.length;++w)(S=g.charCodeAt(w))==34?y=!y:!y&&S in r&&(x[S]=(x[S]||0)+1);S=[];for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&S.push([x[w],w]);if(!S.length){x=a;for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&S.push([x[w],w])}return S.sort(function(_,b){return _[0]-b[0]||a[_[1]]-a[b[1]]}),r[S.pop()[1]]||44}function o(g,x){var y=x||{},w="",S=y.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};g.slice(0,4)=="sep="?g.charCodeAt(5)==13&&g.charCodeAt(6)==10?(w=g.charAt(4),g=g.slice(7)):g.charCodeAt(5)==13||g.charCodeAt(5)==10?(w=g.charAt(4),g=g.slice(6)):w=s(g.slice(0,1024)):y&&y.FS?w=y.FS:w=s(g.slice(0,1024));var b=0,k=0,R=0,T=0,L=0,H=w.charCodeAt(0),Y=!1,A=0,I=g.charCodeAt(0);g=g.replace(/\r\n/mg,`
`);var G=y.dateNF!=null?rj(y.dateNF):null;function te(){var ee=g.slice(T,L),ie={};if(ee.charAt(0)=='"'&&ee.charAt(ee.length-1)=='"'&&(ee=ee.slice(1,-1).replace(/""/g,'"')),ee.length===0)ie.t="z";else if(y.raw)ie.t="s",ie.v=ee;else if(ee.trim().length===0)ie.t="s",ie.v=ee;else if(ee.charCodeAt(0)==61)ee.charCodeAt(1)==34&&ee.charCodeAt(ee.length-1)==34?(ie.t="s",ie.v=ee.slice(2,-1).replace(/""/g,'"')):B6(ee)?(ie.t="n",ie.f=ee.slice(1)):(ie.t="s",ie.v=ee);else if(ee=="TRUE")ie.t="b",ie.v=!0;else if(ee=="FALSE")ie.t="b",ie.v=!1;else if(!isNaN(R=Ia(ee)))ie.t="n",y.cellText!==!1&&(ie.w=ee),ie.v=R;else if(!isNaN(Uo(ee).getDate())||G&&ee.match(G)){ie.z=y.dateNF||Qt[14];var ye=0;G&&ee.match(G)&&(ee=nj(ee,y.dateNF,ee.match(G)||[]),ye=1),y.cellDates?(ie.t="d",ie.v=qr(ee,ye)):(ie.t="n",ie.v=an(qr(ee,ye))),y.cellText!==!1&&(ie.w=Ai(ie.z,ie.v instanceof Date?an(ie.v):ie.v)),y.cellNF||delete ie.z}else ie.t="s",ie.v=ee;if(ie.t=="z"||(y.dense?(S[b]||(S[b]=[]),S[b][k]=ie):S[Nt({c:k,r:b})]=ie),T=L+1,I=g.charCodeAt(T),_.e.c<k&&(_.e.c=k),_.e.r<b&&(_.e.r=b),A==H)++k;else if(k=0,++b,y.sheetRows&&y.sheetRows<=b)return!0}e:for(;L<g.length;++L)switch(A=g.charCodeAt(L)){case 34:I===34&&(Y=!Y);break;case H:case 10:case 13:if(!Y&&te())break e;break}return L-T>0&&te(),S["!ref"]=dr(_),S}function c(g,x){return!(x&&x.PRN)||x.FS||g.slice(0,4)=="sep="||g.indexOf("	")>=0||g.indexOf(",")>=0||g.indexOf(";")>=0?o(g,x):Sl(e(g,x),x)}function f(g,x){var y="",w=x.type=="string"?[0,0,0,0]:QN(g,x);switch(x.type){case"base64":y=Ha(g);break;case"binary":y=g;break;case"buffer":x.codepage==65001?y=g.toString("utf8"):x.codepage&&typeof Ju<"u"||(y=Tt&&Buffer.isBuffer(g)?g.toString("binary"):Jo(g));break;case"array":y=Td(g);break;case"string":y=g;break;default:throw new Error("Unrecognized type "+x.type)}return w[0]==239&&w[1]==187&&w[2]==191?y=jo(y.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?y=jo(y):x.type=="binary"&&typeof Ju<"u",y.slice(0,19)=="socialcalc:version:"?tb.to_sheet(x.type=="string"?y:jo(y),x):c(y,x)}function h(g,x){return us(f(g,x),x)}function m(g){for(var x=[],y=$t(g["!ref"]),w,S=Array.isArray(g),_=y.s.r;_<=y.e.r;++_){for(var b=[],k=y.s.c;k<=y.e.c;++k){var R=Nt({r:_,c:k});if(w=S?(g[_]||[])[k]:g[R],!w||w.v==null){b.push("          ");continue}for(var T=(w.w||($a(w),w.w)||"").slice(0,10);T.length<10;)T+=" ";b.push(T+(k===0?" ":""))}x.push(b.join(""))}return x.join(`
`)}return{to_workbook:h,to_sheet:f,from_sheet:m}})(),Gx=(function(){function t(C,W,N){if(C){vn(C,C.l||0);for(var U=N.Enum||Q;C.l<C.length;){var Z=C.read_shift(2),he=U[Z]||U[65535],we=C.read_shift(2),_e=C.l+we,ke=he.f&&he.f(C,we,N);if(C.l=_e,W(ke,he,Z))return}}}function e(C,W){switch(W.type){case"base64":return r(Jn(Ha(C)),W);case"binary":return r(Jn(C),W);case"buffer":case"array":return r(C,W)}throw"Unsupported type "+W.type}function r(C,W){if(!C)return C;var N=W||{},U=N.dense?[]:{},Z="Sheet1",he="",we=0,_e={},ke=[],Ge=[],Ke={s:{r:0,c:0},e:{r:0,c:0}},nt=N.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)N.Enum=Q,t(C,function(Pe,St,Gt){switch(Gt){case 0:N.vers=Pe,Pe>=4096&&(N.qpro=!0);break;case 6:Ke=Pe;break;case 204:Pe&&(he=Pe);break;case 222:he=Pe;break;case 15:case 51:N.qpro||(Pe[1].v=Pe[1].v.slice(1));case 13:case 14:case 16:Gt==14&&(Pe[2]&112)==112&&(Pe[2]&15)>1&&(Pe[2]&15)<15&&(Pe[1].z=N.dateNF||Qt[14],N.cellDates&&(Pe[1].t="d",Pe[1].v=x2(Pe[1].v))),N.qpro&&Pe[3]>we&&(U["!ref"]=dr(Ke),_e[Z]=U,ke.push(Z),U=N.dense?[]:{},Ke={s:{r:0,c:0},e:{r:0,c:0}},we=Pe[3],Z=he||"Sheet"+(we+1),he="");var kt=N.dense?(U[Pe[0].r]||[])[Pe[0].c]:U[Nt(Pe[0])];if(kt){kt.t=Pe[1].t,kt.v=Pe[1].v,Pe[1].z!=null&&(kt.z=Pe[1].z),Pe[1].f!=null&&(kt.f=Pe[1].f);break}N.dense?(U[Pe[0].r]||(U[Pe[0].r]=[]),U[Pe[0].r][Pe[0].c]=Pe[1]):U[Nt(Pe[0])]=Pe[1];break}},N);else if(C[2]==26||C[2]==14)N.Enum=j,C[2]==14&&(N.qpro=!0,C.l=0),t(C,function(Pe,St,Gt){switch(Gt){case 204:Z=Pe;break;case 22:Pe[1].v=Pe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Pe[3]>we&&(U["!ref"]=dr(Ke),_e[Z]=U,ke.push(Z),U=N.dense?[]:{},Ke={s:{r:0,c:0},e:{r:0,c:0}},we=Pe[3],Z="Sheet"+(we+1)),nt>0&&Pe[0].r>=nt)break;N.dense?(U[Pe[0].r]||(U[Pe[0].r]=[]),U[Pe[0].r][Pe[0].c]=Pe[1]):U[Nt(Pe[0])]=Pe[1],Ke.e.c<Pe[0].c&&(Ke.e.c=Pe[0].c),Ke.e.r<Pe[0].r&&(Ke.e.r=Pe[0].r);break;case 27:Pe[14e3]&&(Ge[Pe[14e3][0]]=Pe[14e3][1]);break;case 1537:Ge[Pe[0]]=Pe[1],Pe[0]==we&&(Z=Pe[1]);break}},N);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(U["!ref"]=dr(Ke),_e[he||Z]=U,ke.push(he||Z),!Ge.length)return{SheetNames:ke,Sheets:_e};for(var De={},at=[],st=0;st<Ge.length;++st)_e[ke[st]]?(at.push(Ge[st]||ke[st]),De[Ge[st]]=_e[Ge[st]]||_e[ke[st]]):(at.push(Ge[st]),De[Ge[st]]={"!ref":"A1"});return{SheetNames:at,Sheets:De}}function a(C,W){var N=W||{};if(+N.codepage>=0&&Bo(+N.codepage),N.type=="string")throw new Error("Cannot write WK1 to JS string");var U=rn(),Z=$t(C["!ref"]),he=Array.isArray(C),we=[];Be(U,0,o(1030)),Be(U,6,h(Z));for(var _e=Math.min(Z.e.r,8191),ke=Z.s.r;ke<=_e;++ke)for(var Ge=Nr(ke),Ke=Z.s.c;Ke<=Z.e.c;++Ke){ke===Z.s.r&&(we[Ke]=Lr(Ke));var nt=we[Ke]+Ge,De=he?(C[ke]||[])[Ke]:C[nt];if(!(!De||De.t=="z"))if(De.t=="n")(De.v|0)==De.v&&De.v>=-32768&&De.v<=32767?Be(U,13,w(ke,Ke,De.v)):Be(U,14,_(ke,Ke,De.v));else{var at=$a(De);Be(U,15,x(ke,Ke,at.slice(0,239)))}}return Be(U,1),U.end()}function s(C,W){var N=W||{};if(+N.codepage>=0&&Bo(+N.codepage),N.type=="string")throw new Error("Cannot write WK3 to JS string");var U=rn();Be(U,0,c(C));for(var Z=0,he=0;Z<C.SheetNames.length;++Z)(C.Sheets[C.SheetNames[Z]]||{})["!ref"]&&Be(U,27,Fe(C.SheetNames[Z],he++));var we=0;for(Z=0;Z<C.SheetNames.length;++Z){var _e=C.Sheets[C.SheetNames[Z]];if(!(!_e||!_e["!ref"])){for(var ke=$t(_e["!ref"]),Ge=Array.isArray(_e),Ke=[],nt=Math.min(ke.e.r,8191),De=ke.s.r;De<=nt;++De)for(var at=Nr(De),st=ke.s.c;st<=ke.e.c;++st){De===ke.s.r&&(Ke[st]=Lr(st));var Pe=Ke[st]+at,St=Ge?(_e[De]||[])[st]:_e[Pe];if(!(!St||St.t=="z"))if(St.t=="n")Be(U,23,te(De,st,we,St.v));else{var Gt=$a(St);Be(U,22,A(De,st,we,Gt.slice(0,239)))}}++we}}return Be(U,1),U.end()}function o(C){var W=ge(2);return W.write_shift(2,C),W}function c(C){var W=ge(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var N=0,U=0,Z=0,he=0;he<C.SheetNames.length;++he){var we=C.SheetNames[he],_e=C.Sheets[we];if(!(!_e||!_e["!ref"])){++Z;var ke=wn(_e["!ref"]);N<ke.e.r&&(N=ke.e.r),U<ke.e.c&&(U=ke.e.c)}}return N>8191&&(N=8191),W.write_shift(2,N),W.write_shift(1,Z),W.write_shift(1,U),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function f(C,W,N){var U={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&N.qpro?(U.s.c=C.read_shift(1),C.l++,U.s.r=C.read_shift(2),U.e.c=C.read_shift(1),C.l++,U.e.r=C.read_shift(2),U):(U.s.c=C.read_shift(2),U.s.r=C.read_shift(2),W==12&&N.qpro&&(C.l+=2),U.e.c=C.read_shift(2),U.e.r=C.read_shift(2),W==12&&N.qpro&&(C.l+=2),U.s.c==65535&&(U.s.c=U.e.c=U.s.r=U.e.r=0),U)}function h(C){var W=ge(8);return W.write_shift(2,C.s.c),W.write_shift(2,C.s.r),W.write_shift(2,C.e.c),W.write_shift(2,C.e.r),W}function m(C,W,N){var U=[{c:0,r:0},{t:"n",v:0},0,0];return N.qpro&&N.vers!=20768?(U[0].c=C.read_shift(1),U[3]=C.read_shift(1),U[0].r=C.read_shift(2),C.l+=2):(U[2]=C.read_shift(1),U[0].c=C.read_shift(2),U[0].r=C.read_shift(2)),U}function g(C,W,N){var U=C.l+W,Z=m(C,W,N);if(Z[1].t="s",N.vers==20768){C.l++;var he=C.read_shift(1);return Z[1].v=C.read_shift(he,"utf8"),Z}return N.qpro&&C.l++,Z[1].v=C.read_shift(U-C.l,"cstr"),Z}function x(C,W,N){var U=ge(7+N.length);U.write_shift(1,255),U.write_shift(2,W),U.write_shift(2,C),U.write_shift(1,39);for(var Z=0;Z<U.length;++Z){var he=N.charCodeAt(Z);U.write_shift(1,he>=128?95:he)}return U.write_shift(1,0),U}function y(C,W,N){var U=m(C,W,N);return U[1].v=C.read_shift(2,"i"),U}function w(C,W,N){var U=ge(7);return U.write_shift(1,255),U.write_shift(2,W),U.write_shift(2,C),U.write_shift(2,N,"i"),U}function S(C,W,N){var U=m(C,W,N);return U[1].v=C.read_shift(8,"f"),U}function _(C,W,N){var U=ge(13);return U.write_shift(1,255),U.write_shift(2,W),U.write_shift(2,C),U.write_shift(8,N,"f"),U}function b(C,W,N){var U=C.l+W,Z=m(C,W,N);if(Z[1].v=C.read_shift(8,"f"),N.qpro)C.l=U;else{var he=C.read_shift(2);L(C.slice(C.l,C.l+he),Z),C.l+=he}return Z}function k(C,W,N){var U=W&32768;return W&=-32769,W=(U?C:0)+(W>=8192?W-16384:W),(U?"":"$")+(N?Lr(W):Nr(W))}var R={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(C,W){vn(C,0);for(var N=[],U=0,Z="",he="",we="",_e="";C.l<C.length;){var ke=C[C.l++];switch(ke){case 0:N.push(C.read_shift(8,"f"));break;case 1:he=k(W[0].c,C.read_shift(2),!0),Z=k(W[0].r,C.read_shift(2),!1),N.push(he+Z);break;case 2:{var Ge=k(W[0].c,C.read_shift(2),!0),Ke=k(W[0].r,C.read_shift(2),!1);he=k(W[0].c,C.read_shift(2),!0),Z=k(W[0].r,C.read_shift(2),!1),N.push(Ge+Ke+":"+he+Z)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:N.push("("+N.pop()+")");break;case 5:N.push(C.read_shift(2));break;case 6:{for(var nt="";ke=C[C.l++];)nt+=String.fromCharCode(ke);N.push('"'+nt.replace(/"/g,'""')+'"')}break;case 8:N.push("-"+N.pop());break;case 23:N.push("+"+N.pop());break;case 22:N.push("NOT("+N.pop()+")");break;case 20:case 21:_e=N.pop(),we=N.pop(),N.push(["AND","OR"][ke-20]+"("+we+","+_e+")");break;default:if(ke<32&&T[ke])_e=N.pop(),we=N.pop(),N.push(we+T[ke]+_e);else if(R[ke]){if(U=R[ke][1],U==69&&(U=C[C.l++]),U>N.length){console.error("WK1 bad formula parse 0x"+ke.toString(16)+":|"+N.join("|")+"|");return}var De=N.slice(-U);N.length-=U,N.push(R[ke][0]+"("+De.join(",")+")")}else return ke<=7?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=24?console.error("WK1 unsupported op "+ke.toString(16)):ke<=30?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=115?console.error("WK1 unsupported function opcode "+ke.toString(16)):console.error("WK1 unrecognized opcode "+ke.toString(16))}}N.length==1?W[1].f=""+N[0]:console.error("WK1 bad formula parse |"+N.join("|")+"|")}function H(C){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=C.read_shift(2),W[3]=C[C.l++],W[0].c=C[C.l++],W}function Y(C,W){var N=H(C);return N[1].t="s",N[1].v=C.read_shift(W-4,"cstr"),N}function A(C,W,N,U){var Z=ge(6+U.length);Z.write_shift(2,C),Z.write_shift(1,N),Z.write_shift(1,W),Z.write_shift(1,39);for(var he=0;he<U.length;++he){var we=U.charCodeAt(he);Z.write_shift(1,we>=128?95:we)}return Z.write_shift(1,0),Z}function I(C,W){var N=H(C);N[1].v=C.read_shift(2);var U=N[1].v>>1;if(N[1].v&1)switch(U&7){case 0:U=(U>>3)*5e3;break;case 1:U=(U>>3)*500;break;case 2:U=(U>>3)/20;break;case 3:U=(U>>3)/200;break;case 4:U=(U>>3)/2e3;break;case 5:U=(U>>3)/2e4;break;case 6:U=(U>>3)/16;break;case 7:U=(U>>3)/64;break}return N[1].v=U,N}function G(C,W){var N=H(C),U=C.read_shift(4),Z=C.read_shift(4),he=C.read_shift(2);if(he==65535)return U===0&&Z===3221225472?(N[1].t="e",N[1].v=15):U===0&&Z===3489660928?(N[1].t="e",N[1].v=42):N[1].v=0,N;var we=he&32768;return he=(he&32767)-16446,N[1].v=(1-we*2)*(Z*Math.pow(2,he+32)+U*Math.pow(2,he)),N}function te(C,W,N,U){var Z=ge(14);if(Z.write_shift(2,C),Z.write_shift(1,N),Z.write_shift(1,W),U==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var he=0,we=0,_e=0,ke=0;return U<0&&(he=1,U=-U),we=Math.log2(U)|0,U/=Math.pow(2,we-31),ke=U>>>0,(ke&2147483648)==0&&(U/=2,++we,ke=U>>>0),U-=ke,ke|=2147483648,ke>>>=0,U*=Math.pow(2,32),_e=U>>>0,Z.write_shift(4,_e),Z.write_shift(4,ke),we+=16383+(he?32768:0),Z.write_shift(2,we),Z}function ee(C,W){var N=G(C);return C.l+=W-14,N}function ie(C,W){var N=H(C),U=C.read_shift(4);return N[1].v=U>>6,N}function ye(C,W){var N=H(C),U=C.read_shift(8,"f");return N[1].v=U,N}function qe(C,W){var N=ye(C);return C.l+=W-10,N}function ce(C,W){return C[C.l+W-1]==0?C.read_shift(W,"cstr"):""}function J(C,W){var N=C[C.l++];N>W-1&&(N=W-1);for(var U="";U.length<N;)U+=String.fromCharCode(C[C.l++]);return U}function me(C,W,N){if(!(!N.qpro||W<21)){var U=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var Z=C.read_shift(W-21,"cstr");return[U,Z]}}function Ce(C,W){for(var N={},U=C.l+W;C.l<U;){var Z=C.read_shift(2);if(Z==14e3){for(N[Z]=[0,""],N[Z][0]=C.read_shift(2);C[C.l];)N[Z][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return N}function Fe(C,W){var N=ge(5+C.length);N.write_shift(2,14e3),N.write_shift(2,W);for(var U=0;U<C.length;++U){var Z=C.charCodeAt(U);N[N.l++]=Z>127?95:Z}return N[N.l++]=0,N}var Q={0:{n:"BOF",f:X2},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ce},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},j={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Y},23:{n:"NUMBER17",f:G},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:ee},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:ie},38:{n:"??"},39:{n:"NUMBER27",f:ye},40:{n:"FORMULA28",f:qe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:me},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:e}})(),PC=/^\s|\s$|[\t\n\r]/;function rb(t,e){if(!e.bookSST)return"";var r=[fr];r[r.length]=Le("sst",null,{xmlns:wl[0],count:t.Count,uniqueCount:t.Unique});for(var a=0;a!=t.length;++a)if(t[a]!=null){var s=t[a],o="<si>";s.r?o+=s.r:(o+="<t",s.t||(s.t=""),s.t.match(PC)&&(o+=' xml:space="preserve"'),o+=">"+Ot(s.t)+"</t>"),o+="</si>",r[r.length]=o}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function HC(t){return[t.read_shift(4),t.read_shift(4)]}function $C(t,e){return e||(e=ge(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var GC=Mj;function qC(t){var e=rn();je(e,159,$C(t));for(var r=0;r<t.length;++r)je(e,19,GC(t[r]));return je(e,160),e.end()}function WC(t){for(var e=[],r=t.split(""),a=0;a<r.length;++a)e[a]=r[a].charCodeAt(0);return e}function nb(t){var e=0,r,a=WC(t),s=a.length+1,o,c,f,h,m;for(r=ss(s),r[0]=a.length,o=1;o!=s;++o)r[o]=a[o-1];for(o=s-1;o>=0;--o)c=r[o],f=(e&16384)===0?0:1,h=e<<1&32767,m=f|h,e=m^c;return e^52811}var VC=(function(){function t(s,o){switch(o.type){case"base64":return e(Ha(s),o);case"binary":return e(s,o);case"buffer":return e(Tt&&Buffer.isBuffer(s)?s.toString("binary"):Jo(s),o);case"array":return e(Td(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){var c=o||{},f=c.dense?[]:{},h=s.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var m={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(g,x){Array.isArray(f)&&(f[x]=[]);for(var y=/\\\w+\b/g,w=0,S,_=-1;S=y.exec(g);){switch(S[0]){case"\\cell":var b=g.slice(w,y.lastIndex-S[0].length);if(b[0]==" "&&(b=b.slice(1)),++_,b.length){var k={v:b,t:"s"};Array.isArray(f)?f[x][_]=k:f[Nt({r:x,c:_})]=k}break}w=y.lastIndex}_>m.e.c&&(m.e.c=_)}),f["!ref"]=dr(m),f}function r(s,o){return us(t(s,o),o)}function a(s){for(var o=["{\\rtf1\\ansi"],c=$t(s["!ref"]),f,h=Array.isArray(s),m=c.s.r;m<=c.e.r;++m){o.push("\\trowd\\trautofit1");for(var g=c.s.c;g<=c.e.c;++g)o.push("\\cellx"+(g+1));for(o.push("\\pard\\intbl"),g=c.s.c;g<=c.e.c;++g){var x=Nt({r:m,c:g});f=h?(s[m]||[])[g]:s[x],!(!f||f.v==null&&(!f.f||f.F))&&(o.push(" "+(f.w||($a(f),f.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:a}})();function qx(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var KC=6,Ua=KC;function sd(t){return Math.floor((t+Math.round(128/Ua)/256)*Ua)}function ld(t){return Math.floor((t-5)/Ua*100+.5)/100}function Fh(t){return Math.round((t*Ua+5)/Ua*256)/256}function Sm(t){t.width?(t.wpx=sd(t.width),t.wch=ld(t.wpx),t.MDW=Ua):t.wpx?(t.wch=ld(t.wpx),t.width=Fh(t.wch),t.MDW=Ua):typeof t.wch=="number"&&(t.width=Fh(t.wch),t.wpx=sd(t.width),t.MDW=Ua),t.customWidth&&delete t.customWidth}var YC=96,ab=YC;function od(t){return t*96/ab}function ib(t){return t*ab/96}function XC(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&(e[e.length]=Le("numFmt",null,{numFmtId:a,formatCode:Ot(t[a])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Le("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function JC(t){var e=[];return e[e.length]=Le("cellXfs",null),t.forEach(function(r){e[e.length]=Le("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Le("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function sb(t,e){var r=[fr,Le("styleSheet",null,{xmlns:wl[0],"xmlns:vt":xr.vt})],a;return t.SSF&&(a=XC(t.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=JC(e.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function QC(t,e){var r=t.read_shift(2),a=Fr(t);return[r,a]}function ZC(t,e,r){r||(r=ge(6+4*e.length)),r.write_shift(2,t),_r(e,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function e6(t,e,r){var a={};a.sz=t.read_shift(2)/20;var s=Pj(t);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var o=t.read_shift(2);switch(o===700&&(a.bold=1),t.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var c=t.read_shift(1);c!=0&&(a.underline=c);var f=t.read_shift(1);f>0&&(a.family=f);var h=t.read_shift(1);switch(h>0&&(a.charset=h),t.l++,a.color=Uj(t),t.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Fr(t),a}function t6(t,e){e||(e=ge(153)),e.write_shift(2,t.sz*20),Hj(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),ad(t.color,e);var a=0;return a=2,e.write_shift(1,a),_r(t.name,e),e.length>e.l?e.slice(0,e.l):e}var r6=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ah,n6=fa;function Wx(t,e){e||(e=ge(84)),ah||(ah=dm(r6));var r=ah[t.patternType];r==null&&(r=40),e.write_shift(4,r);var a=0;if(r!=40)for(ad({auto:1},e),ad({auto:1},e);a<12;++a)e.write_shift(4,0);else{for(;a<4;++a)e.write_shift(4,0);for(;a<12;++a)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function a6(t,e){var r=t.l+e,a=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:a,numFmtId:s}}function lb(t,e,r){r||(r=ge(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function bo(t,e){return e||(e=ge(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var i6=fa;function s6(t,e){return e||(e=ge(51)),e.write_shift(1,0),bo(null,e),bo(null,e),bo(null,e),bo(null,e),bo(null,e),e.length>e.l?e.slice(0,e.l):e}function l6(t,e){return e||(e=ge(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),nd(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function o6(t,e,r){var a=ge(2052);return a.write_shift(4,t),nd(e,a),nd(r,a),a.length>a.l?a.slice(0,a.l):a}function c6(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)e[s]!=null&&++r}),r!=0&&(je(t,615,Zn(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)e[s]!=null&&je(t,44,ZC(s,e[s]))}),je(t,616))}}function u6(t){var e=1;je(t,611,Zn(e)),je(t,43,t6({sz:12,color:{theme:1},name:"Calibri",family:2})),je(t,612)}function d6(t){var e=2;je(t,603,Zn(e)),je(t,45,Wx({patternType:"none"})),je(t,45,Wx({patternType:"gray125"})),je(t,604)}function f6(t){var e=1;je(t,613,Zn(e)),je(t,46,s6()),je(t,614)}function h6(t){var e=1;je(t,626,Zn(e)),je(t,47,lb({numFmtId:0},65535)),je(t,627)}function m6(t,e){je(t,617,Zn(e.length)),e.forEach(function(r){je(t,47,lb(r,0))}),je(t,618)}function p6(t){var e=1;je(t,619,Zn(e)),je(t,48,l6({xfId:0,name:"Normal"})),je(t,620)}function g6(t){var e=0;je(t,505,Zn(e)),je(t,506)}function v6(t){var e=0;je(t,508,o6(e,"TableStyleMedium9","PivotStyleMedium4")),je(t,509)}function x6(t,e){var r=rn();return je(r,278),c6(r,t.SSF),u6(r),d6(r),f6(r),h6(r),m6(r,e.cellXfs),p6(r),g6(r),v6(r),je(r,279),r.end()}function ob(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[fr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function y6(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Fr(t)}}function _6(t){var e=ge(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),_r(t.name,e),e.slice(0,e.l)}function b6(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function w6(t){var e=ge(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function S6(t,e){var r=ge(8+2*e.length);return r.write_shift(4,t),_r(e,r),r.slice(0,r.l)}function E6(t){return t.l+=4,t.read_shift(4)!=0}function T6(t,e){var r=ge(8);return r.write_shift(4,t),r.write_shift(4,1),r}function k6(){var t=rn();return je(t,332),je(t,334,Zn(1)),je(t,335,_6({name:"XLDAPR",version:12e4,flags:3496657072})),je(t,336),je(t,339,S6(1,"XLDAPR")),je(t,52),je(t,35,Zn(514)),je(t,4096,Zn(0)),je(t,4097,zn(1)),je(t,36),je(t,53),je(t,340),je(t,337,T6(1)),je(t,51,w6([[1,0]])),je(t,338),je(t,333),t.end()}function cb(){var t=[fr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function A6(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Nt(r);var a=t.read_shift(1);return a&2&&(e.l="1"),a&8&&(e.a="1"),e}var ol=1024;function ub(t,e){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Le("xml",null,{"xmlns:v":xn.v,"xmlns:o":xn.o,"xmlns:x":xn.x,"xmlns:mv":xn.mv}).replace(/\/>/,">"),Le("o:shapelayout",Le("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Le("v:shapetype",[Le("v:stroke",null,{joinstyle:"miter"}),Le("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];ol<t*1e3;)ol+=1e3;return e.forEach(function(o){var c=yr(o[0]),f={color2:"#BEFF82",type:"gradient"};f.type=="gradient"&&(f.angle="-180");var h=f.type=="gradient"?Le("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,m=Le("v:fill",h,f),g={on:"t",obscured:"t"};++ol,s=s.concat(["<v:shape"+Ho({id:"_x0000_s"+ol,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",m,Le("v:shadow",null,g),Le("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Or("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),Or("x:AutoFill","False"),Or("x:Row",String(c.r)),Or("x:Column",String(c.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function db(t){var e=[fr,Le("comments",null,{xmlns:wl[0]})],r=[];return e.push("<authors>"),t.forEach(function(a){a[1].forEach(function(s){var o=Ot(s.a);r.indexOf(o)==-1&&(r.push(o),e.push("<author>"+o+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(a){var s=0,o=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?s=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(h){h.a&&(s=r.indexOf(Ot(h.a))),o.push(h.t||"")}),e.push('<comment ref="'+a[0]+'" authorId="'+s+'"><text>'),o.length<=1)e.push(Or("t",Ot(o[0]||"")));else{for(var c=`Comment:
    `+o[0]+`
`,f=1;f<o.length;++f)c+=`Reply:
    `+o[f]+`
`;e.push(Or("t",Ot(c)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function j6(t,e,r){var a=[fr,Le("ThreadedComments",null,{xmlns:xr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var o="";(s[1]||[]).forEach(function(c,f){if(!c.T){delete c.ID;return}c.a&&e.indexOf(c.a)==-1&&e.push(c.a);var h={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};f==0?o=h.id:h.parentId=o,c.ID=h.id,c.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(c.a)).slice(-12)+"}"),a.push(Le("threadedComment",Or("text",c.t||""),h))})}),a.push("</ThreadedComments>"),a.join("")}function C6(t){var e=[fr,Le("personList",null,{xmlns:xr.TCMNT,"xmlns:x":wl[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,a){e.push(Le("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function R6(t){var e={};e.iauthor=t.read_shift(4);var r=ms(t);return e.rfx=r.s,e.ref=Nt(r.s),t.l+=16,e}function O6(t,e){return e==null&&(e=ge(36)),e.write_shift(4,t[1].iauthor),El(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var N6=Fr;function D6(t){return _r(t.slice(0,54))}function M6(t){var e=rn(),r=[];return je(e,628),je(e,630),t.forEach(function(a){a[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),je(e,632,D6(s.a)))})}),je(e,631),je(e,633),t.forEach(function(a){a[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var o={s:yr(a[0]),e:yr(a[0])};je(e,635,O6([o,s])),s.t&&s.t.length>0&&je(e,637,Lj(s)),je(e,636),delete s.iauthor})}),je(e,634),je(e,629),e.end()}function z6(t,e){e.FullPaths.forEach(function(r,a){if(a!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Lt.utils.cfb_add(t,s,e.FileIndex[a].content)}})}var fb=["xlsb","xlsm","xlam","biff8","xla"],L6=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(a,s,o,c){var f=!1,h=!1;o.length==0?h=!0:o.charAt(0)=="["&&(h=!0,o=o.slice(1,-1)),c.length==0?f=!0:c.charAt(0)=="["&&(f=!0,c=c.slice(1,-1));var m=o.length>0?parseInt(o,10)|0:0,g=c.length>0?parseInt(c,10)|0:0;return f?g+=e.c:--g,h?m+=e.r:--m,s+(f?"":"$")+Lr(g)+(h?"":"$")+Nr(m)}return function(s,o){return e=o,s.replace(t,r)}})(),Em=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Tm=(function(){return function(e,r){return e.replace(Em,function(a,s,o,c,f,h){var m=xm(c)-(o?0:r.c),g=vm(h)-(f?0:r.r),x=g==0?"":f?g+1:"["+g+"]",y=m==0?"":o?m+1:"["+m+"]";return s+"R"+x+"C"+y})}})();function F6(t,e){return t.replace(Em,function(r,a,s,o,c,f){return a+(s=="$"?s+o:Lr(xm(o)+e.c))+(c=="$"?c+f:Nr(vm(f)+e.r))})}function B6(t){return t.length!=1}function or(t){t.l+=1}function ji(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function hb(t,e,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return mb(t);r.biff==12&&(a=4)}var s=t.read_shift(a),o=t.read_shift(a),c=ji(t),f=ji(t);return{s:{r:s,c:c[0],cRel:c[1],rRel:c[2]},e:{r:o,c:f[0],cRel:f[1],rRel:f[2]}}}function mb(t){var e=ji(t),r=ji(t),a=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:a,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function I6(t,e,r){if(r.biff<8)return mb(t);var a=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),o=ji(t),c=ji(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function pb(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return U6(t);var a=t.read_shift(r&&r.biff==12?4:2),s=ji(t);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function U6(t){var e=ji(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function P6(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function H6(t,e,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return $6(t);var s=t.read_shift(a>=12?4:2),o=t.read_shift(2),c=(o&16384)>>14,f=(o&32768)>>15;if(o&=16383,f==1)for(;s>524287;)s-=1048576;if(c==1)for(;o>8191;)o=o-16384;return{r:s,c:o,cRel:c,rRel:f}}function $6(t){var e=t.read_shift(2),r=t.read_shift(1),a=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,a==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:a}}function G6(t,e,r){var a=(t[t.l++]&96)>>5,s=hb(t,r.biff>=2&&r.biff<=5?6:8,r);return[a,s]}function q6(t,e,r){var a=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),o=8;if(r)switch(r.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var c=hb(t,o,r);return[a,s,c]}function W6(t,e,r){var a=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function V6(t,e,r){var a=(t[t.l++]&96)>>5,s=t.read_shift(2),o=8;if(r)switch(r.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[a,s]}function K6(t,e,r){var a=(t[t.l++]&96)>>5,s=I6(t,e-1,r);return[a,s]}function Y6(t,e,r){var a=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[a]}function Vx(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function X6(t,e,r){t.l+=2;for(var a=t.read_shift(r&&r.biff==2?1:2),s=[],o=0;o<=a;++o)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function J6(t,e,r){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(r&&r.biff==2?1:2)]}function Q6(t,e,r){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(r&&r.biff==2?1:2)]}function Z6(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function eR(t,e,r){var a=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[a]}function gb(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function tR(t){return t.read_shift(2),gb(t)}function rR(t){return t.read_shift(2),gb(t)}function nR(t,e,r){var a=(t[t.l]&96)>>5;t.l+=1;var s=pb(t,0,r);return[a,s]}function aR(t,e,r){var a=(t[t.l]&96)>>5;t.l+=1;var s=H6(t,0,r);return[a,s]}function iR(t,e,r){var a=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var o=pb(t,0,r);return[a,s,o]}function sR(t,e,r){var a=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[s8[s],yb[s],a]}function lR(t,e,r){var a=t[t.l++],s=t.read_shift(1),o=r&&r.biff<=3?[a==88?-1:0,t.read_shift(1)]:oR(t);return[s,(o[0]===0?yb:i8)[o[1]]]}function oR(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function cR(t,e,r){t.l+=r&&r.biff==2?3:4}function uR(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var a=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[a,s]}function dR(t){return t.l++,ec[t.read_shift(1)]}function fR(t){return t.l++,t.read_shift(2)}function hR(t){return t.l++,t.read_shift(1)!==0}function mR(t){return t.l++,Tl(t)}function pR(t,e,r){return t.l++,Q2(t,e-1,r)}function gR(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=iC(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=ec[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Tl(t);break;case 2:r[1]=cC(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function vR(t,e,r){for(var a=t.read_shift(r.biff==12?4:2),s=[],o=0;o!=a;++o)s.push((r.biff==12?ms:fC)(t));return s}function xR(t,e,r){var a=0,s=0;r.biff==12?(a=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),a=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--s==0&&(s=256));for(var o=0,c=[];o!=a&&(c[o]=[]);++o)for(var f=0;f!=s;++f)c[o][f]=gR(t,r.biff);return c}function yR(t,e,r){var a=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,o=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[a,0,o]}function _R(t,e,r){if(r.biff==5)return bR(t);var a=t.read_shift(1)>>>5&3,s=t.read_shift(2),o=t.read_shift(4);return[a,s,o]}function bR(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var a=t.read_shift(2);return t.l+=12,[e,r,a]}function wR(t,e,r){var a=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[a,s]}function SR(t,e,r){var a=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[a,s]}function ER(t,e,r){var a=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[a]}function TR(t,e,r){var a=(t[t.l++]&96)>>5,s=t.read_shift(2),o=4;if(r)switch(r.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[a,s]}var kR=fa,AR=fa,jR=fa;function tc(t,e,r){return t.l+=2,[P6(t)]}function km(t){return t.l+=6,[]}var CR=tc,RR=km,OR=km,NR=tc;function vb(t){return t.l+=2,[X2(t),t.read_shift(2)&1]}var DR=tc,MR=vb,zR=km,LR=tc,FR=tc,BR=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function IR(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(4),s=t.read_shift(2),o=t.read_shift(2),c=BR[r>>2&31];return{ixti:e,coltype:r&3,rt:c,idx:a,c:s,C:o}}function UR(t){return t.l+=2,[t.read_shift(4)]}function PR(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function HR(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function $R(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function GR(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function qR(t){return t.l+=4,[0,0]}var Kx={1:{n:"PtgExp",f:uR},2:{n:"PtgTbl",f:jR},3:{n:"PtgAdd",f:or},4:{n:"PtgSub",f:or},5:{n:"PtgMul",f:or},6:{n:"PtgDiv",f:or},7:{n:"PtgPower",f:or},8:{n:"PtgConcat",f:or},9:{n:"PtgLt",f:or},10:{n:"PtgLe",f:or},11:{n:"PtgEq",f:or},12:{n:"PtgGe",f:or},13:{n:"PtgGt",f:or},14:{n:"PtgNe",f:or},15:{n:"PtgIsect",f:or},16:{n:"PtgUnion",f:or},17:{n:"PtgRange",f:or},18:{n:"PtgUplus",f:or},19:{n:"PtgUminus",f:or},20:{n:"PtgPercent",f:or},21:{n:"PtgParen",f:or},22:{n:"PtgMissArg",f:or},23:{n:"PtgStr",f:pR},26:{n:"PtgSheet",f:PR},27:{n:"PtgEndSheet",f:HR},28:{n:"PtgErr",f:dR},29:{n:"PtgBool",f:hR},30:{n:"PtgInt",f:fR},31:{n:"PtgNum",f:mR},32:{n:"PtgArray",f:Y6},33:{n:"PtgFunc",f:sR},34:{n:"PtgFuncVar",f:lR},35:{n:"PtgName",f:yR},36:{n:"PtgRef",f:nR},37:{n:"PtgArea",f:G6},38:{n:"PtgMemArea",f:wR},39:{n:"PtgMemErr",f:kR},40:{n:"PtgMemNoMem",f:AR},41:{n:"PtgMemFunc",f:SR},42:{n:"PtgRefErr",f:ER},43:{n:"PtgAreaErr",f:W6},44:{n:"PtgRefN",f:aR},45:{n:"PtgAreaN",f:K6},46:{n:"PtgMemAreaN",f:$R},47:{n:"PtgMemNoMemN",f:GR},57:{n:"PtgNameX",f:_R},58:{n:"PtgRef3d",f:iR},59:{n:"PtgArea3d",f:q6},60:{n:"PtgRefErr3d",f:TR},61:{n:"PtgAreaErr3d",f:V6},255:{}},WR={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},VR={1:{n:"PtgElfLel",f:vb},2:{n:"PtgElfRw",f:LR},3:{n:"PtgElfCol",f:CR},6:{n:"PtgElfRwV",f:FR},7:{n:"PtgElfColV",f:NR},10:{n:"PtgElfRadical",f:DR},11:{n:"PtgElfRadicalS",f:zR},13:{n:"PtgElfColS",f:RR},15:{n:"PtgElfColSV",f:OR},16:{n:"PtgElfRadicalLel",f:MR},25:{n:"PtgList",f:IR},29:{n:"PtgSxName",f:UR},255:{}},KR={0:{n:"PtgAttrNoop",f:qR},1:{n:"PtgAttrSemi",f:eR},2:{n:"PtgAttrIf",f:Q6},4:{n:"PtgAttrChoose",f:X6},8:{n:"PtgAttrGoto",f:J6},16:{n:"PtgAttrSum",f:cR},32:{n:"PtgAttrBaxcel",f:Vx},33:{n:"PtgAttrBaxcel",f:Vx},64:{n:"PtgAttrSpace",f:tR},65:{n:"PtgAttrSpaceSemi",f:rR},128:{n:"PtgAttrIfError",f:Z6},255:{}};function YR(t,e,r,a){if(a.biff<8)return fa(t,e);for(var s=t.l+e,o=[],c=0;c!==r.length;++c)switch(r[c][0]){case"PtgArray":r[c][1]=xR(t,0,a),o.push(r[c][1]);break;case"PtgMemArea":r[c][2]=vR(t,r[c][1],a),o.push(r[c][2]);break;case"PtgExp":a&&a.biff==12&&(r[c][1][1]=t.read_shift(4),o.push(r[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[c][0]}return e=s-t.l,e!==0&&o.push(fa(t,e)),o}function XR(t,e,r){for(var a=t.l+e,s,o,c=[];a!=t.l;)e=a-t.l,o=t[t.l],s=Kx[o]||Kx[WR[o]],(o===24||o===25)&&(s=(o===24?VR:KR)[t[t.l+1]]),!s||!s.f?fa(t,e):c.push([s.n,s.f(t,e,r)]);return c}function JR(t){for(var e=[],r=0;r<t.length;++r){for(var a=t[r],s=[],o=0;o<a.length;++o){var c=a[o];if(c)switch(c[0]){case 2:s.push('"'+c[1].replace(/"/g,'""')+'"');break;default:s.push(c[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var QR={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ZR(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function xb(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var a=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!a)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[a[0]][0]){case 357:return s=a[1]==-1?"#REF":t.SheetNames[a[1]],a[1]==a[2]?s:s+":"+t.SheetNames[a[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[a[0]][0];case 355:default:return"SH33TJSSRC"+t[a[0]][0]}switch(t[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":t.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+t.SheetNames[a[2]];case 14849:return t[a[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[a[0]][0][3]?(s=a[1]==-1?"#REF":t[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+t[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function Yx(t,e,r){var a=xb(t,e,r);return a=="#REF"?a:ZR(a,r)}function vl(t,e,r,a,s){var o=s&&s.biff||8,c={s:{c:0,r:0}},f=[],h,m,g,x=0,y=0,w,S="";if(!t[0]||!t[0][0])return"";for(var _=-1,b="",k=0,R=t[0].length;k<R;++k){var T=t[0][k];switch(T[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=f.pop(),m=f.pop(),_>=0){switch(t[0][_][1][0]){case 0:b=Jt(" ",t[0][_][1][1]);break;case 1:b=Jt("\r",t[0][_][1][1]);break;default:if(b="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}m=m+b,_=-1}f.push(m+QR[T[0]]+h);break;case"PtgIsect":h=f.pop(),m=f.pop(),f.push(m+" "+h);break;case"PtgUnion":h=f.pop(),m=f.pop(),f.push(m+","+h);break;case"PtgRange":h=f.pop(),m=f.pop(),f.push(m+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":g=Ro(T[1][1],c,s),f.push(Oo(g,o));break;case"PtgRefN":g=r?Ro(T[1][1],r,s):T[1][1],f.push(Oo(g,o));break;case"PtgRef3d":x=T[1][1],g=Ro(T[1][2],c,s),S=Yx(a,x,s),f.push(S+"!"+Oo(g,o));break;case"PtgFunc":case"PtgFuncVar":var L=T[1][0],H=T[1][1];L||(L=0),L&=127;var Y=L==0?[]:f.slice(-L);f.length-=L,H==="User"&&(H=Y.shift()),f.push(H+"("+Y.join(",")+")");break;case"PtgBool":f.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(T[1]);break;case"PtgNum":f.push(String(T[1]));break;case"PtgStr":f.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(T[1]);break;case"PtgAreaN":w=Dx(T[1][1],r?{s:r}:c,s),f.push(rh(w,s));break;case"PtgArea":w=Dx(T[1][1],c,s),f.push(rh(w,s));break;case"PtgArea3d":x=T[1][1],w=T[1][2],S=Yx(a,x,s),f.push(S+"!"+rh(w,s));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=T[1][2];var A=(a.names||[])[y-1]||(a[0]||[])[y],I=A?A.Name:"SH33TJSNAME"+String(y);I&&I.slice(0,6)=="_xlfn."&&!s.xlfn&&(I=I.slice(6)),f.push(I);break;case"PtgNameX":var G=T[1][1];y=T[1][2];var te;if(s.biff<=5)G<0&&(G=-G),a[G]&&(te=a[G][y]);else{var ee="";if(((a[G]||[])[0]||[])[0]==14849||(((a[G]||[])[0]||[])[0]==1025?a[G][y]&&a[G][y].itab>0&&(ee=a.SheetNames[a[G][y].itab-1]+"!"):ee=a.SheetNames[y-1]+"!"),a[G]&&a[G][y])ee+=a[G][y].Name;else if(a[0]&&a[0][y])ee+=a[0][y].Name;else{var ie=(xb(a,G,s)||"").split(";;");ie[y-1]?ee=ie[y-1]:ee+="SH33TJSERRX"}f.push(ee);break}te||(te={Name:"SH33TJSERRY"}),f.push(te.Name);break;case"PtgParen":var ye="(",qe=")";if(_>=0){switch(b="",t[0][_][1][0]){case 2:ye=Jt(" ",t[0][_][1][1])+ye;break;case 3:ye=Jt("\r",t[0][_][1][1])+ye;break;case 4:qe=Jt(" ",t[0][_][1][1])+qe;break;case 5:qe=Jt("\r",t[0][_][1][1])+qe;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}_=-1}f.push(ye+f.pop()+qe);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":g={c:T[1][1],r:T[1][0]};var ce={c:r.c,r:r.r};if(a.sharedf[Nt(g)]){var J=a.sharedf[Nt(g)];f.push(vl(J,c,ce,a,s))}else{var me=!1;for(h=0;h!=a.arrayf.length;++h)if(m=a.arrayf[h],!(g.c<m[0].s.c||g.c>m[0].e.c)&&!(g.r<m[0].s.r||g.r>m[0].e.r)){f.push(vl(m[1],c,ce,a,s)),me=!0;break}me||f.push(T[1])}break;case"PtgArray":f.push("{"+JR(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var Ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&_>=0&&Ce.indexOf(t[0][k][0])==-1){T=t[0][_];var Fe=!0;switch(T[1][0]){case 4:Fe=!1;case 0:b=Jt(" ",T[1][1]);break;case 5:Fe=!1;case 1:b=Jt("\r",T[1][1]);break;default:if(b="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}f.push((Fe?b:"")+f.pop()+(Fe?"":b)),_=-1}}if(f.length>1&&s.WTF)throw new Error("bad formula stack");return f[0]}function e8(t){if(t==null){var e=ge(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return ls(t);return ls(0)}function t8(t,e,r,a,s){var o=os(e,r,s),c=e8(t.v),f=ge(6),h=33;f.write_shift(2,h),f.write_shift(4,0);for(var m=ge(t.bf.length),g=0;g<t.bf.length;++g)m[g]=t.bf[g];var x=Rr([o,c,f,m]);return x}function kd(t,e,r){var a=t.read_shift(4),s=XR(t,a,r),o=t.read_shift(4),c=o>0?YR(t,o,s,r):null;return[s,c]}var r8=kd,Ad=kd,n8=kd,a8=kd,i8={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},yb={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},s8={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function l8(t){var e="of:="+t.replace(Em,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function o8(t){return t.replace(/\./,"!")}var No=typeof Map<"u";function Am(t,e,r){var a=0,s=t.length;if(r){if(No?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var o=No?r.get(e):r[e];a<o.length;++a)if(t[o[a]].t===e)return t.Count++,o[a]}}else for(;a<s;++a)if(t[a].t===e)return t.Count++,a;return t[s]={t:e},t.Count++,t.Unique++,r&&(No?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function jd(t,e){var r={min:t+1,max:t+1},a=-1;return e.MDW&&(Ua=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?a=ld(e.wpx):e.wch!=null&&(a=e.wch),a>-1?(r.width=Fh(a),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function _b(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Ri(t,e,r){var a=r.revssf[e.z!=null?e.z:"General"],s=60,o=t.length;if(a==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){p2(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=a=s;break}}for(s=0;s!=o;++s)if(t[s].numFmtId===a)return s;return t[o]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function c8(t,e,r){if(t&&t["!ref"]){var a=$t(t["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function u8(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+dr(t[r])+'"/>';return e+"</mergeCells>"}function d8(t,e,r,a,s){var o=!1,c={},f=null;if(a.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[r];try{e.Workbook&&(h=e.Workbook.Sheets[r].CodeName||h)}catch{}o=!0,c.codeName=Po(Ot(h))}if(t&&t["!outline"]){var m={summaryBelow:1,summaryRight:1};t["!outline"].above&&(m.summaryBelow=0),t["!outline"].left&&(m.summaryRight=0),f=(f||"")+Le("outlinePr",null,m)}!o&&!f||(s[s.length]=Le("sheetPr",f,c))}var f8=["objects","scenarios","selectLockedCells","selectUnlockedCells"],h8=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function m8(t){var e={sheet:1};return f8.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),h8.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=nb(t.password).toString(16).toUpperCase()),Le("sheetProtection",null,e)}function p8(t){return _b(t),Le("pageMargins",null,t)}function g8(t,e){for(var r=["<cols>"],a,s=0;s!=e.length;++s)(a=e[s])&&(r[r.length]=Le("col",null,jd(s,a)));return r[r.length]="</cols>",r.join("")}function v8(t,e,r,a){var s=typeof t.ref=="string"?t.ref:dr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,c=wn(s);c.s.r==c.e.r&&(c.e.r=wn(e["!ref"]).e.r,s=dr(c));for(var f=0;f<o.length;++f){var h=o[f];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==a){h.Ref="'"+r.SheetNames[a]+"'!"+s;break}}return f==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),Le("autoFilter",null,{ref:s})}function x8(t,e,r,a){var s={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Le("sheetViews",Le("sheetView",null,s),{})}function y8(t,e,r,a){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",o=t.t,c=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=ec[t.v];break;case"d":a&&a.cellDates?s=qr(t.v,-1).toISOString():(t=sn(t),t.t="n",s=""+(t.v=an(qr(t.v)))),typeof t.z>"u"&&(t.z=Qt[14]);break;default:s=t.v;break}var f=Or("v",Ot(s)),h={r:e},m=Ri(a.cellXfs,t,a);switch(m!==0&&(h.s=m),t.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){f=Or("v",""+Am(a.Strings,t.v,a.revStrings)),h.t="s";break}h.t="str";break}if(t.t!=o&&(t.t=o,t.v=c),typeof t.f=="string"&&t.f){var g=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;f=Le("f",Ot(t.f),g)+(t.v!=null?f:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(h.cm=1),Le("c",f,h)}function _8(t,e,r,a){var s=[],o=[],c=$t(t["!ref"]),f="",h,m="",g=[],x=0,y=0,w=t["!rows"],S=Array.isArray(t),_={r:m},b,k=-1;for(y=c.s.c;y<=c.e.c;++y)g[y]=Lr(y);for(x=c.s.r;x<=c.e.r;++x){for(o=[],m=Nr(x),y=c.s.c;y<=c.e.c;++y){h=g[y]+m;var R=S?(t[x]||[])[y]:t[h];R!==void 0&&(f=y8(R,h,t,e))!=null&&o.push(f)}(o.length>0||w&&w[x])&&(_={r:m},w&&w[x]&&(b=w[x],b.hidden&&(_.hidden=1),k=-1,b.hpx?k=od(b.hpx):b.hpt&&(k=b.hpt),k>-1&&(_.ht=k,_.customHeight=1),b.level&&(_.outlineLevel=b.level)),s[s.length]=Le("row",o.join(""),_))}if(w)for(;x<w.length;++x)w&&w[x]&&(_={r:x+1},b=w[x],b.hidden&&(_.hidden=1),k=-1,b.hpx?k=od(b.hpx):b.hpt&&(k=b.hpt),k>-1&&(_.ht=k,_.customHeight=1),b.level&&(_.outlineLevel=b.level),s[s.length]=Le("row","",_));return s.join("")}function bb(t,e,r,a){var s=[fr,Le("worksheet",null,{xmlns:wl[0],"xmlns:r":xr.r})],o=r.SheetNames[t],c=0,f="",h=r.Sheets[o];h==null&&(h={});var m=h["!ref"]||"A1",g=$t(m);if(g.e.c>16383||g.e.r>1048575){if(e.WTF)throw new Error("Range "+m+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575),m=dr(g)}a||(a={}),h["!comments"]=[];var x=[];d8(h,r,t,e,s),s[s.length]=Le("dimension",null,{ref:m}),s[s.length]=x8(h,e,t,r),e.sheetFormat&&(s[s.length]=Le("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(s[s.length]=g8(h,h["!cols"])),s[c=s.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(f=_8(h,e),f.length>0&&(s[s.length]=f)),s.length>c+1&&(s[s.length]="</sheetData>",s[c]=s[c].replace("/>",">")),h["!protect"]&&(s[s.length]=m8(h["!protect"])),h["!autofilter"]!=null&&(s[s.length]=v8(h["!autofilter"],h,r,t)),h["!merges"]!=null&&h["!merges"].length>0&&(s[s.length]=u8(h["!merges"]));var y=-1,w,S=-1;return h["!links"].length>0&&(s[s.length]="<hyperlinks>",h["!links"].forEach(function(_){_[1].Target&&(w={ref:_[0]},_[1].Target.charAt(0)!="#"&&(S=Rt(a,-1,Ot(_[1].Target).replace(/#.*$/,""),wt.HLINK),w["r:id"]="rId"+S),(y=_[1].Target.indexOf("#"))>-1&&(w.location=Ot(_[1].Target.slice(y+1))),_[1].Tooltip&&(w.tooltip=Ot(_[1].Tooltip)),s[s.length]=Le("hyperlink",null,w))}),s[s.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(s[s.length]=p8(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=Or("ignoredErrors",Le("ignoredError",null,{numberStoredAsText:1,sqref:m}))),x.length>0&&(S=Rt(a,-1,"../drawings/drawing"+(t+1)+".xml",wt.DRAW),s[s.length]=Le("drawing",null,{"r:id":"rId"+S}),h["!drawing"]=x),h["!comments"].length>0&&(S=Rt(a,-1,"../drawings/vmlDrawing"+(t+1)+".vml",wt.VML),s[s.length]=Le("legacyDrawing",null,{"r:id":"rId"+S}),h["!legacy"]=S),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function b8(t,e){var r={},a=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=a,o&7&&(r.level=o&7),o&16&&(r.hidden=!0),o&32&&(r.hpt=s/20),r}function w8(t,e,r){var a=ge(145),s=(r["!rows"]||[])[t]||{};a.write_shift(4,t),a.write_shift(4,0);var o=320;s.hpx?o=od(s.hpx)*20:s.hpt&&(o=s.hpt*20),a.write_shift(2,o),a.write_shift(1,0);var c=0;s.level&&(c|=s.level),s.hidden&&(c|=16),(s.hpx||s.hpt)&&(c|=32),a.write_shift(1,c),a.write_shift(1,0);var f=0,h=a.l;a.l+=4;for(var m={r:t,c:0},g=0;g<16;++g)if(!(e.s.c>g+1<<10||e.e.c<g<<10)){for(var x=-1,y=-1,w=g<<10;w<g+1<<10;++w){m.c=w;var S=Array.isArray(r)?(r[m.r]||[])[m.c]:r[Nt(m)];S&&(x<0&&(x=w),y=w)}x<0||(++f,a.write_shift(4,x),a.write_shift(4,y))}var _=a.l;return a.l=h,a.write_shift(4,f),a.l=_,a.length>a.l?a.slice(0,a.l):a}function S8(t,e,r,a){var s=w8(a,r,e);(s.length>17||(e["!rows"]||[])[a])&&je(t,0,s)}var E8=ms,T8=El;function k8(){}function A8(t,e){var r={},a=t[t.l];return++t.l,r.above=!(a&64),r.left=!(a&128),t.l+=18,r.name=Fj(t),r}function j8(t,e,r){r==null&&(r=ge(84+4*t.length));var a=192;e&&(e.above&&(a&=-65),e.left&&(a&=-129)),r.write_shift(1,a);for(var s=1;s<3;++s)r.write_shift(1,0);return ad({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),L2(t,r),r.slice(0,r.l)}function C8(t){var e=Fn(t);return[e]}function R8(t,e,r){return r==null&&(r=ge(8)),ds(e,r)}function O8(t){var e=fs(t);return[e]}function N8(t,e,r){return r==null&&(r=ge(4)),hs(e,r)}function D8(t){var e=Fn(t),r=t.read_shift(1);return[e,r,"b"]}function M8(t,e,r){return r==null&&(r=ge(9)),ds(e,r),r.write_shift(1,t.v?1:0),r}function z8(t){var e=fs(t),r=t.read_shift(1);return[e,r,"b"]}function L8(t,e,r){return r==null&&(r=ge(5)),hs(e,r),r.write_shift(1,t.v?1:0),r}function F8(t){var e=Fn(t),r=t.read_shift(1);return[e,r,"e"]}function B8(t,e,r){return r==null&&(r=ge(9)),ds(e,r),r.write_shift(1,t.v),r}function I8(t){var e=fs(t),r=t.read_shift(1);return[e,r,"e"]}function U8(t,e,r){return r==null&&(r=ge(8)),hs(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function P8(t){var e=Fn(t),r=t.read_shift(4);return[e,r,"s"]}function H8(t,e,r){return r==null&&(r=ge(12)),ds(e,r),r.write_shift(4,e.v),r}function $8(t){var e=fs(t),r=t.read_shift(4);return[e,r,"s"]}function G8(t,e,r){return r==null&&(r=ge(8)),hs(e,r),r.write_shift(4,e.v),r}function q8(t){var e=Fn(t),r=Tl(t);return[e,r,"n"]}function W8(t,e,r){return r==null&&(r=ge(16)),ds(e,r),ls(t.v,r),r}function V8(t){var e=fs(t),r=Tl(t);return[e,r,"n"]}function K8(t,e,r){return r==null&&(r=ge(12)),hs(e,r),ls(t.v,r),r}function Y8(t){var e=Fn(t),r=F2(t);return[e,r,"n"]}function X8(t,e,r){return r==null&&(r=ge(12)),ds(e,r),B2(t.v,r),r}function J8(t){var e=fs(t),r=F2(t);return[e,r,"n"]}function Q8(t,e,r){return r==null&&(r=ge(8)),hs(e,r),B2(t.v,r),r}function Z8(t){var e=Fn(t),r=ym(t);return[e,r,"is"]}function eO(t){var e=Fn(t),r=Fr(t);return[e,r,"str"]}function tO(t,e,r){return r==null&&(r=ge(12+4*t.v.length)),ds(e,r),_r(t.v,r),r.length>r.l?r.slice(0,r.l):r}function rO(t){var e=fs(t),r=Fr(t);return[e,r,"str"]}function nO(t,e,r){return r==null&&(r=ge(8+4*t.v.length)),hs(e,r),_r(t.v,r),r.length>r.l?r.slice(0,r.l):r}function aO(t,e,r){var a=t.l+e,s=Fn(t);s.r=r["!row"];var o=t.read_shift(1),c=[s,o,"b"];if(r.cellFormula){t.l+=2;var f=Ad(t,a-t.l,r);c[3]=vl(f,null,s,r.supbooks,r)}else t.l=a;return c}function iO(t,e,r){var a=t.l+e,s=Fn(t);s.r=r["!row"];var o=t.read_shift(1),c=[s,o,"e"];if(r.cellFormula){t.l+=2;var f=Ad(t,a-t.l,r);c[3]=vl(f,null,s,r.supbooks,r)}else t.l=a;return c}function sO(t,e,r){var a=t.l+e,s=Fn(t);s.r=r["!row"];var o=Tl(t),c=[s,o,"n"];if(r.cellFormula){t.l+=2;var f=Ad(t,a-t.l,r);c[3]=vl(f,null,s,r.supbooks,r)}else t.l=a;return c}function lO(t,e,r){var a=t.l+e,s=Fn(t);s.r=r["!row"];var o=Fr(t),c=[s,o,"str"];if(r.cellFormula){t.l+=2;var f=Ad(t,a-t.l,r);c[3]=vl(f,null,s,r.supbooks,r)}else t.l=a;return c}var oO=ms,cO=El;function uO(t,e){return e==null&&(e=ge(4)),e.write_shift(4,t),e}function dO(t,e){var r=t.l+e,a=ms(t),s=_m(t),o=Fr(t),c=Fr(t),f=Fr(t);t.l=r;var h={rfx:a,relId:s,loc:o,display:f};return c&&(h.Tooltip=c),h}function fO(t,e){var r=ge(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));El({s:yr(t[0]),e:yr(t[0])},r),bm("rId"+e,r);var a=t[1].Target.indexOf("#"),s=a==-1?"":t[1].Target.slice(a+1);return _r(s||"",r),_r(t[1].Tooltip||"",r),_r("",r),r.slice(0,r.l)}function hO(){}function mO(t,e,r){var a=t.l+e,s=I2(t),o=t.read_shift(1),c=[s];if(c[2]=o,r.cellFormula){var f=r8(t,a-t.l,r);c[1]=f}else t.l=a;return c}function pO(t,e,r){var a=t.l+e,s=ms(t),o=[s];if(r.cellFormula){var c=a8(t,a-t.l,r);o[1]=c,t.l=a}else t.l=a;return o}function gO(t,e,r){r==null&&(r=ge(18));var a=jd(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof a.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var wb=["left","right","top","bottom","header","footer"];function vO(t){var e={};return wb.forEach(function(r){e[r]=Tl(t)}),e}function xO(t,e){return e==null&&(e=ge(48)),_b(t),wb.forEach(function(r){ls(t[r],e)}),e}function yO(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function _O(t,e,r){r==null&&(r=ge(30));var a=924;return(((e||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function bO(t){var e=ge(24);return e.write_shift(4,4),e.write_shift(4,1),El(t,e),e}function wO(t,e){return e==null&&(e=ge(66)),e.write_shift(2,t.password?nb(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function SO(){}function EO(){}function TO(t,e,r,a,s,o,c){if(e.v===void 0)return!1;var f="";switch(e.t){case"b":f=e.v?"1":"0";break;case"d":e=sn(e),e.z=e.z||Qt[14],e.v=an(qr(e.v)),e.t="n";break;case"n":case"e":f=""+e.v;break;default:f=e.v;break}var h={r,c:a};switch(h.s=Ri(s.cellXfs,e,s),e.l&&o["!links"].push([Nt(h),e.l]),e.c&&o["!comments"].push([Nt(h),e.c]),e.t){case"s":case"str":return s.bookSST?(f=Am(s.Strings,e.v,s.revStrings),h.t="s",h.v=f,c?je(t,18,G8(e,h)):je(t,7,H8(e,h))):(h.t="str",c?je(t,17,nO(e,h)):je(t,6,tO(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?c?je(t,13,Q8(e,h)):je(t,2,X8(e,h)):c?je(t,16,K8(e,h)):je(t,5,W8(e,h)),!0;case"b":return h.t="b",c?je(t,15,L8(e,h)):je(t,4,M8(e,h)),!0;case"e":return h.t="e",c?je(t,14,U8(e,h)):je(t,3,B8(e,h)),!0}return c?je(t,12,N8(e,h)):je(t,1,R8(e,h)),!0}function kO(t,e,r,a){var s=$t(e["!ref"]||"A1"),o,c="",f=[];je(t,145);var h=Array.isArray(e),m=s.e.r;e["!rows"]&&(m=Math.max(s.e.r,e["!rows"].length-1));for(var g=s.s.r;g<=m;++g){c=Nr(g),S8(t,e,s,g);var x=!1;if(g<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){g===s.s.r&&(f[y]=Lr(y)),o=f[y]+c;var w=h?(e[g]||[])[y]:e[o];if(!w){x=!1;continue}x=TO(t,w,g,y,a,e,x)}}je(t,146)}function AO(t,e){!e||!e["!merges"]||(je(t,177,uO(e["!merges"].length)),e["!merges"].forEach(function(r){je(t,176,cO(r))}),je(t,178))}function jO(t,e){!e||!e["!cols"]||(je(t,390),e["!cols"].forEach(function(r,a){r&&je(t,60,gO(a,r))}),je(t,391))}function CO(t,e){!e||!e["!ref"]||(je(t,648),je(t,649,bO($t(e["!ref"]))),je(t,650))}function RO(t,e,r){e["!links"].forEach(function(a){if(a[1].Target){var s=Rt(r,-1,a[1].Target.replace(/#.*$/,""),wt.HLINK);je(t,494,fO(a,s))}}),delete e["!links"]}function OO(t,e,r,a){if(e["!comments"].length>0){var s=Rt(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",wt.VML);je(t,551,bm("rId"+s)),e["!legacy"]=s}}function NO(t,e,r,a){if(e["!autofilter"]){var s=e["!autofilter"],o=typeof s.ref=="string"?s.ref:dr(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var c=r.Workbook.Names,f=wn(o);f.s.r==f.e.r&&(f.e.r=wn(e["!ref"]).e.r,o=dr(f));for(var h=0;h<c.length;++h){var m=c[h];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==a){m.Ref="'"+r.SheetNames[a]+"'!"+o;break}}h==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+o}),je(t,161,El($t(o))),je(t,162)}}function DO(t,e,r){je(t,133),je(t,137,_O(e,r)),je(t,138),je(t,134)}function MO(t,e){e["!protect"]&&je(t,535,wO(e["!protect"]))}function zO(t,e,r,a){var s=rn(),o=r.SheetNames[t],c=r.Sheets[o]||{},f=o;try{r&&r.Workbook&&(f=r.Workbook.Sheets[t].CodeName||f)}catch{}var h=$t(c["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],je(s,129),(r.vbaraw||c["!outline"])&&je(s,147,j8(f,c["!outline"])),je(s,148,T8(h)),DO(s,c,r.Workbook),jO(s,c),kO(s,c,t,e),MO(s,c),NO(s,c,r,t),AO(s,c),RO(s,c,a),c["!margins"]&&je(s,476,xO(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&CO(s,c),OO(s,c,t,a),je(s,130),s.end()}function LO(t,e){t.l+=10;var r=Fr(t);return{name:r}}var FO=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function BO(t){return!t.Workbook||!t.Workbook.WBProps?"false":pj(t.Workbook.WBProps.date1904)?"true":"false"}var IO="][*?/\\".split("");function Sb(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return IO.forEach(function(a){if(t.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function UO(t,e,r){t.forEach(function(a,s){Sb(a);for(var o=0;o<s;++o)if(a==t[o])throw new Error("Duplicate Sheet Name: "+a);if(r){var c=e&&e[s]&&e[s].CodeName||a;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function PO(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];UO(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)c8(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function Eb(t){var e=[fr];e[e.length]=Le("workbook",null,{xmlns:wl[0],"xmlns:r":xr.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(FO.forEach(function(f){t.Workbook.WBProps[f[0]]!=null&&t.Workbook.WBProps[f[0]]!=f[1]&&(a[f[0]]=t.Workbook.WBProps[f[0]])}),t.Workbook.WBProps.CodeName&&(a.codeName=t.Workbook.WBProps.CodeName,delete a.CodeName)),e[e.length]=Le("workbookPr",null,a);var s=t.Workbook&&t.Workbook.Sheets||[],o=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!s[o]||!s[o].Hidden);++o);o==t.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var c={name:Ot(t.SheetNames[o].slice(0,31))};if(c.sheetId=""+(o+1),c["r:id"]="rId"+(o+1),s[o])switch(s[o].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}e[e.length]=Le("sheet",null,c)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(f){var h={name:f.Name};f.Comment&&(h.comment=f.Comment),f.Sheet!=null&&(h.localSheetId=""+f.Sheet),f.Hidden&&(h.hidden="1"),f.Ref&&(e[e.length]=Le("definedName",Ot(f.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function HO(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Lh(t),r.name=Fr(t),r}function $O(t,e){return e||(e=ge(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),bm(t.strRelID,e),_r(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function GO(t,e){var r={},a=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?Fr(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function qO(t,e){e||(e=ge(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),L2(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function WO(t,e,r){var a=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),o=Bj(t),c=n8(t,0,r),f=_m(t);t.l=a;var h={Name:o,Ptg:c};return s<268435455&&(h.Sheet=s),f&&(h.Comment=f),h}function VO(t,e){je(t,143);for(var r=0;r!=e.SheetNames.length;++r){var a=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};je(t,156,$O(s))}je(t,144)}function KO(t,e){e||(e=ge(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return _r("SheetJS",e),_r(Xu.version,e),_r(Xu.version,e),_r("7262",e),e.length>e.l?e.slice(0,e.l):e}function YO(t,e){e||(e=ge(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function XO(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,a=0,s=-1,o=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&s==-1?s=a:r[a].Hidden==1&&o==-1&&(o=a);o>s||(je(t,135),je(t,158,YO(s)),je(t,136))}}function JO(t,e){var r=rn();return je(r,131),je(r,128,KO()),je(r,153,qO(t.Workbook&&t.Workbook.WBProps||null)),XO(r,t),VO(r,t),je(r,132),r.end()}function QO(t,e,r){return(e.slice(-4)===".bin"?JO:Eb)(t)}function ZO(t,e,r,a,s){return(e.slice(-4)===".bin"?zO:bb)(t,r,a,s)}function eN(t,e,r){return(e.slice(-4)===".bin"?x6:sb)(t,r)}function tN(t,e,r){return(e.slice(-4)===".bin"?qC:rb)(t,r)}function rN(t,e,r){return(e.slice(-4)===".bin"?M6:db)(t)}function nN(t){return(t.slice(-4)===".bin"?k6:cb)()}function aN(t,e){var r=[];return t.Props&&r.push(eC(t.Props,e)),t.Custprops&&r.push(tC(t.Props,t.Custprops)),r.join("")}function iN(){return""}function sN(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(a,s){var o=[];o.push(Le("NumberFormat",null,{"ss:Format":Ot(Qt[a.numFmtId])}));var c={"ss:ID":"s"+(21+s)};r.push(Le("Style",o.join(""),c))}),Le("Styles",r.join(""))}function Tb(t){return Le("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Tm(t.Ref,{r:0,c:0})})}function lN(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],a=0;a<e.length;++a){var s=e[a];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(Tb(s)))}return Le("Names",r.join(""))}function oN(t,e,r,a){if(!t||!((a||{}).Workbook||{}).Names)return"";for(var s=a.Workbook.Names,o=[],c=0;c<s.length;++c){var f=s[c];f.Sheet==r&&(f.Name.match(/^_xlfn\./)||o.push(Tb(f)))}return o.join("")}function cN(t,e,r,a){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Le("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Le("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Le("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)s.push(Le("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<r&&!(a.Workbook.Sheets[o]&&!a.Workbook.Sheets[o].Hidden);++o);o==r&&s.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(Or("ProtectContents","True")),t["!protect"].objects&&s.push(Or("ProtectObjects","True")),t["!protect"].scenarios&&s.push(Or("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(Or("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(Or("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){t["!protect"][c[0]]&&s.push("<"+c[1]+"/>")})),s.length==0?"":Le("WorksheetOptions",s.join(""),{xmlns:xn.x})}function uN(t){return t.map(function(e){var r=mj(e.t||""),a=Le("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Le("Comment",a,{"ss:Author":e.a})}).join("")}function dN(t,e,r,a,s,o,c){if(!t||t.v==null&&t.f==null)return"";var f={};if(t.f&&(f["ss:Formula"]="="+Ot(Tm(t.f,c))),t.F&&t.F.slice(0,e.length)==e){var h=yr(t.F.slice(e.length+1));f["ss:ArrayRange"]="RC:R"+(h.r==c.r?"":"["+(h.r-c.r)+"]")+"C"+(h.c==c.c?"":"["+(h.c-c.c)+"]")}if(t.l&&t.l.Target&&(f["ss:HRef"]=Ot(t.l.Target),t.l.Tooltip&&(f["x:HRefScreenTip"]=Ot(t.l.Tooltip))),r["!merges"])for(var m=r["!merges"],g=0;g!=m.length;++g)m[g].s.c!=c.c||m[g].s.r!=c.r||(m[g].e.c>m[g].s.c&&(f["ss:MergeAcross"]=m[g].e.c-m[g].s.c),m[g].e.r>m[g].s.r&&(f["ss:MergeDown"]=m[g].e.r-m[g].s.r));var x="",y="";switch(t.t){case"z":if(!a.sheetStubs)return"";break;case"n":x="Number",y=String(t.v);break;case"b":x="Boolean",y=t.v?"1":"0";break;case"e":x="Error",y=ec[t.v];break;case"d":x="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Qt[14]);break;case"s":x="String",y=hj(t.v||"");break}var w=Ri(a.cellXfs,t,a);f["ss:StyleID"]="s"+(21+w),f["ss:Index"]=c.c+1;var S=t.v!=null?y:"",_=t.t=="z"?"":'<Data ss:Type="'+x+'">'+S+"</Data>";return(t.c||[]).length>0&&(_+=uN(t.c)),Le("Cell",_,f)}function fN(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=ib(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function hN(t,e,r,a){if(!t["!ref"])return"";var s=$t(t["!ref"]),o=t["!merges"]||[],c=0,f=[];t["!cols"]&&t["!cols"].forEach(function(b,k){Sm(b);var R=!!b.width,T=jd(k,b),L={"ss:Index":k+1};R&&(L["ss:Width"]=sd(T.width)),b.hidden&&(L["ss:Hidden"]="1"),f.push(Le("Column",null,L))});for(var h=Array.isArray(t),m=s.s.r;m<=s.e.r;++m){for(var g=[fN(m,(t["!rows"]||[])[m])],x=s.s.c;x<=s.e.c;++x){var y=!1;for(c=0;c!=o.length;++c)if(!(o[c].s.c>x)&&!(o[c].s.r>m)&&!(o[c].e.c<x)&&!(o[c].e.r<m)){(o[c].s.c!=x||o[c].s.r!=m)&&(y=!0);break}if(!y){var w={r:m,c:x},S=Nt(w),_=h?(t[m]||[])[x]:t[S];g.push(dN(_,S,t,e,r,a,w))}}g.push("</Row>"),g.length>2&&f.push(g.join(""))}return f.join("")}function mN(t,e,r){var a=[],s=r.SheetNames[t],o=r.Sheets[s],c=o?oN(o,e,t,r):"";return c.length>0&&a.push("<Names>"+c+"</Names>"),c=o?hN(o,e,t,r):"",c.length>0&&a.push("<Table>"+c+"</Table>"),a.push(cN(o,e,t,r)),a.join("")}function pN(t,e){e||(e={}),t.SSF||(t.SSF=sn(Qt)),t.SSF&&(Sd(),wd(t.SSF),e.revssf=Ed(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Ri(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(aN(t,e)),r.push(iN()),r.push(""),r.push("");for(var a=0;a<t.SheetNames.length;++a)r.push(Le("Worksheet",mN(a,e,t),{"ss:Name":Ot(t.SheetNames[a])}));return r[2]=sN(t,e),r[3]=lN(t),fr+Le("Workbook",r.join(""),{xmlns:xn.ss,"xmlns:o":xn.o,"xmlns:x":xn.x,"xmlns:ss":xn.ss,"xmlns:dt":xn.dt,"xmlns:html":xn.html})}var ih={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function gN(t,e){var r=[],a=[],s=[],o=0,c,f=wx(zx,"n"),h=wx(Lx,"n");if(t.Props)for(c=Dr(t.Props),o=0;o<c.length;++o)(Object.prototype.hasOwnProperty.call(f,c[o])?r:Object.prototype.hasOwnProperty.call(h,c[o])?a:s).push([c[o],t.Props[c[o]]]);if(t.Custprops)for(c=Dr(t.Custprops),o=0;o<c.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},c[o])||(Object.prototype.hasOwnProperty.call(f,c[o])?r:Object.prototype.hasOwnProperty.call(h,c[o])?a:s).push([c[o],t.Custprops[c[o]]]);var m=[];for(o=0;o<s.length;++o)Y2.indexOf(s[o][0])>-1||W2.indexOf(s[o][0])>-1||s[o][1]!=null&&m.push(s[o]);a.length&&Lt.utils.cfb_add(e,"/SummaryInformation",Px(a,ih.SI,h,Lx)),(r.length||m.length)&&Lt.utils.cfb_add(e,"/DocumentSummaryInformation",Px(r,ih.DSI,f,zx,m.length?m:null,ih.UDI))}function vN(t,e){var r=e||{},a=Lt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Lt.utils.cfb_add(a,s,kb(t,r)),r.biff==8&&(t.Props||t.Custprops)&&gN(t,a),r.biff==8&&t.vbaraw&&z6(a,Lt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),a}var xN={0:{f:b8},1:{f:C8},2:{f:Y8},3:{f:F8},4:{f:D8},5:{f:q8},6:{f:eO},7:{f:P8},8:{f:lO},9:{f:sO},10:{f:aO},11:{f:iO},12:{f:O8},13:{f:J8},14:{f:I8},15:{f:z8},16:{f:V8},17:{f:rO},18:{f:$8},19:{f:ym},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:WO},40:{},42:{},43:{f:e6},44:{f:QC},45:{f:n6},46:{f:i6},47:{f:a6},48:{},49:{f:Oj},50:{},51:{f:b6},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:NC},62:{f:Z8},63:{f:A6},64:{f:SO},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:fa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:yO},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:A8},148:{f:E8,p:16},151:{f:hO},152:{},153:{f:GO},154:{},155:{},156:{f:HO},157:{},158:{},159:{T:1,f:HC},160:{T:-1},161:{T:1,f:ms},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:oO},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:y6},336:{T:-1},337:{f:E6,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Lh},357:{},358:{},359:{},360:{T:1},361:{},362:{f:kC},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:mO},427:{f:pO},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:vO},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:k8},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:dO},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Lh},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:N6},633:{T:1},634:{T:-1},635:{T:1,f:R6},636:{T:-1},637:{f:zj},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:LO},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:EO},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Be(t,e,r,a){var s=e;if(!isNaN(s)){var o=a||(r||[]).length||0,c=t.next(4);c.write_shift(2,s),c.write_shift(2,o),o>0&&gm(r)&&t.push(r)}}function yN(t,e,r,a){var s=(r||[]).length||0;if(s<=8224)return Be(t,e,r,s);var o=e;if(!isNaN(o)){for(var c=r.parts||[],f=0,h=0,m=0;m+(c[f]||8224)<=8224;)m+=c[f]||8224,f++;var g=t.next(4);for(g.write_shift(2,o),g.write_shift(2,m),t.push(r.slice(h,h+m)),h+=m;h<s;){for(g=t.next(4),g.write_shift(2,60),m=0;m+(c[f]||8224)<=8224;)m+=c[f]||8224,f++;g.write_shift(2,m),t.push(r.slice(h,h+m)),h+=m}}}function rc(t,e,r){return t||(t=ge(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function _N(t,e,r,a){var s=ge(9);return rc(s,t,e),J2(r,a||"b",s),s}function bN(t,e,r){var a=ge(8+2*r.length);return rc(a,t,e),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function wN(t,e,r,a){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?an(qr(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?Be(t,2,LC(r,a,s)):Be(t,3,zC(r,a,s));return;case"b":case"e":Be(t,5,_N(r,a,e.v,e.t));return;case"s":case"str":Be(t,4,bN(r,a,(e.v||"").slice(0,255)));return}Be(t,1,rc(null,r,a))}function SN(t,e,r,a){var s=Array.isArray(e),o=$t(e["!ref"]||"A1"),c,f="",h=[];if(o.e.c>255||o.e.r>16383){if(a.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),c=dr(o)}for(var m=o.s.r;m<=o.e.r;++m){f=Nr(m);for(var g=o.s.c;g<=o.e.c;++g){m===o.s.r&&(h[g]=Lr(g)),c=h[g]+f;var x=s?(e[m]||[])[g]:e[c];x&&wN(t,x,m,g)}}}function EN(t,e){for(var r=e||{},a=rn(),s=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==r.sheet&&(s=o);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Be(a,r.biff==4?1033:r.biff==3?521:9,wm(t,16,r)),SN(a,t.Sheets[t.SheetNames[s]],s,r),Be(a,10),a.end()}function TN(t,e,r){Be(t,49,xC({sz:12,name:"Arial"},r))}function kN(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)e[s]!=null&&Be(t,1054,bC(s,e[s],r))})}function AN(t,e){var r=ge(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Be(t,2151,r),r=ge(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),eb($t(e["!ref"]||"A1"),r),r.write_shift(4,4),Be(t,2152,r)}function jN(t,e){for(var r=0;r<16;++r)Be(t,224,$x({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(a){Be(t,224,$x(a,0,e))})}function CN(t,e){for(var r=0;r<e["!links"].length;++r){var a=e["!links"][r];Be(t,440,CC(a)),a[1].Tooltip&&Be(t,2048,RC(a))}delete e["!links"]}function RN(t,e){if(e){var r=0;e.forEach(function(a,s){++r<=256&&a&&Be(t,125,DC(jd(s,a),s))})}}function ON(t,e,r,a,s){var o=16+Ri(s.cellXfs,e,s);if(e.v==null&&!e.bf){Be(t,513,os(r,a,o));return}if(e.bf)Be(t,6,t8(e,r,a,s,o));else switch(e.t){case"d":case"n":var c=e.t=="d"?an(qr(e.v)):e.v;Be(t,515,TC(r,a,c,o));break;case"b":case"e":Be(t,517,EC(r,a,e.v,o,s,e.t));break;case"s":case"str":if(s.bookSST){var f=Am(s.Strings,e.v,s.revStrings);Be(t,253,yC(r,a,f,o))}else Be(t,516,_C(r,a,(e.v||"").slice(0,255),o,s));break;default:Be(t,513,os(r,a,o))}}function NN(t,e,r){var a=rn(),s=r.SheetNames[t],o=r.Sheets[s]||{},c=(r||{}).Workbook||{},f=(c.Sheets||[])[t]||{},h=Array.isArray(o),m=e.biff==8,g,x="",y=[],w=$t(o["!ref"]||"A1"),S=m?65536:16384;if(w.e.c>255||w.e.r>=S){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,S-1)}Be(a,2057,wm(r,16,e)),Be(a,13,zn(1)),Be(a,12,zn(100)),Be(a,15,Gr(!0)),Be(a,17,Gr(!1)),Be(a,16,ls(.001)),Be(a,95,Gr(!0)),Be(a,42,Gr(!1)),Be(a,43,Gr(!1)),Be(a,130,zn(1)),Be(a,128,SC()),Be(a,131,Gr(!1)),Be(a,132,Gr(!1)),m&&RN(a,o["!cols"]),Be(a,512,wC(w,e)),m&&(o["!links"]=[]);for(var _=w.s.r;_<=w.e.r;++_){x=Nr(_);for(var b=w.s.c;b<=w.e.c;++b){_===w.s.r&&(y[b]=Lr(b)),g=y[b]+x;var k=h?(o[_]||[])[b]:o[g];k&&(ON(a,k,_,b,e),m&&k.l&&o["!links"].push([g,k.l]))}}var R=f.CodeName||f.name||s;return m&&Be(a,574,vC((c.Views||[])[0])),m&&(o["!merges"]||[]).length&&Be(a,229,jC(o["!merges"])),m&&CN(a,o),Be(a,442,Z2(R)),m&&AN(a,o),Be(a,10),a.end()}function DN(t,e,r){var a=rn(),s=(t||{}).Workbook||{},o=s.Sheets||[],c=s.WBProps||{},f=r.biff==8,h=r.biff==5;if(Be(a,2057,wm(t,5,r)),r.bookType=="xla"&&Be(a,135),Be(a,225,f?zn(1200):null),Be(a,193,aC(2)),h&&Be(a,191),h&&Be(a,192),Be(a,226),Be(a,92,hC("SheetJS",r)),Be(a,66,zn(f?1200:1252)),f&&Be(a,353,zn(0)),f&&Be(a,448),Be(a,317,MC(t.SheetNames.length)),f&&t.vbaraw&&Be(a,211),f&&t.vbaraw){var m=c.CodeName||"ThisWorkbook";Be(a,442,Z2(m))}Be(a,156,zn(17)),Be(a,25,Gr(!1)),Be(a,18,Gr(!1)),Be(a,19,zn(0)),f&&Be(a,431,Gr(!1)),f&&Be(a,444,zn(0)),Be(a,61,gC()),Be(a,64,Gr(!1)),Be(a,141,zn(0)),Be(a,34,Gr(BO(t)=="true")),Be(a,14,Gr(!0)),f&&Be(a,439,Gr(!1)),Be(a,218,zn(0)),TN(a,t,r),kN(a,t.SSF,r),jN(a,r),f&&Be(a,352,Gr(!1));var g=a.end(),x=rn();f&&Be(x,140,OC()),f&&r.Strings&&yN(x,252,pC(r.Strings)),Be(x,10);var y=x.end(),w=rn(),S=0,_=0;for(_=0;_<t.SheetNames.length;++_)S+=(f?12:11)+(f?2:1)*t.SheetNames[_].length;var b=g.length+S+y.length;for(_=0;_<t.SheetNames.length;++_){var k=o[_]||{};Be(w,133,mC({pos:b,hs:k.Hidden||0,dt:0,name:t.SheetNames[_]},r)),b+=e[_].length}var R=w.end();if(S!=R.length)throw new Error("BS8 "+S+" != "+R.length);var T=[];return g.length&&T.push(g),R.length&&T.push(R),y.length&&T.push(y),Rr(T)}function MN(t,e){var r=e||{},a=[];t&&!t.SSF&&(t.SSF=sn(Qt)),t&&t.SSF&&(Sd(),wd(t.SSF),r.revssf=Ed(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,jm(r),r.cellXfs=[],Ri(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)a[a.length]=NN(s,r,t);return a.unshift(DN(t,a,r)),Rr(a)}function kb(t,e){for(var r=0;r<=t.SheetNames.length;++r){var a=t.Sheets[t.SheetNames[r]];if(!(!a||!a["!ref"])){var s=wn(a["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return MN(t,e);case 4:case 3:case 2:return EN(t,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function zN(t,e,r,a){for(var s=t["!merges"]||[],o=[],c=e.s.c;c<=e.e.c;++c){for(var f=0,h=0,m=0;m<s.length;++m)if(!(s[m].s.r>r||s[m].s.c>c)&&!(s[m].e.r<r||s[m].e.c<c)){if(s[m].s.r<r||s[m].s.c<c){f=-1;break}f=s[m].e.r-s[m].s.r+1,h=s[m].e.c-s[m].s.c+1;break}if(!(f<0)){var g=Nt({r,c}),x=a.dense?(t[r]||[])[c]:t[g],y=x&&x.v!=null&&(x.h||fj(x.w||($a(x),x.w)||""))||"",w={};f>1&&(w.rowspan=f),h>1&&(w.colspan=h),a.editable?y='<span contenteditable="true">'+y+"</span>":x&&(w["data-t"]=x&&x.t||"z",x.v!=null&&(w["data-v"]=x.v),x.z!=null&&(w["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+x.l.Target+'">'+y+"</a>")),w.id=(a.id||"sjs")+"-"+g,o.push(Le("td",y,w))}}var S="<tr>";return S+o.join("")+"</tr>"}var LN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',FN="</body></html>";function BN(t,e,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Ab(t,e){var r=e||{},a=r.header!=null?r.header:LN,s=r.footer!=null?r.footer:FN,o=[a],c=wn(t["!ref"]);r.dense=Array.isArray(t),o.push(BN(t,c,r));for(var f=c.s.r;f<=c.e.r;++f)o.push(zN(t,c,f,r));return o.push("</table>"+s),o.join("")}function jb(t,e,r){var a=r||{},s=0,o=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var c=typeof a.origin=="string"?yr(a.origin):a.origin;s=c.r,o=c.c}var f=e.getElementsByTagName("tr"),h=Math.min(a.sheetRows||1e7,f.length),m={s:{r:0,c:0},e:{r:s,c:o}};if(t["!ref"]){var g=wn(t["!ref"]);m.s.r=Math.min(m.s.r,g.s.r),m.s.c=Math.min(m.s.c,g.s.c),m.e.r=Math.max(m.e.r,g.e.r),m.e.c=Math.max(m.e.c,g.e.c),s==-1&&(m.e.r=s=g.e.r+1)}var x=[],y=0,w=t["!rows"]||(t["!rows"]=[]),S=0,_=0,b=0,k=0,R=0,T=0;for(t["!cols"]||(t["!cols"]=[]);S<f.length&&_<h;++S){var L=f[S];if(Xx(L)){if(a.display)continue;w[_]={hidden:!0}}var H=L.children;for(b=k=0;b<H.length;++b){var Y=H[b];if(!(a.display&&Xx(Y))){var A=Y.hasAttribute("data-v")?Y.getAttribute("data-v"):Y.hasAttribute("v")?Y.getAttribute("v"):gj(Y.innerHTML),I=Y.getAttribute("data-z")||Y.getAttribute("z");for(y=0;y<x.length;++y){var G=x[y];G.s.c==k+o&&G.s.r<_+s&&_+s<=G.e.r&&(k=G.e.c+1-o,y=-1)}T=+Y.getAttribute("colspan")||1,((R=+Y.getAttribute("rowspan")||1)>1||T>1)&&x.push({s:{r:_+s,c:k+o},e:{r:_+s+(R||1)-1,c:k+o+(T||1)-1}});var te={t:"s",v:A},ee=Y.getAttribute("data-t")||Y.getAttribute("t")||"";A!=null&&(A.length==0?te.t=ee||"z":a.raw||A.trim().length==0||ee=="s"||(A==="TRUE"?te={t:"b",v:!0}:A==="FALSE"?te={t:"b",v:!1}:isNaN(Ia(A))?isNaN(Uo(A).getDate())||(te={t:"d",v:qr(A)},a.cellDates||(te={t:"n",v:an(te.v)}),te.z=a.dateNF||Qt[14]):te={t:"n",v:Ia(A)})),te.z===void 0&&I!=null&&(te.z=I);var ie="",ye=Y.getElementsByTagName("A");if(ye&&ye.length)for(var qe=0;qe<ye.length&&!(ye[qe].hasAttribute("href")&&(ie=ye[qe].getAttribute("href"),ie.charAt(0)!="#"));++qe);ie&&ie.charAt(0)!="#"&&(te.l={Target:ie}),a.dense?(t[_+s]||(t[_+s]=[]),t[_+s][k+o]=te):t[Nt({c:k+o,r:_+s})]=te,m.e.c<k+o&&(m.e.c=k+o),k+=T}}++_}return x.length&&(t["!merges"]=(t["!merges"]||[]).concat(x)),m.e.r=Math.max(m.e.r,_-1+s),t["!ref"]=dr(m),_>=h&&(t["!fullref"]=dr((m.e.r=f.length-S+_-1+s,m))),t}function Cb(t,e){var r=e||{},a=r.dense?[]:{};return jb(a,t,e)}function IN(t,e){return us(Cb(t,e),e)}function Xx(t){var e="",r=UN(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function UN(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var PN=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Ho({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return fr+e}})(),Jx=(function(){var t=function(o){return Ot(o).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(o,c,f){var h=[];h.push('      <table:table table:name="'+Ot(c.SheetNames[f])+`" table:style-name="ta1">
`);var m=0,g=0,x=wn(o["!ref"]||"A1"),y=o["!merges"]||[],w=0,S=Array.isArray(o);if(o["!cols"])for(g=0;g<=x.e.c;++g)h.push("        <table:table-column"+(o["!cols"][g]?' table:style-name="co'+o["!cols"][g].ods+'"':"")+`></table:table-column>
`);var _="",b=o["!rows"]||[];for(m=0;m<x.s.r;++m)_=b[m]?' table:style-name="ro'+b[m].ods+'"':"",h.push("        <table:table-row"+_+`></table:table-row>
`);for(;m<=x.e.r;++m){for(_=b[m]?' table:style-name="ro'+b[m].ods+'"':"",h.push("        <table:table-row"+_+`>
`),g=0;g<x.s.c;++g)h.push(e);for(;g<=x.e.c;++g){var k=!1,R={},T="";for(w=0;w!=y.length;++w)if(!(y[w].s.c>g)&&!(y[w].s.r>m)&&!(y[w].e.c<g)&&!(y[w].e.r<m)){(y[w].s.c!=g||y[w].s.r!=m)&&(k=!0),R["table:number-columns-spanned"]=y[w].e.c-y[w].s.c+1,R["table:number-rows-spanned"]=y[w].e.r-y[w].s.r+1;break}if(k){h.push(r);continue}var L=Nt({r:m,c:g}),H=S?(o[m]||[])[g]:o[L];if(H&&H.f&&(R["table:formula"]=Ot(l8(H.f)),H.F&&H.F.slice(0,L.length)==L)){var Y=wn(H.F);R["table:number-matrix-columns-spanned"]=Y.e.c-Y.s.c+1,R["table:number-matrix-rows-spanned"]=Y.e.r-Y.s.r+1}if(!H){h.push(e);continue}switch(H.t){case"b":T=H.v?"TRUE":"FALSE",R["office:value-type"]="boolean",R["office:boolean-value"]=H.v?"true":"false";break;case"n":T=H.w||String(H.v||0),R["office:value-type"]="float",R["office:value"]=H.v||0;break;case"s":case"str":T=H.v==null?"":H.v,R["office:value-type"]="string";break;case"d":T=H.w||qr(H.v).toISOString(),R["office:value-type"]="date",R["office:date-value"]=qr(H.v).toISOString(),R["table:style-name"]="ce1";break;default:h.push(e);continue}var A=t(T);if(H.l&&H.l.Target){var I=H.l.Target;I=I.charAt(0)=="#"?"#"+o8(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),A=Le("text:a",A,{"xlink:href":I.replace(/&/g,"&amp;")})}h.push("          "+Le("table:table-cell",Le("text:p",A,{}),R)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},s=function(o,c){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var f=0;c.SheetNames.map(function(m){return c.Sheets[m]}).forEach(function(m){if(m&&m["!cols"]){for(var g=0;g<m["!cols"].length;++g)if(m["!cols"][g]){var x=m["!cols"][g];if(x.width==null&&x.wpx==null&&x.wch==null)continue;Sm(x),x.ods=f;var y=m["!cols"][g].wpx+"px";o.push('  <style:style style:name="co'+f+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),o.push(`  </style:style>
`),++f}}});var h=0;c.SheetNames.map(function(m){return c.Sheets[m]}).forEach(function(m){if(m&&m["!rows"]){for(var g=0;g<m["!rows"].length;++g)if(m["!rows"][g]){m["!rows"][g].ods=h;var x=m["!rows"][g].hpx+"px";o.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),o.push(`  </style:style>
`),++h}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(c,f){var h=[fr],m=Ho({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),g=Ho({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});f.bookType=="fods"?(h.push("<office:document"+m+g+`>
`),h.push(G2().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+m+`>
`),s(h,c),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var x=0;x!=c.SheetNames.length;++x)h.push(a(c.Sheets[c.SheetNames[x]],c,x));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),f.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function Rb(t,e){if(e.bookType=="fods")return Jx(t,e);var r=fm(),a="",s=[],o=[];return a="mimetype",dt(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",dt(r,a,Jx(t,e)),s.push([a,"text/xml"]),o.push([a,"ContentFile"]),a="styles.xml",dt(r,a,PN(t,e)),s.push([a,"text/xml"]),o.push([a,"StylesFile"]),a="meta.xml",dt(r,a,fr+G2()),s.push([a,"text/xml"]),o.push([a,"MetadataFile"]),a="manifest.rdf",dt(r,a,Zj(o)),s.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",dt(r,a,Jj(s)),r}function cd(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function HN(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Jn(Po(t))}function $N(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var a=0;a<e.length;++a)if(t[r+a]!=e[a])continue e;return!0}return!1}function Ci(t){var e=t.reduce(function(s,o){return s+o.length},0),r=new Uint8Array(e),a=0;return t.forEach(function(s){r.set(s,a),a+=s.length}),r}function GN(t,e,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,a-6176);t[e+15]|=a>>7,t[e+14]|=(a&127)<<1;for(var o=0;s>=1;++o,s/=256)t[e+o]=s&255;t[e+15]|=r>=0?0:128}function $o(t,e){var r=e?e[0]:0,a=t[r]&127;e:if(t[r++]>=128&&(a|=(t[r]&127)<<7,t[r++]<128||(a|=(t[r]&127)<<14,t[r++]<128)||(a|=(t[r]&127)<<21,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),a}function Ct(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function ml(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function mr(t){for(var e=[],r=[0];r[0]<t.length;){var a=r[0],s=$o(t,r),o=s&7;s=Math.floor(s/8);var c=0,f;if(s==0)break;switch(o){case 0:{for(var h=r[0];t[r[0]++]>=128;);f=t.slice(h,r[0])}break;case 5:c=4,f=t.slice(r[0],r[0]+c),r[0]+=c;break;case 1:c=8,f=t.slice(r[0],r[0]+c),r[0]+=c;break;case 2:c=$o(t,r),f=t.slice(r[0],r[0]+c),r[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(s," at offset ").concat(a))}var m={data:f,type:o};e[s]==null?e[s]=[m]:e[s].push(m)}return e}function jr(t){var e=[];return t.forEach(function(r,a){r.forEach(function(s){s.data&&(e.push(Ct(a*8+s.type)),s.type==2&&e.push(Ct(s.data.length)),e.push(s.data))})}),Ci(e)}function Gn(t){for(var e,r=[],a=[0];a[0]<t.length;){var s=$o(t,a),o=mr(t.slice(a[0],a[0]+s));a[0]+=s;var c={id:ml(o[1][0].data),messages:[]};o[2].forEach(function(f){var h=mr(f.data),m=ml(h[3][0].data);c.messages.push({meta:h,data:t.slice(a[0],a[0]+m)}),a[0]+=m}),(e=o[3])!=null&&e[0]&&(c.merge=ml(o[3][0].data)>>>0>0),r.push(c)}return r}function nl(t){var e=[];return t.forEach(function(r){var a=[];a[1]=[{data:Ct(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Ct(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(c){s.push(c.data),c.meta[3]=[{type:0,data:Ct(c.data.length)}],a[2].push({data:jr(c.meta),type:2})});var o=jr(a);e.push(Ct(o.length)),e.push(o),s.forEach(function(c){return e.push(c)})}),Ci(e)}function qN(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],a=$o(e,r),s=[];r[0]<e.length;){var o=e[r[0]]&3;if(o==0){var c=e[r[0]++]>>2;if(c<60)++c;else{var f=c-59;c=e[r[0]],f>1&&(c|=e[r[0]+1]<<8),f>2&&(c|=e[r[0]+2]<<16),f>3&&(c|=e[r[0]+3]<<24),c>>>=0,c++,r[0]+=f}s.push(e.slice(r[0],r[0]+c)),r[0]+=c;continue}else{var h=0,m=0;if(o==1?(m=(e[r[0]]>>2&7)+4,h=(e[r[0]++]&224)<<3,h|=e[r[0]++]):(m=(e[r[0]++]>>2)+1,o==2?(h=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(h=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Ci(s)],h==0)throw new Error("Invalid offset 0");if(h>s[0].length)throw new Error("Invalid offset beyond length");if(m>=h)for(s.push(s[0].slice(-h)),m-=h;m>=s[s.length-1].length;)s.push(s[s.length-1]),m-=s[s.length-1].length;s.push(s[0].slice(-h,-h+m))}}var g=Ci(s);if(g.length!=a)throw new Error("Unexpected length: ".concat(g.length," != ").concat(a));return g}function qn(t){for(var e=[],r=0;r<t.length;){var a=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(qN(a,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Ci(e)}function al(t){for(var e=[],r=0;r<t.length;){var a=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var o=Ct(a),c=o.length;e.push(o),a<=60?(c++,e.push(new Uint8Array([a-1<<2]))):a<=256?(c+=2,e.push(new Uint8Array([240,a-1&255]))):a<=65536?(c+=3,e.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(c+=4,e.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(c+=5,e.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),e.push(t.slice(r,r+a)),c+=a,s[0]=0,s[1]=c&255,s[2]=c>>8&255,s[3]=c>>16&255,r+=a}return Ci(e)}function sh(t,e){var r=new Uint8Array(32),a=cd(r),s=12,o=0;switch(r[0]=5,t.t){case"n":r[1]=2,GN(r,s,t.v),o|=1,s+=16;break;case"b":r[1]=6,a.setFloat64(s,t.v?1:0,!0),o|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,a.setUint32(s,e.indexOf(t.v),!0),o|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(8,o,!0),r.slice(0,s)}function lh(t,e){var r=new Uint8Array(32),a=cd(r),s=12,o=0;switch(r[0]=3,t.t){case"n":r[2]=2,a.setFloat64(s,t.v,!0),o|=32,s+=8;break;case"b":r[2]=6,a.setFloat64(s,t.v?1:0,!0),o|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,a.setUint32(s,e.indexOf(t.v),!0),o|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(4,o,!0),r.slice(0,s)}function _i(t){var e=mr(t);return $o(e[1][0].data)}function WN(t,e,r){var a,s,o,c;if(!((a=t[6])!=null&&a[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var f=((c=(o=t[8])==null?void 0:o[0])==null?void 0:c.data)&&ml(t[8][0].data)>0||!1;if(f)throw"Math only works with normal offsets";for(var h=0,m=cd(t[7][0].data),g=0,x=[],y=cd(t[4][0].data),w=0,S=[],_=0;_<e.length;++_){if(e[_]==null){m.setUint16(_*2,65535,!0),y.setUint16(_*2,65535);continue}m.setUint16(_*2,g,!0),y.setUint16(_*2,w,!0);var b,k;switch(typeof e[_]){case"string":b=sh({t:"s",v:e[_]},r),k=lh({t:"s",v:e[_]},r);break;case"number":b=sh({t:"n",v:e[_]},r),k=lh({t:"n",v:e[_]},r);break;case"boolean":b=sh({t:"b",v:e[_]},r),k=lh({t:"b",v:e[_]},r);break;default:throw new Error("Unsupported value "+e[_])}x.push(b),g+=b.length,S.push(k),w+=k.length,++h}for(t[2][0].data=Ct(h);_<t[7][0].data.length/2;++_)m.setUint16(_*2,65535,!0),y.setUint16(_*2,65535,!0);return t[6][0].data=Ci(x),t[3][0].data=Ci(S),h}function VN(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=wn(r["!ref"]);a.s.r=a.s.c=0;var s=!1;a.e.c>9&&(s=!0,a.e.c=9),a.e.r>49&&(s=!0,a.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(dr(a)));var o=ud(r,{range:a,header:1}),c=["~Sh33tJ5~"];o.forEach(function(W){return W.forEach(function(N){typeof N=="string"&&c.push(N)})});var f={},h=[],m=Lt.read(e.numbers,{type:"base64"});m.FileIndex.map(function(W,N){return[W,m.FullPaths[N]]}).forEach(function(W){var N=W[0],U=W[1];if(N.type==2&&N.name.match(/\.iwa/)){var Z=N.content,he=qn(Z),we=Gn(he);we.forEach(function(_e){h.push(_e.id),f[_e.id]={deps:[],location:U,type:ml(_e.messages[0].meta[1][0].data)}})}}),h.sort(function(W,N){return W-N});var g=h.filter(function(W){return W>1}).map(function(W){return[W,Ct(W)]});m.FileIndex.map(function(W,N){return[W,m.FullPaths[N]]}).forEach(function(W){var N=W[0];if(W[1],!!N.name.match(/\.iwa/)){var U=Gn(qn(N.content));U.forEach(function(Z){Z.messages.forEach(function(he){g.forEach(function(we){Z.messages.some(function(_e){return ml(_e.meta[1][0].data)!=11006&&$N(_e.data,we[1])})&&f[we[0]].deps.push(Z.id)})})})}});for(var x=Lt.find(m,f[1].location),y=Gn(qn(x.content)),w,S=0;S<y.length;++S){var _=y[S];_.id==1&&(w=_)}var b=_i(mr(w.messages[0].data)[1][0].data);for(x=Lt.find(m,f[b].location),y=Gn(qn(x.content)),S=0;S<y.length;++S)_=y[S],_.id==b&&(w=_);for(b=_i(mr(w.messages[0].data)[2][0].data),x=Lt.find(m,f[b].location),y=Gn(qn(x.content)),S=0;S<y.length;++S)_=y[S],_.id==b&&(w=_);for(b=_i(mr(w.messages[0].data)[2][0].data),x=Lt.find(m,f[b].location),y=Gn(qn(x.content)),S=0;S<y.length;++S)_=y[S],_.id==b&&(w=_);var k=mr(w.messages[0].data);{k[6][0].data=Ct(a.e.r+1),k[7][0].data=Ct(a.e.c+1);var R=_i(k[46][0].data),T=Lt.find(m,f[R].location),L=Gn(qn(T.content));{for(var H=0;H<L.length&&L[H].id!=R;++H);if(L[H].id!=R)throw"Bad ColumnRowUIDMapArchive";var Y=mr(L[H].messages[0].data);Y[1]=[],Y[2]=[],Y[3]=[];for(var A=0;A<=a.e.c;++A){var I=[];I[1]=I[2]=[{type:0,data:Ct(A+420690)}],Y[1].push({type:2,data:jr(I)}),Y[2].push({type:0,data:Ct(A)}),Y[3].push({type:0,data:Ct(A)})}Y[4]=[],Y[5]=[],Y[6]=[];for(var G=0;G<=a.e.r;++G)I=[],I[1]=I[2]=[{type:0,data:Ct(G+726270)}],Y[4].push({type:2,data:jr(I)}),Y[5].push({type:0,data:Ct(G)}),Y[6].push({type:0,data:Ct(G)});L[H].messages[0].data=jr(Y)}T.content=al(nl(L)),T.size=T.content.length,delete k[46];var te=mr(k[4][0].data);{te[7][0].data=Ct(a.e.r+1);var ee=mr(te[1][0].data),ie=_i(ee[2][0].data);T=Lt.find(m,f[ie].location),L=Gn(qn(T.content));{if(L[0].id!=ie)throw"Bad HeaderStorageBucket";var ye=mr(L[0].messages[0].data);for(G=0;G<o.length;++G){var qe=mr(ye[2][0].data);qe[1][0].data=Ct(G),qe[4][0].data=Ct(o[G].length),ye[2][G]={type:ye[2][0].type,data:jr(qe)}}L[0].messages[0].data=jr(ye)}T.content=al(nl(L)),T.size=T.content.length;var ce=_i(te[2][0].data);T=Lt.find(m,f[ce].location),L=Gn(qn(T.content));{if(L[0].id!=ce)throw"Bad HeaderStorageBucket";for(ye=mr(L[0].messages[0].data),A=0;A<=a.e.c;++A)qe=mr(ye[2][0].data),qe[1][0].data=Ct(A),qe[4][0].data=Ct(a.e.r+1),ye[2][A]={type:ye[2][0].type,data:jr(qe)};L[0].messages[0].data=jr(ye)}T.content=al(nl(L)),T.size=T.content.length;var J=_i(te[4][0].data);(function(){for(var W=Lt.find(m,f[J].location),N=Gn(qn(W.content)),U,Z=0;Z<N.length;++Z){var he=N[Z];he.id==J&&(U=he)}var we=mr(U.messages[0].data);{we[3]=[];var _e=[];c.forEach(function(Ke,nt){_e[1]=[{type:0,data:Ct(nt)}],_e[2]=[{type:0,data:Ct(1)}],_e[3]=[{type:2,data:HN(Ke)}],we[3].push({type:2,data:jr(_e)})})}U.messages[0].data=jr(we);var ke=nl(N),Ge=al(ke);W.content=Ge,W.size=W.content.length})();var me=mr(te[3][0].data);{var Ce=me[1][0];delete me[2];var Fe=mr(Ce.data);{var Q=_i(Fe[2][0].data);(function(){for(var W=Lt.find(m,f[Q].location),N=Gn(qn(W.content)),U,Z=0;Z<N.length;++Z){var he=N[Z];he.id==Q&&(U=he)}var we=mr(U.messages[0].data);{delete we[6],delete me[7];var _e=new Uint8Array(we[5][0].data);we[5]=[];for(var ke=0,Ge=0;Ge<=a.e.r;++Ge){var Ke=mr(_e);ke+=WN(Ke,o[Ge],c),Ke[1][0].data=Ct(Ge),we[5].push({data:jr(Ke),type:2})}we[1]=[{type:0,data:Ct(a.e.c+1)}],we[2]=[{type:0,data:Ct(a.e.r+1)}],we[3]=[{type:0,data:Ct(ke)}],we[4]=[{type:0,data:Ct(a.e.r+1)}]}U.messages[0].data=jr(we);var nt=nl(N),De=al(nt);W.content=De,W.size=W.content.length})()}Ce.data=jr(Fe)}te[3][0].data=jr(me)}k[4][0].data=jr(te)}w.messages[0].data=jr(k);var j=nl(y),C=al(j);return x.content=C,x.size=x.content.length,m}function KN(t){return function(r){for(var a=0;a!=t.length;++a){var s=t[a];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function jm(t){KN([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function YN(t,e){return e.bookType=="ods"?Rb(t,e):e.bookType=="numbers"?VN(t,e):e.bookType=="xlsb"?XN(t,e):JN(t,e)}function XN(t,e){ol=1024,t&&!t.SSF&&(t.SSF=sn(Qt)),t&&t.SSF&&(Sd(),wd(t.SSF),e.revssf=Ed(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,No?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",a=fb.indexOf(e.bookType)>-1,s=P2();jm(e=e||{});var o=fm(),c="",f=0;if(e.cellXfs=[],Ri(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",dt(o,c,q2(t.Props,e)),s.coreprops.push(c),Rt(e.rels,2,c,wt.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var h=[],m=0;m<t.SheetNames.length;++m)(t.Workbook.Sheets[m]||{}).Hidden!=2&&h.push(t.SheetNames[m]);t.Props.SheetNames=h}for(t.Props.Worksheets=t.Props.SheetNames.length,dt(o,c,V2(t.Props)),s.extprops.push(c),Rt(e.rels,3,c,wt.EXT_PROPS),t.Custprops!==t.Props&&Dr(t.Custprops||{}).length>0&&(c="docProps/custom.xml",dt(o,c,K2(t.Custprops)),s.custprops.push(c),Rt(e.rels,4,c,wt.CUST_PROPS)),f=1;f<=t.SheetNames.length;++f){var g={"!id":{}},x=t.Sheets[t.SheetNames[f-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:c="xl/worksheets/sheet"+f+"."+r,dt(o,c,ZO(f-1,c,e,t,g)),s.sheets.push(c),Rt(e.wbrels,-1,"worksheets/sheet"+f+"."+r,wt.WS[0])}if(x){var w=x["!comments"],S=!1,_="";w&&w.length>0&&(_="xl/comments"+f+"."+r,dt(o,_,rN(w,_)),s.comments.push(_),Rt(g,-1,"../comments"+f+"."+r,wt.CMNT),S=!0),x["!legacy"]&&S&&dt(o,"xl/drawings/vmlDrawing"+f+".vml",ub(f,x["!comments"])),delete x["!comments"],delete x["!legacy"]}g["!id"].rId1&&dt(o,$2(c),fl(g))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+r,dt(o,c,tN(e.Strings,c,e)),s.strs.push(c),Rt(e.wbrels,-1,"sharedStrings."+r,wt.SST)),c="xl/workbook."+r,dt(o,c,QO(t,c)),s.workbooks.push(c),Rt(e.rels,1,c,wt.WB),c="xl/theme/theme1.xml",dt(o,c,ob(t.Themes,e)),s.themes.push(c),Rt(e.wbrels,-1,"theme/theme1.xml",wt.THEME),c="xl/styles."+r,dt(o,c,eN(t,c,e)),s.styles.push(c),Rt(e.wbrels,-1,"styles."+r,wt.STY),t.vbaraw&&a&&(c="xl/vbaProject.bin",dt(o,c,t.vbaraw),s.vba.push(c),Rt(e.wbrels,-1,"vbaProject.bin",wt.VBA)),c="xl/metadata."+r,dt(o,c,nN(c)),s.metadata.push(c),Rt(e.wbrels,-1,"metadata."+r,wt.XLMETA),dt(o,"[Content_Types].xml",H2(s,e)),dt(o,"_rels/.rels",fl(e.rels)),dt(o,"xl/_rels/workbook."+r+".rels",fl(e.wbrels)),delete e.revssf,delete e.ssf,o}function JN(t,e){ol=1024,t&&!t.SSF&&(t.SSF=sn(Qt)),t&&t.SSF&&(Sd(),wd(t.SSF),e.revssf=Ed(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,No?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",a=fb.indexOf(e.bookType)>-1,s=P2();jm(e=e||{});var o=fm(),c="",f=0;if(e.cellXfs=[],Ri(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",dt(o,c,q2(t.Props,e)),s.coreprops.push(c),Rt(e.rels,2,c,wt.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var h=[],m=0;m<t.SheetNames.length;++m)(t.Workbook.Sheets[m]||{}).Hidden!=2&&h.push(t.SheetNames[m]);t.Props.SheetNames=h}t.Props.Worksheets=t.Props.SheetNames.length,dt(o,c,V2(t.Props)),s.extprops.push(c),Rt(e.rels,3,c,wt.EXT_PROPS),t.Custprops!==t.Props&&Dr(t.Custprops||{}).length>0&&(c="docProps/custom.xml",dt(o,c,K2(t.Custprops)),s.custprops.push(c),Rt(e.rels,4,c,wt.CUST_PROPS));var g=["SheetJ5"];for(e.tcid=0,f=1;f<=t.SheetNames.length;++f){var x={"!id":{}},y=t.Sheets[t.SheetNames[f-1]],w=(y||{})["!type"]||"sheet";switch(w){case"chart":default:c="xl/worksheets/sheet"+f+"."+r,dt(o,c,bb(f-1,e,t,x)),s.sheets.push(c),Rt(e.wbrels,-1,"worksheets/sheet"+f+"."+r,wt.WS[0])}if(y){var S=y["!comments"],_=!1,b="";if(S&&S.length>0){var k=!1;S.forEach(function(R){R[1].forEach(function(T){T.T==!0&&(k=!0)})}),k&&(b="xl/threadedComments/threadedComment"+f+"."+r,dt(o,b,j6(S,g,e)),s.threadedcomments.push(b),Rt(x,-1,"../threadedComments/threadedComment"+f+"."+r,wt.TCMNT)),b="xl/comments"+f+"."+r,dt(o,b,db(S)),s.comments.push(b),Rt(x,-1,"../comments"+f+"."+r,wt.CMNT),_=!0}y["!legacy"]&&_&&dt(o,"xl/drawings/vmlDrawing"+f+".vml",ub(f,y["!comments"])),delete y["!comments"],delete y["!legacy"]}x["!id"].rId1&&dt(o,$2(c),fl(x))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+r,dt(o,c,rb(e.Strings,e)),s.strs.push(c),Rt(e.wbrels,-1,"sharedStrings."+r,wt.SST)),c="xl/workbook."+r,dt(o,c,Eb(t)),s.workbooks.push(c),Rt(e.rels,1,c,wt.WB),c="xl/theme/theme1.xml",dt(o,c,ob(t.Themes,e)),s.themes.push(c),Rt(e.wbrels,-1,"theme/theme1.xml",wt.THEME),c="xl/styles."+r,dt(o,c,sb(t,e)),s.styles.push(c),Rt(e.wbrels,-1,"styles."+r,wt.STY),t.vbaraw&&a&&(c="xl/vbaProject.bin",dt(o,c,t.vbaraw),s.vba.push(c),Rt(e.wbrels,-1,"vbaProject.bin",wt.VBA)),c="xl/metadata."+r,dt(o,c,cb()),s.metadata.push(c),Rt(e.wbrels,-1,"metadata."+r,wt.XLMETA),g.length>1&&(c="xl/persons/person.xml",dt(o,c,C6(g)),s.people.push(c),Rt(e.wbrels,-1,"persons/person.xml",wt.PEOPLE)),dt(o,"[Content_Types].xml",H2(s,e)),dt(o,"_rels/.rels",fl(e.rels)),dt(o,"xl/_rels/workbook."+r+".rels",fl(e.wbrels)),delete e.revssf,delete e.ssf,o}function QN(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ha(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Ob(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Qo(e.file,Lt.write(t,{type:Tt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Lt.write(t,e)}function ZN(t,e){var r=sn(e||{}),a=YN(t,r);return eD(a,r)}function eD(t,e){var r={},a=Tt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=a;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?Lt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(bd(s))}return e.password&&typeof encrypt_agile<"u"?Ob(encrypt_agile(s,e.password),e):e.type==="file"?Qo(e.file,s):e.type=="string"?jo(s):s}function tD(t,e){var r=e||{},a=vN(t,r);return Ob(a,r)}function ua(t,e,r){r||(r="");var a=r+t;switch(e.type){case"base64":return Io(Po(a));case"binary":return Po(a);case"string":return t;case"file":return Qo(e.file,a,"utf8");case"buffer":return Tt?qa(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):ua(a,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function rD(t,e){switch(e.type){case"base64":return Io(t);case"binary":return t;case"string":return t;case"file":return Qo(e.file,t,"binary");case"buffer":return Tt?qa(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Cu(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",a=0;a<t.length;++a)r+=String.fromCharCode(t[a]);return e.type=="base64"?Io(r):e.type=="string"?jo(r):r;case"file":return Qo(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function Nb(t,e){R3(),PO(t);var r=sn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=Nb(t,r);return r.type="array",bd(a)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ua(pN(t,r),r);case"slk":case"sylk":return ua(BC.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return ua(Ab(t.Sheets[t.SheetNames[s]],r),r);case"txt":return rD(Db(t.Sheets[t.SheetNames[s]],r),r);case"csv":return ua(Cm(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return ua(IC.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return Cu(FC.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return ua(UC.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return ua(VC.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return ua(tb.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return ua(Rb(t,r),r);case"wk1":return Cu(Gx.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return Cu(Gx.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Cu(kb(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),tD(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ZN(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function nD(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Qx(t,e,r){var a={};return a.type="file",a.file=e,nD(a),Nb(t,a)}function aD(t,e,r,a,s,o,c,f){var h=Nr(r),m=f.defval,g=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw"),x=!0,y=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!c||t[r])for(var w=e.s.c;w<=e.e.c;++w){var S=c?t[r][w]:t[a[w]+h];if(S===void 0||S.t===void 0){if(m===void 0)continue;o[w]!=null&&(y[o[w]]=m);continue}var _=S.v;switch(S.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(o[w]!=null){if(_==null)if(S.t=="e"&&_===null)y[o[w]]=null;else if(m!==void 0)y[o[w]]=m;else if(g&&_===null)y[o[w]]=null;else continue;else y[o[w]]=g&&(S.t!=="n"||S.t==="n"&&f.rawNumbers!==!1)?_:$a(S,_,f);_!=null&&(x=!1)}}return{row:y,isempty:x}}function ud(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},a=0,s=1,o=[],c=0,f="",h={s:{r:0,c:0},e:{r:0,c:0}},m=e||{},g=m.range!=null?m.range:t["!ref"];switch(m.header===1?a=1:m.header==="A"?a=2:Array.isArray(m.header)?a=3:m.header==null&&(a=0),typeof g){case"string":h=$t(g);break;case"number":h=$t(t["!ref"]),h.s.r=g;break;default:h=g}a>0&&(s=0);var x=Nr(h.s.r),y=[],w=[],S=0,_=0,b=Array.isArray(t),k=h.s.r,R=0,T={};b&&!t[k]&&(t[k]=[]);var L=m.skipHidden&&t["!cols"]||[],H=m.skipHidden&&t["!rows"]||[];for(R=h.s.c;R<=h.e.c;++R)if(!(L[R]||{}).hidden)switch(y[R]=Lr(R),r=b?t[k][R]:t[y[R]+x],a){case 1:o[R]=R-h.s.c;break;case 2:o[R]=y[R];break;case 3:o[R]=m.header[R-h.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),f=c=$a(r,null,m),_=T[c]||0,!_)T[c]=1;else{do f=c+"_"+_++;while(T[f]);T[c]=_,T[f]=1}o[R]=f}for(k=h.s.r+s;k<=h.e.r;++k)if(!(H[k]||{}).hidden){var Y=aD(t,h,k,y,a,o,b,m);(Y.isempty===!1||(a===1?m.blankrows!==!1:m.blankrows))&&(w[S++]=Y.row)}return w.length=S,w}var Zx=/"/g;function iD(t,e,r,a,s,o,c,f){for(var h=!0,m=[],g="",x=Nr(r),y=e.s.c;y<=e.e.c;++y)if(a[y]){var w=f.dense?(t[r]||[])[y]:t[a[y]+x];if(w==null)g="";else if(w.v!=null){h=!1,g=""+(f.rawNumbers&&w.t=="n"?w.v:$a(w,null,f));for(var S=0,_=0;S!==g.length;++S)if((_=g.charCodeAt(S))===s||_===o||_===34||f.forceQuotes){g='"'+g.replace(Zx,'""')+'"';break}g=="ID"&&(g='"ID"')}else w.f!=null&&!w.F?(h=!1,g="="+w.f,g.indexOf(",")>=0&&(g='"'+g.replace(Zx,'""')+'"')):g="";m.push(g)}return f.blankrows===!1&&h?null:m.join(c)}function Cm(t,e){var r=[],a=e??{};if(t==null||t["!ref"]==null)return"";var s=$t(t["!ref"]),o=a.FS!==void 0?a.FS:",",c=o.charCodeAt(0),f=a.RS!==void 0?a.RS:`
`,h=f.charCodeAt(0),m=new RegExp((o=="|"?"\\|":o)+"+$"),g="",x=[];a.dense=Array.isArray(t);for(var y=a.skipHidden&&t["!cols"]||[],w=a.skipHidden&&t["!rows"]||[],S=s.s.c;S<=s.e.c;++S)(y[S]||{}).hidden||(x[S]=Lr(S));for(var _=0,b=s.s.r;b<=s.e.r;++b)(w[b]||{}).hidden||(g=iD(t,s,b,x,c,h,o,a),g!=null&&(a.strip&&(g=g.replace(m,"")),(g||a.blankrows!==!1)&&r.push((_++?f:"")+g)));return delete a.dense,r.join("")}function Db(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Cm(t,e);return r}function sD(t){var e="",r,a="";if(t==null||t["!ref"]==null)return[];var s=$t(t["!ref"]),o="",c=[],f,h=[],m=Array.isArray(t);for(f=s.s.c;f<=s.e.c;++f)c[f]=Lr(f);for(var g=s.s.r;g<=s.e.r;++g)for(o=Nr(g),f=s.s.c;f<=s.e.c;++f)if(e=c[f]+o,r=m?(t[g]||[])[f]:t[e],a="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;a=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}h[h.length]=e+"="+a}return h}function Mb(t,e,r){var a=r||{},s=+!a.skipHeader,o=t||{},c=0,f=0;if(o&&a.origin!=null)if(typeof a.origin=="number")c=a.origin;else{var h=typeof a.origin=="string"?yr(a.origin):a.origin;c=h.r,f=h.c}var m,g={s:{c:0,r:0},e:{c:f,r:c+e.length-1+s}};if(o["!ref"]){var x=$t(o["!ref"]);g.e.c=Math.max(g.e.c,x.e.c),g.e.r=Math.max(g.e.r,x.e.r),c==-1&&(c=x.e.r+1,g.e.r=c+e.length-1+s)}else c==-1&&(c=0,g.e.r=e.length-1+s);var y=a.header||[],w=0;e.forEach(function(_,b){Dr(_).forEach(function(k){(w=y.indexOf(k))==-1&&(y[w=y.length]=k);var R=_[k],T="z",L="",H=Nt({c:f+w,r:c+b+s});m=Go(o,H),R&&typeof R=="object"&&!(R instanceof Date)?o[H]=R:(typeof R=="number"?T="n":typeof R=="boolean"?T="b":typeof R=="string"?T="s":R instanceof Date?(T="d",a.cellDates||(T="n",R=an(R)),L=a.dateNF||Qt[14]):R===null&&a.nullError&&(T="e",R=0),m?(m.t=T,m.v=R,delete m.w,delete m.R,L&&(m.z=L)):o[H]=m={t:T,v:R},L&&(m.z=L))})}),g.e.c=Math.max(g.e.c,f+y.length-1);var S=Nr(c);if(s)for(w=0;w<y.length;++w)o[Lr(w+f)+S]={t:"s",v:y[w]};return o["!ref"]=dr(g),o}function lD(t,e){return Mb(null,t,e)}function Go(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var a=yr(e);return t[a.r]||(t[a.r]=[]),t[a.r][a.c]||(t[a.r][a.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Go(t,Nt(e)):Go(t,Nt({r:e,c:r||0}))}function oD(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function cD(){return{SheetNames:[],Sheets:{}}}function uD(t,e,r,a){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&t.SheetNames.indexOf(r)>=0){var o=r.match(/(^.*?)(\d+)$/);s=o&&+o[2]||0;var c=o&&o[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=c+s)!=-1;++s);}if(Sb(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function dD(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var a=oD(t,e);switch(t.Workbook.Sheets[a]||(t.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[a].Hidden=r}function fD(t,e){return t.z=e,t}function zb(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function hD(t,e,r){return zb(t,"#"+e,r)}function mD(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function pD(t,e,r,a){for(var s=typeof e!="string"?e:$t(e),o=typeof e=="string"?e:dr(e),c=s.s.r;c<=s.e.r;++c)for(var f=s.s.c;f<=s.e.c;++f){var h=Go(t,c,f);h.t="n",h.F=o,delete h.v,c==s.s.r&&f==s.s.c&&(h.f=r,a&&(h.D=!0))}return t}var vr={encode_col:Lr,encode_row:Nr,encode_cell:Nt,encode_range:dr,decode_col:xm,decode_row:vm,split_cell:Rj,decode_cell:yr,decode_range:wn,format_cell:$a,sheet_add_aoa:z2,sheet_add_json:Mb,sheet_add_dom:jb,aoa_to_sheet:Sl,json_to_sheet:lD,table_to_sheet:Cb,table_to_book:IN,sheet_to_csv:Cm,sheet_to_txt:Db,sheet_to_json:ud,sheet_to_html:Ab,sheet_to_formulae:sD,sheet_to_row_object_array:ud,sheet_get_cell:Go,book_new:cD,book_append_sheet:uD,book_set_sheet_visibility:dD,cell_set_number_format:fD,cell_set_hyperlink:zb,cell_set_internal_link:hD,cell_add_comment:mD,sheet_set_array_formula:pD,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const gD=[{key:"innovative",label:"novatif mi?"},{key:"lightweight",label:"Hafif mi?"},{key:"low_variation",label:"Varyasyonu Az m?"},{key:"problem_solving",label:"Sorun zyor mu?"},{key:"visual_sellable",label:"Gstererek Satlabilir mi?"}];function vD(){const{user:t}=Sn(),[e,r]=D.useState("classic"),[a,s]=D.useState([]),[o,c]=D.useState(!0),[f,h]=D.useState({}),[m,g]=D.useState([]),[x,y]=D.useState([]),[w,S]=D.useState(!1),[_,b]=D.useState([]),[k,R]=D.useState(0),[T,L]=D.useState(null),[H,Y]=D.useState(null),[A,I]=D.useState(!1),[G,te]=D.useState([]),[ee,ie]=D.useState(null),[ye,qe]=D.useState(null),[ce,J]=D.useState({x:0,y:0}),[me,Ce]=D.useState(!1),Fe=D.useRef(!1),[Q,j]=D.useState(null),[C,W]=D.useState([]),[N,U]=D.useState(null),[Z,he]=D.useState([]),[we,_e]=D.useState({}),[ke,Ge]=D.useState(null),[Ke,nt]=D.useState(!1),[De,at]=D.useState({supplier_name:"",contact_number:"",contact_email:"",supplier_link:"",price:"",additional_info:""}),st="panela_swipe_state_v1",Pe=F=>{const ne=[...F];for(let Te=ne.length-1;Te>0;Te--){const Se=Math.floor(Math.random()*(Te+1));[ne[Te],ne[Se]]=[ne[Se],ne[Te]]}return ne},[St,Gt]=D.useState({}),[kt,Br]=D.useState("all"),[En,ra]=D.useState(""),[xt,Bn]=D.useState(""),[Ir,In]=D.useState(""),[tr,ma]=D.useState(""),[Oe,Ur]=D.useState(null),[pa,Tn]=D.useState([]),[pr,Wr]=D.useState(!1),[Kt,ps]=D.useState(""),Vr=D.useRef(null);D.useEffect(()=>{t?.id&&(ga(),ln(),on(),se(),gs())},[t?.id]);const gs=async()=>{try{const{data:F,error:ne}=await Ae.from("discovered_products").select("id, proof_link, meta_link").not("proof_link","is",null).neq("proof_link","");if(ne){console.error("[Panela] Proof link migration error:",ne);return}if(!F||F.length===0)return;const Te=Ue=>!Ue||typeof Ue!="string"||!Ue.includes("facebook.com/ads/library")||Ue.includes("?id=")&&!Ue.includes("search_type=page")?!1:Ue.includes("search_type=page")&&Ue.includes("view_all_page_id"),Se=[];for(const Ue of F){const Qe=Ue.proof_link?.trim();Qe&&Te(Qe)&&(!Ue.meta_link||Ue.meta_link!==Qe?Se.push({id:Ue.id,meta_link:Qe,proof_link:null}):Se.push({id:Ue.id,proof_link:null}))}if(Se.length>0){console.log(`[Panela] ${Se.length} rn iin proof_link -> meta_link migration balatlyor...`);for(const Ue of Se){const{error:Qe}=await Ae.from("discovered_products").update({meta_link:Ue.meta_link||void 0,proof_link:Ue.proof_link}).eq("id",Ue.id);Qe&&console.error(`[Panela] Migration error for product ${Ue.id}:`,Qe)}console.log(`[Panela] Migration tamamland: ${Se.length} rn gncellendi`),await ln()}}catch(F){console.error("[Panela] Proof link migration error:",F)}};D.useEffect(()=>{Vr.current&&Oe?.notes&&(Vr.current.style.height="auto",Vr.current.style.height=`${Vr.current.scrollHeight}px`)},[Oe?.notes]),D.useEffect(()=>{if(Oe){const F=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${F}px`}else document.body.style.overflow="",document.body.style.paddingRight="";return()=>{document.body.style.overflow="",document.body.style.paddingRight=""}},[Oe]),D.useEffect(()=>{t?.id&&ln()},[kt,En,xt,Ir,tr,t?.id]);const ga=async()=>{try{const{data:F}=await Ae.from("app_users").select("id, username, full_name").order("username",{ascending:!0});F&&g(F)}catch(F){console.error("Error loading users:",F)}},ln=async()=>{c(!0);try{let F=Ae.from("discovered_products").select("*, app_users(id, username, full_name)").order("created_at",{ascending:!1});kt==="me"?F=F.eq("user_id",t.id):kt!=="all"&&(F=F.eq("user_id",kt)),En&&(F=F.gte("ad_count",parseInt(En)||0)),xt&&(F=F.lte("ad_count",parseInt(xt)||999999)),Ir&&(F=F.eq("country_code",Ir.toUpperCase())),tr&&(F=F.ilike("search_keyword",`%${tr}%`));const{data:ne,error:Te}=await F;if(Te)throw Te;s(ne||[])}catch(F){console.error("Error loading products:",F),s([])}finally{c(!1)}},on=async()=>{if(t?.id)try{const{data:F}=await Ae.from("product_comments").select("id, product_id"),{data:ne}=await Ae.from("comment_reads").select("comment_id").eq("user_id",t.id),Te=new Set(ne?.map(Ue=>Ue.comment_id)||[]),Se={};F&&F.forEach(Ue=>{Te.has(Ue.id)||(Se[Ue.product_id]=(Se[Ue.product_id]||0)+1)}),h(Se)}catch(F){console.error("Error loading unread counts:",F)}},Pr=async()=>{if(t?.id)try{const{data:F,error:ne}=await Ae.from("swipe_ready").select("user_id, ready_at, is_active, app_users(id, username, full_name)").eq("is_active",!0).order("ready_at",{ascending:!0});if(ne)throw ne;y(F||[]),S(!!F?.find(Te=>Te.user_id===t.id))}catch(F){console.error("Ready durum yklenemedi:",F)}},Wa=async()=>{if(t?.id)try{await Ae.from("swipe_ready").upsert({user_id:t.id,ready_at:new Date().toISOString(),is_active:!0}),await Pr()}catch(F){console.error("Hazr iareti eklenemedi:",F)}},na=async()=>{try{await Ae.from("swipe_ready").update({is_active:!1}),y([]),S(!1)}catch(F){console.error("Ready kaytlar temizlenemedi:",F),y([]),S(!1)}},[vs,Va]=D.useState(""),Ka=F=>{try{localStorage.setItem(st,JSON.stringify(F))}catch{}},Un=()=>{try{localStorage.removeItem(st)}catch{}},kl=F=>{if(!Fe.current){Fe.current=!0;try{const ne=localStorage.getItem(st);if(!ne)return;const Te=JSON.parse(ne);if(!Te?.sessionId||!Array.isArray(Te.queueIds))return;const Se=Te.queueIds.map(ze=>F.find(lt=>lt.id===ze)).filter(Boolean);if(!Se.length){Un();return}const Ue=Math.min(Te.index??0,Se.length);L(Te.sessionId),Y(Te.sessionCode||null),b(Se),R(Ue);const Qe=Ue>=Se.length;I(Qe),Qe&&(Un(),na()),J({x:0,y:0}),qe(null)}catch{}}},Oi=async()=>{try{const{data:F,error:ne}=await Ae.from("swipe_selections").select("session_code").not("session_code","is",null).order("created_at",{ascending:!1}).limit(1);if(ne)throw ne;const Te=F?.[0]?.session_code,Se=Te?parseInt(Te,10)+1:1;return String(Se).padStart(3,"0")}catch{return"001"}},Ya=async()=>{if(!t?.id)return;if(x.length<2){Va("ki kullanc da hazr olmal.");return}const F=crypto.randomUUID(),ne=await Oi(),Te=Pe(a);try{await Ae.from("swipe_selections").insert({session_id:F,session_code:ne,selected_by:t?.id||null,selected_products:[]})}catch(Se){console.error("Oturum kayd oluturulamad:",Se)}L(F),Y(ne),b(Te),R(0),I(!1),Va(""),Ka({sessionId:F,sessionCode:ne,queueIds:Te.map(Se=>Se.id),index:0})},xs=async(F,ne,Te,Se)=>{const{data:Ue}=await Ae.from("swipe_selections").select("selected_products").eq("session_id",F).single(),Qe=Ue?.selected_products||[],ze={product_id:Te,is_selected:Se,selected_at:new Date().toISOString()},lt=[...Qe,ze];Ue?await Ae.from("swipe_selections").update({selected_products:lt}).eq("session_id",F):await Ae.from("swipe_selections").insert({session_id:F,session_code:ne,selected_by:t?.id||null,selected_products:[ze]})},Xa=async F=>{if(!_.length||A)return;const ne=_[k],Te=F==="right";let Se=T,Ue=H;Se||(Se=crypto.randomUUID(),Ue=await Oi(),L(Se),Y(Ue)),qe(null),J({x:0,y:0});try{await xs(Se,Ue,ne.id,Te);const Qe=k+1;Qe>=_.length&&(await Ae.from("swipe_selections").update({finished_at:new Date().toISOString()}).eq("session_id",Se),I(!0),Un(),await na(),await va()),R(Qe),Ka({sessionId:Se,sessionCode:Ue,queueIds:_.map(lt=>lt.id),index:Qe})}catch(Qe){console.error("Swipe kaydedilemedi:",Qe),Va("Swipe kaydedilemedi, tekrar deneyin."),J({x:0,y:0})}},va=async()=>{try{const{data:F,error:ne}=await Ae.from("swipe_selections").select("session_id, session_code, created_at, finished_at, selected_products").order("created_at",{ascending:!1});if(ne)throw ne;const Te=(F||[]).map(Se=>{const Ue=Array.isArray(Se.selected_products)?Se.selected_products:[],Qe=Ue.filter(ze=>ze.is_selected).length;return{session_id:Se.session_id,session_code:Se.session_code,first_at:Se.created_at,total:Ue.length,selected:Qe}});te(Te)}catch(F){console.error("Gemi oturumlar yklenemedi:",F)}},O=async F=>{try{const{data:ne,error:Te}=await Ae.from("swipe_selections").select("selected_products").eq("session_id",F).single();if(Te)throw Te;const Ue=(Array.isArray(ne?.selected_products)?ne.selected_products:[]).filter(yt=>yt.is_selected).map(yt=>yt.product_id);if(Ue.length===0){W([]);return}const{data:Qe,error:ze}=await Ae.from("discovered_products").select("*").in("id",Ue);if(ze)throw ze;const lt=Qe||[];if(W(lt),U(null),he([]),lt.length>0){const yt=lt.map(Ze=>Ze.id),{data:ft,error:Ft}=await Ae.from("product_suppliers").select("*").in("product_id",yt);if(!Ft&&ft){he(ft);const Ze=ft.map(rr=>rr.id);if(Ze.length>0){const{data:rr,error:Al}=await Ae.from("supplier_ratings").select("*").in("supplier_id",Ze);if(!Al&&rr){const aa={};rr.forEach(ct=>{aa[ct.supplier_id]||(aa[ct.supplier_id]={}),aa[ct.supplier_id][ct.user_id]={rating:ct.rating,notes:ct.notes}}),_e(ct=>({...ct,...aa}))}}}}}catch(ne){console.error("rnler yklenemedi:",ne),W([])}},q=async F=>{try{const{data:ne,error:Te}=await Ae.from("product_suppliers").select("*").eq("product_id",F).order("created_at",{ascending:!1});if(Te)throw Te;he(Ue=>[...Ue.filter(ze=>ze.product_id!==F),...ne||[]]);const Se=(ne||[]).map(Ue=>Ue.id);if(Se.length>0){const{data:Ue,error:Qe}=await Ae.from("supplier_ratings").select("*").in("supplier_id",Se);if(!Qe&&Ue){const ze={};Ue.forEach(lt=>{ze[lt.supplier_id]||(ze[lt.supplier_id]={}),ze[lt.supplier_id][lt.user_id]={rating:lt.rating,notes:lt.notes}}),_e(lt=>({...lt,...ze}))}}}catch(ne){console.error("Tedarikiler yklenemedi:",ne)}},z=async(F,ne)=>{if(t?.id)try{const{error:Te}=await Ae.from("supplier_ratings").upsert({supplier_id:F,user_id:t.id,rating:ne,updated_at:new Date().toISOString()},{onConflict:"supplier_id,user_id"});if(Te)throw Te;_e(Se=>{const Ue={...Se};return Ue[F]||(Ue[F]={}),Ue[F][t.id]={rating:ne,notes:null},Ue})}catch(Te){console.error("Puanlama kaydedilemedi:",Te)}},B=async()=>{if(!(!N||!t?.id))try{const F={product_id:N.id,supplier_name:De.supplier_name||null,contact_number:De.contact_number||null,contact_email:De.contact_email||null,supplier_link:De.supplier_link||null,price:De.price||null,additional_info:De.additional_info||null,created_by:t.id,updated_at:new Date().toISOString()};if(ke){const{error:ne}=await Ae.from("product_suppliers").update(F).eq("id",ke.id);if(ne)throw ne}else{F.created_at=new Date().toISOString();const{data:ne,error:Te}=await Ae.from("product_suppliers").insert(F).select().single();if(Te)throw Te}await q(N.id),nt(!1),Ge(null),at({supplier_name:"",contact_number:"",contact_email:"",supplier_link:"",price:"",additional_info:""})}catch(F){console.error("Tedariki kaydedilemedi:",F),alert("Tedariki kaydedilemedi, tekrar deneyin.")}},P=async F=>{if(confirm("Bu tedarikiyi silmek istediinize emin misiniz?"))try{const{error:ne}=await Ae.from("product_suppliers").delete().eq("id",F);if(ne)throw ne;he(Te=>Te.filter(Se=>Se.id!==F)),_e(Te=>{const Se={...Te};return delete Se[F],Se})}catch(ne){console.error("Tedariki silinemedi:",ne),alert("Tedariki silinemedi, tekrar deneyin.")}},V=async F=>{try{ie(F);const{data:ne,error:Te}=await Ae.from("swipe_selections").select("selected_products").eq("session_id",F).single();if(Te)throw Te;const Ue=(Array.isArray(ne?.selected_products)?ne.selected_products:[]).filter(ct=>ct.is_selected).map(ct=>ct.product_id);if(!Ue.length){alert("Bu oturumda seili rn yok."),ie(null);return}const{data:Qe,error:ze}=await Ae.from("discovered_products").select("*").in("id",Ue);if(ze)throw ze;const lt=Qe||[];if(!lt.length){alert("Bu oturumda seili rn yok."),ie(null);return}const ft=[...lt].sort((ct,br)=>{const Ut=new Date(ct.created_at||0);return new Date(br.created_at||0)-Ut}).map(ct=>{const br=ct.image_url||"",Ut=ct.created_at?new Date(ct.created_at).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return{Ad:ct.product_name||"","Sat Sayfas":br,"Meta Linki":ct.meta_link||"","Reklam Says":ct.ad_count??"","rn Fiyat":"","Eklenme Tarihi":Ut}}),Ft=vr.book_new(),Ze=vr.json_to_sheet(ft),rr=vr.decode_range(Ze["!ref"]||"A1");for(let ct=1;ct<=rr.e.r;ct++){const br=vr.encode_cell({r:ct,c:1}),Ut=Ze[br];Ut&&Ut.v&&typeof Ut.v=="string"&&Ut.v.startsWith("http")&&(Ut.l={Target:Ut.v,Tooltip:Ut.v})}for(let ct=1;ct<=rr.e.r;ct++){const br=vr.encode_cell({r:ct,c:2}),Ut=Ze[br];Ut&&Ut.v&&typeof Ut.v=="string"&&Ut.v.startsWith("http")&&(Ut.l={Target:Ut.v,Tooltip:Ut.v})}Ze["!cols"]=[{wch:45},{wch:60},{wch:75},{wch:22},{wch:22},{wch:20}];const Al=vr.decode_range(Ze["!ref"]||"A1");for(let ct=0;ct<=Al.e.c;ct++){const br=vr.encode_cell({r:0,c:ct});Ze[br]&&(Ze[br].s={font:{bold:!0},fill:{fgColor:{rgb:"E7E6E6"}}})}for(let ct=1;ct<=rr.e.r;ct++){const br=ct%2===1;for(let Ut=0;Ut<=rr.e.c;Ut++){const nr=vr.encode_cell({r:ct,c:Ut});Ze[nr]||(Ze[nr]={t:"s",v:""}),Ze[nr].s||(Ze[nr].s={}),br?Ze[nr].s.fill={patternType:"solid",fgColor:{rgb:"E3F2FD"}}:Ze[nr].s.fill={patternType:"solid",fgColor:{rgb:"FFFFFF"}}}}vr.book_append_sheet(Ft,Ze,"Seilenler");const aa=new Date().toISOString().split("T")[0];Qx(Ft,`panela-swipe-${F}-${aa}.xlsx`)}catch(ne){console.error("Excel export hatas:",ne),alert("Excel indirilemedi.")}finally{ie(null)}};D.useEffect(()=>{e==="swipe"&&t?.id&&(Pr(),va()),e==="suppliers"&&t?.id&&va()},[e,t?.id]),D.useEffect(()=>{e==="swipe"&&!o&&a.length>0&&kl(a)},[e,o,a]);const se=async()=>{if(t?.id)try{const{data:F,error:ne}=await Ae.from("product_views").select("product_id, first_seen_at").eq("user_id",t.id);if(ne)throw ne;const Te={};F&&F.forEach(Se=>{Te[Se.product_id]=Se.first_seen_at}),Gt(Te)}catch(F){console.error("Error loading product views:",F)}},ve=async F=>{if(!(!t?.id||!F)&&!St[F])try{const{data:ne,error:Te}=await Ae.from("product_views").insert({product_id:F,user_id:t.id,first_seen_at:new Date().toISOString()}).select("first_seen_at").single();if(Te){if(Te.code==="23505"){await se();return}throw Te}Gt(Se=>({...Se,[F]:ne.first_seen_at}))}catch(ne){console.error("Error marking product as seen:",ne)}},oe=async(F,ne)=>{Ur(F),await ue(F.id),await on(),F.user_id!==t?.id&&await ve(F.id)},ue=async F=>{Wr(!0);try{const{data:ne,error:Te}=await Ae.from("product_comments").select("id, user_id, content, created_at, app_users(id, username, full_name)").eq("product_id",F).order("created_at",{ascending:!0});if(Te)throw Te;if(Tn(ne||[]),ne&&ne.length>0&&t?.id){const Se=ne.map(Ue=>({comment_id:Ue.id,user_id:t.id,seen_at:new Date().toISOString()}));await Ae.from("comment_reads").upsert(Se,{onConflict:"comment_id,user_id"}),h(Ue=>({...Ue,[F]:0}))}}catch(ne){console.error("Error loading comments:",ne)}finally{Wr(!1)}},de=async()=>{if(!(!Kt.trim()||!Oe))try{const{error:F}=await Ae.from("product_comments").insert({product_id:Oe.id,user_id:t.id,content:Kt.trim()});if(F)throw F;ps(""),await ue(Oe.id),await on()}catch(F){console.error("Error adding comment:",F),alert("Yorum eklenirken hata olutu")}},Re=async F=>{if(!(!Oe||Oe.user_id!==t?.id))try{const{error:ne}=await Ae.from("discovered_products").update(F).eq("id",Oe.id).eq("user_id",t.id);if(ne)throw ne;await ln();const Te=(await Ae.from("discovered_products").select("*, app_users(id, username, full_name)").eq("id",Oe.id).single()).data;Ur(Te||null)}catch(ne){console.error("Error updating product:",ne),alert("rn gncellenemedi")}},Me=async()=>{if(!(!Oe||Oe.user_id!==t?.id)&&confirm("Bu rn silmek istediine emin misin?"))try{const{data:F}=await Ae.from("product_comments").select("id").eq("product_id",Oe.id),ne=(F||[]).map(Se=>Se.id);ne.length>0&&await Ae.from("comment_reads").delete().in("comment_id",ne),await Ae.from("product_comments").delete().eq("product_id",Oe.id);const{error:Te}=await Ae.from("discovered_products").delete().eq("id",Oe.id).eq("user_id",t.id);if(Te)throw Te;Ur(null),await ln(),await on()}catch(F){console.error("Error deleting product:",F),alert("rn silinemedi")}},$e=()=>{try{if(a.length===0){alert("Export edilecek rn bulunamad");return}const ne=[...a].sort((ft,Ft)=>{const Ze=new Date(ft.created_at||0);return new Date(Ft.created_at||0)-Ze}).map(ft=>{const Ft=ft.image_url||"",Ze=ft.created_at?new Date(ft.created_at).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return{Ad:ft.product_name||"","Sat Sayfas":Ft,"Meta Linki":ft.meta_link||"","Reklam Says":ft.ad_count??"","rn Fiyat":"","Eklenme Tarihi":Ze}}),Te=vr.book_new(),Se=vr.json_to_sheet(ne),Ue=vr.decode_range(Se["!ref"]||"A1");for(let ft=1;ft<=Ue.e.r;ft++){const Ft=vr.encode_cell({r:ft,c:1}),Ze=Se[Ft];Ze&&Ze.v&&typeof Ze.v=="string"&&Ze.v.startsWith("http")&&(Ze.l={Target:Ze.v,Tooltip:Ze.v})}for(let ft=1;ft<=Ue.e.r;ft++){const Ft=vr.encode_cell({r:ft,c:2}),Ze=Se[Ft];Ze&&Ze.v&&typeof Ze.v=="string"&&Ze.v.startsWith("http")&&(Ze.l={Target:Ze.v,Tooltip:Ze.v})}Se["!cols"]=[{wch:45},{wch:60},{wch:75},{wch:22},{wch:22},{wch:20}];const Qe=vr.decode_range(Se["!ref"]||"A1");for(let ft=0;ft<=Qe.e.c;ft++){const Ft=vr.encode_cell({r:0,c:ft});Se[Ft]&&(Se[Ft].s={font:{bold:!0},fill:{fgColor:{rgb:"E7E6E6"}}})}for(let ft=1;ft<=Ue.e.r;ft++){const Ft=ft%2===1;for(let Ze=0;Ze<=Ue.e.c;Ze++){const rr=vr.encode_cell({r:ft,c:Ze});Se[rr]||(Se[rr]={t:"s",v:""}),Se[rr].s||(Se[rr].s={}),Ft?Se[rr].s.fill={patternType:"solid",fgColor:{rgb:"E3F2FD"}}:Se[rr].s.fill={patternType:"solid",fgColor:{rgb:"FFFFFF"}}}}vr.book_append_sheet(Te,Se,"rnler");const yt=`panela-urunler-${new Date().toISOString().split("T")[0]}.xlsx`;Qx(Te,yt),console.log(`Excel dosyas oluturuldu: ${yt}, ${ne.length} rn export edildi`)}catch(F){console.error("Excel export hatas:",F),alert("Excel dosyas oluturulurken hata olutu: "+F.message)}},Ne=()=>{if(!Oe)return null;const F=Oe.user_id===t?.id,ne=Oe.app_users||{},Te=Oe.created_at?new Date(Oe.created_at).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",Se=(ze,lt)=>{F&&(Ur(yt=>({...yt,[ze]:lt})),ze==="notes"&&Vr.current&&(Vr.current.style.height="auto",Vr.current.style.height=`${Vr.current.scrollHeight}px`))},Ue=async()=>{F&&await Re({product_name:Oe.product_name||null,meta_link:Oe.meta_link||null,proof_link:Oe.proof_link||null,trendyol_link:Oe.trendyol_link||null,amazon_link:Oe.amazon_link||null,image_url:Oe.image_url||null,ad_count:Oe.ad_count??null,country_code:Oe.country_code||null,search_keyword:Oe.search_keyword||null,notes:Oe.notes||null,scores:Oe.scores,potential_score:Oe.potential_score})},Qe=async ze=>{if(!(!ze||!ze.trim()))try{await navigator.clipboard.writeText(ze.trim()),window.open(ze.trim(),"_blank","noopener,noreferrer"),console.log("Link kopyaland ve ald:",ze.trim())}catch(lt){console.error("Link kopyalama/ama hatas:",lt),window.open(ze.trim(),"_blank","noopener,noreferrer")}};return dh.createPortal(u.jsxs("div",{className:"product-modal-overlay",onClick:async()=>{Ur(null),await on()},children:[u.jsxs("div",{className:"product-modal-container",onClick:ze=>ze.stopPropagation(),children:[u.jsxs("div",{style:{padding:"1.5rem",borderRight:"1px solid var(--color-border)",display:"flex",flexDirection:"column",gap:"1rem",overflowY:"auto",overflowX:"hidden",minHeight:0,height:"100%"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{children:[u.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:["Ekleyen: ",ne.username||ne.full_name||"Bilinmeyen"]}),St[Oe.id]&&u.jsxs("div",{style:{fontSize:"11px",color:"var(--color-primary)",marginTop:"0.25rem",fontWeight:"500"},children:["lk grld: ",new Date(St[Oe.id]).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),Te&&u.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:["Eklenme: ",Te]}),u.jsx("h3",{style:{margin:"0.25rem 0",fontSize:"18px"},children:Oe.product_name||"simsiz rn"})]}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[F&&u.jsxs("button",{onClick:Me,style:{border:"1px solid var(--color-error)",color:"var(--color-error)",background:"white",borderRadius:"10px",padding:"0.4rem 0.7rem",display:"flex",alignItems:"center",gap:"0.35rem",fontWeight:"600"},children:[u.jsx(ki,{size:14}),"Sil"]}),u.jsx("button",{onClick:async()=>{Ur(null),await on()},style:{border:"1px solid var(--color-border)",background:"white",borderRadius:"10px",padding:"0.4rem 0.7rem",fontWeight:"600"},children:"Kapat"})]})]}),(Oe.meta_link||Oe.image_url||Oe.trendyol_link||Oe.amazon_link)&&u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",fontSize:"12px",padding:"0.75rem",background:"var(--color-background)",borderRadius:"10px",border:"1px solid var(--color-border)"},children:[Oe.meta_link&&u.jsxs("a",{href:Oe.meta_link,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none",fontWeight:"600"},children:[u.jsx(Xn,{size:14}),"Meta"]}),Oe.image_url&&u.jsxs("a",{href:Oe.image_url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none",fontWeight:"600"},children:[u.jsx(Xn,{size:14}),"rn Sat Linki"]}),Oe.trendyol_link&&u.jsxs("a",{href:Oe.trendyol_link,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none",fontWeight:"600"},children:[u.jsx(Xn,{size:14}),"Trendyol"]}),Oe.amazon_link&&u.jsxs("a",{href:Oe.amazon_link,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none",fontWeight:"600"},children:[u.jsx(Xn,{size:14}),"Amazon"]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsxs("label",{onClick:()=>Qe(Oe.meta_link),style:{fontSize:"12px",color:Oe.meta_link?"var(--color-primary)":"var(--color-text-muted)",cursor:Oe.meta_link?"pointer":"default",textDecoration:Oe.meta_link?"underline":"none",userSelect:"none"},title:Oe.meta_link?"Tkla: Linki kopyala ve a":"",children:["Meta Link ",Oe.meta_link&&""]}),u.jsx("input",{type:"text",value:Oe.meta_link||"",onChange:ze=>Se("meta_link",ze.target.value),disabled:!F,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsxs("div",{children:[u.jsxs("label",{onClick:()=>Qe(Oe.image_url),style:{fontSize:"12px",color:Oe.image_url?"var(--color-primary)":"var(--color-text-muted)",cursor:Oe.image_url?"pointer":"default",textDecoration:Oe.image_url?"underline":"none",userSelect:"none"},title:Oe.image_url?"Tkla: Linki kopyala ve a":"",children:["rn Sat Linki (Grsel URL) ",Oe.image_url&&""]}),u.jsx("input",{type:"text",value:Oe.image_url||"",onChange:ze=>Se("image_url",ze.target.value),disabled:!F,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsxs("div",{children:[u.jsxs("label",{onClick:()=>Qe(Oe.trendyol_link),style:{fontSize:"12px",color:Oe.trendyol_link?"var(--color-primary)":"var(--color-text-muted)",cursor:Oe.trendyol_link?"pointer":"default",textDecoration:Oe.trendyol_link?"underline":"none",userSelect:"none"},title:Oe.trendyol_link?"Tkla: Linki kopyala ve a":"",children:["Trendyol Link ",Oe.trendyol_link&&""]}),u.jsx("input",{type:"text",value:Oe.trendyol_link||"",onChange:ze=>Se("trendyol_link",ze.target.value),disabled:!F,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsxs("div",{children:[u.jsxs("label",{onClick:()=>Qe(Oe.amazon_link),style:{fontSize:"12px",color:Oe.amazon_link?"var(--color-primary)":"var(--color-text-muted)",cursor:Oe.amazon_link?"pointer":"default",textDecoration:Oe.amazon_link?"underline":"none",userSelect:"none"},title:Oe.amazon_link?"Tkla: Linki kopyala ve a":"",children:["Amazon Link ",Oe.amazon_link&&""]}),u.jsx("input",{type:"text",value:Oe.amazon_link||"",onChange:ze=>Se("amazon_link",ze.target.value),disabled:!F,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Reklam Says"}),u.jsx("input",{type:"number",value:Oe.ad_count??"",onChange:ze=>Se("ad_count",ze.target.value),disabled:!F,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"lke Kodu (US/CA/GB/AU/NZ)"}),u.jsx("input",{type:"text",value:Oe.country_code||"",onChange:ze=>Se("country_code",ze.target.value),disabled:!F,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Anahtar Kelime"}),u.jsx("input",{type:"text",value:Oe.search_keyword||"",onChange:ze=>Se("search_keyword",ze.target.value),disabled:!F,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]})]}),u.jsxs("div",{children:[u.jsxs("label",{onClick:()=>Qe(Oe.proof_link),style:{fontSize:"12px",color:Oe.proof_link?"var(--color-primary)":"var(--color-text-muted)",cursor:Oe.proof_link?"pointer":"default",textDecoration:Oe.proof_link?"underline":"none",userSelect:"none"},title:Oe.proof_link?"Tkla: Linki kopyala ve a":"",children:["Meta Linki (Kant) ",Oe.proof_link&&""]}),u.jsx("input",{type:"text",value:Oe.proof_link||"",onChange:ze=>Se("proof_link",ze.target.value),disabled:!F,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:gD.map(ze=>{const lt=Oe.scores&&Oe.scores[ze.key]||0;return u.jsx(Z_,{label:ze.label,value:lt,disabled:!0},ze.key)})}),u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Not"}),u.jsx("textarea",{ref:Vr,value:Oe.notes||"",onChange:ze=>Se("notes",ze.target.value),disabled:!F,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px",resize:"none",minHeight:"60px",overflow:"hidden",lineHeight:"1.5"},onInput:ze=>{ze.target.style.height="auto",ze.target.style.height=`${ze.target.scrollHeight}px`}})]}),F&&u.jsx("div",{children:u.jsx("button",{onClick:Ue,style:{padding:"0.6rem 1rem",background:"linear-gradient(135deg, var(--color-primary), var(--color-accent))",color:"white",borderRadius:"12px",fontWeight:"700",border:"none",width:"100%"},children:"Gncelle"})})]}),u.jsxs("div",{style:{padding:"1.5rem",display:"flex",flexDirection:"column",minHeight:0,height:"100%",overflow:"hidden"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",flexShrink:0},children:[u.jsx(q_,{size:16,color:"var(--color-primary)"}),u.jsx("span",{style:{fontWeight:"700"},children:"Yorumlar"})]}),u.jsx("div",{style:{flex:1,overflowY:"auto",border:"1px solid var(--color-border)",borderRadius:"10px",padding:"0.75rem",marginBottom:"0.75rem",background:"var(--color-background)",minHeight:0},children:pr?u.jsx("div",{style:{textAlign:"center",color:"var(--color-text-muted)"},children:"Ykleniyor..."}):pa.length===0?u.jsx("div",{style:{textAlign:"center",color:"var(--color-text-muted)"},children:"Henz yorum yok"}):pa.map(ze=>{const lt=ze.app_users||{};return u.jsxs("div",{style:{padding:"0.65rem",borderRadius:"8px",background:"white",marginBottom:"0.5rem",border:"1px solid var(--color-border)"},children:[u.jsx("div",{style:{fontSize:"13px",fontWeight:"700"},children:lt.username||lt.full_name||"Bilinmeyen"}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:new Date(ze.created_at).toLocaleString("tr-TR")}),u.jsx("div",{style:{marginTop:"0.35rem",fontSize:"13px"},children:ze.content})]},ze.id)})}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexShrink:0},children:[u.jsx("input",{type:"text",value:Kt,onChange:ze=>ps(ze.target.value),placeholder:"Yorum yaz...",style:{flex:1,padding:"0.65rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"10px"},onKeyPress:ze=>ze.key==="Enter"&&de()}),u.jsx("button",{onClick:de,disabled:!Kt.trim(),style:{padding:"0.65rem 1rem",background:"linear-gradient(135deg, var(--color-primary), var(--color-accent))",color:"white",borderRadius:"10px",border:"none",fontWeight:"700",opacity:Kt.trim()?1:.5,cursor:Kt.trim()?"pointer":"not-allowed"},children:"Gnder"})]})]})]}),u.jsx("style",{children:`
          .product-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 99999;
            animation: fadeIn 0.3s ease-out;
          }
          
          .product-modal-container {
            position: relative;
            background: white;
            border-radius: 16px;
            width: min(95vw, 1000px);
            max-width: 1000px;
            height: min(85vh, 700px);
            max-height: 85vh;
            overflow: hidden;
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            box-shadow: 0 25px 80px -12px rgba(0, 0, 0, 0.4);
            pointer-events: auto;
            animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
          }
          
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          
          @keyframes slideUp {
            from { transform: translateY(20px) scale(0.98); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
          }
          
          @media (max-width: 768px) {
            .product-modal-container {
              grid-template-columns: 1fr;
              grid-template-rows: auto auto;
              height: min(90vh, 600px);
              max-height: 90vh;
              width: min(95vw, 100%);
            }
            .product-modal-container > div:first-child {
              border-right: none;
              border-bottom: 1px solid var(--color-border);
              max-height: 50%;
            }
            .product-modal-container > div:last-child {
              max-height: 50%;
            }
          }
        `})]}),document.body)},Ie=kt!=="all"||En||xt||Ir||tr,Ye=D.useMemo(()=>{const F=new Set;return a.forEach(ne=>{ne.country_code&&F.add(ne.country_code)}),Array.from(F).sort()},[a]);return u.jsxs("div",{className:"page-container fade-in",children:[u.jsxs("div",{style:{maxWidth:"1600px",margin:"0 auto",padding:"0 1rem"},children:[u.jsx("div",{className:"page-head",style:{marginBottom:"2rem"},children:u.jsxs("div",{children:[u.jsx("div",{className:"eyebrow",children:"Meta Ads Discovery Hub"}),u.jsx("h1",{style:{margin:"0.5rem 0",fontSize:"2rem",fontWeight:"700"},children:"Hzl rn Aratrma Merkezi"}),u.jsx("p",{style:{margin:"0.5rem 0 0",color:"var(--color-text-muted)",fontSize:"0.95rem"},children:`"Vur-Ka" taktii ile Meta Ads Library'de seri retim aratrma yap. Anahtar kelimeler ve lkeler ile hzlca link olutur, bulduun rnleri annda analiz et ve kaydet.`})]})}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1rem"},children:[u.jsxs("button",{onClick:()=>r("classic"),className:"primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1rem",background:e==="classic"?"linear-gradient(135deg, var(--color-primary), var(--color-accent))":"white",color:e==="classic"?"white":"var(--color-text-main)",border:e==="classic"?"none":"1px solid var(--color-border)",borderRadius:"var(--radius-md)",boxShadow:e==="classic"?"var(--shadow-glow)":"none"},children:[u.jsx(Q_,{size:16}),"Hzl Balatc"]}),u.jsxs("button",{onClick:()=>r("products"),className:"primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1rem",background:e==="products"?"linear-gradient(135deg, #10b981, #059669)":"white",color:e==="products"?"white":"var(--color-text-main)",border:e==="products"?"none":"1px solid var(--color-border)",borderRadius:"var(--radius-md)",boxShadow:e==="products"?"var(--shadow-glow)":"none"},children:[u.jsx(Lo,{size:16}),"rnler"]}),u.jsxs("button",{onClick:()=>r("swipe"),className:"primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1rem",background:e==="swipe"?"linear-gradient(135deg, #a855f7, #6366f1)":"white",color:e==="swipe"?"white":"var(--color-text-main)",border:e==="swipe"?"none":"1px solid var(--color-border)",borderRadius:"var(--radius-md)",boxShadow:e==="swipe"?"var(--shadow-glow)":"none"},children:[u.jsx(cx,{size:16}),"Eleme"]}),u.jsxs("button",{onClick:()=>r("suppliers"),className:"primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1rem",background:e==="suppliers"?"linear-gradient(135deg, #f59e0b, #ef4444)":"white",color:e==="suppliers"?"white":"var(--color-text-main)",border:e==="suppliers"?"none":"1px solid var(--color-border)",borderRadius:"var(--radius-md)",boxShadow:e==="suppliers"?"var(--shadow-glow)":"none"},children:[u.jsx(Q0,{size:16}),"Tedariki"]}),u.jsxs("button",{onClick:()=>r("auto"),className:"primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1rem",background:e==="auto"?"linear-gradient(135deg, #0ea5e9, #6366f1)":"white",color:e==="auto"?"white":"var(--color-text-main)",border:e==="auto"?"none":"1px solid var(--color-border)",borderRadius:"var(--radius-md)",boxShadow:e==="auto"?"var(--shadow-glow)":"none"},children:[u.jsx(V_,{size:16}),"Otomatik Meta Tarayc"]})]}),e==="products"?u.jsxs("div",{children:[u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",marginBottom:"1rem",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[u.jsx(H_,{size:16,color:"var(--color-primary)"}),u.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:"Filtrele"}),u.jsxs("button",{onClick:$e,disabled:a.length===0,style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1rem",background:a.length===0?"#94a3b8":"#107C41",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",fontSize:"13px",cursor:a.length===0?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:a.length===0?"none":"0 2px 8px rgba(16, 124, 65, 0.2)"},onMouseEnter:F=>{a.length>0&&(F.target.style.background="#059669",F.target.style.transform="translateY(-1px)",F.target.style.boxShadow="0 4px 12px rgba(16, 124, 65, 0.3)")},onMouseLeave:F=>{a.length>0&&(F.target.style.background="#107C41",F.target.style.transform="translateY(0)",F.target.style.boxShadow="0 2px 8px rgba(16, 124, 65, 0.2)")},children:[u.jsx(T5,{size:16}),"Excel'e Aktar"]}),Ie&&u.jsxs("button",{onClick:()=>{Br("all"),ra(""),Bn(""),In(""),ma("")},style:{display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.35rem 0.65rem",background:"rgba(239, 68, 68, 0.1)",color:"var(--color-error)",border:"1px solid var(--color-error)",borderRadius:"var(--radius-sm)",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:[u.jsx(ea,{size:12}),"Temizle"]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"rnleri Bulan"}),u.jsxs("select",{value:kt,onChange:F=>Br(F.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",background:"white",fontSize:"13px",cursor:"pointer"},children:[u.jsx("option",{value:"all",children:"Tm Kullanclar"}),u.jsx("option",{value:"me",children:"Sadece Benim"}),m.filter(F=>F.id!==t?.id).map(F=>u.jsx("option",{value:F.id,children:F.username||F.full_name||"Bilinmeyen"},F.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Reklam Says (Min)"}),u.jsx("input",{type:"number",value:En,onChange:F=>ra(F.target.value),placeholder:"0",min:"0",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Reklam Says (Max)"}),u.jsx("input",{type:"number",value:xt,onChange:F=>Bn(F.target.value),placeholder:"999",min:"0",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"lke Kodu"}),u.jsxs("select",{value:Ir,onChange:F=>In(F.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",background:"white",fontSize:"13px",cursor:"pointer"},children:[u.jsx("option",{value:"",children:"Tm lkeler"}),Ye.map(F=>u.jsx("option",{value:F,children:F},F))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Anahtar Kelime"}),u.jsx("input",{type:"text",value:tr,onChange:F=>ma(F.target.value),placeholder:"Ara...",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]})]})]}),o?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Ykleniyor..."}):a.length===0?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:Ie?"Filtrelere uygun rn bulunamad":"Henz rn eklenmedi"}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:a.map(F=>{const ne=F.user_id!==t?.id&&!St[F.id],Te=St[F.id]||null;return u.jsx(A3,{product:F,onEdit:()=>oe(F),currentUserId:t?.id,unreadCount:f[F.id]||0,isNew:ne,firstSeenAt:Te},F.id)})})]}):e==="swipe"?u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx(is,{size:18,color:"var(--color-primary)"}),u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:700},children:"Eleme / Swipe Hazrlk"}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:'ki kullanc da "Hazrm" dedikten sonra swipe balayabilir. Sayfay yenileyerek kar tarafn durumunu grrsnz.'})]})]}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[u.jsx("button",{onClick:Wa,disabled:w,style:{padding:"0.6rem 1rem",background:w?"#94a3b8":"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:700,cursor:w?"not-allowed":"pointer",boxShadow:"0 4px 14px rgba(16, 185, 129, 0.25)"},children:w?"Hazrsn":"Hazrm"}),u.jsx("button",{onClick:Ya,disabled:x.length<2||a.length===0,style:{padding:"0.6rem 1rem",background:x.length<2?"#cbd5e1":"linear-gradient(135deg, #a855f7, #6366f1)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:700,cursor:x.length<2?"not-allowed":"pointer",boxShadow:x.length<2?"none":"0 4px 14px rgba(99, 102, 241, 0.25)"},children:"Swipe'i Balat"})]}),u.jsxs("div",{style:{padding:"0.75rem",border:"1px dashed var(--color-border)",borderRadius:"12px",background:"var(--color-background)"},children:[u.jsx("div",{style:{fontWeight:700,marginBottom:"0.35rem"},children:"Hazr Olanlar"}),x.length===0?u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Henz kimse hazr deil."}):u.jsx("div",{style:{display:"flex",gap:"0.35rem",flexWrap:"wrap"},children:x.map(F=>u.jsx("span",{style:{padding:"0.35rem 0.55rem",borderRadius:"999px",background:"rgba(99,102,241,0.08)",color:"var(--color-primary)",fontSize:"12px",fontWeight:700},children:F.app_users?.username||F.app_users?.full_name||F.user_id.slice(0,6)},F.user_id))})]}),vs&&u.jsx("div",{style:{fontSize:"12px",color:"var(--color-error)",fontWeight:600},children:vs}),u.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",border:"1px solid var(--color-border)",borderRadius:"12px",background:"white",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[u.jsx("div",{style:{fontWeight:700},children:"Gemi Oturumlar"}),G.length===0&&u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Henz kaytl oturum yok."}),G.map(F=>u.jsxs("div",{style:{border:"1px solid var(--color-border)",borderRadius:"10px",padding:"0.65rem 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsxs("div",{style:{fontWeight:700},children:["Oturum: ",F.session_code||F.session_id?.slice(0,6)||"-"]}),u.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:["Tarih: ",F.first_at?new Date(F.first_at).toLocaleString("tr-TR"):"-"]}),u.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:["Seilen: ",F.selected," / ",F.total]})]}),u.jsx("button",{onClick:()=>V(F.session_id),disabled:ee===F.session_id,style:{padding:"0.5rem 0.75rem",background:"#107C41",color:"white",border:"none",borderRadius:"10px",fontWeight:700,cursor:ee===F.session_id?"wait":"pointer"},children:ee===F.session_id?"ndiriliyor...":"Excel ndir"})]},F.session_id))]})]}),u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",minHeight:"540px",display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx(cx,{size:18,color:"var(--color-primary)"}),u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:700},children:"Swipe Alan"}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Sola: Pas | Saa: Se"})]}),u.jsx("div",{style:{marginLeft:"auto",fontSize:"12px",color:"var(--color-text-muted)"},children:_.length>0?`${Math.min(k+1,_.length)} / ${_.length}`:""})]}),(!_.length||k>=_.length)&&!A&&u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Swipe iin balat butonuna basn. rnler rastgele sralanr. (Kst: iki kullanc hazr olmal)"}),_.length>0&&k<_.length&&(()=>{const F=_[k],ne=_[k+1],Te=ce.x/15,Se=Math.max(-1,Math.min(1,ce.x/200)),Ue=Se>0?`rgba(34,197,94,${Math.min(Math.abs(Se)*.25,.25)})`:`rgba(239,68,68,${Math.min(Math.abs(Se)*.25,.25)})`;return u.jsxs("div",{style:{position:"relative",minHeight:"420px"},children:[ne&&u.jsxs("div",{style:{position:"absolute",inset:0,border:"1px solid var(--color-border)",borderRadius:"16px",padding:"1rem",background:"linear-gradient(135deg, rgba(248,250,252,0.8), rgba(255,255,255,0.95))",boxShadow:"0 4px 16px rgba(0,0,0,0.06)",transform:"scale(0.96) translateY(12px)",opacity:.9,pointerEvents:"none",overflow:"hidden"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("h3",{style:{margin:0,fontSize:"16px"},children:ne.product_name||"simsiz rn"}),ne.ad_count>30&&u.jsx("span",{style:{padding:"0.2rem 0.5rem",background:"rgba(16,185,129,0.1)",color:"var(--color-success)",borderRadius:"8px",fontSize:"12px",fontWeight:700},children:" Markalama"})]}),u.jsxs("div",{style:{display:"flex",gap:"0.4rem",flexWrap:"wrap",fontSize:"12px",color:"var(--color-text-muted)",marginTop:"0.25rem"},children:[ne.country_code&&u.jsx("span",{style:{padding:"0.25rem 0.4rem",background:"rgba(59,130,246,0.08)",borderRadius:"8px"},children:ne.country_code}),ne.search_keyword&&u.jsx("span",{style:{padding:"0.25rem 0.4rem",background:"rgba(16,185,129,0.08)",borderRadius:"8px"},children:ne.search_keyword}),u.jsxs("span",{children:["Reklam: ",ne.ad_count??"-"]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"13px",marginTop:"0.4rem"},children:[ne.meta_link&&u.jsx("a",{href:ne.meta_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Meta Link"}),ne.image_url&&u.jsx("a",{href:ne.image_url.startsWith("http")?ne.image_url:`https://${ne.image_url}`,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Sat Linki"}),ne.trendyol_link&&u.jsx("a",{href:ne.trendyol_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Trendyol"}),ne.amazon_link&&u.jsx("a",{href:ne.amazon_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Amazon"})]}),ne.notes&&u.jsx("div",{style:{fontSize:"13px",color:"var(--color-text-muted)",background:"rgba(148,163,184,0.12)",padding:"0.65rem",borderRadius:"10px",userSelect:"none",marginTop:"0.4rem"},children:ne.notes})]}),u.jsxs("div",{style:{position:"absolute",inset:0,border:"1px solid var(--color-border)",borderRadius:"16px",padding:"1rem",boxShadow:"0 8px 24px rgba(0,0,0,0.08)",display:"flex",flexDirection:"column",gap:"0.75rem",background:"linear-gradient(135deg, rgba(248,250,252,0.9), rgba(255,255,255,0.98))",transform:`translateX(${ce.x}px) translateY(${ce.y}px) rotate(${Te}deg)`,transition:ye?"none":"transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease",userSelect:"none",touchAction:"none",overflow:"hidden"},onPointerDown:Qe=>{me||(Qe.target?.tagName||"").toLowerCase()==="a"||Qe.target?.closest("a")||(qe({x:Qe.clientX,y:Qe.clientY}),J({x:0,y:0}))},onPointerMove:Qe=>{me||ye&&J({x:Qe.clientX-ye.x,y:Qe.clientY-ye.y})},onPointerUp:Qe=>{if(!ye)return;const ze=Qe.clientX-ye.x,lt=80;ze>lt?Xa("right"):ze<-lt?Xa("left"):J({x:0,y:0}),qe(null)},onPointerLeave:()=>{ye&&(J({x:0,y:0}),qe(null))},children:[u.jsx("div",{style:{position:"absolute",inset:0,background:Ue,pointerEvents:"none",transition:"background 0.2s ease"}}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",position:"relative"},children:[u.jsx("h3",{style:{margin:0,fontSize:"18px"},children:F.product_name||"simsiz rn"}),F.ad_count>30&&u.jsx("span",{style:{padding:"0.2rem 0.5rem",background:"rgba(16,185,129,0.1)",color:"var(--color-success)",borderRadius:"8px",fontSize:"12px",fontWeight:700},children:" Markalama"})]}),u.jsxs("div",{style:{display:"flex",gap:"0.4rem",flexWrap:"wrap",fontSize:"12px",color:"var(--color-text-muted)",position:"relative"},children:[F.country_code&&u.jsx("span",{style:{padding:"0.25rem 0.4rem",background:"rgba(59,130,246,0.08)",borderRadius:"8px"},children:F.country_code}),F.search_keyword&&u.jsx("span",{style:{padding:"0.25rem 0.4rem",background:"rgba(16,185,129,0.08)",borderRadius:"8px"},children:F.search_keyword}),u.jsxs("span",{children:["Reklam: ",F.ad_count??"-"]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"13px",position:"relative"},children:[F.meta_link&&u.jsx("a",{href:F.meta_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Meta Link"}),F.image_url&&u.jsx("a",{href:F.image_url.startsWith("http")?F.image_url:`https://${F.image_url}`,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Sat Linki"}),F.trendyol_link&&u.jsx("a",{href:F.trendyol_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Trendyol"}),F.amazon_link&&u.jsx("a",{href:F.amazon_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Amazon"})]}),F.notes&&u.jsx("div",{style:{fontSize:"13px",color:"var(--color-text-muted)",background:"rgba(148,163,184,0.12)",padding:"0.65rem",borderRadius:"10px",userSelect:"none",position:"relative"},children:F.notes})]})]})})(),A&&u.jsxs("div",{style:{padding:"1rem",border:"1px dashed var(--color-border)",borderRadius:"14px",background:"rgba(16,185,129,0.06)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{fontWeight:700,color:"var(--color-success)"},children:"Oturum tamamland."}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Seilen rnler iin Excel indirebilirsiniz. Ready kaytlar sfrland."})]}),T&&u.jsx("button",{onClick:()=>V(T),style:{padding:"0.65rem 1rem",background:"#107C41",color:"white",border:"none",borderRadius:"12px",fontWeight:700,cursor:"pointer"},children:"Excel ndir"})]})]})]}):e==="suppliers"?u.jsxs("div",{style:{display:"grid",gridTemplateColumns:N?"300px 1fr 400px":"300px 1fr",gap:"1rem",transition:"grid-template-columns 0.3s ease"},children:[u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[u.jsx(Q0,{size:18,color:"var(--color-primary)"}),u.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:"700"},children:"Eleme Oturumlar"})]}),G.length===0?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)",fontSize:"14px"},children:"Henz oturum yok. nce Eleme tabnda oturum oluturun."}):u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:G.map(F=>u.jsxs("div",{onClick:()=>{j(F.session_id),O(F.session_id)},style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:Q===F.session_id?"rgba(245, 158, 11, 0.1)":"white",cursor:"pointer",transition:"all 0.2s ease",borderColor:Q===F.session_id?"var(--color-primary)":"var(--color-border)"},onMouseEnter:ne=>{Q!==F.session_id&&(ne.currentTarget.style.background="rgba(0,0,0,0.02)")},onMouseLeave:ne=>{Q!==F.session_id&&(ne.currentTarget.style.background="white")},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsxs("span",{style:{fontWeight:"700",fontSize:"14px"},children:["Oturum ",F.session_code||"N/A"]}),u.jsx("span",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:new Date(F.first_at).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit"})})]}),u.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:[F.selected," / ",F.total," seildi"]})]},F.session_id))})]}),u.jsx("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:Q?C.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"var(--color-text-muted)"},children:[u.jsx(Lo,{size:48,style:{margin:"0 auto 1rem",opacity:.3}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:"rn Bulunamad"}),u.jsx("div",{style:{fontSize:"14px",marginTop:"0.5rem"},children:"Bu oturumda seilen rn yok"})]}):u.jsxs("div",{children:[u.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:u.jsxs("h3",{style:{margin:0,fontSize:"16px",fontWeight:"700"},children:["rnler (",C.length,")"]})}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem"},children:C.map(F=>{const ne=Z.filter(Se=>Se.product_id===F.id),Te=ne.length>0?ne.reduce((Se,Ue)=>{const Qe=we[Ue.id]||{},ze=Object.values(Qe).map(yt=>yt.rating).filter(yt=>yt);if(ze.length===0)return Se;const lt=ze.reduce((yt,ft)=>yt+ft,0)/ze.length;return Se+lt},0)/ne.length:0;return u.jsxs("div",{onClick:()=>{U(F),q(F.id)},style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:N?.id===F.id?"rgba(245, 158, 11, 0.1)":"white",cursor:"pointer",transition:"all 0.2s ease",borderColor:N?.id===F.id?"var(--color-primary)":"var(--color-border)"},onMouseEnter:Se=>{N?.id!==F.id&&(Se.currentTarget.style.background="rgba(0,0,0,0.02)")},onMouseLeave:Se=>{N?.id!==F.id&&(Se.currentTarget.style.background=N?.id===F.id?"rgba(245, 158, 11, 0.1)":"white")},children:[u.jsx("div",{style:{fontWeight:"700",fontSize:"14px",marginBottom:"0.5rem"},children:F.product_name||"simsiz rn"}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"12px",color:"var(--color-text-muted)"},children:[u.jsxs("span",{children:[supplierCount," tedariki"]}),Te>0&&u.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[u.jsx(Fo,{size:12,fill:"var(--color-warning)",color:"var(--color-warning)"}),Te.toFixed(1)]})]})]},F.id)})})]}):u.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"var(--color-text-muted)"},children:[u.jsx(Q0,{size:48,style:{margin:"0 auto 1rem",opacity:.3}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:"Oturum Sein"}),u.jsx("div",{style:{fontSize:"14px",marginTop:"0.5rem"},children:"Sol panelden bir eleme oturumu sein"})]})}),N&&u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",maxHeight:"calc(100vh - 200px)",overflowY:"auto",position:"sticky",top:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[u.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:"700"},children:"Tedarikiler"}),u.jsx("button",{onClick:()=>{Ge(null),at({supplier_name:"",contact_number:"",contact_email:"",supplier_link:"",price:"",additional_info:""}),nt(!0)},style:{padding:"0.5rem",background:"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-sm)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem"},children:u.jsx(Ti,{size:16})})]}),u.jsx("div",{style:{fontSize:"14px",color:"var(--color-text-muted)",marginBottom:"1rem"},children:N.product_name}),Z.filter(F=>F.product_id===N.id).length===0?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)",fontSize:"14px"},children:"Henz tedariki eklenmedi"}):u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Z.filter(F=>F.product_id===N.id).map(F=>u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[u.jsx("div",{style:{fontWeight:"700",fontSize:"14px"},children:F.supplier_name||"simsiz Tedariki"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[u.jsx("button",{onClick:()=>{Ge(F),at({supplier_name:F.supplier_name||"",contact_number:F.contact_number||"",contact_email:F.contact_email||"",supplier_link:F.supplier_link||"",price:F.price||"",additional_info:F.additional_info||""}),nt(!0)},style:{padding:"0.35rem",background:"transparent",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",cursor:"pointer",display:"flex",alignItems:"center"},children:u.jsx(W_,{size:14})}),u.jsx("button",{onClick:()=>P(F.id),style:{padding:"0.35rem",background:"transparent",border:"1px solid var(--color-error)",borderRadius:"var(--radius-sm)",cursor:"pointer",display:"flex",alignItems:"center",color:"var(--color-error)"},children:u.jsx(ki,{size:14})})]})]}),F.contact_number&&u.jsxs("div",{style:{fontSize:"13px",color:"var(--color-text-muted)",marginBottom:"0.25rem"},children:[" ",F.contact_number]}),F.contact_email&&u.jsxs("div",{style:{fontSize:"13px",color:"var(--color-text-muted)",marginBottom:"0.25rem"},children:[" ",F.contact_email]}),F.supplier_link&&u.jsx("div",{style:{fontSize:"13px",marginBottom:"0.25rem"},children:u.jsxs("a",{href:F.supplier_link.startsWith("http")?F.supplier_link:`https://${F.supplier_link}`,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:"600",display:"inline-flex",alignItems:"center",gap:"0.25rem"},children:[u.jsx(Xn,{size:14}),"Tedariki Linki"]})}),F.price&&u.jsxs("div",{style:{fontSize:"13px",color:"var(--color-text-muted)",marginBottom:"0.25rem"},children:[" ",F.price]}),F.additional_info&&u.jsx("div",{style:{fontSize:"13px",color:"var(--color-text-muted)",marginTop:"0.5rem",padding:"0.5rem",background:"rgba(0,0,0,0.02)",borderRadius:"var(--radius-sm)"},children:F.additional_info}),u.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid var(--color-border)"},children:[u.jsx("div",{style:{fontSize:"12px",fontWeight:"600",marginBottom:"0.5rem"},children:"Puanlama"}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Senin puann:"}),u.jsx("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(ne=>{const Te=we[F.id]?.[t?.id]?.rating;return u.jsx(Fo,{size:18,fill:Te&&ne<=Te?"var(--color-warning)":"transparent",color:Te&&ne<=Te?"var(--color-warning)":"var(--color-border)",style:{cursor:"pointer"},onClick:Se=>{Se.stopPropagation(),z(F.id,ne)}},ne)})})]}),Object.entries(we[F.id]||{}).filter(([ne])=>ne!==t?.id).filter(([,ne])=>ne.rating>0).length>0&&u.jsx("div",{style:{fontSize:"11px",color:"var(--color-text-muted)",display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:Object.entries(we[F.id]||{}).filter(([ne])=>ne!==t?.id).filter(([,ne])=>ne.rating>0).map(([ne,Te])=>{const Se=m.find(Ue=>Ue.id===ne);return u.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem"},children:[Se?.name||Se?.username||"Bilinmeyen",": ",Te.rating,""]},ne)})})]})]},F.id))})]})]}):e==="auto"?u.jsx(k3,{}):u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"40% 1px 60%",gap:"1.5rem",height:"calc(100vh - 250px)",minHeight:"600px"},children:[u.jsx("div",{style:{overflow:"hidden",display:"flex",flexDirection:"column"},children:u.jsx(d3,{userId:t?.id})}),u.jsx("div",{style:{background:"var(--color-border)",width:"1px"}}),u.jsx("div",{style:{overflow:"hidden",display:"flex",flexDirection:"column"},children:u.jsx(h3,{userId:t?.id,onProductsChange:ln})})]})]}),Ne(),Ke&&N&&dh.createPortal(u.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},onClick:()=>{nt(!1),Ge(null),at({supplier_name:"",contact_number:"",contact_email:"",supplier_link:"",price:"",additional_info:""})},children:u.jsxs("div",{style:{background:"white",borderRadius:"var(--radius-lg)",padding:"1.5rem",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},onClick:F=>F.stopPropagation(),children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[u.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"700"},children:ke?"Tedariki Dzenle":"Yeni Tedariki Ekle"}),u.jsx("button",{onClick:()=>{nt(!1),Ge(null),at({supplier_name:"",contact_number:"",contact_email:"",supplier_link:"",price:"",additional_info:""})},style:{padding:"0.35rem",background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center"},children:u.jsx(ea,{size:20})})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"600"},children:"Tedariki Ad"}),u.jsx("input",{type:"text",value:De.supplier_name,onChange:F=>at({...De,supplier_name:F.target.value}),placeholder:"Tedariki ad...",style:{width:"100%",padding:"0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"600"},children:"letiim Numaras"}),u.jsx("input",{type:"text",value:De.contact_number,onChange:F=>at({...De,contact_number:F.target.value}),placeholder:"Telefon numaras...",style:{width:"100%",padding:"0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"600"},children:"letiim Email"}),u.jsx("input",{type:"email",value:De.contact_email,onChange:F=>at({...De,contact_email:F.target.value}),placeholder:"Email adresi...",style:{width:"100%",padding:"0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"600"},children:"Tedariki Linki"}),u.jsx("input",{type:"text",value:De.supplier_link,onChange:F=>at({...De,supplier_link:F.target.value}),placeholder:"https://...",style:{width:"100%",padding:"0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"600"},children:"Fiyat"}),u.jsx("input",{type:"text",value:De.price,onChange:F=>at({...De,price:F.target.value}),placeholder:"Fiyat bilgisi...",style:{width:"100%",padding:"0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"600"},children:"Ek Bilgiler"}),u.jsx("textarea",{value:De.additional_info,onChange:F=>at({...De,additional_info:F.target.value}),placeholder:"Ek bilgiler...",rows:4,style:{width:"100%",padding:"0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px",resize:"vertical",fontFamily:"inherit"}})]}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem"},children:[u.jsx("button",{onClick:B,style:{flex:1,padding:"0.75rem",background:"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-sm)",fontSize:"14px",fontWeight:"700",cursor:"pointer"},children:ke?"Gncelle":"Kaydet"}),u.jsx("button",{onClick:()=>{nt(!1),Ge(null),at({supplier_name:"",contact_number:"",contact_email:"",supplier_link:"",price:"",additional_info:""})},style:{padding:"0.75rem 1.5rem",background:"transparent",color:"var(--color-text-muted)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"ptal"})]})]})]})}),document.body),u.jsx("style",{children:`
        @media (max-width: 1024px) {
          .page-container > div > div:last-child {
            grid-template-columns: 1fr !important;
            grid-template-rows: auto 1px auto !important;
            height: auto !important;
            min-height: auto !important;
          }
          .page-container > div > div:last-child > div:first-child {
            height: 500px !important;
          }
          .page-container > div > div:last-child > div:last-child {
            height: 600px !important;
          }
        }
        
      `})]})}function ey(t,e){let r;return function(...a){const s=this;clearTimeout(r),r=setTimeout(()=>t.apply(s,a),e)}}function xD(){const{user:t}=Sn(),[e,r]=D.useState(!0),[a,s]=D.useState(!1),[o,c]=D.useState(null),[f,h]=D.useState({product_view_mode:"latest",product_count:3,animation_duration:5,tasks_view_mode:"latest",tasks_count:3,tasks_animation_duration:5,tasks_status_filters:["Todo","In Progress","Review"]}),[m,g]=D.useState([]),[x,y]=D.useState({label:"",token:""}),[w,S]=D.useState(!1);D.useEffect(()=>{(async()=>{if(t)try{const{data:Y,error:A}=await Ae.from("user_settings").select("*").eq("user_id",t.id).maybeSingle();if(A)throw A;if(Y)h({product_view_mode:Y.product_view_mode,product_count:Y.product_count,animation_duration:Y.animation_duration,tasks_view_mode:Y.tasks_view_mode||"latest",tasks_count:Y.tasks_count||3,tasks_animation_duration:Y.tasks_animation_duration||5,tasks_status_filters:Y.tasks_status_filters?.length?Y.tasks_status_filters:["Todo","In Progress","Review"]});else{const{error:I}=await Ae.from("user_settings").insert([{user_id:t.id,product_view_mode:"latest",product_count:3,animation_duration:5,tasks_view_mode:"latest",tasks_count:3,tasks_animation_duration:5,tasks_status_filters:["Todo","In Progress","Review"]}]).select().single();if(I)throw I}}catch(Y){console.error("Error fetching settings:",Y)}finally{r(!1)}})()},[t]),D.useEffect(()=>{(async()=>{if(!t)return;const{data:Y,error:A}=await Ae.from("ai_tokens").select("*").eq("user_id",t.id).order("priority",{ascending:!0}).order("created_at",{ascending:!0});A||g(Y||[])})()},[t]),D.useRef(ey(async(H,Y)=>{try{const{error:A}=await Ae.from("user_settings").upsert({user_id:Y,...H,updated_at:new Date});if(A)throw A}catch(A){console.error("Error saving settings:",A)}},1e3)).current;const _=D.useRef(ey((H,Y,A,I)=>{A(),Ae.from("user_settings").upsert({user_id:Y,...H,updated_at:new Date}).then(({error:G})=>{G||I(new Date)})},1e3)).current,b=(H,Y)=>{const A={...f,[H]:Y};h(A),_(A,t.id,()=>s(!0),I=>{s(!1),c(I)})},k=H=>{const Y=f.tasks_status_filters||[],I=Y.includes(H)?Y.filter(G=>G!==H):[...Y,H];b("tasks_status_filters",I.length?I:["Todo","In Progress","Review"])},R=async()=>{if(x.token.trim()){S(!0);try{const H=(m.reduce((G,te)=>Math.max(G,te.priority||0),0)||0)+1,Y={user_id:t.id,label:x.label||"Gemini Anahtar",token:x.token.trim(),priority:H},{data:A,error:I}=await Ae.from("ai_tokens").insert(Y).select().single();if(I)throw I;g(G=>[...G,A].sort((te,ee)=>(te.priority||1)-(ee.priority||1))),y({label:"",token:""})}catch(H){console.error("AI token ekleme hatas:",H)}finally{S(!1)}}},T=async H=>{const{error:Y}=await Ae.from("ai_tokens").delete().eq("id",H).eq("user_id",t.id);Y||g(A=>A.filter(I=>I.id!==H))},L=async()=>{try{window.confirm(`Extension' indirmek iin:

1. Aadaki linkten GitHub repository'sini zip olarak indirin
2. Zip dosyasn an ve "Panela-main/public/chrome-extension" klasrn bulun
3. Chrome'da chrome://extensions/ adresine gidin
4. Sa stte "Gelitirici modu"nu an
5. "Paketlenmemi uzant ykle" butonuna tklayn
6. "chrome-extension" klasrn sein

Extension aktif olacak ve Meta Ads Library sayfalarnda otomatik alacak.

GitHub repository'sini zip olarak indirmek ister misiniz?`)&&(window.open("https://github.com/dgdfurkan/Panela/archive/refs/heads/main.zip","_blank"),setTimeout(()=>{window.open("https://github.com/dgdfurkan/Panela/tree/main/public/chrome-extension","_blank")},2e3))}catch(H){console.error("Extension indirme hatas:",H),alert("Extension indirilemedi. Ltfen daha sonra tekrar deneyin.")}};return e?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx(nn,{className:"animate-spin text-primary",size:32})}):u.jsxs("div",{className:"settings-page fade-in",children:[u.jsxs("header",{className:"page-header",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"page-title",children:"Ayarlar"}),u.jsx("p",{className:"page-subtitle",children:"Panelini kendine gre zelletir."})]}),u.jsx("div",{className:"save-status",children:a?u.jsxs("span",{className:"status-badge saving",children:[u.jsx(nn,{size:14,className:"animate-spin"})," Kaydediliyor..."]}):o?u.jsxs("span",{className:"status-badge saved",children:[u.jsx(Xo,{size:14})," Kaydedildi ",o.toLocaleTimeString()]}):null})]}),u.jsxs("div",{className:"settings-grid",children:[u.jsxs("div",{className:"glass-panel settings-card",children:[u.jsx("div",{className:"card-header compact-header",children:u.jsxs("div",{className:"header-left",children:[u.jsx(iA,{className:"text-primary",size:22}),u.jsxs("div",{children:[u.jsx("h3",{children:"Kefedilen rnler Grnm"}),u.jsx("p",{className:"setting-desc",children:"Mode + adet + animasyon sresi ayn yerde."})]})]})}),u.jsxs("div",{className:"card-content compact-grid",children:[u.jsxs("div",{className:"radio-group slim",children:[u.jsxs("label",{className:`radio-option ${f.product_view_mode==="latest"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"view_mode",value:"latest",checked:f.product_view_mode==="latest",onChange:H=>b("product_view_mode",H.target.value)}),u.jsx("span",{className:"radio-label",children:" Son Eklenenler"})]}),u.jsxs("label",{className:`radio-option ${f.product_view_mode==="random"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"view_mode",value:"random",checked:f.product_view_mode==="random",onChange:H=>b("product_view_mode",H.target.value)}),u.jsx("span",{className:"radio-label",children:" Rastgele"})]}),u.jsxs("label",{className:`radio-option ${f.product_view_mode==="loop"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"view_mode",value:"loop",checked:f.product_view_mode==="loop",onChange:H=>b("product_view_mode",H.target.value)}),u.jsx("span",{className:"radio-label",children:" Animasyonlu Dng"})]})]}),u.jsxs("div",{className:"form-group inline",children:[u.jsxs("label",{className:"input-label",children:[u.jsx(dx,{size:16}),"Gsterilecek rn Says"]}),u.jsxs("div",{className:"range-wrapper",children:[u.jsx("input",{type:"range",min:"1",max:"12",value:f.product_count,onChange:H=>b("product_count",parseInt(H.target.value)),className:"range-input"}),u.jsx("span",{className:"range-value",children:f.product_count})]})]}),f.product_view_mode==="loop"&&u.jsxs("div",{className:"form-group inline",children:[u.jsxs("label",{className:"input-label",children:[u.jsx(im,{size:16}),"Animasyon Sresi (sn)"]}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("input",{type:"number",min:"1",max:"20",value:f.animation_duration,onChange:H=>b("animation_duration",parseInt(H.target.value)),className:"text-input"}),u.jsx("span",{className:"unit",children:"sn"})]})]})]})]}),u.jsxs("div",{className:"glass-panel settings-card",children:[u.jsx("div",{className:"card-header compact-header",children:u.jsxs("div",{className:"header-left",children:[u.jsx(dx,{className:"text-primary",size:22}),u.jsxs("div",{children:[u.jsx("h3",{children:"Ayarlara Yaklaan Grevler Grnm"}),u.jsx("p",{className:"setting-desc",children:"Hangi statler, ka grev, hangi mod?"})]})]})}),u.jsxs("div",{className:"card-content compact-grid",children:[u.jsxs("div",{className:"checkbox-group slim",children:[u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:f.tasks_status_filters?.includes("Todo"),onChange:()=>k("Todo")}),u.jsx("span",{children:"Yaplacaklar (Todo)"})]}),u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:f.tasks_status_filters?.includes("In Progress"),onChange:()=>k("In Progress")}),u.jsx("span",{children:"Devam Edenler (In Progress)"})]}),u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:f.tasks_status_filters?.includes("Review"),onChange:()=>k("Review")}),u.jsx("span",{children:"Kontrol (Review)"})]})]}),u.jsxs("div",{className:"radio-group slim",children:[u.jsxs("label",{className:`radio-option ${f.tasks_view_mode==="latest"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"tasks_view_mode",value:"latest",checked:f.tasks_view_mode==="latest",onChange:H=>b("tasks_view_mode",H.target.value)}),u.jsx("span",{className:"radio-label",children:" Son Eklenenler"})]}),u.jsxs("label",{className:`radio-option ${f.tasks_view_mode==="random"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"tasks_view_mode",value:"random",checked:f.tasks_view_mode==="random",onChange:H=>b("tasks_view_mode",H.target.value)}),u.jsx("span",{className:"radio-label",children:" Rastgele"})]}),u.jsxs("label",{className:`radio-option ${f.tasks_view_mode==="loop"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"tasks_view_mode",value:"loop",checked:f.tasks_view_mode==="loop",onChange:H=>b("tasks_view_mode",H.target.value)}),u.jsx("span",{className:"radio-label",children:" Animasyonlu Dng"})]})]}),u.jsxs("div",{className:"number-group",children:[u.jsx("label",{children:"Gsterilecek Grev Says"}),u.jsx("input",{type:"number",min:1,max:10,value:f.tasks_count,onChange:H=>b("tasks_count",Number(H.target.value)||1)})]}),f.tasks_view_mode==="loop"&&u.jsxs("div",{className:"number-group",children:[u.jsx("label",{children:"Animasyon Sresi (sn)"}),u.jsx("input",{type:"number",min:2,max:30,value:f.tasks_animation_duration,onChange:H=>b("tasks_animation_duration",Number(H.target.value)||5)})]})]})]}),u.jsxs("div",{className:"glass-panel settings-card",children:[u.jsxs("div",{className:"card-header",children:[u.jsx(lm,{className:"text-primary",size:24}),u.jsx("h3",{children:"Gemini Token Ynetimi"})]}),u.jsxs("div",{className:"card-content form-layout",children:[u.jsx("p",{className:"setting-desc",children:"Birden fazla token ekleyip ncelik verebilirsin. Limit amnda sradaki token kullanlr."}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Etiket"}),u.jsx("input",{className:"text-input",placeholder:"rn: Ana Token",value:x.label,onChange:H=>y({...x,label:H.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Token"}),u.jsx("input",{className:"text-input",placeholder:"Gemini API anahtar",value:x.token,onChange:H=>y({...x,token:H.target.value})})]}),u.jsxs("button",{className:"token-add-btn",onClick:R,disabled:w,children:[u.jsx(Ti,{size:16}),w?"Ekleniyor...":"Token Ekle"]}),u.jsxs("div",{className:"token-list",children:[m.length===0&&u.jsx("p",{className:"muted",children:"Henz token eklenmedi."}),m.map(H=>u.jsxs("div",{className:"token-row",children:[u.jsxs("div",{children:[u.jsx("p",{className:"token-label",children:H.label||"Adsz"}),u.jsxs("p",{className:"token-meta",children:["ncelik: ",H.priority||1]})]}),u.jsx("button",{className:"token-delete",onClick:()=>T(H.id),children:u.jsx(ki,{size:16})})]},H.id))]})]})]}),u.jsxs("div",{className:"glass-panel settings-card",children:[u.jsxs("div",{className:"card-header",children:[u.jsx(Q_,{className:"text-primary",size:24}),u.jsx("h3",{children:"Chrome Extension"})]}),u.jsxs("div",{className:"card-content form-layout",children:[u.jsx("p",{className:"setting-desc",children:`Meta Ads Library'de sadece "Shop Now" ve "imdi alveri yap" butonlar olan reklamlar gsteren Chrome eklentisi. Gereksiz reklamlar otomatik olarak filtreler ve sonular daha kompakt gsterir.`}),u.jsxs("div",{className:"extension-instructions",children:[u.jsx("h4",{style:{marginBottom:"1rem",fontSize:"1rem",fontWeight:"600"},children:"Kurulum Admlar (Windows, macOS, Linux):"}),u.jsxs("ol",{style:{paddingLeft:"1.5rem",display:"flex",flexDirection:"column",gap:"0.75rem",color:"var(--color-text-main)",fontSize:"0.9rem"},children:[u.jsxs("li",{children:[u.jsx("strong",{children:"1."}),` Aadaki "Extension' ndir" butonuna tkla - GitHub repository zip dosyas indirilecek`]}),u.jsxs("li",{children:[u.jsx("strong",{children:"2."}),' Zip dosyasn a (Windows: sa tk  "Extract All", macOS: ift tk, Linux: unzip komutu) ve ',u.jsx("code",{style:{background:"rgba(0,0,0,0.05)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontFamily:"monospace"},children:"Panela-main/public/chrome-extension"})," klasrn bul"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"3."})," Chrome veya Edge taraycsnda ",u.jsx("code",{style:{background:"rgba(0,0,0,0.05)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontFamily:"monospace"},children:"chrome://extensions/"})," veya ",u.jsx("code",{style:{background:"rgba(0,0,0,0.05)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontFamily:"monospace"},children:"edge://extensions/"})," adresine git"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"4."})," Sa stte ",u.jsx("strong",{children:'"Gelitirici modu"'})," veya ",u.jsx("strong",{children:'"Developer mode"'})," ak olduundan emin ol"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"5."})," ",u.jsx("strong",{children:'"Paketlenmemi uzant ykle"'})," veya ",u.jsx("strong",{children:'"Load unpacked"'})," butonuna tkla"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"6."})," ",u.jsx("code",{style:{background:"rgba(0,0,0,0.05)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontFamily:"monospace"},children:"chrome-extension"})," klasrn se (iinde manifest.json olan klasr)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"7."})," Extension aktif olacak! Meta Ads Library sayfalarnda otomatik alr"]})]}),u.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"6px",border:"1px solid rgba(16, 185, 129, 0.2)",fontSize:"0.85rem"},children:[u.jsx("strong",{children:" Platform Destei:"})," Bu extension Windows, macOS ve Linux'ta alr. Chrome, Edge, Brave, Opera gibi Chromium tabanl tm tarayclarda alr."]}),u.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"rgba(255, 193, 7, 0.1)",borderRadius:"6px",border:"1px solid rgba(255, 193, 7, 0.2)",fontSize:"0.85rem"},children:[u.jsx("strong",{children:" nemli:"})," Zip dosyasn atktan sonra ",u.jsx("code",{style:{background:"rgba(0,0,0,0.1)",padding:"0.1rem 0.3rem",borderRadius:"3px"},children:"chrome-extension"})," klasrn setiinden emin ol. Tm dosyalar (manifest.json, content.js, popup.html vb.) bu klasrn iinde olmal."]})]}),u.jsxs("button",{className:"extension-download-btn",onClick:L,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, var(--color-primary), var(--color-accent))",color:"white",fontWeight:"600",cursor:"pointer",fontSize:"0.95rem",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:H=>{H.target.style.transform="translateY(-2px)",H.target.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)"},onMouseLeave:H=>{H.target.style.transform="translateY(0)",H.target.style.boxShadow="none"},children:[u.jsx(b5,{size:18}),"Extension' ndir"]}),u.jsx("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(139, 92, 246, 0.05)",borderRadius:"8px",border:"1px solid rgba(139, 92, 246, 0.1)"},children:u.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--color-text-muted)"},children:[u.jsx("strong",{children:"Not:"})," Extension sadece Meta Ads Library sayfalarnda alr. Sayfay yenilediinizde otomatik olarak filtreleme aktif olur."]})})]})]})]}),u.jsx("style",{children:`
                .page-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: flex-end;
                    margin-bottom: 2rem;
                    border-bottom: 1px solid rgba(0,0,0,0.05);
                    padding-bottom: 1rem;
                }

                .page-title {
                    font-size: 1.8rem;
                    font-weight: 700;
                    color: var(--color-text-main);
                }

                .page-subtitle {
                    color: var(--color-text-muted);
                }

                .status-badge {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    padding: 0.5rem 1rem;
                    border-radius: 20px;
                    font-size: 0.85rem;
                    font-weight: 500;
                }

                .status-badge.saving {
                    background: rgba(var(--color-primary-rgb), 0.1);
                    color: var(--color-primary);
                }

                .status-badge.saved {
                    background: rgba(16, 185, 129, 0.1);
                    color: #10B981;
                }

                .settings-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                    gap: 2rem;
                }

                .settings-card {
                    padding: 0;
                    overflow: hidden;
                    display: flex;
                    flex-direction: column;
                }

                .card-header {
                    padding: 1.5rem;
                    background: rgba(255,255,255,0.5);
                    border-bottom: 1px solid rgba(0,0,0,0.05);
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                }

                .card-header h3 {
                    font-size: 1.1rem;
                    font-weight: 600;
                    margin: 0;
                }

                .card-content {
                    padding: 2rem;
                    flex: 1;
                }
                .card-header.compact-header {
                    padding: 1rem 1.5rem;
                }
                .header-left {
                    display: flex;
                    gap: 0.6rem;
                    align-items: center;
                }
                .compact-grid {
                    display: grid;
                    gap: 1rem;
                }
                .radio-group.slim {
                    flex-direction: row;
                    flex-wrap: wrap;
                    gap: 0.75rem;
                }
                .checkbox-group.slim {
                    display: flex;
                    flex-direction: column;
                    gap: 0.5rem;
                }
                .checkbox-group.slim label {
                    display: flex;
                    gap: 0.5rem;
                    align-items: center;
                    font-size: 0.95rem;
                    color: var(--color-text-main);
                }
                .checkbox-group.slim input {
                    accent-color: var(--color-primary);
                }
                .number-group {
                    display: flex;
                    flex-direction: column;
                    gap: 0.4rem;
                }
                .number-group input {
                    width: 120px;
                    padding: 0.45rem 0.75rem;
                    border: 1px solid rgba(0,0,0,0.1);
                    border-radius: 8px;
                    font-size: 0.95rem;
                }
                .number-group label {
                    font-weight: 600;
                    color: var(--color-text-main);
                }
                .form-group.inline {
                    gap: 0.35rem;
                }

                .setting-desc {
                    margin-bottom: 1.5rem;
                    color: var(--color-text-muted);
                    font-size: 0.95rem;
                }

                .radio-group {
                    display: flex;
                    flex-direction: column;
                    gap: 1rem;
                }

                .radio-option {
                    display: flex;
                    align-items: center;
                    padding: 1rem;
                    border: 1px solid rgba(0,0,0,0.1);
                    border-radius: 12px;
                    cursor: pointer;
                    transition: all 0.2s;
                    background: white;
                }

                .radio-option:hover {
                    border-color: var(--color-primary);
                    background: rgba(var(--color-primary-rgb), 0.02);
                }

                .radio-option.active {
                    border-color: var(--color-primary);
                    background: rgba(var(--color-primary-rgb), 0.05);
                    box-shadow: 0 0 0 1px var(--color-primary);
                }

                .radio-option input {
                    margin-right: 1rem;
                    accent-color: var(--color-primary);
                }

                .radio-label {
                    font-weight: 500;
                }

                .form-layout {
                    display: flex;
                    flex-direction: column;
                    gap: 1.5rem;
                }

                .form-group {
                    display: flex;
                    flex-direction: column;
                    gap: 0.5rem;
                }

                .input-label {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    font-weight: 600;
                    color: var(--color-text-main);
                    font-size: 0.95rem;
                }

                .range-wrapper {
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                }

                .range-input {
                    flex: 1;
                    accent-color: var(--color-primary);
                }

                .range-value {
                    font-weight: 700;
                    font-size: 1.2rem;
                    color: var(--color-primary);
                    width: 30px;
                    text-align: center;
                }

                .input-help {
                    font-size: 0.8rem;
                    color: var(--color-text-muted);
                }

                .divider {
                    height: 1px;
                    background: rgba(0,0,0,0.05);
                    margin: 0.5rem 0;
                }

                .input-wrapper {
                    position: relative;
                    max-width: 150px;
                }

                .text-input {
                    width: 100%;
                    padding: 0.75rem 1rem;
                    padding-right: 2.5rem;
                    border: 1px solid rgba(0,0,0,0.1);
                    border-radius: 8px;
                    font-size: 1rem;
                    font-weight: 500;
                }
                
                .text-input:focus {
                    border-color: var(--color-primary);
                    box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.1);
                }

                .unit {
                    position: absolute;
                    right: 1rem;
                    top: 50%;
                    transform: translateY(-50%);
                    color: var(--color-text-muted);
                    font-size: 0.9rem;
                    pointer-events: none;
                }

                .token-add-btn {
                    display: inline-flex;
                    align-items: center;
                    gap: 0.4rem;
                    padding: 0.65rem 0.9rem;
                    border-radius: 10px;
                    border: 1px solid var(--color-border);
                    background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
                    color: white;
                    font-weight: 600;
                    cursor: pointer;
                }

                .token-list {
                    display: flex;
                    flex-direction: column;
                    gap: 0.75rem;
                }

                .token-row {
                    padding: 0.9rem;
                    border: 1px solid var(--color-border);
                    border-radius: 12px;
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    background: white;
                }

                .token-label { font-weight: 600; }
                .token-meta { color: var(--color-text-muted); font-size: 0.9rem; }

                .token-delete {
                    border: 1px solid var(--color-border);
                    background: white;
                    padding: 0.35rem;
                    border-radius: 10px;
                    cursor: pointer;
                }
            `})]})}var Rm={};(function t(e,r,a,s){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var Q=new OffscreenCanvas(1,1),j=Q.getContext("2d");j.fillRect(0,0,1,1);var C=Q.transferToImageBitmap();j.createPattern(C,"no-repeat")}catch{return!1}return!0})();function h(){}function m(Q){var j=r.exports.Promise,C=j!==void 0?j:e.Promise;return typeof C=="function"?new C(Q):(Q(h,h),null)}var g=(function(Q,j){return{transform:function(C){if(Q)return C;if(j.has(C))return j.get(C);var W=new OffscreenCanvas(C.width,C.height),N=W.getContext("2d");return N.drawImage(C,0,0),j.set(C,W),W},clear:function(){j.clear()}}})(f,new Map),x=(function(){var Q=Math.floor(16.666666666666668),j,C,W={},N=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(j=function(U){var Z=Math.random();return W[Z]=requestAnimationFrame(function he(we){N===we||N+Q-1<we?(N=we,delete W[Z],U()):W[Z]=requestAnimationFrame(he)}),Z},C=function(U){W[U]&&cancelAnimationFrame(W[U])}):(j=function(U){return setTimeout(U,Q)},C=function(U){return clearTimeout(U)}),{frame:j,cancel:C}})(),y=(function(){var Q,j,C={};function W(N){function U(Z,he){N.postMessage({options:Z||{},callback:he})}N.init=function(he){var we=he.transferControlToOffscreen();N.postMessage({canvas:we},[we])},N.fire=function(he,we,_e){if(j)return U(he,null),j;var ke=Math.random().toString(36).slice(2);return j=m(function(Ge){function Ke(nt){nt.data.callback===ke&&(delete C[ke],N.removeEventListener("message",Ke),j=null,g.clear(),_e(),Ge())}N.addEventListener("message",Ke),U(he,ke),C[ke]=Ke.bind(null,{data:{callback:ke}})}),j},N.reset=function(){N.postMessage({reset:!0});for(var he in C)C[he](),delete C[he]}}return function(){if(Q)return Q;if(!a&&o){var N=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Q=new Worker(URL.createObjectURL(new Blob([N])))}catch(U){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",U),null}W(Q)}return Q}})(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(Q,j){return j?j(Q):Q}function _(Q){return Q!=null}function b(Q,j,C){return S(Q&&_(Q[j])?Q[j]:w[j],C)}function k(Q){return Q<0?0:Math.floor(Q)}function R(Q,j){return Math.floor(Math.random()*(j-Q))+Q}function T(Q){return parseInt(Q,16)}function L(Q){return Q.map(H)}function H(Q){var j=String(Q).replace(/[^0-9a-f]/gi,"");return j.length<6&&(j=j[0]+j[0]+j[1]+j[1]+j[2]+j[2]),{r:T(j.substring(0,2)),g:T(j.substring(2,4)),b:T(j.substring(4,6))}}function Y(Q){var j=b(Q,"origin",Object);return j.x=b(j,"x",Number),j.y=b(j,"y",Number),j}function A(Q){Q.width=document.documentElement.clientWidth,Q.height=document.documentElement.clientHeight}function I(Q){var j=Q.getBoundingClientRect();Q.width=j.width,Q.height=j.height}function G(Q){var j=document.createElement("canvas");return j.style.position="fixed",j.style.top="0px",j.style.left="0px",j.style.pointerEvents="none",j.style.zIndex=Q,j}function te(Q,j,C,W,N,U,Z,he,we){Q.save(),Q.translate(j,C),Q.rotate(U),Q.scale(W,N),Q.arc(0,0,1,Z,he,we),Q.restore()}function ee(Q){var j=Q.angle*(Math.PI/180),C=Q.spread*(Math.PI/180);return{x:Q.x,y:Q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Q.startVelocity*.5+Math.random()*Q.startVelocity,angle2D:-j+(.5*C-Math.random()*C),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Q.color,shape:Q.shape,tick:0,totalTicks:Q.ticks,decay:Q.decay,drift:Q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Q.gravity*3,ovalScalar:.6,scalar:Q.scalar,flat:Q.flat}}function ie(Q,j){j.x+=Math.cos(j.angle2D)*j.velocity+j.drift,j.y+=Math.sin(j.angle2D)*j.velocity+j.gravity,j.velocity*=j.decay,j.flat?(j.wobble=0,j.wobbleX=j.x+10*j.scalar,j.wobbleY=j.y+10*j.scalar,j.tiltSin=0,j.tiltCos=0,j.random=1):(j.wobble+=j.wobbleSpeed,j.wobbleX=j.x+10*j.scalar*Math.cos(j.wobble),j.wobbleY=j.y+10*j.scalar*Math.sin(j.wobble),j.tiltAngle+=.1,j.tiltSin=Math.sin(j.tiltAngle),j.tiltCos=Math.cos(j.tiltAngle),j.random=Math.random()+2);var C=j.tick++/j.totalTicks,W=j.x+j.random*j.tiltCos,N=j.y+j.random*j.tiltSin,U=j.wobbleX+j.random*j.tiltCos,Z=j.wobbleY+j.random*j.tiltSin;if(Q.fillStyle="rgba("+j.color.r+", "+j.color.g+", "+j.color.b+", "+(1-C)+")",Q.beginPath(),c&&j.shape.type==="path"&&typeof j.shape.path=="string"&&Array.isArray(j.shape.matrix))Q.fill(me(j.shape.path,j.shape.matrix,j.x,j.y,Math.abs(U-W)*.1,Math.abs(Z-N)*.1,Math.PI/10*j.wobble));else if(j.shape.type==="bitmap"){var he=Math.PI/10*j.wobble,we=Math.abs(U-W)*.1,_e=Math.abs(Z-N)*.1,ke=j.shape.bitmap.width*j.scalar,Ge=j.shape.bitmap.height*j.scalar,Ke=new DOMMatrix([Math.cos(he)*we,Math.sin(he)*we,-Math.sin(he)*_e,Math.cos(he)*_e,j.x,j.y]);Ke.multiplySelf(new DOMMatrix(j.shape.matrix));var nt=Q.createPattern(g.transform(j.shape.bitmap),"no-repeat");nt.setTransform(Ke),Q.globalAlpha=1-C,Q.fillStyle=nt,Q.fillRect(j.x-ke/2,j.y-Ge/2,ke,Ge),Q.globalAlpha=1}else if(j.shape==="circle")Q.ellipse?Q.ellipse(j.x,j.y,Math.abs(U-W)*j.ovalScalar,Math.abs(Z-N)*j.ovalScalar,Math.PI/10*j.wobble,0,2*Math.PI):te(Q,j.x,j.y,Math.abs(U-W)*j.ovalScalar,Math.abs(Z-N)*j.ovalScalar,Math.PI/10*j.wobble,0,2*Math.PI);else if(j.shape==="star")for(var De=Math.PI/2*3,at=4*j.scalar,st=8*j.scalar,Pe=j.x,St=j.y,Gt=5,kt=Math.PI/Gt;Gt--;)Pe=j.x+Math.cos(De)*st,St=j.y+Math.sin(De)*st,Q.lineTo(Pe,St),De+=kt,Pe=j.x+Math.cos(De)*at,St=j.y+Math.sin(De)*at,Q.lineTo(Pe,St),De+=kt;else Q.moveTo(Math.floor(j.x),Math.floor(j.y)),Q.lineTo(Math.floor(j.wobbleX),Math.floor(N)),Q.lineTo(Math.floor(U),Math.floor(Z)),Q.lineTo(Math.floor(W),Math.floor(j.wobbleY));return Q.closePath(),Q.fill(),j.tick<j.totalTicks}function ye(Q,j,C,W,N){var U=j.slice(),Z=Q.getContext("2d"),he,we,_e=m(function(ke){function Ge(){he=we=null,Z.clearRect(0,0,W.width,W.height),g.clear(),N(),ke()}function Ke(){a&&!(W.width===s.width&&W.height===s.height)&&(W.width=Q.width=s.width,W.height=Q.height=s.height),!W.width&&!W.height&&(C(Q),W.width=Q.width,W.height=Q.height),Z.clearRect(0,0,W.width,W.height),U=U.filter(function(nt){return ie(Z,nt)}),U.length?he=x.frame(Ke):Ge()}he=x.frame(Ke),we=Ge});return{addFettis:function(ke){return U=U.concat(ke),_e},canvas:Q,promise:_e,reset:function(){he&&x.cancel(he),we&&we()}}}function qe(Q,j){var C=!Q,W=!!b(j||{},"resize"),N=!1,U=b(j,"disableForReducedMotion",Boolean),Z=o&&!!b(j||{},"useWorker"),he=Z?y():null,we=C?A:I,_e=Q&&he?!!Q.__confetti_initialized:!1,ke=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ge;function Ke(De,at,st){for(var Pe=b(De,"particleCount",k),St=b(De,"angle",Number),Gt=b(De,"spread",Number),kt=b(De,"startVelocity",Number),Br=b(De,"decay",Number),En=b(De,"gravity",Number),ra=b(De,"drift",Number),xt=b(De,"colors",L),Bn=b(De,"ticks",Number),Ir=b(De,"shapes"),In=b(De,"scalar"),tr=!!b(De,"flat"),ma=Y(De),Oe=Pe,Ur=[],pa=Q.width*ma.x,Tn=Q.height*ma.y;Oe--;)Ur.push(ee({x:pa,y:Tn,angle:St,spread:Gt,startVelocity:kt,color:xt[Oe%xt.length],shape:Ir[R(0,Ir.length)],ticks:Bn,decay:Br,gravity:En,drift:ra,scalar:In,flat:tr}));return Ge?Ge.addFettis(Ur):(Ge=ye(Q,Ur,we,at,st),Ge.promise)}function nt(De){var at=U||b(De,"disableForReducedMotion",Boolean),st=b(De,"zIndex",Number);if(at&&ke)return m(function(kt){kt()});C&&Ge?Q=Ge.canvas:C&&!Q&&(Q=G(st),document.body.appendChild(Q)),W&&!_e&&we(Q);var Pe={width:Q.width,height:Q.height};he&&!_e&&he.init(Q),_e=!0,he&&(Q.__confetti_initialized=!0);function St(){if(he){var kt={getBoundingClientRect:function(){if(!C)return Q.getBoundingClientRect()}};we(kt),he.postMessage({resize:{width:kt.width,height:kt.height}});return}Pe.width=Pe.height=null}function Gt(){Ge=null,W&&(N=!1,e.removeEventListener("resize",St)),C&&Q&&(document.body.contains(Q)&&document.body.removeChild(Q),Q=null,_e=!1)}return W&&!N&&(N=!0,e.addEventListener("resize",St,!1)),he?he.fire(De,Pe,Gt):Ke(De,Pe,Gt)}return nt.reset=function(){he&&he.reset(),Ge&&Ge.reset()},nt}var ce;function J(){return ce||(ce=qe(null,{useWorker:!0,resize:!0})),ce}function me(Q,j,C,W,N,U,Z){var he=new Path2D(Q),we=new Path2D;we.addPath(he,new DOMMatrix(j));var _e=new Path2D;return _e.addPath(we,new DOMMatrix([Math.cos(Z)*N,Math.sin(Z)*N,-Math.sin(Z)*U,Math.cos(Z)*U,C,W])),_e}function Ce(Q){if(!c)throw new Error("path confetti are not supported in this browser");var j,C;typeof Q=="string"?j=Q:(j=Q.path,C=Q.matrix);var W=new Path2D(j),N=document.createElement("canvas"),U=N.getContext("2d");if(!C){for(var Z=1e3,he=Z,we=Z,_e=0,ke=0,Ge,Ke,nt=0;nt<Z;nt+=2)for(var De=0;De<Z;De+=2)U.isPointInPath(W,nt,De,"nonzero")&&(he=Math.min(he,nt),we=Math.min(we,De),_e=Math.max(_e,nt),ke=Math.max(ke,De));Ge=_e-he,Ke=ke-we;var at=10,st=Math.min(at/Ge,at/Ke);C=[st,0,0,st,-Math.round(Ge/2+he)*st,-Math.round(Ke/2+we)*st]}return{type:"path",path:j,matrix:C}}function Fe(Q){var j,C=1,W="#000000",N='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Q=="string"?j=Q:(j=Q.text,C="scalar"in Q?Q.scalar:C,N="fontFamily"in Q?Q.fontFamily:N,W="color"in Q?Q.color:W);var U=10*C,Z=""+U+"px "+N,he=new OffscreenCanvas(U,U),we=he.getContext("2d");we.font=Z;var _e=we.measureText(j),ke=Math.ceil(_e.actualBoundingBoxRight+_e.actualBoundingBoxLeft),Ge=Math.ceil(_e.actualBoundingBoxAscent+_e.actualBoundingBoxDescent),Ke=2,nt=_e.actualBoundingBoxLeft+Ke,De=_e.actualBoundingBoxAscent+Ke;ke+=Ke+Ke,Ge+=Ke+Ke,he=new OffscreenCanvas(ke,Ge),we=he.getContext("2d"),we.font=Z,we.fillStyle=W,we.fillText(j,nt,De);var at=1/C;return{type:"bitmap",bitmap:he.transferToImageBitmap(),matrix:[at,0,0,at,-ke*at/2,-Ge*at/2]}}r.exports=function(){return J().apply(this,arguments)},r.exports.reset=function(){J().reset()},r.exports.create=qe,r.exports.shapeFromPath=Ce,r.exports.shapeFromText=Fe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Rm,!1);const yD=Rm.exports;Rm.exports.create;const _D=[{title:"Shopify Maazas in Gven eleri",points:["Gven rozetlerini fold stnde gster","ade/garanti mesajn CTA yaknnda konumlandr","Gerek mteri fotoraflar ve yldzlar ekle"]},{title:"Etkileyici Hook Nasl Yazlr?",points:["lk 3 saniyede problemi syle","Somut sonu ver: 2x hz, %30 indirim","Merak uyandr: Peki ya ile devam et"]},{title:"Fiyatlandrma Psikolojisi",points:["Anchor fiyat: Eski fiyat silik gster","Kstl stok veya sre: Son 24 saat etiketi","Bonus ekle: cretsiz kargo veya mini rehber"]}],bD=[{title:"Fiziksel rn",desc:"Video reklamda kullanm demosu ilk 3 saniyede. Ses kapalyken de anlalr altyaz ekle."},{title:"Dijital rn",desc:"Ekran kayd + testimonial kombosu. Demo linkini CTAya yerletir."},{title:"Abonelik",desc:"ptal etmesi kolay mesajn vurgula. lk ay %50 indirim kuponu ekle."}];function wD(){const[t,e]=D.useState(0);return u.jsxs("div",{className:"guide-view fade-in",children:[u.jsxs("div",{className:"hero glass-panel",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Yaratc Laboratuvar  lham Alan"}),u.jsx("h2",{className:"title text-gradient",children:"Ben yeniyim, ne yapmalym?"}),u.jsx("p",{className:"subtitle",children:"Bu panel sana hazr taktikler, kopya formlleri ve gven eleri ile rehberlik eder."}),u.jsxs("div",{className:"chips",children:[u.jsxs("span",{className:"chip",children:[u.jsx(is,{size:16})," Adm adm rehber"]}),u.jsxs("span",{className:"chip",children:[u.jsx(Rh,{size:16})," lham kartlar"]}),u.jsxs("span",{className:"chip",children:[u.jsx(V_,{size:16})," Hzl bala"]})]})]}),u.jsx(yd,{className:"hero-icon",size:64})]}),u.jsxs("div",{className:"grid",children:[u.jsxs("section",{className:"accordion glass-panel",children:[u.jsx("h3",{children:"Hzl Rehberler"}),_D.map((r,a)=>u.jsxs("div",{className:`accordion-item ${t===a?"open":""}`,children:[u.jsxs("button",{className:"accordion-header",onClick:()=>e(t===a?-1:a),children:[u.jsx("span",{children:r.title}),u.jsx("span",{className:"chevron",children:t===a?"":"+"})]}),t===a&&u.jsx("ul",{className:"accordion-body",children:r.points.map(s=>u.jsx("li",{children:s},s))})]},r.title))]}),u.jsx("section",{className:"tips",children:bD.map(r=>u.jsxs("article",{className:"tip-card glass-panel",children:[u.jsxs("div",{className:"tip-header",children:[u.jsx(Rh,{size:18}),u.jsx("h4",{children:r.title})]}),u.jsx("p",{children:r.desc})]},r.title))})]}),u.jsx("style",{children:`
        .guide-view .hero {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1.75rem;
          border-radius: var(--radius-xl);
          background: linear-gradient(135deg, rgba(139,92,246,0.08), rgba(244,114,182,0.1));
          border: 1px solid rgba(139,92,246,0.15);
        }
        .eyebrow {
          text-transform: uppercase;
          letter-spacing: 0.8px;
          font-size: 0.78rem;
          color: var(--color-text-muted);
          margin-bottom: 0.3rem;
        }
        .title {
          font-size: 1.8rem;
          margin-bottom: 0.35rem;
        }
        .subtitle {
          color: var(--color-text-muted);
          max-width: 520px;
        }
        .muted { color: var(--color-text-muted); }
        .chips {
          display: flex;
          gap: 0.5rem;
          flex-wrap: wrap;
          margin-top: 0.75rem;
        }
        .chip {
          display: inline-flex;
          align-items: center;
          gap: 0.4rem;
          padding: 0.45rem 0.75rem;
          border-radius: var(--radius-lg);
          background: white;
          border: 1px solid var(--color-border);
          color: var(--color-text-main);
          font-size: 0.9rem;
        }
        .hero-icon {
          color: var(--color-primary);
          opacity: 0.8;
        }
        .grid {
          display: grid;
          grid-template-columns: 1.2fr 1fr;
          gap: 1.25rem;
          margin-top: 1.5rem;
        }
        .accordion {
          padding: 1.25rem;
          border-radius: var(--radius-lg);
        }
        .accordion h3 {
          margin-bottom: 1rem;
        }
        .accordion-item {
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          background: white;
          margin-bottom: 0.75rem;
          overflow: hidden;
        }
        .accordion-header {
          width: 100%;
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0.85rem 1rem;
          font-weight: 600;
          color: var(--color-text-main);
          background: transparent;
        }
        .accordion-body {
          list-style: disc;
          padding: 0.85rem 1.5rem 1rem;
          color: var(--color-text-muted);
        }
        .tips {
          display: grid;
          gap: 0.75rem;
        }
        .tip-card {
          padding: 1rem;
          border-radius: var(--radius-lg);
          border: 1px solid rgba(20,184,166,0.15);
          background: linear-gradient(135deg, rgba(20,184,166,0.06), rgba(255,255,255,0.95));
        }
        .tip-header {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-bottom: 0.35rem;
          color: var(--color-secondary);
        }
        @media (max-width: 960px) {
          .grid {
            grid-template-columns: 1fr;
          }
          .hero {
            flex-direction: column;
            align-items: flex-start;
            gap: 1rem;
          }
        }
      `})]})}function SD({value:t=[],onChange:e,placeholder:r="#etiket ekle"}){const[a,s]=D.useState(""),o=h=>{const m=h.trim();m&&(t.includes(m)||(e([...t,m]),s("")))},c=h=>{e(t.filter(m=>m!==h))},f=h=>{h.key==="Enter"&&(h.preventDefault(),o(a)),h.key==="Backspace"&&!a&&t.length&&c(t[t.length-1])};return u.jsxs("div",{className:"tag-input glass-panel",children:[u.jsxs("div",{className:"tags",children:[t.map(h=>u.jsxs("span",{className:"tag",children:[u.jsx(B5,{size:14}),h,u.jsx("button",{type:"button",onClick:()=>c(h),"aria-label":"etiketi sil",children:u.jsx(ea,{size:12})})]},h)),u.jsx("input",{value:a,onChange:h=>s(h.target.value),onKeyDown:f,placeholder:r})]}),u.jsx("style",{children:`
        .tag-input {
          border-radius: var(--radius-lg);
          padding: 0.75rem;
          border: 1px dashed var(--color-border);
          background: rgba(255,255,255,0.9);
        }
        .tags {
          display: flex;
          flex-wrap: wrap;
          gap: 0.5rem;
          align-items: center;
        }
        .tag {
          display: inline-flex;
          align-items: center;
          gap: 0.35rem;
          background: linear-gradient(135deg, rgba(139,92,246,0.12), rgba(244,114,182,0.12));
          color: var(--color-text-main);
          padding: 0.35rem 0.6rem;
          border-radius: var(--radius-md);
          font-size: 0.85rem;
          border: 1px solid rgba(139,92,246,0.2);
        }
        .tag button {
          background: transparent;
          border: none;
          cursor: pointer;
          display: flex;
          align-items: center;
          color: var(--color-text-muted);
        }
        input {
          border: none;
          outline: none;
          min-width: 120px;
          flex: 1;
          padding: 0.35rem 0.25rem;
          background: transparent;
          color: var(--color-text-main);
        }
      `})]})}const oh=[{key:"strategy_angle",label:"Strateji As"},{key:"target_age_min",label:"Ya Min"},{key:"target_age_max",label:"Ya Max"},{key:"target_age_notes",label:"Ya Notu"},{key:"target_location",label:"Lokasyon"},{key:"target_interests",label:"lgi Alanlar"},{key:"hook",label:"Hook (Kanca)"},{key:"ad_headline",label:"Balk"},{key:"body",label:"Gvde Metni"},{key:"cta",label:"CTA"},{key:"visual_idea",label:"Grsel Fikir"},{key:"tags",label:"Etiketler"},{key:"budget_note",label:"Bte Notu"}];function ED({open:t,suggestions:e,onClose:r,onApply:a}){const[s,o]=D.useState({});if(D.useEffect(()=>{if(e){const x={};oh.forEach(y=>{e[y.key]&&(x[y.key]=!0)}),o(x)}},[e]),!t||!e)return null;const c=x=>o(y=>({...y,[x]:!y[x]})),f=()=>{const x={};Object.entries(s).forEach(([y,w])=>{w&&e[y]!==void 0&&(x[y]=e[y])}),a(x)},h=()=>{const x={};oh.forEach(y=>{e[y.key]!==void 0&&(x[y.key]=e[y.key])}),a(x)},m=()=>{o({})},g=x=>Array.isArray(x)?x.join(", "):x;return u.jsx("div",{className:"modal-backdrop",children:u.jsxs("div",{className:"modal-card glass-panel",children:[u.jsxs("header",{className:"modal-header",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"AI Analizi (Gemini)"}),u.jsx("h3",{children:"nerileri Uygula?"})]}),u.jsx("button",{className:"close-btn",onClick:r,children:u.jsx(ea,{size:16})})]}),u.jsxs("div",{className:"summary",children:[u.jsx(lm,{size:18}),"AI nerilerini alan bazl onaylayabilir veya topluca uygulayabilirsin."]}),u.jsx("div",{className:"fields",children:oh.map(x=>{const y=e[x.key];if(y==null||y==="")return null;const w=s[x.key];return u.jsxs("div",{className:`field-row ${w?"accepted":""}`,children:[u.jsxs("div",{children:[u.jsx("p",{className:"field-label",children:x.label}),u.jsx("p",{className:"field-value",children:g(y)})]}),u.jsx("button",{className:"toggle-btn",onClick:()=>c(x.key),children:w?u.jsx(nm,{size:16}):u.jsx(ea,{size:16})})]},x.key)})}),u.jsxs("footer",{className:"modal-actions",children:[u.jsx("button",{className:"ghost",onClick:m,children:"Tmn Reddet"}),u.jsxs("div",{className:"action-right",children:[u.jsxs("button",{className:"secondary",onClick:h,children:[u.jsx(is,{size:16})," Tmn Uygula"]}),u.jsx("button",{className:"primary",onClick:f,children:"Seilenleri Uygula"})]})]}),u.jsx("style",{children:`
          .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.4);
            display: grid;
            place-items: center;
            z-index: 200;
            padding: 1rem;
          }
          .modal-card {
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 16px;
            border: 1px solid var(--color-border);
            padding: 1.25rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
          }
          .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
          }
          .eyebrow {
            text-transform: uppercase;
            letter-spacing: 0.6px;
            font-size: 0.78rem;
            color: var(--color-text-muted);
          }
          .close-btn {
            border: 1px solid var(--color-border);
            padding: 0.35rem;
            border-radius: 10px;
            background: white;
            cursor: pointer;
          }
          .summary {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-radius: 12px;
            background: rgba(20,184,166,0.1);
            border: 1px solid rgba(20,184,166,0.2);
            color: var(--color-text-main);
          }
          .fields {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            max-height: 60vh;
            overflow: auto;
          }
          .field-row {
            border: 1px solid var(--color-border);
            border-radius: 12px;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            align-items: flex-start;
            background: white;
          }
          .field-row.accepted {
            border-color: rgba(16,185,129,0.4);
            box-shadow: 0 0 0 1px rgba(16,185,129,0.2);
          }
          .field-label { font-weight: 700; margin-bottom: 0.2rem; }
          .field-value { color: var(--color-text-main); white-space: pre-wrap; }
          .toggle-btn {
            border: 1px solid var(--color-border);
            background: white;
            border-radius: 10px;
            padding: 0.35rem;
            cursor: pointer;
          }
          .modal-actions {
            display: flex;
            justify-content: space-between;
            gap: 0.75rem;
            flex-wrap: wrap;
          }
          .action-right {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
          }
          .ghost, .primary, .secondary {
            padding: 0.65rem 1.1rem;
            border-radius: 10px;
            border: 1px solid var(--color-border);
            background: white;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
          }
          .secondary {
            background: rgba(20,184,166,0.1);
            border-color: rgba(20,184,166,0.3);
          }
          .primary {
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            color: white;
            border: none;
          }
        `})]})})}const TD="gemini-2.5-flash",Lb=t=>`https://generativelanguage.googleapis.com/v1beta/models/${TD}:generateContent?key=${t}`;async function Fb(){const{data:t,error:e}=await Ae.from("ai_tokens").select("id,label,token,priority").order("priority",{ascending:!0}).order("created_at",{ascending:!0});if(e)throw e;return t||[]}async function kD(t){const e=await Fb();if(!e.length)throw new Error("AI token bulunamad. Ayarlar > Gemini Token blmne ekleyin.");const r=AD(t);let a;for(const s of e)try{const o=await fetch(Lb(s.token),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{response_mime_type:"application/json"}})});if(!o.ok){a=new Error(`Gemini hata: ${o.status}`);continue}const f=(await o.json())?.candidates?.[0]?.content?.parts?.[0]?.text||"",h=jD(f);if(h)return h;a=new Error("Gemini yant okunamad")}catch(o){a=o;continue}throw a||new Error("Gemini ars baarsz")}function AD(t){const{product_name:e,platform:r,strategy_angle:a,target_audience:s,ad_headline:o,hook:c,body:f,cta:h,visual_idea:m,tags:g,budget_note:x}=t;return`
Sen st dzey e-ticaret pazarlama asistansn. Reklam kreatifini deerlendir ve gelitir. Yalnzca aadaki JSON emasn dndr.
Metinleri satc olarak ilk azdan (ben/biz), samimi ama gven veren tonda yaz. 3. bir kii gibi konuma.

ema:
{
  "strategy_angle": "string",
  "target_age_min": "number",
  "target_age_max": "number",
  "target_age_notes": "string",
  "target_location": "string",
  "target_interests": ["string"],
  "hook": "string",
  "ad_headline": "string",
  "body": "string",
  "cta": "string",
  "visual_idea": "string",
  "tags": ["string"],
  "budget_note": "string"
}

Kontekst:
- rn: ${e||"Bilinmiyor"}
- Platform: ${r}
- Strateji: ${a||"Belirtilmedi"}
- Hedef kitle: ya ${s?.min||""}-${s?.max||""}, ilgi: ${(s?.interests||[]).join(", ")} lokasyon: ${s?.location||""}
- Metinler: hook="${c}", headline="${o}", body="${f}", cta="${h}"
- Grsel fikir: ${m}
- Etiketler: ${(g||[]).join(", ")}
- Bte: ${x||""}

kty yalnzca geerli JSON olarak ver.`}function jD(t){try{const e=t.trim().replace(/^```json/i,"").replace(/```$/,"");return JSON.parse(e)}catch{return null}}async function CD(t){const e=await Fb();if(!e.length)throw new Error("AI token bulunamad. Ayarlar > Gemini Token blmne ekleyin.");let r;for(const a of e)try{const s=await fetch(Lb(a.token),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}],generationConfig:{response_mime_type:"application/json"}})});if(!s.ok){r=new Error(`Gemini hata: ${s.status}`);continue}const c=(await s.json())?.candidates?.[0]?.content?.parts?.[0]?.text||"";if(c)return c;r=new Error("Gemini yant okunamad")}catch(s){r=s;continue}throw r||new Error("Gemini ars baarsz")}const ty=["Meta","TikTok","Google","YouTube","Email","Influencer"],ry=["Video","Image","Carousel"];function RD({products:t=[],onSave:e,saving:r}){const[a,s]=D.useState(1),[o,c]=D.useState({product_id:"",platform:ty[0],strategy_angle:"",target_age_min:"",target_age_max:"",target_age_notes:"",target_interests:"",target_location:"",hook:"",body:"",cta:"",visual_idea:"",tags:[],visual_type:ry[0],ad_headline:"",budget_note:""}),[f,h]=D.useState(!1),[m,g]=D.useState(null),x=D.useRef({}),y=A=>I=>{I&&(x.current[A]=I)},w=A=>{const I=x.current[A];I&&(I.style.height="auto",I.style.height=`${I.scrollHeight}px`)},S=()=>{Object.values(x.current).forEach(A=>{A.style.height=""})},_=()=>{Object.keys(x.current).forEach(w)},b=D.useMemo(()=>[{id:1,title:"rn ve Platform",desc:"rn se ve alacan platformu belirle"},{id:2,title:"Hedef Kitle",desc:"Kimin iin konutuunu netletir"},{id:3,title:"Kreatif Detaylar",desc:"Kanca + Gvde + CTA, grsel fikri ve etiketler"},{id:4,title:"Bte & Not",desc:"Balang btesi ve i notlar"}],[]),k=(A,I)=>c(G=>({...G,[A]:I})),R=()=>s(A=>Math.min(A+1,4)),T=()=>s(A=>Math.max(A-1,1)),L=async()=>{const A={min:o.target_age_min||void 0,max:o.target_age_max||void 0,notes:o.target_age_notes||void 0,interests:o.target_interests?o.target_interests.split(",").map(te=>te.trim()).filter(Boolean):[],location:o.target_location||void 0},I=`${o.hook}

${o.body}

${o.cta}`.trim(),G={product_id:o.product_id||null,platform:o.platform,strategy_angle:o.strategy_angle,target_audience:A,ad_copy_primary:I,ad_headline:o.ad_headline||o.hook,visual_type:o.visual_type,tags:o.tags,status:"Draft",metrics:{spend:0,roas:0,clicks:0,ctr:0,conversion_rate:0},notes:o.budget_note||o.visual_idea||""};await e(G),S()},H=async()=>{h(!0);try{const A={min:o.target_age_min,max:o.target_age_max,interests:o.target_interests?o.target_interests.split(",").map(te=>te.trim()).filter(Boolean):[],location:o.target_location,notes:o.target_age_notes},I={product_name:t.find(te=>te.id===o.product_id)?.name,platform:o.platform,strategy_angle:o.strategy_angle,target_audience:A,ad_headline:o.ad_headline,hook:o.hook,body:o.body,cta:o.cta,visual_idea:o.visual_idea,tags:o.tags,budget_note:o.budget_note},G=await kD(I);g(G)}catch(A){console.error("AI analiz hatas:",A),alert(A.message||"AI analizi baarsz.")}finally{h(!1)}},Y=A=>{const I={...o};A.strategy_angle&&(I.strategy_angle=A.strategy_angle),A.target_age_min&&(I.target_age_min=A.target_age_min),A.target_age_max&&(I.target_age_max=A.target_age_max),A.target_age_notes&&(I.target_age_notes=A.target_age_notes),A.target_location&&(I.target_location=A.target_location),A.target_interests&&(I.target_interests=A.target_interests.join(", ")),A.hook&&(I.hook=A.hook),A.ad_headline&&(I.ad_headline=A.ad_headline),A.body&&(I.body=A.body),A.cta&&(I.cta=A.cta),A.visual_idea&&(I.visual_idea=A.visual_idea),A.tags&&(I.tags=A.tags),A.budget_note&&(I.budget_note=A.budget_note),c(I),setTimeout(()=>_(),0),g(null)};return u.jsxs("div",{className:"wizard glass-panel fade-in",children:[u.jsxs("header",{className:"wizard-header",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Adm Adm Sihirbaz"}),u.jsx("h3",{children:"alma Alan"}),u.jsx("p",{className:"muted",children:"Skc formlar yok. Her admda kk ipularyla ilerle."})]}),u.jsx(is,{className:"accent-icon",size:28})]}),u.jsx("div",{className:"steps",children:b.map(A=>u.jsxs("div",{className:`step ${a===A.id?"active":""}`,children:[u.jsx("div",{className:"dot",children:A.id}),u.jsxs("div",{children:[u.jsx("p",{className:"step-title",children:A.title}),u.jsx("p",{className:"muted",children:A.desc})]})]},A.id))}),a===1&&u.jsxs("section",{className:"panel",children:[u.jsxs("div",{children:[u.jsx("label",{children:"rn"}),u.jsxs("select",{value:o.product_id,onChange:A=>k("product_id",A.target.value),children:[u.jsx("option",{value:"",children:"rn se (opsiyonel)"}),t.map(A=>u.jsx("option",{value:A.id,children:A.name||"Adsz rn"},A.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Platform"}),u.jsx("div",{className:"pill-row",children:ty.map(A=>u.jsx("button",{className:`pill ${o.platform===A?"active":""}`,onClick:()=>k("platform",A),type:"button",children:A},A))})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Strateji As"}),u.jsx("input",{value:o.strategy_angle,onChange:A=>k("strategy_angle",A.target.value),placeholder:"rn: Duygusal, FOMO, Sosyal Kant"})]})]}),a===2&&u.jsxs("section",{className:"panel two-col",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Ya Aral (min)"}),u.jsx("input",{type:"number",value:o.target_age_min,onChange:A=>k("target_age_min",A.target.value),placeholder:"18"})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Ya Aral (max)"}),u.jsx("input",{type:"number",value:o.target_age_max,onChange:A=>k("target_age_max",A.target.value),placeholder:"25"})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Lokasyon"}),u.jsx("input",{value:o.target_location,onChange:A=>k("target_location",A.target.value),placeholder:"stanbul, TR"})]}),u.jsxs("div",{className:"full",children:[u.jsx("label",{children:"lgi Alanlar (virglle)"}),u.jsx("textarea",{ref:y("target_interests"),value:o.target_interests,onChange:A=>{k("target_interests",A.target.value),w("target_interests")},onInput:()=>w("target_interests"),placeholder:"Doa, Kamp, Kahve, Yazlm",rows:2})]}),u.jsxs("div",{className:"full",children:[u.jsx("label",{children:"Ya Notu / Segment Detay"}),u.jsx("textarea",{ref:y("target_age_notes"),value:o.target_age_notes,onChange:A=>{k("target_age_notes",A.target.value),w("target_age_notes")},onInput:()=>w("target_age_notes"),placeholder:"rn: Arlk 20-30, renci ve yeni mezunlar",rows:2})]}),u.jsxs("div",{className:"tip",children:[u.jsx(H5,{size:16}),"lk cmlede problemi ve hedef kitleyi ayn anda syle: stanbulun scak yaznda ferahlamak isteyen kamplar iin"]})]}),a===3&&u.jsxs("section",{className:"panel",children:[u.jsxs("div",{className:"two-col",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Hook (Kanca)"}),u.jsx("input",{value:o.hook,onChange:A=>k("hook",A.target.value),placeholder:"lk 3 saniyede merak uyandr"})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Balk"}),u.jsx("input",{value:o.ad_headline,onChange:A=>k("ad_headline",A.target.value),placeholder:"Manet / Balk"})]})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Gvde Metni"}),u.jsx("textarea",{ref:y("body"),value:o.body,onChange:A=>{k("body",A.target.value),w("body")},onInput:()=>w("body"),placeholder:"Kullancnn sorununa odaklan, zm net syle",rows:3})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Harekete Geirici Mesaj (CTA)"}),u.jsx("input",{value:o.cta,onChange:A=>k("cta",A.target.value),placeholder:"imdi kefet, Hemen indir, Sepete ekle"})]}),u.jsxs("div",{className:"two-col",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Grsel/Senaryo Fikri"}),u.jsx("textarea",{ref:y("visual_idea"),value:o.visual_idea,onChange:A=>{k("visual_idea",A.target.value),w("visual_idea")},onInput:()=>w("visual_idea"),placeholder:"Video al sahnesi, rn yakn plan, testimonial",rows:2})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Grsel Tipi"}),u.jsx("div",{className:"pill-row",children:ry.map(A=>u.jsx("button",{className:`pill ${o.visual_type===A?"active":""}`,onClick:()=>k("visual_type",A),type:"button",children:A},A))})]})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Etiketler"}),u.jsx(SD,{value:o.tags,onChange:A=>k("tags",A),placeholder:"#indirim, #yazsezonu"})]}),u.jsxs("div",{className:"tip",children:[u.jsx(Rh,{size:16}),"CTAy tek bir fiil + fayda ile bitir: Hemen dene ve serinle."]})]}),a===4&&u.jsxs("section",{className:"panel two-col",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Bte Notu"}),u.jsx("textarea",{ref:y("budget_note"),value:o.budget_note,onChange:A=>{k("budget_note",A.target.value),w("budget_note")},onInput:()=>w("budget_note"),placeholder:"Balang btesi, beklenen CPA/ROAS",rows:3})]}),u.jsxs("div",{className:"callout",children:[u.jsx(is,{size:18}),u.jsxs("div",{children:[u.jsx("p",{className:"callout-title",children:"Son dokunu"}),u.jsx("p",{className:"muted",children:"Kaydettikten sonra Analitik Merkezi'nde kart olarak greceksin. Yksek ROAS iin kancay test et."})]})]})]}),u.jsxs("footer",{className:"wizard-actions",children:[u.jsx("div",{className:"wizard-actions-left",children:u.jsx("button",{onClick:T,disabled:a===1,className:"ghost",children:"Geri"})}),u.jsxs("div",{className:"wizard-actions-right",children:[u.jsxs("button",{className:"secondary",onClick:H,disabled:f,children:[u.jsx($A,{size:16}),f?"Analiz ediliyor...":"AI ile analiz et"]}),a<4?u.jsxs("button",{onClick:R,className:"primary",children:["leri ",u.jsx(c5,{size:18})]}):u.jsx("button",{onClick:L,className:"primary",disabled:r,children:r?"Kaydediliyor...":"Reklam Kaydet"})]})]}),u.jsx(ED,{open:!!m,suggestions:m,onClose:()=>g(null),onApply:Y}),u.jsx("style",{children:`
        .wizard {
          padding: 1.5rem;
          border-radius: var(--radius-xl);
          background: white;
          border: 1px solid var(--color-border);
          box-shadow: var(--shadow-md);
        }
        .wizard-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1rem;
        }
        .muted { color: var(--color-text-muted); }
        .eyebrow { text-transform: uppercase; letter-spacing: 1px; font-size: 0.75rem; color: var(--color-text-muted); }
        h3 { margin: 0.1rem 0; }
        .accent-icon { color: var(--color-primary); }
        .steps {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
          gap: 0.75rem;
          margin: 1rem 0 1.25rem;
        }
        .step {
          border: 1px dashed var(--color-border);
          padding: 0.9rem;
          border-radius: var(--radius-lg);
          display: flex;
          gap: 0.75rem;
          align-items: flex-start;
          background: rgba(255,255,255,0.9);
        }
        .step.active {
          border-color: var(--color-primary);
          background: linear-gradient(135deg, rgba(139,92,246,0.08), rgba(255,255,255,0.95));
          box-shadow: var(--shadow-sm);
        }
        .dot {
          width: 32px;
          height: 32px;
          border-radius: 999px;
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
          color: white;
          display: grid;
          place-items: center;
          font-weight: 700;
        }
        .panel {
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          padding: 1.1rem;
          background: rgba(255,255,255,0.95);
          display: flex;
          flex-direction: column;
          gap: 0.9rem;
        }
        .panel.two-col {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
          gap: 0.85rem;
        }
        label {
          font-weight: 600;
          color: var(--color-text-main);
          display: block;
          margin-bottom: 0.35rem;
        }
        input, textarea, select {
          width: 100%;
          padding: 0.65rem 0.75rem;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          background: white;
          transition: border var(--transition-fast), box-shadow var(--transition-fast);
        }
        textarea {
          resize: none;
          overflow: hidden;
        }
        input:focus, textarea:focus, select:focus {
          border-color: var(--color-primary);
          box-shadow: 0 0 0 3px rgba(139,92,246,0.15);
        }
        .pill-row {
          display: flex;
          gap: 0.5rem;
          flex-wrap: wrap;
        }
        .pill {
          padding: 0.55rem 0.9rem;
          border-radius: 999px;
          border: 1px solid var(--color-border);
          background: white;
          color: var(--color-text-main);
          cursor: pointer;
          transition: all var(--transition-fast);
        }
        .pill.active {
          border-color: var(--color-primary);
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
          color: white;
          box-shadow: var(--shadow-sm);
        }
        .tip {
          display: flex;
          gap: 0.5rem;
          align-items: flex-start;
          font-size: 0.95rem;
          color: var(--color-text-muted);
          padding: 0.75rem;
          border-radius: var(--radius-md);
          background: rgba(20,184,166,0.08);
          border: 1px solid rgba(20,184,166,0.12);
        }
        .callout {
          display: flex;
          gap: 0.75rem;
          border: 1px solid rgba(139,92,246,0.2);
          background: linear-gradient(135deg, rgba(139,92,246,0.07), rgba(244,114,182,0.07));
          border-radius: var(--radius-lg);
          padding: 0.9rem;
        }
        .callout-title { font-weight: 700; margin-bottom: 0.15rem; }
        .wizard-actions {
          display: flex;
          justify-content: space-between;
          margin-top: 1rem;
          gap: 0.75rem;
          flex-wrap: wrap;
        }
        .wizard-actions-left,
        .wizard-actions-right {
          display: flex;
          gap: 0.6rem;
          align-items: center;
          flex-wrap: wrap;
        }
        .ghost, .primary, .secondary {
          padding: 0.65rem 1.1rem;
          border-radius: var(--radius-md);
          border: 1px solid var(--color-border);
          background: white;
          font-weight: 600;
          display: inline-flex;
          align-items: center;
          gap: 0.35rem;
        }
        .ghost:disabled { opacity: 0.4; }
        .primary {
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
          color: white;
          border: none;
          box-shadow: var(--shadow-sm);
        }
        .secondary {
          background: rgba(20,184,166,0.1);
          color: var(--color-text-main);
          border-color: rgba(20,184,166,0.3);
        }
        @media (max-width: 720px) {
          .wizard-actions { flex-direction: column; gap: 0.6rem; }
          .primary, .ghost, .secondary { width: 100%; justify-content: center; }
        }
      `})]})}const OD=t=>t>=3?"success":t>=1.5?"warning":"error";function ND({creative:t,onSelectCompare:e,selected:r,onOpenDetail:a}){const s=t.metrics||{},o=Number(s.roas??0),c=OD(o);return u.jsxs("article",{className:`creative-card glass-panel ${r?"selected":""}`,children:[u.jsxs("header",{className:"card-header",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:t.platform}),u.jsx("h4",{children:t.ad_headline||"Balksz Reklam"}),u.jsx("p",{className:"muted",children:t.strategy_angle||"Strateji: N/A"})]}),u.jsx(Dh,{status:t.status})]}),u.jsxs("p",{className:"copy-preview",children:[t.ad_copy_primary?.slice(0,120)||"Henz metin eklenmedi","..."]}),u.jsxs("div",{className:"metrics",children:[u.jsx(Ru,{label:"ROAS",value:o,icon:o>=2?J_:MA,tone:c,suffix:"x"}),u.jsx(Ru,{label:"Harcama",value:s.spend??0,icon:O5,prefix:"$"}),u.jsx(Ru,{label:"Tklama",value:s.clicks??0,icon:Fo}),u.jsx(Ru,{label:"CTR",value:s.ctr??0,icon:X4,suffix:"%"})]}),u.jsxs("footer",{className:"card-actions",children:[u.jsxs("div",{className:"tags",children:[(t.tags||[]).slice(0,3).map(f=>u.jsxs("span",{children:["#",f]},f)),t.visual_type&&u.jsx("span",{className:"pill",children:t.visual_type})]}),u.jsxs("div",{className:"actions",children:[u.jsx("button",{className:"ghost-btn",onClick:()=>a?.(t),children:"Detay / Dzenle"}),u.jsxs("button",{className:`compare-btn ${r?"active":""}`,onClick:()=>e(t.id),children:[r?u.jsx(oA,{size:16}):u.jsx(sm,{size:16}),r?"Seildi":"Karlatr"]})]})]}),u.jsx("style",{children:`
        .creative-card {
          border-radius: var(--radius-xl);
          padding: 1rem;
          border: 1px solid var(--color-border);
          display: flex;
          flex-direction: column;
          gap: 0.7rem;
          background: linear-gradient(135deg, rgba(248,250,252,0.9), rgba(255,255,255,0.98));
        }
        .creative-card.selected {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-glow);
        }
        .card-header {
          display: flex;
          justify-content: space-between;
          gap: 1rem;
          align-items: flex-start;
        }
        h4 { margin: 0.15rem 0; }
        .muted { color: var(--color-text-muted); }
        .copy-preview { color: var(--color-text-main); }
        .eyebrow { text-transform: uppercase; letter-spacing: 0.5px; font-size: 0.78rem; color: var(--color-text-muted); }
        .metrics {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          gap: 0.5rem;
        }
        .card-actions {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 0.5rem;
        }
        .actions {
          display: flex;
          gap: 0.35rem;
          flex-wrap: wrap;
        }
        .tags {
          display: flex;
          gap: 0.35rem;
          flex-wrap: wrap;
        }
        .tags span, .pill {
          background: rgba(139,92,246,0.08);
          color: var(--color-text-main);
          padding: 0.35rem 0.55rem;
          border-radius: var(--radius-md);
          font-size: 0.9rem;
        }
        .compare-btn {
          border: 1px solid var(--color-border);
          background: white;
          padding: 0.45rem 0.9rem;
          border-radius: var(--radius-md);
          display: inline-flex;
          align-items: center;
          gap: 0.4rem;
          cursor: pointer;
          transition: all var(--transition-fast);
        }
        .compare-btn.active {
          border-color: var(--color-primary);
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
          color: white;
        }
        .ghost-btn {
          border: 1px solid var(--color-border);
          padding: 0.45rem 0.85rem;
          border-radius: var(--radius-md);
          background: white;
          cursor: pointer;
        }
      `})]})}function Ru({label:t,value:e,icon:r,tone:a="neutral",prefix:s="",suffix:o=""}){return u.jsxs("div",{className:`metric metric-${a}`,children:[u.jsxs("div",{className:"metric-head",children:[u.jsx(r,{size:16}),u.jsx("span",{children:t})]}),u.jsxs("p",{className:"metric-value",children:[s,e,o]}),u.jsx("style",{children:`
        .metric {
          border: 1px dashed var(--color-border);
          border-radius: var(--radius-md);
          padding: 0.6rem 0.75rem;
          background: white;
        }
        .metric-head {
          display: flex;
          gap: 0.35rem;
          align-items: center;
          color: var(--color-text-muted);
          font-size: 0.9rem;
        }
        .metric-value {
          font-weight: 700;
          margin-top: 0.2rem;
          color: var(--color-text-main);
        }
        .metric-success { border-color: rgba(16,185,129,0.25); }
        .metric-warning { border-color: rgba(245,158,11,0.25); }
        .metric-error { border-color: rgba(239,68,68,0.25); }
      `})]})}const DD=[{key:"spend",label:"Harcama"},{key:"roas",label:"ROAS"},{key:"clicks",label:"Tklama"}];function MD({open:t,onClose:e,left:r,right:a}){if(!t||!r||!a)return null;const s=r.metrics||{},o=a.metrics||{},c=(f,h)=>{const m=Math.max(Number(f)||0,Number(h)||0,1);return{left:(Number(f)||0)/m*100,right:(Number(h)||0)/m*100}};return u.jsxs("div",{className:"modal-backdrop",children:[u.jsxs("div",{className:"modal-card glass-panel",children:[u.jsxs("header",{children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"VS Modu"}),u.jsxs("h3",{children:[r.ad_headline||"Reklam A"," vs ",a.ad_headline||"Reklam B"]})]}),u.jsx("button",{onClick:e,className:"close-btn",children:u.jsx(ea,{size:18})})]}),u.jsxs("div",{className:"compare-grid",children:[u.jsxs("div",{className:"side",children:[u.jsx("p",{className:"eyebrow",children:r.platform}),u.jsx("h4",{children:r.ad_headline||"Reklam A"}),u.jsx("p",{className:"muted",children:r.strategy_angle||"Strateji yok"})]}),u.jsx("div",{className:"bars",children:DD.map(({key:f,label:h})=>{const m=s[f]??0,g=o[f]??0,x=c(m,g);return u.jsxs("div",{className:"bar-row",children:[u.jsx("span",{children:h}),u.jsxs("div",{className:"bars-stack",children:[u.jsx("div",{className:"bar left",style:{width:`${x.left}%`},title:`${m}`}),u.jsx("div",{className:"bar right",style:{width:`${x.right}%`},title:`${g}`})]}),u.jsxs("div",{className:"bar-values",children:[u.jsx("span",{children:m}),u.jsx("span",{children:g})]})]},f)})}),u.jsxs("div",{className:"side right",children:[u.jsx("p",{className:"eyebrow",children:a.platform}),u.jsx("h4",{children:a.ad_headline||"Reklam B"}),u.jsx("p",{className:"muted",children:a.strategy_angle||"Strateji yok"})]})]})]}),u.jsx("style",{children:`
        .modal-backdrop {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.4);
          display: grid;
          place-items: center;
          z-index: 200;
          padding: 1rem;
        }
        .modal-card {
          max-width: 900px;
          width: 100%;
          padding: 1.25rem;
          border-radius: var(--radius-xl);
          border: 1px solid var(--color-border);
        }
        header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 1rem;
        }
        .eyebrow {
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-size: 0.78rem;
          color: var(--color-text-muted);
        }
        .muted { color: var(--color-text-muted); }
        .close-btn {
          border: 1px solid var(--color-border);
          padding: 0.35rem;
          border-radius: var(--radius-md);
          background: white;
          cursor: pointer;
        }
        .compare-grid {
          display: grid;
          grid-template-columns: 1fr 1.2fr 1fr;
          gap: 0.75rem;
          align-items: center;
        }
        .side h4 { margin: 0.25rem 0; }
        .bars {
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }
        .bar-row span { font-weight: 600; }
        .bars-stack {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 0.25rem;
          align-items: center;
          margin: 0.3rem 0;
        }
        .bar {
          height: 12px;
          border-radius: 999px;
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
        }
        .bar.right {
          background: linear-gradient(135deg, var(--color-secondary), var(--color-accent));
        }
        .bar-values {
          display: flex;
          justify-content: space-between;
          color: var(--color-text-muted);
          font-size: 0.9rem;
        }
        @media (max-width: 820px) {
          .compare-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})}function zD({creatives:t=[],compareSelection:e=[],onToggleCompare:r,onCloseCompare:a,onUpdateCreative:s}){const[o,c]=e,[f,h]=D.useState(null),[m,g]=D.useState(!1),[x,y]=D.useState(""),[w,S]=D.useState([]),_=D.useRef(null),[b,k]=D.useState(""),[R,T]=D.useState(!1),L=D.useMemo(()=>t.find(ee=>ee.id===o),[t,o]),H=D.useMemo(()=>t.find(ee=>ee.id===c),[t,c]),Y=async ee=>{const{data:ie,error:ye}=await Ae.from("creative_history").select("*").eq("creative_id",ee).order("created_at",{ascending:!1}).limit(200);ye||S(ie||[])},A=ee=>{h({...ee,metrics:{spend:ee.metrics?.spend??0,roas:ee.metrics?.roas??0,clicks:ee.metrics?.clicks??0,ctr:ee.metrics?.ctr??0,conversion_rate:ee.metrics?.conversion_rate??0}}),_.current={status:ee.status,notes:ee.notes,metrics:{...ee.metrics||{}}},y(""),Y(ee.id)},I=(ee,ie)=>{h(ye=>({...ye,[ee]:ie}))},G=(ee,ie)=>{h(ye=>({...ye,metrics:{...ye.metrics,[ee]:ie}}))},te=async()=>{if(f){g(!0),y(""),k("");try{const{id:ee,status:ie,notes:ye,metrics:qe}=f,{error:ce}=await Ae.from("marketing_creatives").update({status:ie,notes:ye,metrics:qe}).eq("id",ee);if(ce)throw ce;const J=_.current||{},me=[];ie!==J.status&&me.push(`Durum: ${J.status||"-"}  ${ie}`),ye!==J.notes&&me.push("Notlar gncellendi");const Ce=J.metrics||{},Fe=qe||{};["spend","roas","clicks","ctr","conversion_rate"].forEach(C=>{Fe[C]!==Ce[C]&&me.push(`${C}: ${Ce[C]??0}  ${Fe[C]??0}`)});const j={creative_id:ee,changes:me.length?me:["Kaydedildi"]};await Ae.from("creative_history").insert(j),S(C=>[{...j,at:new Date().toISOString(),kind:LD(me)},...C]),s?.(ee,{status:ie,notes:ye,metrics:qe}),_.current={status:ie,notes:ye,metrics:{...qe}},h(C=>({...C,status:ie,notes:ye,metrics:qe})),k("Kaydedildi")}catch(ee){y(ee.message||"Kaydedilemedi")}finally{g(!1)}}};return u.jsxs("div",{className:"analytics-view fade-in",children:[u.jsxs("header",{className:"analytics-header",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Analitik Merkezi"}),u.jsx("h3",{children:"Performans & Karlatrma"}),u.jsx("p",{className:"muted",children:"Kartlar zerinde ROAS rozetleri, iki reklam arasnda VS modu."})]}),u.jsxs("div",{className:"shield",children:[u.jsx(lm,{size:20}),"Akll rozetler aktif"]})]}),u.jsxs("div",{className:"cards-grid",children:[t.map(ee=>u.jsx(ND,{creative:ee,onSelectCompare:r,selected:e.includes(ee.id),onOpenDetail:A},ee.id)),t.length===0&&u.jsxs("div",{className:"empty glass-panel",children:[u.jsx(a5,{size:20}),"Henz reklam yok. Sihirbazdan bir reklam ekle."]})]}),u.jsx(MD,{open:e.length===2,onClose:a,left:L,right:H}),u.jsx(BD,{open:!!f,detail:f,onClose:()=>h(null),onChange:I,onMetricChange:G,onSave:te,saving:m,error:x,history:w.filter(ee=>ee.creative_id===f?.id),saveNotice:b,onOpenFullHistory:()=>T(!0)}),u.jsx(FD,{open:R,onClose:()=>T(!1),history:w.filter(ee=>ee.creative_id===f?.id)}),u.jsx("style",{children:`
        .analytics-view {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }
        .eyebrow {
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-size: 0.78rem;
          color: var(--color-text-muted);
        }
        .muted { color: var(--color-text-muted); }
        .analytics-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        .shield {
          display: inline-flex;
          gap: 0.5rem;
          align-items: center;
          padding: 0.5rem 0.75rem;
          border-radius: var(--radius-lg);
          background: rgba(16,185,129,0.12);
          border: 1px solid rgba(16,185,129,0.2);
          color: var(--color-text-main);
          font-weight: 600;
        }
        .cards-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 1rem;
        }
        .empty {
          padding: 1rem;
          border: 1px dashed var(--color-border);
          display: inline-flex;
          gap: 0.5rem;
          align-items: center;
          color: var(--color-text-muted);
        }
        @media (max-width: 720px) {
          .analytics-header {
            flex-direction: column;
            gap: 0.75rem;
            align-items: flex-start;
          }
        }
      `})]})}function LD(t=[]){const e=t.join(" ").toLowerCase();return e.includes("durum")?"status":e.includes("not")?"notes":e.includes("roas")?"roas":e.includes("harcama")||e.includes("spend")?"spend":e.includes("tklama")?"clicks":e.includes("ctr")?"ctr":e.includes("conversion")?"conversion_rate":"other"}function FD({open:t,onClose:e,history:r}){const[a,s]=D.useState(""),[o,c]=D.useState(""),[f,h]=D.useState(""),[m,g]=D.useState({status:!0,notes:!0,spend:!0,roas:!0,clicks:!0,ctr:!0,conversion_rate:!0,other:!0});if(D.useEffect(()=>(t&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[t]),!t)return null;const x=(r||[]).filter(y=>{const w=new Date(y.at||y.created_at);if(o&&w<new Date(o))return!1;if(f){const _=new Date(f);if(_.setHours(23,59,59,999),w>_)return!1}const S=Object.entries(m).filter(([,_])=>_).map(([_])=>_);if(S.length&&y.kind&&!S.includes(y.kind))return!1;if(a){const _=a.toLowerCase(),b=y.changes?.some(R=>R.toLowerCase().includes(_)),k=w.toLocaleString("tr-TR").toLowerCase().includes(_);return b||k}return!0});return u.jsxs(ns,{title:"Tm Gemi",isOpen:t,onClose:e,children:[u.jsxs("div",{className:"modal-card-full glass-panel theme-light",children:[u.jsx("header",{className:"modal-header",children:u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Tm Gemi"}),u.jsx("h3",{children:"Deiiklik Kaytlar"})]})}),u.jsxs("div",{className:"history-filters full",children:[u.jsxs("div",{className:"filter-item",children:[u.jsxs("label",{children:[u.jsx(H_,{size:14})," Metin"]}),u.jsx("input",{value:a,onChange:y=>s(y.target.value),placeholder:"Metin veya tarih ara"})]}),u.jsxs("div",{className:"filter-item",children:[u.jsx("label",{children:"Balang"}),u.jsx("input",{type:"date",value:o,onChange:y=>c(y.target.value)})]}),u.jsxs("div",{className:"filter-item",children:[u.jsx("label",{children:"Biti"}),u.jsx("input",{type:"date",value:f,onChange:y=>h(y.target.value)})]}),u.jsxs("div",{className:"filter-item checkbox-group",children:[u.jsx("label",{children:"Alanlar"}),u.jsx("div",{className:"checkboxes",children:[["status","Durum"],["notes","Notlar"],["spend","Harcama"],["roas","ROAS"],["clicks","Tklama"],["ctr","CTR"],["conversion_rate","CR"],["other","Dier"]].map(([y,w])=>u.jsxs("label",{className:"chk",children:[u.jsx("input",{type:"checkbox",checked:m[y],onChange:S=>g(_=>({..._,[y]:S.target.checked}))}),u.jsx("span",{children:w})]},y))})]})]}),u.jsxs("div",{className:"history-list full",children:[x.map(y=>u.jsxs("div",{className:"history-item",children:[u.jsx("p",{className:"history-time",children:new Date(y.at||y.created_at).toLocaleString("tr-TR")}),u.jsx("ul",{children:y.changes?.map((w,S)=>u.jsx("li",{children:w},S))})]},y.at||y.created_at)),x.length===0&&u.jsx("p",{className:"muted",children:"Kayt yok."})]})]}),u.jsx("style",{children:`
        .modal-card-full {
          max-width: 900px;
          width: 100%;
          max-height: 80vh;
          overflow: hidden;
          background: linear-gradient(145deg, rgba(255,255,255,0.98), rgba(248,250,252,0.96));
          border-radius: 16px;
          border: 1px solid var(--color-border);
          padding: 1.1rem;
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
          box-shadow: var(--shadow-lg);
        }
        .history-list.full {
          max-height: 60vh;
          overflow: auto;
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          padding-right: 0.35rem;
        }
      `})]})}function BD({open:t,detail:e,onClose:r,onChange:a,onMetricChange:s,onSave:o,saving:c,error:f,history:h,saveNotice:m,onOpenFullHistory:g}){const x=D.useRef(null),y=(h||[]).slice(0,3);if(D.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),D.useEffect(()=>{x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)},[e?.notes]),!t||!e)return null;const w=e.metrics||{},S=_=>Number(_??0);return u.jsx(ns,{title:"Reklam Detay",isOpen:t,onClose:r,children:u.jsxs("div",{className:"modal-card-body theme-light",children:[u.jsxs("div",{className:"modal-head-inline",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Reklam Detay"}),u.jsx("h3",{children:e.ad_headline||"Balk yok"})]}),m&&u.jsx("span",{className:"save-notice chip",children:m})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"grid",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Platform"}),u.jsx("div",{className:"pill",children:e.platform})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Durum"}),u.jsx("select",{value:e.status,onChange:_=>a("status",_.target.value),children:["Draft","Active","Paused","Completed"].map(_=>u.jsx("option",{value:_,children:_},_))})]})]}),u.jsxs("div",{className:"grid metrics",children:[u.jsx(wo,{label:"Harcama ($)",value:w.spend,onChange:_=>s("spend",S(_))}),u.jsx(wo,{label:"ROAS",value:w.roas,onChange:_=>s("roas",S(_))}),u.jsx(wo,{label:"Tklama",value:w.clicks,onChange:_=>s("clicks",S(_))}),u.jsx(wo,{label:"CTR (%)",value:w.ctr,onChange:_=>s("ctr",S(_))}),u.jsx(wo,{label:"Conversion Rate (%)",value:w.conversion_rate,onChange:_=>s("conversion_rate",S(_))})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Notlar"}),u.jsx("textarea",{ref:x,value:e.notes||"",onChange:_=>a("notes",_.target.value),rows:3,onInput:()=>{x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)}})]}),f&&u.jsx("div",{className:"error",children:f}),u.jsxs("div",{className:"history",children:[u.jsxs("div",{className:"history-head",children:[u.jsx(x5,{size:16}),u.jsx("span",{children:"Deiiklik Gemii (Son 3)"})]}),y&&y.length?u.jsx("div",{className:"history-list",children:y.map(_=>u.jsxs("div",{className:"history-item",children:[u.jsx("p",{className:"history-time",children:new Date(_.at).toLocaleString("tr-TR")}),u.jsx("ul",{children:_.changes.map((b,k)=>u.jsx("li",{children:b},k))})]},_.at))}):u.jsx("p",{className:"muted",children:"Henz deiiklik yok."}),u.jsxs("div",{className:"history-footer",children:[u.jsx("button",{className:"ghost-btn",onClick:g,children:"Tm Gemii Gr"}),m&&u.jsx("span",{className:"save-notice",children:m})]})]})]}),u.jsxs("footer",{className:"modal-actions",children:[u.jsx("button",{className:"ghost-btn",onClick:r,children:"Kapat"}),u.jsxs("button",{className:"primary",onClick:o,disabled:c,children:[u.jsx(Xo,{size:16})," ",c?"Kaydediliyor...":"Kaydet"]})]}),u.jsx("style",{children:`
          .modal-card-body {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-height: 75vh;
            color: var(--color-text-main);
          }
          .modal-head-inline {
            display: flex;
            justify-content: space-between;
            align-items: center;
          }
          .chip {
            padding: 0.35rem 0.6rem;
            border-radius: 10px;
            background: rgba(16,185,129,0.12);
            color: var(--color-text-main);
            border: 1px solid rgba(16,185,129,0.25);
            font-weight: 600;
          }
          .modal-body {
            display: flex;
            flex-direction: column;
            gap: 0.9rem;
            overflow: auto;
            padding-right: 0.35rem;
          }
          .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 0.75rem;
          }
          .grid.metrics {
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          }
          label { font-weight: 600; color: var(--color-text-main); }
          textarea, input, select {
            width: 100%;
            padding: 0.65rem 0.75rem;
            border: 1px solid var(--color-border);
            border-radius: 10px;
            background: white;
          }
          textarea { resize: none; overflow: hidden; }
          .pill {
            display: inline-flex;
            padding: 0.4rem 0.75rem;
            border-radius: 999px;
            background: rgba(139,92,246,0.1);
            color: var(--color-text-main);
            border: 1px solid var(--color-border);
          }
          .modal-actions {
            display: flex;
            justify-content: space-between;
            gap: 0.5rem;
            flex-wrap: wrap;
          }
          .ghost-btn, .primary {
            padding: 0.65rem 1rem;
            border-radius: 10px;
            border: 1px solid var(--color-border);
            background: white;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
          }
          .primary {
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            color: white;
            border: none;
          }
          .error {
            background: rgba(239,68,68,0.08);
            border: 1px solid rgba(239,68,68,0.2);
            color: var(--color-text-main);
            padding: 0.6rem 0.75rem;
            border-radius: 10px;
          }
          .history {
            border: 1px dashed var(--color-border);
            border-radius: 12px;
            padding: 0.75rem;
            background: white;
          }
          .history-head {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
          }
          .history-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            max-height: 240px;
            overflow: auto;
            padding-right: 0.35rem;
          }
          .history-item {
            padding: 0.5rem 0.6rem;
            border: 1px solid var(--color-border);
            border-radius: 10px;
            background: rgba(248,250,252,0.8);
          }
          .history-time { font-size: 0.9rem; color: var(--color-text-muted); margin-bottom: 0.25rem; }
          .history-item ul { margin: 0; padding-left: 1.1rem; color: var(--color-text-main); }
        `})]})})}function wo({label:t,value:e,onChange:r}){return u.jsxs("div",{className:"field",children:[u.jsx("label",{children:t}),u.jsx("input",{type:"number",value:e,onChange:a=>r(a.target.value)})]})}const ny=[{id:"guide",label:"Rehber",icon:I_},{id:"workspace",label:"alma Alan",icon:qA},{id:"analytics",label:"Analitik Merkezi",icon:r5}];function ID(){const[t,e]=D.useState("guide"),[r,a]=D.useState([]),[s,o]=D.useState([]),[c,f]=D.useState(!0),[h,m]=D.useState(!1),[g,x]=D.useState(""),[y,w]=D.useState([]),S=D.useMemo(()=>ny.find(T=>T.id===t)?.label||"Yaratc Laboratuvar",[t]);D.useEffect(()=>{(async()=>{try{const[{data:L,error:H},{data:Y,error:A}]=await Promise.all([Ae.from("products").select("id,name"),Ae.from("marketing_creatives").select("*").order("created_at",{ascending:!1})]);if(H||A)throw H||A;a(L||[]),o(Y||[])}catch(L){console.error("Creative Lab load error",L),x("Veriler yklenirken bir sorun olutu")}finally{f(!1)}})()},[]);const _=async T=>{m(!0),x("");try{const{data:L,error:H}=await Ae.from("marketing_creatives").insert(T).select().single();if(H)throw H;o(Y=>[L,...Y]),e("analytics"),b()}catch(L){console.error("Creative save error",L),L?.code==="42501"||(L?.message||"").includes("row-level security")?x("Eriim reddedildi. Oturumunun ak olduundan ve Supabase politikalarnn uygulandndan emin ol."):x("Reklam kaydedilirken bir hata olutu")}finally{m(!1)}},b=()=>{yD({particleCount:120,spread:70,origin:{y:.7}})},k=T=>{w(L=>L.includes(T)?L.filter(H=>H!==T):L.length===2?[L[1],T]:[...L,T])},R=()=>w([]);return u.jsxs("div",{className:"creative-lab-page fade-in",children:[u.jsxs("header",{className:"page-head",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Yaratc Laboratuvar"}),u.jsx("h2",{className:"text-gradient",children:S}),u.jsx("p",{className:"muted",children:"Pazarlama kokpiti: rehber, sihirbaz ve analiz tek ekranda."})]}),u.jsx("div",{className:"tabs",children:ny.map(T=>{const L=T.icon;return u.jsxs("button",{className:`tab ${t===T.id?"active":""}`,onClick:()=>e(T.id),children:[u.jsx(L,{size:18}),T.label]},T.id)})})]}),g&&u.jsxs("div",{className:"toast error",children:[u.jsx(h5,{size:18}),g]}),c?u.jsx("div",{className:"loader",children:"Ykleniyor..."}):u.jsxs(u.Fragment,{children:[t==="guide"&&u.jsx(wD,{}),t==="workspace"&&u.jsx(RD,{products:r,onSave:_,saving:h}),t==="analytics"&&u.jsx(zD,{creatives:s,compareSelection:y,onToggleCompare:k,onCloseCompare:R,onUpdateCreative:(T,L)=>{o(H=>H.map(Y=>Y.id===T?{...Y,...L}:Y))}})]}),u.jsx("style",{children:`
        .creative-lab-page {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }
        .page-head {
          display: flex;
          justify-content: space-between;
          align-items: flex-end;
          gap: 1rem;
          flex-wrap: wrap;
        }
        .tabs {
          display: inline-flex;
          gap: 0.5rem;
          background: rgba(255,255,255,0.9);
          border: 1px solid var(--color-border);
          padding: 0.35rem;
          border-radius: var(--radius-xl);
          box-shadow: var(--shadow-sm);
        }
        .tab {
          display: inline-flex;
          align-items: center;
          gap: 0.4rem;
          padding: 0.5rem 0.9rem;
          border-radius: var(--radius-lg);
          border: none;
          background: transparent;
          color: var(--color-text-muted);
          font-weight: 600;
          transition: all var(--transition-fast);
        }
        .tab.active {
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
          color: white;
          box-shadow: var(--shadow-sm);
        }
        .toast {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.75rem 1rem;
          border-radius: var(--radius-lg);
          border: 1px solid var(--color-border);
        }
        .toast.error {
          background: rgba(239,68,68,0.08);
          border-color: rgba(239,68,68,0.25);
          color: var(--color-text-main);
        }
        .eyebrow {
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-size: 0.78rem;
          color: var(--color-text-muted);
        }
        .muted {
          color: var(--color-text-muted);
        }
        .loader {
          padding: 1rem;
          color: var(--color-text-muted);
        }
      `})]})}function UD({weeks:t,selectedWeek:e,onSelectWeek:r}){return u.jsxs("div",{style:{width:"280px",background:"white",borderRight:"1px solid #e2e8f0",display:"flex",flexDirection:"column",overflow:"hidden"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"0.75rem"},children:[u.jsx(rm,{size:20,color:"var(--color-primary)"}),u.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:"700",color:"#1e293b"},children:"Haftalar"})]}),u.jsx("div",{style:{flex:1,overflowY:"auto",padding:"0.5rem"},children:t.map(a=>{const s=e?.id===a.id;return u.jsxs("button",{onClick:()=>r(a),style:{width:"100%",padding:"1rem",marginBottom:"0.5rem",border:"none",borderRadius:"var(--radius-md)",background:s?"var(--color-primary)":"transparent",color:s?"white":"#1e293b",textAlign:"left",cursor:"pointer",transition:"all 0.2s",fontWeight:s?"600":"500",fontSize:"14px"},onMouseEnter:o=>{s||(o.target.style.background="#f1f5f9")},onMouseLeave:o=>{s||(o.target.style.background="transparent")},children:[u.jsxs("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:["Hafta ",a.week_number]}),a.title&&u.jsx("div",{style:{fontSize:"12px",opacity:s?.9:.7},children:a.title})]},a.id)})})]})}function PD({weekId:t}){const[e,r]=D.useState([]),[a,s]=D.useState(!0),[o,c]=D.useState(""),[f,h]=D.useState(""),[m,g]=D.useState(!1),[x,y]=D.useState(null);D.useEffect(()=>{t&&w()},[t]);const w=async()=>{try{const{data:A,error:I}=await Ae.from("academy_resources").select("*").eq("week_id",t).order("created_at",{ascending:!1});if(I)throw I;r(A||[])}catch(A){console.error("Error fetching resources:",A)}finally{s(!1)}},S=A=>A.includes("instagram.com")?"instagram":A.includes("youtube.com")||A.includes("youtu.be")?"youtube":"website",_=A=>{const I=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,G=A.match(I);return G&&G[2].length===11?G[2]:null},b=A=>{const I=_(A);return I?`https://img.youtube.com/vi/${I}/maxresdefault.jpg`:null},k=A=>{const I=A.match(/instagram\.com\/([^\/\?]+)/);return I?I[1]:null},R=A=>{try{return new URL(A).hostname.replace("www.","")}catch{return A}},T=async()=>{if(o.trim()){g(!0);try{const A=S(o),I={};if(A==="youtube"){const te=_(o);te&&(I.videoId=te,I.embedUrl=`https://www.youtube.com/embed/${te}`)}const{error:G}=await Ae.from("academy_resources").insert([{week_id:t,resource_type:A,url:o,title:"",description:f.trim(),is_good_example:!0,embed_data:I}]);if(G)throw G;c(""),h(""),w()}catch(A){console.error("Error adding resource:",A),alert("Kaynak eklenirken hata olutu: "+A.message)}finally{g(!1)}}},L=async(A,I)=>{try{const{error:G}=await Ae.from("academy_resources").update({is_good_example:!I}).eq("id",A);if(G)throw G;w(),y(null)}catch(G){console.error("Error updating resource:",G),alert("Kaynak gncellenirken hata olutu: "+G.message)}},H=async A=>{try{const{error:I}=await Ae.from("academy_resources").delete().eq("id",A);if(I)throw I;w(),y(null)}catch(I){console.error("Error deleting resource:",I),alert("Kaynak silinirken hata olutu: "+I.message)}},Y=(A,I,G=null)=>{y({type:A,resourceId:I,currentValue:G})};return a?u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(nn,{className:"animate-spin",size:24,color:"var(--color-primary)"})}):u.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("div",{style:{background:"white",padding:"1.5rem",borderRadius:"var(--radius-lg)",marginBottom:"2rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#64748b",marginBottom:"0.5rem"},children:"Kaynak URL'si (Instagram, YouTube veya Website)"}),u.jsx("input",{type:"url",value:o,onChange:A=>c(A.target.value),onKeyPress:A=>A.key==="Enter"&&T(),placeholder:"https://instagram.com/p/... veya https://youtube.com/watch?v=... veya https://example.com",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"14px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#64748b",marginBottom:"0.5rem"},children:"Aklama (stee bal)"}),u.jsx("textarea",{value:f,onChange:A=>h(A.target.value),placeholder:"Bu kaynak hakknda ksa bir aklama yazn...",rows:2,style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}})]}),u.jsx("button",{onClick:T,disabled:m||!o.trim(),style:{padding:"0.75rem 1.5rem",background:"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:m||!o.trim()?"not-allowed":"pointer",opacity:m||!o.trim()?.6:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",alignSelf:"flex-start"},children:m?u.jsxs(u.Fragment,{children:[u.jsx(nn,{size:16,className:"animate-spin"}),u.jsx("span",{children:"Ekleniyor..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ti,{size:16}),u.jsx("span",{children:"Kaynak Ekle"})]})})]})}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:e.map(A=>{const I=A.is_good_example;return u.jsxs("div",{style:{background:"white",borderRadius:"var(--radius-lg)",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:`2px solid ${I?"#10b981":"#ef4444"}`,position:"relative"},children:[u.jsxs("div",{style:{position:"absolute",top:"1rem",right:"1rem",zIndex:10,display:"flex",gap:"0.5rem",alignItems:"center"},children:[u.jsxs("button",{onClick:()=>Y("toggle",A.id,A.is_good_example),style:{padding:"0.4rem 0.8rem",background:I?"#10b981":"#ef4444",color:"white",border:"none",borderRadius:"var(--radius-sm)",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.3rem"},children:[I?u.jsx(am,{size:12}):u.jsx(P_,{size:12}),I?"Doru rnek":"Yanl rnek"]}),u.jsx("button",{onClick:()=>Y("delete",A.id),style:{padding:"0.4rem",background:"#fee2e2",color:"#991b1b",border:"none",borderRadius:"var(--radius-sm)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx(ki,{size:14})})]}),u.jsxs("div",{style:{padding:"1.5rem"},children:[A.resource_type==="instagram"&&u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[u.jsx(ux,{size:20,color:"#E4405F"}),u.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:"Instagram"})]}),u.jsx("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",style:{display:"block",textDecoration:"none",color:"inherit"},children:u.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",overflow:"hidden",background:"white",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:G=>{G.currentTarget.style.borderColor="var(--color-primary)",G.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:G=>{G.currentTarget.style.borderColor="#e2e8f0",G.currentTarget.style.boxShadow="none"},children:[u.jsxs("div",{style:{background:"linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%)",padding:"2rem",textAlign:"center",color:"white"},children:[u.jsx(ux,{size:48,style:{marginBottom:"0.5rem"}}),u.jsxs("div",{style:{fontSize:"18px",fontWeight:"700",marginBottom:"0.25rem"},children:["@",k(A.url)||"Instagram"]}),u.jsx("div",{style:{fontSize:"13px",opacity:.9},children:"Instagram profil sayfasn grntle"})]}),A.description&&u.jsx("div",{style:{padding:"1rem",borderTop:"1px solid #e2e8f0"},children:u.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:A.description})})]})})]}),A.resource_type==="youtube"&&u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[u.jsx(Z0,{size:20,color:"#FF0000"}),u.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:"YouTube"})]}),A.embed_data?.embedUrl?u.jsx("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0"},children:u.jsx("iframe",{src:`${A.embed_data.embedUrl}?rel=0&modestbranding=1&controls=1`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy",title:`YouTube: ${A.title||A.url}`})}):u.jsx("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",style:{display:"block",textDecoration:"none",color:"inherit"},children:u.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",overflow:"hidden",background:"white",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:G=>{G.currentTarget.style.borderColor="#FF0000",G.currentTarget.style.boxShadow="0 4px 12px rgba(255,0,0,0.1)"},onMouseLeave:G=>{G.currentTarget.style.borderColor="#e2e8f0",G.currentTarget.style.boxShadow="none"},children:[b(A.url)?u.jsxs("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",background:"#000"},children:[u.jsx("img",{src:b(A.url),alt:A.title||"YouTube",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),u.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.8)",borderRadius:"50%",width:"64px",height:"64px",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx(Z0,{size:32,color:"#FF0000",fill:"#FF0000"})})]}):u.jsxs("div",{style:{background:"#FF0000",padding:"2rem",textAlign:"center",color:"white"},children:[u.jsx(Z0,{size:48,style:{marginBottom:"0.5rem"}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:"YouTube Kanal"})]}),A.description&&u.jsx("div",{style:{padding:"1rem",borderTop:"1px solid #e2e8f0"},children:u.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:A.description})})]})})]}),A.resource_type==="website"&&u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[u.jsx(ox,{size:20,color:"var(--color-primary)"}),u.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:"Website"})]}),u.jsx("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",style:{display:"block",textDecoration:"none",color:"inherit"},children:u.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",overflow:"hidden",background:"white",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:G=>{G.currentTarget.style.borderColor="var(--color-primary)",G.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:G=>{G.currentTarget.style.borderColor="#e2e8f0",G.currentTarget.style.boxShadow="none"},children:[u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--color-primary) 0%, #8b5cf6 100%)",padding:"2rem",textAlign:"center",color:"white"},children:[u.jsx(ox,{size:48,style:{marginBottom:"0.5rem"}}),u.jsx("div",{style:{fontSize:"18px",fontWeight:"700",marginBottom:"0.25rem"},children:R(A.url)}),u.jsx("div",{style:{fontSize:"13px",opacity:.9},children:"Web sitesini grntle"})]}),A.description&&u.jsx("div",{style:{padding:"1rem",borderTop:"1px solid #e2e8f0"},children:u.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:A.description})})]})})]})]})]},A.id)})}),e.length===0&&u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"white",borderRadius:"var(--radius-lg)",color:"#64748b"},children:[u.jsx(yd,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:"Henz kaynak eklenmemi"}),u.jsx("div",{style:{fontSize:"14px",marginTop:"0.5rem"},children:"Yukardaki alana URL ekleyerek balayn"})]}),x&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>y(null),children:u.jsxs("div",{style:{background:"white",borderRadius:"var(--radius-lg)",padding:"2rem",maxWidth:"400px",width:"90%",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},onClick:A=>A.stopPropagation(),children:[u.jsxs("div",{style:{marginBottom:"1.5rem"},children:[u.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#1e293b",marginBottom:"0.5rem"},children:x.type==="delete"?"Kayna Sil":"Durumu Deitir"}),u.jsx("p",{style:{margin:0,fontSize:"14px",color:"#64748b"},children:x.type==="delete"?"Bu kayna silmek istediinize emin misiniz? Bu ilem geri alnamaz.":`Bu kayna ${x.currentValue?'"Yanl rnek"':'"Doru rnek"'} olarak iaretlemek istediinize emin misiniz?`})]}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[u.jsx("button",{onClick:()=>y(null),style:{padding:"0.75rem 1.5rem",background:"#f1f5f9",color:"#475569",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"ptal"}),u.jsx("button",{onClick:()=>{x.type==="delete"?H(x.resourceId):L(x.resourceId,x.currentValue)},style:{padding:"0.75rem 1.5rem",background:x.type==="delete"?"#ef4444":"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:x.type==="delete"?"Sil":"Deitir"})]})]})})]})}function HD({weekId:t}){const[e,r]=D.useState([]),[a,s]=D.useState(!0),[o,c]=D.useState(null),[f,h]=D.useState(!1);D.useEffect(()=>{t&&m()},[t]);const m=async()=>{try{const{data:S,error:_}=await Ae.from("academy_videos").select("*").eq("week_id",t).order("created_at",{ascending:!1});if(_)throw _;r(S||[]),S&&S.length>0&&c(S[0])}catch(S){console.error("Error fetching videos:",S)}finally{s(!1)}},g=S=>{if(!S)return"";const _=Math.floor(S/60),b=S%60;return`${_}:${b.toString().padStart(2,"0")}`},x=S=>{if(S.video_provider==="youtube"){const _=S.video_url.includes("youtu.be")?S.video_url.split("youtu.be/")[1]?.split("?")[0]:S.video_url.match(/[?&]v=([^&]+)/)?.[1];return _?`https://www.youtube.com/embed/${_}`:null}if(S.video_provider==="vimeo"){const _=S.video_url.split("vimeo.com/")[1]?.split("?")[0];return _?`https://player.vimeo.com/video/${_}`:null}return S.video_provider==="cloudinary"?S.video_url:(S.video_provider==="googledrive",null)},y=S=>S.video_provider==="googledrive"||S.video_url?.includes("drive.google.com");if(a)return u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(nn,{className:"animate-spin",size:24,color:"var(--color-primary)"})});if(e.length===0)return u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"white",borderRadius:"var(--radius-lg)",color:"#64748b"},children:[u.jsx(Nh,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:"Henz video eklenmemi"})]});const w=o?x(o):null;return u.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:u.jsxs("div",{style:{display:"grid",gridTemplateColumns:f?"1fr":"1fr 350px",gap:"2rem"},children:[u.jsx("div",{style:{background:"white",borderRadius:"var(--radius-lg)",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:o&&y(o)?u.jsx("div",{children:u.jsx("a",{href:o.video_url,target:"_blank",rel:"noopener noreferrer",style:{display:"block",textDecoration:"none",color:"inherit"},children:u.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",overflow:"hidden",background:"white",transition:"all 0.2s",cursor:"pointer",margin:"1.5rem"},onMouseEnter:S=>{S.currentTarget.style.borderColor="#4285F4",S.currentTarget.style.boxShadow="0 4px 12px rgba(66, 133, 244, 0.2)"},onMouseLeave:S=>{S.currentTarget.style.borderColor="#e2e8f0",S.currentTarget.style.boxShadow="none"},children:[u.jsxs("div",{style:{background:"linear-gradient(135deg, #4285F4 0%, #34A853 50%, #FBBC04 100%)",padding:"3rem 2rem",textAlign:"center",color:"white"},children:[u.jsx(lx,{size:64,style:{marginBottom:"1rem"}}),u.jsx("div",{style:{fontSize:"20px",fontWeight:"700",marginBottom:"0.5rem"},children:"Google Drive Klasr"}),u.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Ders kaydn grntle"})]}),u.jsxs("div",{style:{padding:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[u.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1e293b",marginBottom:"0.5rem"},children:o.title||"Ders Videosu"}),o.description&&u.jsx("div",{style:{fontSize:"14px",color:"#64748b",lineHeight:"1.6"},children:o.description})]})]})})}):o&&w?u.jsxs("div",{style:{position:"relative"},children:[u.jsx("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",background:"#000"},children:u.jsx("iframe",{src:w,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),u.jsxs("div",{style:{padding:"1.5rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"0.5rem"},children:[u.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"700",color:"#1e293b"},children:o.title}),u.jsx("button",{onClick:()=>h(!f),style:{padding:"0.5rem",background:"#f1f5f9",border:"none",borderRadius:"var(--radius-sm)",cursor:"pointer"},children:u.jsx(rA,{size:18})})]}),o.video_duration&&u.jsxs("div",{style:{fontSize:"13px",color:"#64748b",marginBottom:"0.5rem"},children:["Sre: ",g(o.video_duration)]}),o.description&&u.jsx("p",{style:{fontSize:"14px",color:"#64748b",margin:0,lineHeight:"1.6"},children:o.description})]})]}):u.jsxs("div",{style:{padding:"3rem",textAlign:"center",color:"#64748b"},children:[u.jsx(sm,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),u.jsx("div",{children:"Video ykleniyor..."})]})}),!f&&u.jsx("div",{children:u.jsxs("div",{style:{background:"white",borderRadius:"var(--radius-lg)",padding:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:[u.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"16px",fontWeight:"600",color:"#1e293b"},children:"Ders Videolar"}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:e.map(S=>{const _=o?.id===S.id;return u.jsxs("button",{onClick:()=>c(S),style:{width:"100%",padding:"1rem",border:"none",borderRadius:"var(--radius-md)",background:_?"#f0f9ff":"#f8fafc",borderLeft:_?"3px solid var(--color-primary)":"3px solid transparent",textAlign:"left",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:b=>{_||(b.target.style.background="#f1f5f9")},onMouseLeave:b=>{_||(b.target.style.background="#f8fafc")},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[y(S)?u.jsx(lx,{size:18,color:_?"#4285F4":"#64748b"}):u.jsx(Nh,{size:18,color:_?"var(--color-primary)":"#64748b"}),u.jsx("div",{style:{fontSize:"14px",fontWeight:_?"600":"500",color:_?"var(--color-primary)":"#1e293b",flex:1},children:S.title})]}),S.video_duration&&u.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginLeft:"2rem"},children:g(S.video_duration)})]},S.id)})})]})})]})})}function $D({weekId:t,userId:e}){const[r,a]=D.useState([]),[s,o]=D.useState(!0);D.useEffect(()=>{t&&e&&c()},[t,e]);const c=async()=>{try{const{data:m,error:g}=await Ae.from("academy_assignments").select("*").eq("week_id",t).eq("user_id",e).order("created_at",{ascending:!1});if(g)throw g;a(m||[])}catch(m){console.error("Error fetching assignments:",m)}finally{o(!1)}},f=async(m,g)=>{try{const{error:x}=await Ae.from("academy_assignments").update({is_completed:!g}).eq("id",m);if(x)throw x;c()}catch(x){console.error("Error updating assignment:",x)}},h=async(m,g)=>{try{const{error:x}=await Ae.from("academy_assignments").update({submission_url:g}).eq("id",m);if(x)throw x;c()}catch(x){console.error("Error submitting link:",x)}};return s?u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(nn,{className:"animate-spin",size:24,color:"var(--color-primary)"})}):r.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"white",borderRadius:"var(--radius-lg)",color:"#64748b"},children:[u.jsx(A5,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:"Henz dev eklenmemi"})]}):u.jsx("div",{style:{maxWidth:"900px",margin:"0 auto"},children:u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:r.map(m=>u.jsx("div",{style:{background:"white",padding:"1.5rem",borderRadius:"var(--radius-lg)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:m.is_completed?"2px solid #10b981":"2px solid #e2e8f0"},children:u.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"1rem"},children:[u.jsx("button",{onClick:()=>f(m.id,m.is_completed),style:{padding:0,border:"none",background:"transparent",cursor:"pointer",flexShrink:0,marginTop:"0.25rem"},children:m.is_completed?u.jsx(_d,{size:24,color:"#10b981",fill:"#10b981"}):u.jsx(RA,{size:24,color:"#94a3b8"})}),u.jsxs("div",{style:{flex:1},children:[u.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:m.is_completed?"#10b981":"#1e293b",textDecoration:m.is_completed?"line-through":"none",opacity:m.is_completed?.7:1},children:m.title}),m.description&&u.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"14px",color:"#64748b",lineHeight:"1.6"},children:m.description}),u.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e2e8f0"},children:[u.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#64748b",marginBottom:"0.5rem"},children:"Teslim Et:"}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[u.jsx("input",{type:"url",placeholder:"Link veya dosya URL'si ekle...",defaultValue:m.submission_url||"",onBlur:g=>{g.target.value!==m.submission_url&&h(m.id,g.target.value)},style:{flex:1,padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"14px"}}),m.submission_url&&u.jsxs("a",{href:m.submission_url,target:"_blank",rel:"noopener noreferrer",style:{padding:"0.6rem",background:"#f0f9ff",color:"var(--color-primary)",borderRadius:"var(--radius-md)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.4rem"},children:[u.jsx(Y5,{size:16}),u.jsx("span",{style:{fontSize:"13px"},children:"A"})]})]})]})]})]})},m.id))})})}function GD({weekId:t,userId:e}){const{user:r}=Sn(),[a,s]=D.useState([]),[o,c]=D.useState(!0),[f,h]=D.useState(!1),[m,g]=D.useState(""),x=D.useRef(null),y=D.useRef(null);D.useEffect(()=>{if(t){w();const b=Ae.channel(`academy_notes_${t}`).on("postgres_changes",{event:"*",schema:"public",table:"academy_notes_comments",filter:`week_id=eq.${t}`},()=>{w()}).subscribe();return()=>{b.unsubscribe()}}},[t]),D.useEffect(()=>{y.current&&y.current.scrollIntoView({behavior:"smooth"})},[a]),D.useEffect(()=>{x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)},[m]);const w=async()=>{try{const{data:b,error:k}=await Ae.from("academy_notes_comments").select("*").eq("week_id",t).order("created_at",{ascending:!0});if(k)throw k;s(b||[])}catch(b){console.error("Error fetching comments:",b)}finally{c(!1)}},S=async()=>{if(!(!m.trim()||!e||!r)){h(!0);try{const{error:b}=await Ae.from("academy_notes_comments").insert([{week_id:t,user_id:e,username:r.username||"Kullanc",content:m.trim()}]);if(b)throw b;g(""),x.current&&(x.current.style.height="auto")}catch(b){console.error("Error adding comment:",b),alert("Yorum eklenirken hata olutu: "+b.message)}finally{h(!1)}}},_=b=>{const k=new Date(b),R=new Date,T=R-k,L=Math.floor(T/6e4),H=Math.floor(T/36e5),Y=Math.floor(T/864e5);return L<1?"Az nce":L<60?`${L} dakika nce`:H<24?`${H} saat nce`:Y<7?`${Y} gn nce`:k.toLocaleString("tr-TR",{day:"2-digit",month:"short",year:k.getFullYear()!==R.getFullYear()?"numeric":void 0,hour:"2-digit",minute:"2-digit"})};return o?u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(nn,{className:"animate-spin",size:24,color:"var(--color-primary)"})}):u.jsx("div",{style:{maxWidth:"1000px",margin:"0 auto",height:"100%",display:"flex",flexDirection:"column"},children:u.jsxs("div",{style:{flex:1,background:"white",borderRadius:"var(--radius-lg)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[u.jsxs("div",{style:{padding:"1.25rem 1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"0.75rem"},children:[u.jsx(Ku,{size:18,color:"var(--color-primary)"}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#1e293b"},children:"Dijital Defter - Yorumlar"}),u.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Ekip ii mesajlar, notlar, fikirler"})]})]}),u.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[a.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#64748b"},children:[u.jsx(Ku,{size:48,style:{margin:"0 auto 1rem",opacity:.3}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"0.5rem"},children:"Henz yorum yok"}),u.jsx("div",{style:{fontSize:"14px"},children:"lk yorumu siz yapn!"})]}):a.map(b=>{const k=b.user_id===e;return u.jsx("div",{style:{display:"flex",justifyContent:k?"flex-start":"flex-end",marginBottom:"0.5rem"},children:u.jsxs("div",{style:{maxWidth:"70%",background:k?"linear-gradient(135deg, var(--color-primary) 0%, #8b5cf6 100%)":"#f1f5f9",color:k?"white":"#1e293b",padding:"1rem 1.25rem",borderRadius:k?"var(--radius-lg) var(--radius-lg) var(--radius-lg) 0":"var(--radius-lg) var(--radius-lg) 0 var(--radius-lg)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",wordWrap:"break-word"},children:[u.jsx("div",{style:{fontSize:"12px",fontWeight:"600",marginBottom:"0.5rem",opacity:k?.9:.7},children:b.username}),u.jsx("div",{style:{fontSize:"14px",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:b.content}),u.jsx("div",{style:{fontSize:"11px",marginTop:"0.5rem",opacity:k?.8:.6,textAlign:"right"},children:_(b.created_at)})]})},b.id)}),u.jsx("div",{ref:y})]}),u.jsx("div",{style:{padding:"1.5rem",borderTop:"1px solid #e2e8f0",background:"#f8fafc"},children:u.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end"},children:[u.jsx("div",{style:{flex:1},children:u.jsx("textarea",{ref:x,value:m,onChange:b=>g(b.target.value),onKeyDown:b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),S())},placeholder:"Yorumunuzu yazn... (Enter ile gnder, Shift+Enter ile yeni satr)",rows:1,style:{width:"100%",minHeight:"44px",maxHeight:"200px",padding:"0.75rem 1rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"14px",fontFamily:"inherit",resize:"none",outline:"none",transition:"border-color 0.2s",lineHeight:"1.5"},onFocus:b=>b.target.style.borderColor="var(--color-primary)",onBlur:b=>b.target.style.borderColor="#e2e8f0"})}),u.jsx("button",{onClick:S,disabled:f||!m.trim(),style:{padding:"0.75rem 1.5rem",background:f||!m.trim()?"#cbd5e1":"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:f||!m.trim()?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"14px",transition:"all 0.2s"},children:f?u.jsxs(u.Fragment,{children:[u.jsx(nn,{size:16,className:"animate-spin"}),u.jsx("span",{children:"Ekleniyor..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(xA,{size:16}),u.jsx("span",{children:"Yorumumu Ekle"})]})})]})})]})})}function qD({weekId:t,userId:e}){const{user:r}=Sn(),[a,s]=D.useState(""),[o,c]=D.useState(!0),[f,h]=D.useState(!1),[m,g]=D.useState(null),x=D.useRef(null);D.useEffect(()=>{t&&y()},[t]),D.useEffect(()=>{if(x.current){x.current.style.height="auto";const _=Math.min(x.current.scrollHeight,330);x.current.style.height=`${_}px`,x.current.style.overflowY=x.current.scrollHeight>330?"auto":"hidden"}},[a]);const y=async()=>{try{const{data:S,error:_}=await Ae.from("academy_notes_summary").select("*").eq("week_id",t).single();if(_&&_.code!=="PGRST116")throw _;S?(s(S.content||""),g(S.updated_at)):s("")}catch(S){console.error("Error fetching summary:",S)}finally{c(!1)}},w=async()=>{if(t){h(!0);try{const{error:S}=await Ae.from("academy_notes_summary").upsert({week_id:t,content:a,updated_at:new Date().toISOString(),updated_by_id:e||null,updated_by_username:r?.username||"Kullanc"},{onConflict:"week_id"});if(S)throw S;g(new Date().toISOString())}catch(S){console.error("Error saving summary:",S),alert("Genel zet kaydedilirken hata olutu: "+S.message)}finally{h(!1)}}};return o?u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(nn,{className:"animate-spin",size:24,color:"var(--color-primary)"})}):u.jsx("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:u.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"var(--radius-lg)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[u.jsx(Ku,{size:20,color:"var(--color-primary)"}),u.jsxs("div",{children:[u.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#1e293b"},children:"Genel zet / Word Alan"}),u.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Uzun zetler, altyazlar, ders metinleri; AI iin hazr tut."})]})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[m&&u.jsxs("span",{style:{fontSize:"12px",color:"#64748b"},children:["Son kayt: ",new Date(m).toLocaleString("tr-TR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})]}),u.jsx("button",{onClick:w,disabled:f,style:{padding:"0.65rem 1.2rem",background:f?"#cbd5e1":"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",fontSize:"13px",cursor:f?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.4rem"},children:f?u.jsxs(u.Fragment,{children:[u.jsx(nn,{size:14,className:"animate-spin"}),u.jsx("span",{children:"Kaydediliyor..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Xo,{size:14}),u.jsx("span",{children:"Kaydet"})]})})]})]}),u.jsx("textarea",{ref:x,value:a,onChange:S=>s(S.target.value),placeholder:"Genel zet, altyazlar, uzun metinler... (Shift+Enter yeni satr)",rows:8,style:{width:"100%",minHeight:"220px",maxHeight:"330px",padding:"1rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"14px",lineHeight:"1.6",fontFamily:"inherit",resize:"none",overflowY:"auto",outline:"none",transition:"border-color 0.2s"},onFocus:S=>S.target.style.borderColor="var(--color-primary)",onBlur:S=>S.target.style.borderColor="#e2e8f0"}),u.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:"Bu alan AIye gndermek istediin metinler iin kullan. (Gemini Pro ktlar, altyazlar vb.)"})]})})}function WD({weekId:t,userId:e}){const[r,a]=D.useState([]),[s,o]=D.useState(!0),[c,f]=D.useState(0),[h,m]=D.useState({}),[g,x]=D.useState({}),[y,w]=D.useState(!1);D.useEffect(()=>{t&&S()},[t]);const S=async()=>{try{const{data:H,error:Y}=await Ae.from("academy_quiz_questions").select("*").eq("week_id",t).order("created_at",{ascending:!0});if(Y)throw Y;a(H||[])}catch(H){console.error("Error fetching questions:",H)}finally{o(!1)}},_=async(H,Y)=>{const A=r.find(G=>G.id===H);if(!A)return;const I=Y.toLowerCase().trim()===A.correct_answer.toLowerCase().trim();m({...h,[H]:Y}),x({...g,[H]:{isCorrect:I,explanation:A.explanation}});try{await Ae.from("academy_quiz_attempts").insert([{question_id:H,user_id:e,user_answer:Y,is_correct:I}])}catch(G){console.error("Error saving attempt:",G)}},b=async()=>{w(!0);try{const[H,Y]=await Promise.all([Ae.from("academy_resources").select("*").eq("week_id",t),Ae.from("academy_videos").select("*").eq("week_id",t)]),A={resources:H.data||[],videos:Y.data||[]},I=`Bu haftann eitim ieriinden quiz sorular olutur. 
Kaynaklar: ${A.resources.map(ee=>ee.title||ee.url).join(", ")}
Videolar: ${A.videos.map(ee=>ee.title).join(", ")}

3 farkl soru tipinde sorular olutur:
1. Boluk doldurma (fill_blank)
2. Eletirme (matching)
3. oktan semeli (multiple_choice)

Her soru iin JSON formatnda dndr:
{
  "questions": [
    {
      "question_type": "fill_blank|matching|multiple_choice",
      "question_text": "...",
      "options": {...},
      "correct_answer": "...",
      "explanation": "..."
    }
  ]
}`,G=await CD(I),te=JSON.parse(G);if(te.questions&&te.questions.length>0){const ee=te.questions.map(ye=>({week_id:t,...ye,ai_generated:!0})),{error:ie}=await Ae.from("academy_quiz_questions").insert(ee);if(ie)throw ie;S()}}catch(H){console.error("Error generating questions:",H),alert("Sorular oluturulurken hata olutu: "+H.message)}finally{w(!1)}};if(s)return u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(nn,{className:"animate-spin",size:24,color:"var(--color-primary)"})});const k=r[c],R=k?g[k.id]:null,T=k?h[k.id]:"";return u.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto"},children:[u.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"var(--radius-lg)",marginBottom:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[u.jsx(Ch,{size:24,color:"var(--color-primary)"}),u.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"700",color:"#1e293b"},children:"AI Pratik Lab"})]}),u.jsx("button",{onClick:b,disabled:y,style:{padding:"0.6rem 1.2rem",background:y?"#cbd5e1":"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",fontSize:"13px",cursor:y?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:y?u.jsxs(u.Fragment,{children:[u.jsx(nn,{size:14,className:"animate-spin"}),u.jsx("span",{children:"Oluturuluyor..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(is,{size:14}),u.jsx("span",{children:"AI ile Soru Olutur"})]})})]}),u.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"var(--radius-lg)",marginBottom:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[u.jsx("div",{style:{fontWeight:600,color:"#1e293b",marginBottom:"0.75rem"},children:"Hafta 1 erik (Embed)"}),u.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:"62.5%",borderRadius:"var(--radius-lg)",overflow:"hidden",border:"1px solid #e2e8f0",background:"#0f172a"},children:u.jsx("iframe",{src:"https://ef-week1-learn.netlify.app",title:"Hafta 1 renme Alan",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none"},loading:"lazy",allowFullScreen:!0,sandbox:"allow-same-origin allow-scripts allow-forms allow-popups"})})]}),r.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"white",borderRadius:"var(--radius-lg)",color:"#64748b"},children:[u.jsx(Ch,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"0.5rem"},children:"Henz soru eklenmemi"}),u.jsx("div",{style:{fontSize:"14px"},children:'"AI ile Soru Olutur" butonuna tklayarak balayn'})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{background:"white",padding:"1rem 1.5rem",borderRadius:"var(--radius-lg)",marginBottom:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[u.jsxs("div",{style:{fontSize:"14px",color:"#64748b",marginBottom:"0.5rem"},children:["Soru ",c+1," / ",r.length]}),u.jsx("div",{style:{width:"100%",height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden"},children:u.jsx("div",{style:{width:`${(c+1)/r.length*100}%`,height:"100%",background:"var(--color-primary)",transition:"width 0.3s"}})})]}),k&&u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"var(--radius-lg)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",marginBottom:"1.5rem"},children:[u.jsxs("div",{style:{display:"inline-block",padding:"0.3rem 0.8rem",background:"#f0f9ff",color:"var(--color-primary)",borderRadius:"var(--radius-sm)",fontSize:"12px",fontWeight:"600",marginBottom:"1rem"},children:[k.question_type==="fill_blank"&&"Boluk Doldurma",k.question_type==="matching"&&"Eletirme",k.question_type==="multiple_choice"&&"oktan Semeli"]}),u.jsx("h3",{style:{margin:"0 0 1.5rem 0",fontSize:"18px",fontWeight:"600",color:"#1e293b",lineHeight:"1.6"},children:k.question_text}),k.question_type==="fill_blank"&&u.jsx("div",{children:u.jsx("input",{type:"text",value:T,onChange:H=>m({...h,[k.id]:H.target.value}),onBlur:()=>_(k.id,T),placeholder:"Cevabnz yazn...",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"15px"}})}),k.question_type==="multiple_choice"&&u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:k.options?.map((H,Y)=>u.jsx("button",{onClick:()=>{m({...h,[k.id]:H}),_(k.id,H)},style:{padding:"1rem",border:`2px solid ${T===H?"var(--color-primary)":"#e2e8f0"}`,borderRadius:"var(--radius-md)",background:T===H?"#f0f9ff":"white",textAlign:"left",cursor:"pointer",transition:"all 0.2s"},children:H},Y))}),k.question_type==="matching"&&u.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:k.options?.pairs?.map((H,Y)=>u.jsxs("div",{style:{padding:"1rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",background:"#f8fafc"},children:[u.jsx("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"0.5rem"},children:H.term}),u.jsx("input",{type:"text",placeholder:"Tanm yazn...",onBlur:A=>{const I=`${H.term}:${A.target.value}`;m({...h,[k.id]:I}),_(k.id,I)},style:{width:"100%",padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]},Y))}),R&&u.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:R.isCorrect?"#f0fdf4":"#fef2f2",border:`2px solid ${R.isCorrect?"#10b981":"#ef4444"}`,borderRadius:"var(--radius-md)",display:"flex",alignItems:"start",gap:"0.75rem"},children:[R.isCorrect?u.jsx(am,{size:20,color:"#10b981"}):u.jsx(P_,{size:20,color:"#ef4444"}),u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{fontWeight:"600",color:R.isCorrect?"#10b981":"#ef4444",marginBottom:"0.5rem"},children:R.isCorrect?"Doru!":"Yanl!"}),R.explanation&&u.jsx("div",{style:{fontSize:"14px",color:"#64748b",lineHeight:"1.6"},children:R.explanation})]})]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem"},children:[u.jsx("button",{onClick:()=>f(Math.max(0,c-1)),disabled:c===0,style:{padding:"0.75rem 1.5rem",background:c===0?"#f1f5f9":"white",color:c===0?"#94a3b8":"#1e293b",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:c===0?"not-allowed":"pointer"},children:" nceki"}),u.jsx("button",{onClick:()=>f(Math.min(r.length-1,c+1)),disabled:c===r.length-1,style:{padding:"0.75rem 1.5rem",background:c===r.length-1?"#f1f5f9":"var(--color-primary)",color:c===r.length-1?"#94a3b8":"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:c===r.length-1?"not-allowed":"pointer"},children:"Sonraki "})]})]})]})}function VD(){const[t,e]=D.useState([]),[r,a]=D.useState(null),[s,o]=D.useState("resources"),[c,f]=D.useState(!0),{user:h}=Sn();D.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:x,error:y}=await Ae.from("academy_weeks").select("*").order("week_number",{ascending:!0});if(y)throw y;e(x||[]),x&&x.length>0&&!r&&a(x[0])}catch(x){console.error("Error fetching weeks:",x)}finally{f(!1)}},g=[{id:"resources",label:"Hazrlk & Kaynaklar",icon:yd},{id:"classroom",label:"Ders Kayd",icon:Nh},{id:"assignments",label:"devler",icon:_d},{id:"notes",label:"Dijital Defter",icon:Ku},{id:"summary",label:"Genel zet",icon:I_},{id:"quiz",label:"AI Pratik Lab",icon:Ch}];return c?u.jsx("div",{className:"page-container fade-in",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:u.jsx("div",{style:{textAlign:"center",color:"#64748b"},children:u.jsx("div",{style:{fontSize:"18px",marginBottom:"0.5rem"},children:"Ykleniyor..."})})}):t.length===0?u.jsx("div",{className:"page-container fade-in",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:u.jsxs("div",{style:{textAlign:"center",color:"#64748b"},children:[u.jsx("div",{style:{fontSize:"18px",marginBottom:"0.5rem"},children:"Henz hafta eklenmemi."}),u.jsx("div",{style:{fontSize:"14px"},children:"Ynetici panelinden hafta ekleyebilirsiniz."})]})}):u.jsx("div",{className:"page-container fade-in",style:{padding:0,maxWidth:"100%",margin:0},children:u.jsxs("div",{style:{display:"flex",height:"calc(100vh - 80px)",overflow:"hidden"},children:[u.jsx(UD,{weeks:t,selectedWeek:r,onSelectWeek:a}),u.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",background:"#f8fafc"},children:r&&u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{padding:"1.5rem 2rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:u.jsxs("div",{children:[u.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:"700",color:"#1e293b"},children:r.title}),r.description&&u.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"14px",color:"#64748b"},children:r.description})]})}),u.jsx("div",{style:{display:"flex",background:"white",borderBottom:"1px solid #e2e8f0",padding:"0 2rem",gap:"0.5rem",overflowX:"auto"},children:g.map(x=>{const y=x.icon,w=s===x.id;return u.jsxs("button",{onClick:()=>o(x.id),style:{padding:"1rem 1.5rem",border:"none",background:"transparent",borderBottom:w?"2px solid var(--color-primary)":"2px solid transparent",color:w?"var(--color-primary)":"#64748b",fontWeight:w?"600":"500",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:S=>{w||(S.target.style.color="#1e293b")},onMouseLeave:S=>{w||(S.target.style.color="#64748b")},children:[u.jsx(y,{size:18}),u.jsx("span",{children:x.label})]},x.id)})}),u.jsxs("div",{style:{flex:1,overflow:"auto",padding:"2rem"},children:[s==="resources"&&u.jsx(PD,{weekId:r.id}),s==="classroom"&&u.jsx(HD,{weekId:r.id}),s==="assignments"&&u.jsx($D,{weekId:r.id,userId:h?.id}),s==="notes"&&u.jsx(GD,{weekId:r.id,userId:h?.id}),s==="summary"&&u.jsx(qD,{weekId:r.id,userId:h?.id}),s==="quiz"&&u.jsx(WD,{weekId:r.id,userId:h?.id})]})]})})]})})}const KD=({children:t})=>{const{session:e,loading:r}=Sn();return r?u.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"Ykleniyor..."}):e?t:u.jsx(VE,{to:"/login",replace:!0})};function YD(){return u.jsxs(XE,{children:[u.jsx(Wn,{path:"/login",element:u.jsx(H4,{})}),u.jsxs(Wn,{path:"/",element:u.jsx(KD,{children:u.jsx(JA,{})}),children:[u.jsx(Wn,{index:!0,element:u.jsx(e3,{})}),u.jsx(Wn,{path:"/products",element:u.jsx(t3,{})}),u.jsx(Wn,{path:"/todos",element:u.jsx(a3,{})}),u.jsx(Wn,{path:"/roadmap",element:u.jsx(i3,{})}),u.jsx(Wn,{path:"/research",element:u.jsx(vD,{})}),u.jsx(Wn,{path:"/creative-lab",element:u.jsx(ID,{})}),u.jsx(Wn,{path:"/academy",element:u.jsx(VD,{})}),u.jsx(Wn,{path:"/settings",element:u.jsx(xD,{})})]})]})}console.log("Panela Version: 1.0.1 - Build "+new Date().toISOString());eE.createRoot(document.getElementById("root")).render(u.jsx(VS.StrictMode,{children:u.jsx(P4,{children:u.jsx(yT,{children:u.jsx(YD,{})})})}));
