function PS(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(a,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Oh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zo(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function a(){var s=!1;try{s=this instanceof a}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var s=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(r,a,s.get?s:{enumerable:!0,get:function(){return t[a]}})}),r}var O0={exports:{}},oo={};var uv;function HS(){if(uv)return oo;uv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:t,type:a,key:c,ref:s!==void 0?s:null,props:o}}return oo.Fragment=e,oo.jsx=r,oo.jsxs=r,oo}var dv;function $S(){return dv||(dv=1,O0.exports=HS()),O0.exports}var u=$S(),N0={exports:{}},Ze={};var fv;function GS(){if(fv)return Ze;fv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),y=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function k(C,R,W){this.props=C,this.context=R,this.refs=b,this.updater=W||S}k.prototype.isReactComponent={},k.prototype.setState=function(C,R){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,R,"setState")},k.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function O(){}O.prototype=k.prototype;function T(C,R,W){this.props=C,this.context=R,this.refs=b,this.updater=W||S}var F=T.prototype=new O;F.constructor=T,_(F,k.prototype),F.isPureReactComponent=!0;var G=Array.isArray;function K(){}var A={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function q(C,R,W){var D=W.ref;return{$$typeof:t,type:C,key:R,ref:D!==void 0?D:null,props:W}}function te(C,R){return q(C.type,R,C.props)}function ee(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function de(C){var R={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(W){return R[W]})}var ye=/\/+/g;function He(C,R){return typeof C=="object"&&C!==null&&C.key!=null?de(""+C.key):R.toString(36)}function fe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(K,K):(C.status="pending",C.then(function(R){C.status==="pending"&&(C.status="fulfilled",C.value=R)},function(R){C.status==="pending"&&(C.status="rejected",C.reason=R)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function X(C,R,W,D,H){var Z=typeof C;(Z==="undefined"||Z==="boolean")&&(C=null);var me=!1;if(C===null)me=!0;else switch(Z){case"bigint":case"string":case"number":me=!0;break;case"object":switch(C.$$typeof){case t:case e:me=!0;break;case g:return me=C._init,X(me(C._payload),R,W,D,H)}}if(me)return H=H(C),me=D===""?"."+He(C,0):D,G(H)?(W="",me!=null&&(W=me.replace(ye,"$&/")+"/"),X(H,R,W,"",function(Ee){return Ee})):H!=null&&(ee(H)&&(H=te(H,W+(H.key==null||C&&C.key===H.key?"":(""+H.key).replace(ye,"$&/")+"/")+me)),R.push(H)),1;me=0;var be=D===""?".":D+":";if(G(C))for(var we=0;we<C.length;we++)D=C[we],Z=be+He(D,we),me+=X(D,R,W,Z,H);else if(we=w(C),typeof we=="function")for(C=we.call(C),we=0;!(D=C.next()).done;)D=D.value,Z=be+He(D,we++),me+=X(D,R,W,Z,H);else if(Z==="object"){if(typeof C.then=="function")return X(fe(C),R,W,D,H);throw R=String(C),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return me}function pe(C,R,W){if(C==null)return C;var D=[],H=0;return X(C,D,"","",function(Z){return R.call(W,Z,H++)}),D}function ke(C){if(C._status===-1){var R=C._result;R=R(),R.then(function(W){(C._status===0||C._status===-1)&&(C._status=1,C._result=W)},function(W){(C._status===0||C._status===-1)&&(C._status=2,C._result=W)}),C._status===-1&&(C._status=0,C._result=R)}if(C._status===1)return C._result.default;throw C._result}var Me=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Q={map:pe,forEach:function(C,R,W){pe(C,function(){R.apply(this,arguments)},W)},count:function(C){var R=0;return pe(C,function(){R++}),R},toArray:function(C){return pe(C,function(R){return R})||[]},only:function(C){if(!ee(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ze.Activity=x,Ze.Children=Q,Ze.Component=k,Ze.Fragment=r,Ze.Profiler=s,Ze.PureComponent=T,Ze.StrictMode=a,Ze.Suspense=h,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(C){return A.H.useMemoCache(C)}},Ze.cache=function(C){return function(){return C.apply(null,arguments)}},Ze.cacheSignal=function(){return null},Ze.cloneElement=function(C,R,W){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var D=_({},C.props),H=C.key;if(R!=null)for(Z in R.key!==void 0&&(H=""+R.key),R)!P.call(R,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&R.ref===void 0||(D[Z]=R[Z]);var Z=arguments.length-2;if(Z===1)D.children=W;else if(1<Z){for(var me=Array(Z),be=0;be<Z;be++)me[be]=arguments[be+2];D.children=me}return q(C.type,H,D)},Ze.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},Ze.createElement=function(C,R,W){var D,H={},Z=null;if(R!=null)for(D in R.key!==void 0&&(Z=""+R.key),R)P.call(R,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(H[D]=R[D]);var me=arguments.length-2;if(me===1)H.children=W;else if(1<me){for(var be=Array(me),we=0;we<me;we++)be[we]=arguments[we+2];H.children=be}if(C&&C.defaultProps)for(D in me=C.defaultProps,me)H[D]===void 0&&(H[D]=me[D]);return q(C,Z,H)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(C){return{$$typeof:f,render:C}},Ze.isValidElement=ee,Ze.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:ke}},Ze.memo=function(C,R){return{$$typeof:m,type:C,compare:R===void 0?null:R}},Ze.startTransition=function(C){var R=A.T,W={};A.T=W;try{var D=C(),H=A.S;H!==null&&H(W,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(K,Me)}catch(Z){Me(Z)}finally{R!==null&&W.types!==null&&(R.types=W.types),A.T=R}},Ze.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ze.use=function(C){return A.H.use(C)},Ze.useActionState=function(C,R,W){return A.H.useActionState(C,R,W)},Ze.useCallback=function(C,R){return A.H.useCallback(C,R)},Ze.useContext=function(C){return A.H.useContext(C)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(C,R){return A.H.useDeferredValue(C,R)},Ze.useEffect=function(C,R){return A.H.useEffect(C,R)},Ze.useEffectEvent=function(C){return A.H.useEffectEvent(C)},Ze.useId=function(){return A.H.useId()},Ze.useImperativeHandle=function(C,R,W){return A.H.useImperativeHandle(C,R,W)},Ze.useInsertionEffect=function(C,R){return A.H.useInsertionEffect(C,R)},Ze.useLayoutEffect=function(C,R){return A.H.useLayoutEffect(C,R)},Ze.useMemo=function(C,R){return A.H.useMemo(C,R)},Ze.useOptimistic=function(C,R){return A.H.useOptimistic(C,R)},Ze.useReducer=function(C,R,W){return A.H.useReducer(C,R,W)},Ze.useRef=function(C){return A.H.useRef(C)},Ze.useState=function(C){return A.H.useState(C)},Ze.useSyncExternalStore=function(C,R,W){return A.H.useSyncExternalStore(C,R,W)},Ze.useTransition=function(){return A.H.useTransition()},Ze.version="19.2.1",Ze}var hv;function Nh(){return hv||(hv=1,N0.exports=GS()),N0.exports}var L=Nh();const qS=Oh(L);var D0={exports:{}},co={},M0={exports:{}},L0={};var mv;function WS(){return mv||(mv=1,(function(t){function e(X,pe){var ke=X.length;X.push(pe);e:for(;0<ke;){var Me=ke-1>>>1,Q=X[Me];if(0<s(Q,pe))X[Me]=pe,X[ke]=Q,ke=Me;else break e}}function r(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var pe=X[0],ke=X.pop();if(ke!==pe){X[0]=ke;e:for(var Me=0,Q=X.length,C=Q>>>1;Me<C;){var R=2*(Me+1)-1,W=X[R],D=R+1,H=X[D];if(0>s(W,ke))D<Q&&0>s(H,W)?(X[Me]=H,X[D]=ke,Me=D):(X[Me]=W,X[R]=ke,Me=R);else if(D<Q&&0>s(H,ke))X[Me]=H,X[D]=ke,Me=D;else break e}}return pe}function s(X,pe){var ke=X.sortIndex-pe.sortIndex;return ke!==0?ke:X.id-pe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],m=[],g=1,x=null,y=3,w=!1,S=!1,_=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function F(X){for(var pe=r(m);pe!==null;){if(pe.callback===null)a(m);else if(pe.startTime<=X)a(m),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=r(m)}}function G(X){if(_=!1,F(X),!S)if(r(h)!==null)S=!0,K||(K=!0,de());else{var pe=r(m);pe!==null&&fe(G,pe.startTime-X)}}var K=!1,A=-1,P=5,q=-1;function te(){return b?!0:!(t.unstable_now()-q<P)}function ee(){if(b=!1,K){var X=t.unstable_now();q=X;var pe=!0;try{e:{S=!1,_&&(_=!1,O(A),A=-1),w=!0;var ke=y;try{t:{for(F(X),x=r(h);x!==null&&!(x.expirationTime>X&&te());){var Me=x.callback;if(typeof Me=="function"){x.callback=null,y=x.priorityLevel;var Q=Me(x.expirationTime<=X);if(X=t.unstable_now(),typeof Q=="function"){x.callback=Q,F(X),pe=!0;break t}x===r(h)&&a(h),F(X)}else a(h);x=r(h)}if(x!==null)pe=!0;else{var C=r(m);C!==null&&fe(G,C.startTime-X),pe=!1}}break e}finally{x=null,y=ke,w=!1}pe=void 0}}finally{pe?de():K=!1}}}var de;if(typeof T=="function")de=function(){T(ee)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,He=ye.port2;ye.port1.onmessage=ee,de=function(){He.postMessage(null)}}else de=function(){k(ee,0)};function fe(X,pe){A=k(function(){X(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var pe=3;break;default:pe=y}var ke=y;y=pe;try{return X()}finally{y=ke}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(X,pe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ke=y;y=X;try{return pe()}finally{y=ke}},t.unstable_scheduleCallback=function(X,pe,ke){var Me=t.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?Me+ke:Me):ke=Me,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ke+Q,X={id:g++,callback:pe,priorityLevel:X,startTime:ke,expirationTime:Q,sortIndex:-1},ke>Me?(X.sortIndex=ke,e(m,X),r(h)===null&&X===r(m)&&(_?(O(A),A=-1):_=!0,fe(G,ke-Me))):(X.sortIndex=Q,e(h,X),S||w||(S=!0,K||(K=!0,de()))),X},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(X){var pe=y;return function(){var ke=y;y=pe;try{return X.apply(this,arguments)}finally{y=ke}}}})(L0)),L0}var pv;function VS(){return pv||(pv=1,M0.exports=WS()),M0.exports}var z0={exports:{}},Tr={};var gv;function KS(){if(gv)return Tr;gv=1;var t=Nh();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:h,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Tr.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,g)},Tr.flushSync=function(h){var m=c.T,g=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=m,a.p=g,a.d.f()}},Tr.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(h,m))},Tr.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Tr.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,x=f(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?a.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:w}):g==="script"&&a.d.X(h,{crossOrigin:x,integrity:y,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tr.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);a.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(h)},Tr.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=f(g,m.crossOrigin);a.d.L(h,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tr.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=f(m.as,m.crossOrigin);a.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(h)},Tr.requestFormReset=function(h){a.d.r(h)},Tr.unstable_batchedUpdates=function(h,m){return h(m)},Tr.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},Tr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tr.version="19.2.1",Tr}var vv;function ey(){if(vv)return z0.exports;vv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),z0.exports=KS(),z0.exports}var xv;function YS(){if(xv)return co;xv=1;var t=VS(),e=Nh(),r=ey();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(a(188))}function m(n){var i=n.alternate;if(!i){if(i=o(n),i===null)throw Error(a(188));return i!==n?null:n}for(var l=n,d=i;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return h(p),n;if(v===d)return h(p),i;v=v.sibling}throw Error(a(188))}if(l.return!==d.return)l=p,d=v;else{for(var E=!1,M=p.child;M;){if(M===l){E=!0,l=p,d=v;break}if(M===d){E=!0,d=p,l=v;break}M=M.sibling}if(!E){for(M=v.child;M;){if(M===l){E=!0,l=v,d=p;break}if(M===d){E=!0,d=v,l=p;break}M=M.sibling}if(!E)throw Error(a(189))}}if(l.alternate!==d)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),T=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var ye=Symbol.for("react.client.reference");function He(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ye?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case k:return"Profiler";case b:return"StrictMode";case G:return"Suspense";case K:return"SuspenseList";case q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case T:return n.displayName||"Context";case O:return(n._context.displayName||"Context")+".Consumer";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case A:return i=n.displayName||null,i!==null?i:He(n.type)||"Memo";case P:i=n._payload,n=n._init;try{return He(n(i))}catch{}}return null}var fe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},Me=[],Q=-1;function C(n){return{current:n}}function R(n){0>Q||(n.current=Me[Q],Me[Q]=null,Q--)}function W(n,i){Q++,Me[Q]=n.current,n.current=i}var D=C(null),H=C(null),Z=C(null),me=C(null);function be(n,i){switch(W(Z,i),W(H,n),W(D,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?D1(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=D1(i),n=M1(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}R(D),W(D,n)}function we(){R(D),R(H),R(Z)}function Ee(n){n.memoizedState!==null&&W(me,n);var i=D.current,l=M1(i,n.type);i!==l&&(W(H,n),W(D,l))}function $e(n){H.current===n&&(R(D),R(H)),me.current===n&&(R(me),ao._currentValue=ke)}var Pe,Qe;function le(n){if(Pe===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Pe=i&&i[1]||"",Qe=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+n+Qe}var at=!1;function et(n,i){if(!n||at)return"";at=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ge){var he=ge}Reflect.construct(n,[],Se)}else{try{Se.call()}catch(ge){he=ge}n.call(Se.prototype)}}else{try{throw Error()}catch(ge){he=ge}(Se=n())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),E=v[0],M=v[1];if(E&&M){var V=E.split(`
`),ue=M.split(`
`);for(p=d=0;d<V.length&&!V[d].includes("DetermineComponentFrameRoot");)d++;for(;p<ue.length&&!ue[p].includes("DetermineComponentFrameRoot");)p++;if(d===V.length||p===ue.length)for(d=V.length-1,p=ue.length-1;1<=d&&0<=p&&V[d]!==ue[p];)p--;for(;1<=d&&0<=p;d--,p--)if(V[d]!==ue[p]){if(d!==1||p!==1)do if(d--,p--,0>p||V[d]!==ue[p]){var xe=`
`+V[d].replace(" at new "," at ");return n.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",n.displayName)),xe}while(1<=d&&0<=p);break}}}finally{at=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?le(l):""}function ze(n,i){switch(n.tag){case 26:case 27:case 5:return le(n.type);case 16:return le("Lazy");case 13:return n.child!==i&&i!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return et(n.type,!1);case 11:return et(n.type.render,!1);case 1:return et(n.type,!0);case 31:return le("Activity");default:return""}}function At(n){try{var i="",l=null;do i+=ze(n,l),l=n,n=n.return;while(n);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Lt=Object.prototype.hasOwnProperty,pt=t.unstable_scheduleCallback,Cr=t.unstable_cancelCallback,wr=t.unstable_shouldYield,aa=t.unstable_requestPaint,gt=t.unstable_now,Rr=t.unstable_getCurrentPriorityLevel,Sr=t.unstable_ImmediatePriority,Cn=t.unstable_UserBlockingPriority,Er=t.unstable_NormalPriority,ia=t.unstable_LowPriority,Rn=t.unstable_IdlePriority,hn=t.log,sa=t.unstable_setDisableYieldValue,Lr=null,nr=null;function zr(n){if(typeof hn=="function"&&sa(n),nr&&typeof nr.setStrictMode=="function")try{nr.setStrictMode(Lr,n)}catch{}}var cr=Math.clz32?Math.clz32:_i,xl=Math.log,yi=Math.LN2;function _i(n){return n>>>=0,n===0?32:31-(xl(n)/yi|0)|0}var Gn=256,la=262144,Ia=4194304;function Fr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function oa(n,i,l){var d=n.pendingLanes;if(d===0)return 0;var p=0,v=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var M=d&134217727;return M!==0?(d=M&~v,d!==0?p=Fr(d):(E&=M,E!==0?p=Fr(E):l||(l=M&~n,l!==0&&(p=Fr(l))))):(M=d&~v,M!==0?p=Fr(M):E!==0?p=Fr(E):l||(l=d&~n,l!==0&&(p=Fr(l)))),p===0?0:i!==0&&i!==p&&(i&v)===0&&(v=p&-p,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:p}function qn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function yl(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(){var n=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),n}function bi(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function ca(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cs(n,i,l,d,p,v){var E=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var M=n.entanglements,V=n.expirationTimes,ue=n.hiddenUpdates;for(l=E&~l;0<l;){var xe=31-cr(l),Se=1<<xe;M[xe]=0,V[xe]=-1;var he=ue[xe];if(he!==null)for(ue[xe]=null,xe=0;xe<he.length;xe++){var ge=he[xe];ge!==null&&(ge.lane&=-536870913)}l&=~Se}d!==0&&us(n,d,0),v!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=v&~(E&~i))}function us(n,i,l){n.pendingLanes|=i,n.suspendedLanes&=~i;var d=31-cr(i);n.entangledLanes|=i,n.entanglements[d]=n.entanglements[d]|1073741824|l&261930}function J(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var d=31-cr(l),p=1<<d;p&i|n[d]&i&&(n[d]|=i),l&=~p}}function je(n,i){var l=i&-i;return l=(l&42)!==0?1:Ue(l),(l&(n.suspendedLanes|i))!==0?0:l}function Ue(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Oe(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function j(){var n=pe.p;return n!==0?n:(n=window.event,n===void 0?32:nv(n.type))}function B(n,i){var l=pe.p;try{return pe.p=n,i()}finally{pe.p=l}}var N=Math.random().toString(36).slice(2),z="__reactFiber$"+N,U="__reactProps$"+N,I="__reactContainer$"+N,se="__reactEvents$"+N,ne="__reactListeners$"+N,ae="__reactHandles$"+N,ie="__reactResources$"+N,oe="__reactMarker$"+N;function Ae(n){delete n[z],delete n[U],delete n[se],delete n[ne],delete n[ae]}function Ne(n){var i=n[z];if(i)return i;for(var l=n.parentNode;l;){if(i=l[I]||l[z]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=P1(n);n!==null;){if(l=n[z])return l;n=P1(n)}return i}n=l,l=n.parentNode}return null}function Ie(n){if(n=n[z]||n[I]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Re(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Fe(n){var i=n[ie];return i||(i=n[ie]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function We(n){n[oe]=!0}var Ct=new Set,Rt={};function zt(n,i){mn(n,i),mn(n+"Capture",i)}function mn(n,i){for(Rt[n]=i,n=0;n<i.length;n++)Ct.add(i[n])}var wi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ua={},Wn={};function _l(n){return Lt.call(Wn,n)?!0:Lt.call(Ua,n)?!1:wi.test(n)?Wn[n]=!0:(Ua[n]=!0,!1)}function Br(n,i,l){if(_l(i))if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+l)}}function Ko(n,i,l){if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+l)}}function ua(n,i,l,d){if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(i,l,""+d)}}function pn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Tm(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mb(n,i,l){var d=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,v=d.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){l=""+E,v.call(this,E)}}),Object.defineProperty(n,i,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Sd(n){if(!n._valueTracker){var i=Tm(n)?"checked":"value";n._valueTracker=Mb(n,i,""+n[i])}}function km(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return n&&(d=Tm(n)?n.checked?"true":"false":n.value),n=d,n!==l?(i.setValue(n),!0):!1}function Yo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Lb=/[\n"\\]/g;function gn(n){return n.replace(Lb,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ed(n,i,l,d,p,v,E,M){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+pn(i)):n.value!==""+pn(i)&&(n.value=""+pn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Td(n,E,pn(i)):l!=null?Td(n,E,pn(l)):d!=null&&n.removeAttribute("value"),p==null&&v!=null&&(n.defaultChecked=!!v),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.name=""+pn(M):n.removeAttribute("name")}function Am(n,i,l,d,p,v,E,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){Sd(n);return}l=l!=null?""+pn(l):"",i=i!=null?""+pn(i):l,M||i===n.value||(n.value=i),n.defaultValue=i}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=M?n.checked:!!d,n.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Sd(n)}function Td(n,i,l){i==="number"&&Yo(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function ds(n,i,l,d){if(n=n.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<n.length;l++)p=i.hasOwnProperty("$"+n[l].value),n[l].selected!==p&&(n[l].selected=p),p&&d&&(n[l].defaultSelected=!0)}else{for(l=""+pn(l),i=null,p=0;p<n.length;p++){if(n[p].value===l){n[p].selected=!0,d&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function jm(n,i,l){if(i!=null&&(i=""+pn(i),i!==n.value&&(n.value=i),l==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=l!=null?""+pn(l):""}function Cm(n,i,l,d){if(i==null){if(d!=null){if(l!=null)throw Error(a(92));if(fe(d)){if(1<d.length)throw Error(a(93));d=d[0]}l=d}l==null&&(l=""),i=l}l=pn(i),n.defaultValue=l,d=n.textContent,d===l&&d!==""&&d!==null&&(n.value=d),Sd(n)}function fs(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var zb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rm(n,i,l){var d=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":d?n.setProperty(i,l):typeof l!="number"||l===0||zb.has(i)?i==="float"?n.cssFloat=l:n[i]=(""+l).trim():n[i]=l+"px"}function Om(n,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var p in i)d=i[p],i.hasOwnProperty(p)&&l[p]!==d&&Rm(n,p,d)}else for(var v in i)i.hasOwnProperty(v)&&Rm(n,v,i[v])}function kd(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xo(n){return Bb.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function da(){}var Ad=null;function jd(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var hs=null,ms=null;function Nm(n){var i=Ie(n);if(i&&(n=i.stateNode)){var l=n[U]||null;e:switch(n=i.stateNode,i.type){case"input":if(Ed(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+gn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==n&&d.form===n.form){var p=d[U]||null;if(!p)throw Error(a(90));Ed(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)d=l[i],d.form===n.form&&km(d)}break e;case"textarea":jm(n,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ds(n,!!l.multiple,i,!1)}}}var Cd=!1;function Dm(n,i,l){if(Cd)return n(i,l);Cd=!0;try{var d=n(i);return d}finally{if(Cd=!1,(hs!==null||ms!==null)&&(Fc(),hs&&(i=hs,n=ms,ms=hs=null,Nm(i),n)))for(i=0;i<n.length;i++)Nm(n[i])}}function bl(n,i){var l=n.stateNode;if(l===null)return null;var d=l[U]||null;if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rd=!1;if(fa)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){Rd=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{Rd=!1}var Pa=null,Od=null,Jo=null;function Mm(){if(Jo)return Jo;var n,i=Od,l=i.length,d,p="value"in Pa?Pa.value:Pa.textContent,v=p.length;for(n=0;n<l&&i[n]===p[n];n++);var E=l-n;for(d=1;d<=E&&i[l-d]===p[v-d];d++);return Jo=p.slice(n,1<d?1-d:void 0)}function Qo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Zo(){return!0}function Lm(){return!1}function Ir(n){function i(l,d,p,v,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var M in n)n.hasOwnProperty(M)&&(l=n[M],this[M]=l?l(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Zo:Lm,this.isPropagationStopped=Lm,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),i}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=Ir(Si),Sl=x({},Si,{view:0,detail:0}),Ib=Ir(Sl),Nd,Dd,El,tc=x({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==El&&(El&&n.type==="mousemove"?(Nd=n.screenX-El.screenX,Dd=n.screenY-El.screenY):Dd=Nd=0,El=n),Nd)},movementY:function(n){return"movementY"in n?n.movementY:Dd}}),zm=Ir(tc),Ub=x({},tc,{dataTransfer:0}),Pb=Ir(Ub),Hb=x({},Sl,{relatedTarget:0}),Md=Ir(Hb),$b=x({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Gb=Ir($b),qb=x({},Si,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Wb=Ir(qb),Vb=x({},Si,{data:0}),Fm=Ir(Vb),Kb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jb(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Xb[n])?!!i[n]:!1}function Ld(){return Jb}var Qb=x({},Sl,{key:function(n){if(n.key){var i=Kb[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Qo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(n){return n.type==="keypress"?Qo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Zb=Ir(Qb),ew=x({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bm=Ir(ew),tw=x({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),rw=Ir(tw),nw=x({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),aw=Ir(nw),iw=x({},tc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sw=Ir(iw),lw=x({},Si,{newState:0,oldState:0}),ow=Ir(lw),cw=[9,13,27,32],zd=fa&&"CompositionEvent"in window,Tl=null;fa&&"documentMode"in document&&(Tl=document.documentMode);var uw=fa&&"TextEvent"in window&&!Tl,Im=fa&&(!zd||Tl&&8<Tl&&11>=Tl),Um=" ",Pm=!1;function Hm(n,i){switch(n){case"keyup":return cw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $m(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ps=!1;function dw(n,i){switch(n){case"compositionend":return $m(i);case"keypress":return i.which!==32?null:(Pm=!0,Um);case"textInput":return n=i.data,n===Um&&Pm?null:n;default:return null}}function fw(n,i){if(ps)return n==="compositionend"||!zd&&Hm(n,i)?(n=Mm(),Jo=Od=Pa=null,ps=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Im&&i.locale!=="ko"?null:i.data;default:return null}}var hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!hw[n.type]:i==="textarea"}function qm(n,i,l,d){hs?ms?ms.push(d):ms=[d]:hs=d,i=Gc(i,"onChange"),0<i.length&&(l=new ec("onChange","change",null,l,d),n.push({event:l,listeners:i}))}var kl=null,Al=null;function mw(n){A1(n,0)}function rc(n){var i=Re(n);if(km(i))return n}function Wm(n,i){if(n==="change")return i}var Vm=!1;if(fa){var Fd;if(fa){var Bd="oninput"in document;if(!Bd){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),Bd=typeof Km.oninput=="function"}Fd=Bd}else Fd=!1;Vm=Fd&&(!document.documentMode||9<document.documentMode)}function Ym(){kl&&(kl.detachEvent("onpropertychange",Xm),Al=kl=null)}function Xm(n){if(n.propertyName==="value"&&rc(Al)){var i=[];qm(i,Al,n,jd(n)),Dm(mw,i)}}function pw(n,i,l){n==="focusin"?(Ym(),kl=i,Al=l,kl.attachEvent("onpropertychange",Xm)):n==="focusout"&&Ym()}function gw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rc(Al)}function vw(n,i){if(n==="click")return rc(i)}function xw(n,i){if(n==="input"||n==="change")return rc(i)}function yw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Jr=typeof Object.is=="function"?Object.is:yw;function jl(n,i){if(Jr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!Lt.call(i,p)||!Jr(n[p],i[p]))return!1}return!0}function Jm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Qm(n,i){var l=Jm(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=i&&d>=i)return{node:l,offset:i-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jm(l)}}function Zm(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Zm(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ep(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Yo(n.document);i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=Yo(n.document)}return i}function Id(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var _w=fa&&"documentMode"in document&&11>=document.documentMode,gs=null,Ud=null,Cl=null,Pd=!1;function tp(n,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pd||gs==null||gs!==Yo(d)||(d=gs,"selectionStart"in d&&Id(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Cl&&jl(Cl,d)||(Cl=d,d=Gc(Ud,"onSelect"),0<d.length&&(i=new ec("onSelect","select",null,i,l),n.push({event:i,listeners:d}),i.target=gs)))}function Ei(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var vs={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},Hd={},rp={};fa&&(rp=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Ti(n){if(Hd[n])return Hd[n];if(!vs[n])return n;var i=vs[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in rp)return Hd[n]=i[l];return n}var np=Ti("animationend"),ap=Ti("animationiteration"),ip=Ti("animationstart"),bw=Ti("transitionrun"),ww=Ti("transitionstart"),Sw=Ti("transitioncancel"),sp=Ti("transitionend"),lp=new Map,$d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$d.push("scrollEnd");function On(n,i){lp.set(n,i),zt(i,[n])}var nc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},vn=[],xs=0,Gd=0;function ac(){for(var n=xs,i=Gd=xs=0;i<n;){var l=vn[i];vn[i++]=null;var d=vn[i];vn[i++]=null;var p=vn[i];vn[i++]=null;var v=vn[i];if(vn[i++]=null,d!==null&&p!==null){var E=d.pending;E===null?p.next=p:(p.next=E.next,E.next=p),d.pending=p}v!==0&&op(l,p,v)}}function ic(n,i,l,d){vn[xs++]=n,vn[xs++]=i,vn[xs++]=l,vn[xs++]=d,Gd|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function qd(n,i,l,d){return ic(n,i,l,d),sc(n)}function ki(n,i){return ic(n,null,null,i),sc(n)}function op(n,i,l){n.lanes|=l;var d=n.alternate;d!==null&&(d.lanes|=l);for(var p=!1,v=n.return;v!==null;)v.childLanes|=l,d=v.alternate,d!==null&&(d.childLanes|=l),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(p=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,p&&i!==null&&(p=31-cr(l),n=v.hiddenUpdates,d=n[p],d===null?n[p]=[i]:d.push(i),i.lane=l|536870912),v):null}function sc(n){if(50<Jl)throw Jl=0,t0=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ys={};function Ew(n,i,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(n,i,l,d){return new Ew(n,i,l,d)}function Wd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ha(n,i){var l=n.alternate;return l===null?(l=Qr(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function cp(n,i){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,i=l.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function lc(n,i,l,d,p,v){var E=0;if(d=n,typeof n=="function")Wd(n)&&(E=1);else if(typeof n=="string")E=CS(n,l,D.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case q:return n=Qr(31,l,i,p),n.elementType=q,n.lanes=v,n;case _:return Ai(l.children,p,v,i);case b:E=8,p|=24;break;case k:return n=Qr(12,l,i,p|2),n.elementType=k,n.lanes=v,n;case G:return n=Qr(13,l,i,p),n.elementType=G,n.lanes=v,n;case K:return n=Qr(19,l,i,p),n.elementType=K,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:E=10;break e;case O:E=9;break e;case F:E=11;break e;case A:E=14;break e;case P:E=16,d=null;break e}E=29,l=Error(a(130,n===null?"null":typeof n,"")),d=null}return i=Qr(E,l,i,p),i.elementType=n,i.type=d,i.lanes=v,i}function Ai(n,i,l,d){return n=Qr(7,n,d,i),n.lanes=l,n}function Vd(n,i,l){return n=Qr(6,n,null,i),n.lanes=l,n}function up(n){var i=Qr(18,null,null,0);return i.stateNode=n,i}function Kd(n,i,l){return i=Qr(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var dp=new WeakMap;function xn(n,i){if(typeof n=="object"&&n!==null){var l=dp.get(n);return l!==void 0?l:(i={value:n,source:i,stack:At(i)},dp.set(n,i),i)}return{value:n,source:i,stack:At(i)}}var _s=[],bs=0,oc=null,Rl=0,yn=[],_n=0,Ha=null,Vn=1,Kn="";function ma(n,i){_s[bs++]=Rl,_s[bs++]=oc,oc=n,Rl=i}function fp(n,i,l){yn[_n++]=Vn,yn[_n++]=Kn,yn[_n++]=Ha,Ha=n;var d=Vn;n=Kn;var p=32-cr(d)-1;d&=~(1<<p),l+=1;var v=32-cr(i)+p;if(30<v){var E=p-p%5;v=(d&(1<<E)-1).toString(32),d>>=E,p-=E,Vn=1<<32-cr(i)+p|l<<p|d,Kn=v+n}else Vn=1<<v|l<<p|d,Kn=n}function Yd(n){n.return!==null&&(ma(n,1),fp(n,1,0))}function Xd(n){for(;n===oc;)oc=_s[--bs],_s[bs]=null,Rl=_s[--bs],_s[bs]=null;for(;n===Ha;)Ha=yn[--_n],yn[_n]=null,Kn=yn[--_n],yn[_n]=null,Vn=yn[--_n],yn[_n]=null}function hp(n,i){yn[_n++]=Vn,yn[_n++]=Kn,yn[_n++]=Ha,Vn=i.id,Kn=i.overflow,Ha=n}var ur=null,Nt=null,ct=!1,$a=null,bn=!1,Jd=Error(a(519));function Ga(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(xn(i,n)),Jd}function mp(n){var i=n.stateNode,l=n.type,d=n.memoizedProps;switch(i[z]=n,i[U]=d,l){case"dialog":st("cancel",i),st("close",i);break;case"iframe":case"object":case"embed":st("load",i);break;case"video":case"audio":for(l=0;l<Zl.length;l++)st(Zl[l],i);break;case"source":st("error",i);break;case"img":case"image":case"link":st("error",i),st("load",i);break;case"details":st("toggle",i);break;case"input":st("invalid",i),Am(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":st("invalid",i);break;case"textarea":st("invalid",i),Cm(i,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||d.suppressHydrationWarning===!0||O1(i.textContent,l)?(d.popover!=null&&(st("beforetoggle",i),st("toggle",i)),d.onScroll!=null&&st("scroll",i),d.onScrollEnd!=null&&st("scrollend",i),d.onClick!=null&&(i.onclick=da),i=!0):i=!1,i||Ga(n,!0)}function pp(n){for(ur=n.return;ur;)switch(ur.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:ur=ur.return}}function ws(n){if(n!==ur)return!1;if(!ct)return pp(n),ct=!0,!1;var i=n.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||g0(n.type,n.memoizedProps)),l=!l),l&&Nt&&Ga(n),pp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Nt=U1(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Nt=U1(n)}else i===27?(i=Nt,ai(n.type)?(n=b0,b0=null,Nt=n):Nt=i):Nt=ur?Sn(n.stateNode.nextSibling):null;return!0}function ji(){Nt=ur=null,ct=!1}function Qd(){var n=$a;return n!==null&&($r===null?$r=n:$r.push.apply($r,n),$a=null),n}function Ol(n){$a===null?$a=[n]:$a.push(n)}var Zd=C(null),Ci=null,pa=null;function qa(n,i,l){W(Zd,i._currentValue),i._currentValue=l}function ga(n){n._currentValue=Zd.current,R(Zd)}function ef(n,i,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===l)break;n=n.return}}function tf(n,i,l,d){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var v=p.dependencies;if(v!==null){var E=p.child;v=v.firstContext;e:for(;v!==null;){var M=v;v=p;for(var V=0;V<i.length;V++)if(M.context===i[V]){v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),ef(v.return,l,n),d||(E=null);break e}v=M.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(a(341));E.lanes|=l,v=E.alternate,v!==null&&(v.lanes|=l),ef(E,l,n),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===n){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Ss(n,i,l,d){n=null;for(var p=i,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var M=p.type;Jr(p.pendingProps.value,E.value)||(n!==null?n.push(M):n=[M])}}else if(p===me.current){if(E=p.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(ao):n=[ao])}p=p.return}n!==null&&tf(i,n,l,d),i.flags|=262144}function cc(n){for(n=n.firstContext;n!==null;){if(!Jr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ri(n){Ci=n,pa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function dr(n){return gp(Ci,n)}function uc(n,i){return Ci===null&&Ri(n),gp(n,i)}function gp(n,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},pa===null){if(n===null)throw Error(a(308));pa=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else pa=pa.next=i;return l}var Tw=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(l,d){n.push(d)}};this.abort=function(){i.aborted=!0,n.forEach(function(l){return l()})}},kw=t.unstable_scheduleCallback,Aw=t.unstable_NormalPriority,Wt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new Tw,data:new Map,refCount:0}}function Nl(n){n.refCount--,n.refCount===0&&kw(Aw,function(){n.controller.abort()})}var Dl=null,nf=0,Es=0,Ts=null;function jw(n,i){if(Dl===null){var l=Dl=[];nf=0,Es=l0(),Ts={status:"pending",value:void 0,then:function(d){l.push(d)}}}return nf++,i.then(vp,vp),i}function vp(){if(--nf===0&&Dl!==null){Ts!==null&&(Ts.status="fulfilled");var n=Dl;Dl=null,Es=0,Ts=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Cw(n,i){var l=[],d={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return n.then(function(){d.status="fulfilled",d.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(d.status="rejected",d.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),d}var xp=X.S;X.S=function(n,i){t1=gt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jw(n,i),xp!==null&&xp(n,i)};var Oi=C(null);function af(){var n=Oi.current;return n!==null?n:jt.pooledCache}function dc(n,i){i===null?W(Oi,Oi.current):W(Oi,i.pool)}function yp(){var n=af();return n===null?null:{parent:Wt._currentValue,pool:n}}var ks=Error(a(460)),sf=Error(a(474)),fc=Error(a(542)),hc={then:function(){}};function _p(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bp(n,i,l){switch(l=n[l],l===void 0?n.push(i):l!==i&&(i.then(da,da),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Sp(n),n;default:if(typeof i.status=="string")i.then(da,da);else{if(n=jt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(d){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=d}},function(d){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Sp(n),n}throw Di=i,ks}}function Ni(n){try{var i=n._init;return i(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Di=l,ks):l}}var Di=null;function wp(){if(Di===null)throw Error(a(459));var n=Di;return Di=null,n}function Sp(n){if(n===ks||n===fc)throw Error(a(483))}var As=null,Ml=0;function mc(n){var i=Ml;return Ml+=1,As===null&&(As=[]),bp(As,n,i)}function Ll(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function pc(n,i){throw i.$$typeof===y?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Ep(n){function i(re,Y){if(n){var ce=re.deletions;ce===null?(re.deletions=[Y],re.flags|=16):ce.push(Y)}}function l(re,Y){if(!n)return null;for(;Y!==null;)i(re,Y),Y=Y.sibling;return null}function d(re){for(var Y=new Map;re!==null;)re.key!==null?Y.set(re.key,re):Y.set(re.index,re),re=re.sibling;return Y}function p(re,Y){return re=ha(re,Y),re.index=0,re.sibling=null,re}function v(re,Y,ce){return re.index=ce,n?(ce=re.alternate,ce!==null?(ce=ce.index,ce<Y?(re.flags|=67108866,Y):ce):(re.flags|=67108866,Y)):(re.flags|=1048576,Y)}function E(re){return n&&re.alternate===null&&(re.flags|=67108866),re}function M(re,Y,ce,_e){return Y===null||Y.tag!==6?(Y=Vd(ce,re.mode,_e),Y.return=re,Y):(Y=p(Y,ce),Y.return=re,Y)}function V(re,Y,ce,_e){var Ye=ce.type;return Ye===_?xe(re,Y,ce.props.children,_e,ce.key):Y!==null&&(Y.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===P&&Ni(Ye)===Y.type)?(Y=p(Y,ce.props),Ll(Y,ce),Y.return=re,Y):(Y=lc(ce.type,ce.key,ce.props,null,re.mode,_e),Ll(Y,ce),Y.return=re,Y)}function ue(re,Y,ce,_e){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ce.containerInfo||Y.stateNode.implementation!==ce.implementation?(Y=Kd(ce,re.mode,_e),Y.return=re,Y):(Y=p(Y,ce.children||[]),Y.return=re,Y)}function xe(re,Y,ce,_e,Ye){return Y===null||Y.tag!==7?(Y=Ai(ce,re.mode,_e,Ye),Y.return=re,Y):(Y=p(Y,ce),Y.return=re,Y)}function Se(re,Y,ce){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Vd(""+Y,re.mode,ce),Y.return=re,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return ce=lc(Y.type,Y.key,Y.props,null,re.mode,ce),Ll(ce,Y),ce.return=re,ce;case S:return Y=Kd(Y,re.mode,ce),Y.return=re,Y;case P:return Y=Ni(Y),Se(re,Y,ce)}if(fe(Y)||de(Y))return Y=Ai(Y,re.mode,ce,null),Y.return=re,Y;if(typeof Y.then=="function")return Se(re,mc(Y),ce);if(Y.$$typeof===T)return Se(re,uc(re,Y),ce);pc(re,Y)}return null}function he(re,Y,ce,_e){var Ye=Y!==null?Y.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ye!==null?null:M(re,Y,""+ce,_e);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return ce.key===Ye?V(re,Y,ce,_e):null;case S:return ce.key===Ye?ue(re,Y,ce,_e):null;case P:return ce=Ni(ce),he(re,Y,ce,_e)}if(fe(ce)||de(ce))return Ye!==null?null:xe(re,Y,ce,_e,null);if(typeof ce.then=="function")return he(re,Y,mc(ce),_e);if(ce.$$typeof===T)return he(re,Y,uc(re,ce),_e);pc(re,ce)}return null}function ge(re,Y,ce,_e,Ye){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return re=re.get(ce)||null,M(Y,re,""+_e,Ye);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case w:return re=re.get(_e.key===null?ce:_e.key)||null,V(Y,re,_e,Ye);case S:return re=re.get(_e.key===null?ce:_e.key)||null,ue(Y,re,_e,Ye);case P:return _e=Ni(_e),ge(re,Y,ce,_e,Ye)}if(fe(_e)||de(_e))return re=re.get(ce)||null,xe(Y,re,_e,Ye,null);if(typeof _e.then=="function")return ge(re,Y,ce,mc(_e),Ye);if(_e.$$typeof===T)return ge(re,Y,ce,uc(Y,_e),Ye);pc(Y,_e)}return null}function Ge(re,Y,ce,_e){for(var Ye=null,ut=null,Ve=Y,rt=Y=0,ot=null;Ve!==null&&rt<ce.length;rt++){Ve.index>rt?(ot=Ve,Ve=null):ot=Ve.sibling;var dt=he(re,Ve,ce[rt],_e);if(dt===null){Ve===null&&(Ve=ot);break}n&&Ve&&dt.alternate===null&&i(re,Ve),Y=v(dt,Y,rt),ut===null?Ye=dt:ut.sibling=dt,ut=dt,Ve=ot}if(rt===ce.length)return l(re,Ve),ct&&ma(re,rt),Ye;if(Ve===null){for(;rt<ce.length;rt++)Ve=Se(re,ce[rt],_e),Ve!==null&&(Y=v(Ve,Y,rt),ut===null?Ye=Ve:ut.sibling=Ve,ut=Ve);return ct&&ma(re,rt),Ye}for(Ve=d(Ve);rt<ce.length;rt++)ot=ge(Ve,re,rt,ce[rt],_e),ot!==null&&(n&&ot.alternate!==null&&Ve.delete(ot.key===null?rt:ot.key),Y=v(ot,Y,rt),ut===null?Ye=ot:ut.sibling=ot,ut=ot);return n&&Ve.forEach(function(ci){return i(re,ci)}),ct&&ma(re,rt),Ye}function Xe(re,Y,ce,_e){if(ce==null)throw Error(a(151));for(var Ye=null,ut=null,Ve=Y,rt=Y=0,ot=null,dt=ce.next();Ve!==null&&!dt.done;rt++,dt=ce.next()){Ve.index>rt?(ot=Ve,Ve=null):ot=Ve.sibling;var ci=he(re,Ve,dt.value,_e);if(ci===null){Ve===null&&(Ve=ot);break}n&&Ve&&ci.alternate===null&&i(re,Ve),Y=v(ci,Y,rt),ut===null?Ye=ci:ut.sibling=ci,ut=ci,Ve=ot}if(dt.done)return l(re,Ve),ct&&ma(re,rt),Ye;if(Ve===null){for(;!dt.done;rt++,dt=ce.next())dt=Se(re,dt.value,_e),dt!==null&&(Y=v(dt,Y,rt),ut===null?Ye=dt:ut.sibling=dt,ut=dt);return ct&&ma(re,rt),Ye}for(Ve=d(Ve);!dt.done;rt++,dt=ce.next())dt=ge(Ve,re,rt,dt.value,_e),dt!==null&&(n&&dt.alternate!==null&&Ve.delete(dt.key===null?rt:dt.key),Y=v(dt,Y,rt),ut===null?Ye=dt:ut.sibling=dt,ut=dt);return n&&Ve.forEach(function(US){return i(re,US)}),ct&&ma(re,rt),Ye}function Tt(re,Y,ce,_e){if(typeof ce=="object"&&ce!==null&&ce.type===_&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:e:{for(var Ye=ce.key;Y!==null;){if(Y.key===Ye){if(Ye=ce.type,Ye===_){if(Y.tag===7){l(re,Y.sibling),_e=p(Y,ce.props.children),_e.return=re,re=_e;break e}}else if(Y.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===P&&Ni(Ye)===Y.type){l(re,Y.sibling),_e=p(Y,ce.props),Ll(_e,ce),_e.return=re,re=_e;break e}l(re,Y);break}else i(re,Y);Y=Y.sibling}ce.type===_?(_e=Ai(ce.props.children,re.mode,_e,ce.key),_e.return=re,re=_e):(_e=lc(ce.type,ce.key,ce.props,null,re.mode,_e),Ll(_e,ce),_e.return=re,re=_e)}return E(re);case S:e:{for(Ye=ce.key;Y!==null;){if(Y.key===Ye)if(Y.tag===4&&Y.stateNode.containerInfo===ce.containerInfo&&Y.stateNode.implementation===ce.implementation){l(re,Y.sibling),_e=p(Y,ce.children||[]),_e.return=re,re=_e;break e}else{l(re,Y);break}else i(re,Y);Y=Y.sibling}_e=Kd(ce,re.mode,_e),_e.return=re,re=_e}return E(re);case P:return ce=Ni(ce),Tt(re,Y,ce,_e)}if(fe(ce))return Ge(re,Y,ce,_e);if(de(ce)){if(Ye=de(ce),typeof Ye!="function")throw Error(a(150));return ce=Ye.call(ce),Xe(re,Y,ce,_e)}if(typeof ce.then=="function")return Tt(re,Y,mc(ce),_e);if(ce.$$typeof===T)return Tt(re,Y,uc(re,ce),_e);pc(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,Y!==null&&Y.tag===6?(l(re,Y.sibling),_e=p(Y,ce),_e.return=re,re=_e):(l(re,Y),_e=Vd(ce,re.mode,_e),_e.return=re,re=_e),E(re)):l(re,Y)}return function(re,Y,ce,_e){try{Ml=0;var Ye=Tt(re,Y,ce,_e);return As=null,Ye}catch(Ve){if(Ve===ks||Ve===fc)throw Ve;var ut=Qr(29,Ve,null,re.mode);return ut.lanes=_e,ut.return=re,ut}finally{}}}var Mi=Ep(!0),Tp=Ep(!1),Wa=!1;function lf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Va(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ka(n,i,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(ht&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,i=sc(n),op(n,null,l),i}return ic(n,d,i,l),sc(n)}function zl(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,J(n,l)}}function cf(n,i){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?p=v=i:v=v.next=i}else p=v=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}var uf=!1;function Fl(){if(uf){var n=Ts;if(n!==null)throw n}}function Bl(n,i,l,d){uf=!1;var p=n.updateQueue;Wa=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var V=M,ue=V.next;V.next=null,E===null?v=ue:E.next=ue,E=V;var xe=n.alternate;xe!==null&&(xe=xe.updateQueue,M=xe.lastBaseUpdate,M!==E&&(M===null?xe.firstBaseUpdate=ue:M.next=ue,xe.lastBaseUpdate=V))}if(v!==null){var Se=p.baseState;E=0,xe=ue=V=null,M=v;do{var he=M.lane&-536870913,ge=he!==M.lane;if(ge?(lt&he)===he:(d&he)===he){he!==0&&he===Es&&(uf=!0),xe!==null&&(xe=xe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Ge=n,Xe=M;he=i;var Tt=l;switch(Xe.tag){case 1:if(Ge=Xe.payload,typeof Ge=="function"){Se=Ge.call(Tt,Se,he);break e}Se=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Xe.payload,he=typeof Ge=="function"?Ge.call(Tt,Se,he):Ge,he==null)break e;Se=x({},Se,he);break e;case 2:Wa=!0}}he=M.callback,he!==null&&(n.flags|=64,ge&&(n.flags|=8192),ge=p.callbacks,ge===null?p.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:M.tag,payload:M.payload,callback:M.callback,next:null},xe===null?(ue=xe=ge,V=Se):xe=xe.next=ge,E|=he;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;ge=M,M=ge.next,ge.next=null,p.lastBaseUpdate=ge,p.shared.pending=null}}while(!0);xe===null&&(V=Se),p.baseState=V,p.firstBaseUpdate=ue,p.lastBaseUpdate=xe,v===null&&(p.shared.lanes=0),Za|=E,n.lanes=E,n.memoizedState=Se}}function kp(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Ap(n,i){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)kp(l[n],i)}var js=C(null),gc=C(0);function jp(n,i){n=Ta,W(gc,n),W(js,i),Ta=n|i.baseLanes}function df(){W(gc,Ta),W(js,js.current)}function ff(){Ta=gc.current,R(js),R(gc)}var Zr=C(null),wn=null;function Ya(n){var i=n.alternate;W(Gt,Gt.current&1),W(Zr,n),wn===null&&(i===null||js.current!==null||i.memoizedState!==null)&&(wn=n)}function hf(n){W(Gt,Gt.current),W(Zr,n),wn===null&&(wn=n)}function Cp(n){n.tag===22?(W(Gt,Gt.current),W(Zr,n),wn===null&&(wn=n)):Xa()}function Xa(){W(Gt,Gt.current),W(Zr,Zr.current)}function en(n){R(Zr),wn===n&&(wn=null),R(Gt)}var Gt=C(0);function vc(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||y0(l)||_0(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var va=0,tt=null,St=null,Vt=null,xc=!1,Cs=!1,Li=!1,yc=0,Il=0,Rs=null,Rw=0;function Ut(){throw Error(a(321))}function mf(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!Jr(n[l],i[l]))return!1;return!0}function pf(n,i,l,d,p,v){return va=v,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?fg:Rf,Li=!1,v=l(d,p),Li=!1,Cs&&(v=Op(i,l,d,p)),Rp(n),v}function Rp(n){X.H=Hl;var i=St!==null&&St.next!==null;if(va=0,Vt=St=tt=null,xc=!1,Il=0,Rs=null,i)throw Error(a(300));n===null||Kt||(n=n.dependencies,n!==null&&cc(n)&&(Kt=!0))}function Op(n,i,l,d){tt=n;var p=0;do{if(Cs&&(Rs=null),Il=0,Cs=!1,25<=p)throw Error(a(301));if(p+=1,Vt=St=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}X.H=hg,v=i(l,d)}while(Cs);return v}function Ow(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?Ul(i):i,n=n.useState()[0],(St!==null?St.memoizedState:null)!==n&&(tt.flags|=1024),i}function gf(){var n=yc!==0;return yc=0,n}function vf(n,i,l){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~l}function xf(n){if(xc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}xc=!1}va=0,Vt=St=tt=null,Cs=!1,Il=yc=0,Rs=null}function Or(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?tt.memoizedState=Vt=n:Vt=Vt.next=n,Vt}function qt(){if(St===null){var n=tt.alternate;n=n!==null?n.memoizedState:null}else n=St.next;var i=Vt===null?tt.memoizedState:Vt.next;if(i!==null)Vt=i,St=n;else{if(n===null)throw tt.alternate===null?Error(a(467)):Error(a(310));St=n,n={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Vt===null?tt.memoizedState=Vt=n:Vt=Vt.next=n}return Vt}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(n){var i=Il;return Il+=1,Rs===null&&(Rs=[]),n=bp(Rs,n,i),i=tt,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?fg:Rf),n}function bc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ul(n);if(n.$$typeof===T)return dr(n)}throw Error(a(438,String(n)))}function yf(n){var i=null,l=tt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var d=tt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=_c(),tt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(n),d=0;d<n;d++)l[d]=te;return i.index++,l}function xa(n,i){return typeof i=="function"?i(n):i}function wc(n){var i=qt();return _f(i,St,n)}function _f(n,i,l){var d=n.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=l;var p=n.baseQueue,v=d.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}i.baseQueue=p=v,d.pending=null}if(v=n.baseState,p===null)n.memoizedState=v;else{i=p.next;var M=E=null,V=null,ue=i,xe=!1;do{var Se=ue.lane&-536870913;if(Se!==ue.lane?(lt&Se)===Se:(va&Se)===Se){var he=ue.revertLane;if(he===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Se===Es&&(xe=!0);else if((va&he)===he){ue=ue.next,he===Es&&(xe=!0);continue}else Se={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},V===null?(M=V=Se,E=v):V=V.next=Se,tt.lanes|=he,Za|=he;Se=ue.action,Li&&l(v,Se),v=ue.hasEagerState?ue.eagerState:l(v,Se)}else he={lane:Se,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},V===null?(M=V=he,E=v):V=V.next=he,tt.lanes|=Se,Za|=Se;ue=ue.next}while(ue!==null&&ue!==i);if(V===null?E=v:V.next=M,!Jr(v,n.memoizedState)&&(Kt=!0,xe&&(l=Ts,l!==null)))throw l;n.memoizedState=v,n.baseState=E,n.baseQueue=V,d.lastRenderedState=v}return p===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function bf(n){var i=qt(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=n;var d=l.dispatch,p=l.pending,v=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do v=n(v,E.action),E=E.next;while(E!==p);Jr(v,i.memoizedState)||(Kt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,d]}function Np(n,i,l){var d=tt,p=qt(),v=ct;if(v){if(l===void 0)throw Error(a(407));l=l()}else l=i();var E=!Jr((St||p).memoizedState,l);if(E&&(p.memoizedState=l,Kt=!0),p=p.queue,Ef(Lp.bind(null,d,p,n),[n]),p.getSnapshot!==i||E||Vt!==null&&Vt.memoizedState.tag&1){if(d.flags|=2048,Os(9,{destroy:void 0},Mp.bind(null,d,p,l,i),null),jt===null)throw Error(a(349));v||(va&127)!==0||Dp(d,i,l)}return l}function Dp(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=tt.updateQueue,i===null?(i=_c(),tt.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function Mp(n,i,l,d){i.value=l,i.getSnapshot=d,zp(i)&&Fp(n)}function Lp(n,i,l){return l(function(){zp(i)&&Fp(n)})}function zp(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!Jr(n,l)}catch{return!0}}function Fp(n){var i=ki(n,2);i!==null&&Gr(i,n,2)}function wf(n){var i=Or();if(typeof n=="function"){var l=n;if(n=l(),Li){zr(!0);try{l()}finally{zr(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:n},i}function Bp(n,i,l,d){return n.baseState=l,_f(n,St,typeof d=="function"?d:xa)}function Nw(n,i,l,d,p){if(Tc(n))throw Error(a(485));if(n=i.action,n!==null){var v={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};X.T!==null?l(!0):v.isTransition=!1,d(v),l=i.pending,l===null?(v.next=i.pending=v,Ip(i,v)):(v.next=l.next,i.pending=l.next=v)}}function Ip(n,i){var l=i.action,d=i.payload,p=n.state;if(i.isTransition){var v=X.T,E={};X.T=E;try{var M=l(p,d),V=X.S;V!==null&&V(E,M),Up(n,i,M)}catch(ue){Sf(n,i,ue)}finally{v!==null&&E.types!==null&&(v.types=E.types),X.T=v}}else try{v=l(p,d),Up(n,i,v)}catch(ue){Sf(n,i,ue)}}function Up(n,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Pp(n,i,d)},function(d){return Sf(n,i,d)}):Pp(n,i,l)}function Pp(n,i,l){i.status="fulfilled",i.value=l,Hp(i),n.state=l,i=n.pending,i!==null&&(l=i.next,l===i?n.pending=null:(l=l.next,i.next=l,Ip(n,l)))}function Sf(n,i,l){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=l,Hp(i),i=i.next;while(i!==d)}n.action=null}function Hp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function $p(n,i){return i}function Gp(n,i){if(ct){var l=jt.formState;if(l!==null){e:{var d=tt;if(ct){if(Nt){t:{for(var p=Nt,v=bn;p.nodeType!==8;){if(!v){p=null;break t}if(p=Sn(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Nt=Sn(p.nextSibling),d=p.data==="F!";break e}}Ga(d)}d=!1}d&&(i=l[0])}}return l=Or(),l.memoizedState=l.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:i},l.queue=d,l=cg.bind(null,tt,d),d.dispatch=l,d=wf(!1),v=Cf.bind(null,tt,!1,d.queue),d=Or(),p={state:i,dispatch:null,action:n,pending:null},d.queue=p,l=Nw.bind(null,tt,p,v,l),p.dispatch=l,d.memoizedState=n,[i,l,!1]}function qp(n){var i=qt();return Wp(i,St,n)}function Wp(n,i,l){if(i=_f(n,i,$p)[0],n=wc(xa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Ul(i)}catch(E){throw E===ks?fc:E}else d=i;i=qt();var p=i.queue,v=p.dispatch;return l!==i.memoizedState&&(tt.flags|=2048,Os(9,{destroy:void 0},Dw.bind(null,p,l),null)),[d,v,n]}function Dw(n,i){n.action=i}function Vp(n){var i=qt(),l=St;if(l!==null)return Wp(i,l,n);qt(),i=i.memoizedState,l=qt();var d=l.queue.dispatch;return l.memoizedState=n,[i,d,!1]}function Os(n,i,l,d){return n={tag:n,create:l,deps:d,inst:i,next:null},i=tt.updateQueue,i===null&&(i=_c(),tt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,i.lastEffect=n),n}function Kp(){return qt().memoizedState}function Sc(n,i,l,d){var p=Or();tt.flags|=n,p.memoizedState=Os(1|i,{destroy:void 0},l,d===void 0?null:d)}function Ec(n,i,l,d){var p=qt();d=d===void 0?null:d;var v=p.memoizedState.inst;St!==null&&d!==null&&mf(d,St.memoizedState.deps)?p.memoizedState=Os(i,v,l,d):(tt.flags|=n,p.memoizedState=Os(1|i,v,l,d))}function Yp(n,i){Sc(8390656,8,n,i)}function Ef(n,i){Ec(2048,8,n,i)}function Mw(n){tt.flags|=4;var i=tt.updateQueue;if(i===null)i=_c(),tt.updateQueue=i,i.events=[n];else{var l=i.events;l===null?i.events=[n]:l.push(n)}}function Xp(n){var i=qt().memoizedState;return Mw({ref:i,nextImpl:n}),function(){if((ht&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Jp(n,i){return Ec(4,2,n,i)}function Qp(n,i){return Ec(4,4,n,i)}function Zp(n,i){if(typeof i=="function"){n=n();var l=i(n);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function eg(n,i,l){l=l!=null?l.concat([n]):null,Ec(4,4,Zp.bind(null,i,n),l)}function Tf(){}function tg(n,i){var l=qt();i=i===void 0?null:i;var d=l.memoizedState;return i!==null&&mf(i,d[1])?d[0]:(l.memoizedState=[n,i],n)}function rg(n,i){var l=qt();i=i===void 0?null:i;var d=l.memoizedState;if(i!==null&&mf(i,d[1]))return d[0];if(d=n(),Li){zr(!0);try{n()}finally{zr(!1)}}return l.memoizedState=[d,i],d}function kf(n,i,l){return l===void 0||(va&1073741824)!==0&&(lt&261930)===0?n.memoizedState=i:(n.memoizedState=l,n=n1(),tt.lanes|=n,Za|=n,l)}function ng(n,i,l,d){return Jr(l,i)?l:js.current!==null?(n=kf(n,l,d),Jr(n,i)||(Kt=!0),n):(va&42)===0||(va&1073741824)!==0&&(lt&261930)===0?(Kt=!0,n.memoizedState=l):(n=n1(),tt.lanes|=n,Za|=n,i)}function ag(n,i,l,d,p){var v=pe.p;pe.p=v!==0&&8>v?v:8;var E=X.T,M={};X.T=M,Cf(n,!1,i,l);try{var V=p(),ue=X.S;if(ue!==null&&ue(M,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var xe=Cw(V,d);Pl(n,i,xe,nn(n))}else Pl(n,i,d,nn(n))}catch(Se){Pl(n,i,{then:function(){},status:"rejected",reason:Se},nn())}finally{pe.p=v,E!==null&&M.types!==null&&(E.types=M.types),X.T=E}}function Lw(){}function Af(n,i,l,d){if(n.tag!==5)throw Error(a(476));var p=ig(n).queue;ag(n,p,i,ke,l===null?Lw:function(){return sg(n),l(d)})}function ig(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:ke},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:l},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function sg(n){var i=ig(n);i.next===null&&(i=n.alternate.memoizedState),Pl(n,i.next.queue,{},nn())}function jf(){return dr(ao)}function lg(){return qt().memoizedState}function og(){return qt().memoizedState}function zw(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var l=nn();n=Va(l);var d=Ka(i,n,l);d!==null&&(Gr(d,i,l),zl(d,i,l)),i={cache:rf()},n.payload=i;return}i=i.return}}function Fw(n,i,l){var d=nn();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tc(n)?ug(i,l):(l=qd(n,i,l,d),l!==null&&(Gr(l,n,d),dg(l,i,d)))}function cg(n,i,l){var d=nn();Pl(n,i,l,d)}function Pl(n,i,l,d){var p={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Tc(n))ug(i,p);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var E=i.lastRenderedState,M=v(E,l);if(p.hasEagerState=!0,p.eagerState=M,Jr(M,E))return ic(n,i,p,0),jt===null&&ac(),!1}catch{}finally{}if(l=qd(n,i,p,d),l!==null)return Gr(l,n,d),dg(l,i,d),!0}return!1}function Cf(n,i,l,d){if(d={lane:2,revertLane:l0(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Tc(n)){if(i)throw Error(a(479))}else i=qd(n,l,d,2),i!==null&&Gr(i,n,2)}function Tc(n){var i=n.alternate;return n===tt||i!==null&&i===tt}function ug(n,i){Cs=xc=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function dg(n,i,l){if((l&4194048)!==0){var d=i.lanes;d&=n.pendingLanes,l|=d,i.lanes=l,J(n,l)}}var Hl={readContext:dr,use:bc,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};Hl.useEffectEvent=Ut;var fg={readContext:dr,use:bc,useCallback:function(n,i){return Or().memoizedState=[n,i===void 0?null:i],n},useContext:dr,useEffect:Yp,useImperativeHandle:function(n,i,l){l=l!=null?l.concat([n]):null,Sc(4194308,4,Zp.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Sc(4194308,4,n,i)},useInsertionEffect:function(n,i){Sc(4,2,n,i)},useMemo:function(n,i){var l=Or();i=i===void 0?null:i;var d=n();if(Li){zr(!0);try{n()}finally{zr(!1)}}return l.memoizedState=[d,i],d},useReducer:function(n,i,l){var d=Or();if(l!==void 0){var p=l(i);if(Li){zr(!0);try{l(i)}finally{zr(!1)}}}else p=i;return d.memoizedState=d.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},d.queue=n,n=n.dispatch=Fw.bind(null,tt,n),[d.memoizedState,n]},useRef:function(n){var i=Or();return n={current:n},i.memoizedState=n},useState:function(n){n=wf(n);var i=n.queue,l=cg.bind(null,tt,i);return i.dispatch=l,[n.memoizedState,l]},useDebugValue:Tf,useDeferredValue:function(n,i){var l=Or();return kf(l,n,i)},useTransition:function(){var n=wf(!1);return n=ag.bind(null,tt,n.queue,!0,!1),Or().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,l){var d=tt,p=Or();if(ct){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),jt===null)throw Error(a(349));(lt&127)!==0||Dp(d,i,l)}p.memoizedState=l;var v={value:l,getSnapshot:i};return p.queue=v,Yp(Lp.bind(null,d,v,n),[n]),d.flags|=2048,Os(9,{destroy:void 0},Mp.bind(null,d,v,l,i),null),l},useId:function(){var n=Or(),i=jt.identifierPrefix;if(ct){var l=Kn,d=Vn;l=(d&~(1<<32-cr(d)-1)).toString(32)+l,i="_"+i+"R_"+l,l=yc++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=Rw++,i="_"+i+"r_"+l.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:jf,useFormState:Gp,useActionState:Gp,useOptimistic:function(n){var i=Or();i.memoizedState=i.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Cf.bind(null,tt,!0,l),l.dispatch=i,[n,i]},useMemoCache:yf,useCacheRefresh:function(){return Or().memoizedState=zw.bind(null,tt)},useEffectEvent:function(n){var i=Or(),l={impl:n};return i.memoizedState=l,function(){if((ht&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Rf={readContext:dr,use:bc,useCallback:tg,useContext:dr,useEffect:Ef,useImperativeHandle:eg,useInsertionEffect:Jp,useLayoutEffect:Qp,useMemo:rg,useReducer:wc,useRef:Kp,useState:function(){return wc(xa)},useDebugValue:Tf,useDeferredValue:function(n,i){var l=qt();return ng(l,St.memoizedState,n,i)},useTransition:function(){var n=wc(xa)[0],i=qt().memoizedState;return[typeof n=="boolean"?n:Ul(n),i]},useSyncExternalStore:Np,useId:lg,useHostTransitionStatus:jf,useFormState:qp,useActionState:qp,useOptimistic:function(n,i){var l=qt();return Bp(l,St,n,i)},useMemoCache:yf,useCacheRefresh:og};Rf.useEffectEvent=Xp;var hg={readContext:dr,use:bc,useCallback:tg,useContext:dr,useEffect:Ef,useImperativeHandle:eg,useInsertionEffect:Jp,useLayoutEffect:Qp,useMemo:rg,useReducer:bf,useRef:Kp,useState:function(){return bf(xa)},useDebugValue:Tf,useDeferredValue:function(n,i){var l=qt();return St===null?kf(l,n,i):ng(l,St.memoizedState,n,i)},useTransition:function(){var n=bf(xa)[0],i=qt().memoizedState;return[typeof n=="boolean"?n:Ul(n),i]},useSyncExternalStore:Np,useId:lg,useHostTransitionStatus:jf,useFormState:Vp,useActionState:Vp,useOptimistic:function(n,i){var l=qt();return St!==null?Bp(l,St,n,i):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:yf,useCacheRefresh:og};hg.useEffectEvent=Xp;function Of(n,i,l,d){i=n.memoizedState,l=l(d,i),l=l==null?i:x({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Nf={enqueueSetState:function(n,i,l){n=n._reactInternals;var d=nn(),p=Va(d);p.payload=i,l!=null&&(p.callback=l),i=Ka(n,p,d),i!==null&&(Gr(i,n,d),zl(i,n,d))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var d=nn(),p=Va(d);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=Ka(n,p,d),i!==null&&(Gr(i,n,d),zl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=nn(),d=Va(l);d.tag=2,i!=null&&(d.callback=i),i=Ka(n,d,l),i!==null&&(Gr(i,n,l),zl(i,n,l))}};function mg(n,i,l,d,p,v,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,E):i.prototype&&i.prototype.isPureReactComponent?!jl(l,d)||!jl(p,v):!0}function pg(n,i,l,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==n&&Nf.enqueueReplaceState(i,i.state,null)}function zi(n,i){var l=i;if("ref"in i){l={};for(var d in i)d!=="ref"&&(l[d]=i[d])}if(n=n.defaultProps){l===i&&(l=x({},l));for(var p in n)l[p]===void 0&&(l[p]=n[p])}return l}function gg(n){nc(n)}function vg(n){console.error(n)}function xg(n){nc(n)}function kc(n,i){try{var l=n.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function yg(n,i,l){try{var d=n.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Df(n,i,l){return l=Va(l),l.tag=3,l.payload={element:null},l.callback=function(){kc(n,i)},l}function _g(n){return n=Va(n),n.tag=3,n}function bg(n,i,l,d){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=d.value;n.payload=function(){return p(v)},n.callback=function(){yg(i,l,d)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){yg(i,l,d),typeof p!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})})}function Bw(n,i,l,d,p){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=l.alternate,i!==null&&Ss(i,l,p,!0),l=Zr.current,l!==null){switch(l.tag){case 31:case 13:return wn===null?Bc():l.alternate===null&&Pt===0&&(Pt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,d===hc?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([d]):i.add(d),a0(n,d,p)),!1;case 22:return l.flags|=65536,d===hc?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([d]):l.add(d)),a0(n,d,p)),!1}throw Error(a(435,l.tag))}return a0(n,d,p),Bc(),!1}if(ct)return i=Zr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,d!==Jd&&(n=Error(a(422),{cause:d}),Ol(xn(n,l)))):(d!==Jd&&(i=Error(a(423),{cause:d}),Ol(xn(i,l))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,d=xn(d,l),p=Df(n.stateNode,d,p),cf(n,p),Pt!==4&&(Pt=2)),!1;var v=Error(a(520),{cause:d});if(v=xn(v,l),Xl===null?Xl=[v]:Xl.push(v),Pt!==4&&(Pt=2),i===null)return!0;d=xn(d,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,n=p&-p,l.lanes|=n,n=Df(l.stateNode,d,n),cf(l,n),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ei===null||!ei.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=_g(p),bg(p,n,l,d),cf(l,p),!1}l=l.return}while(l!==null);return!1}var Mf=Error(a(461)),Kt=!1;function fr(n,i,l,d){i.child=n===null?Tp(i,null,l,d):Mi(i,n.child,l,d)}function wg(n,i,l,d,p){l=l.render;var v=i.ref;if("ref"in d){var E={};for(var M in d)M!=="ref"&&(E[M]=d[M])}else E=d;return Ri(i),d=pf(n,i,l,E,v,p),M=gf(),n!==null&&!Kt?(vf(n,i,p),ya(n,i,p)):(ct&&M&&Yd(i),i.flags|=1,fr(n,i,d,p),i.child)}function Sg(n,i,l,d,p){if(n===null){var v=l.type;return typeof v=="function"&&!Wd(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,Eg(n,i,v,d,p)):(n=lc(l.type,null,d,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,!Hf(n,p)){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:jl,l(E,d)&&n.ref===i.ref)return ya(n,i,p)}return i.flags|=1,n=ha(v,d),n.ref=i.ref,n.return=i,i.child=n}function Eg(n,i,l,d,p){if(n!==null){var v=n.memoizedProps;if(jl(v,d)&&n.ref===i.ref)if(Kt=!1,i.pendingProps=d=v,Hf(n,p))(n.flags&131072)!==0&&(Kt=!0);else return i.lanes=n.lanes,ya(n,i,p)}return Lf(n,i,l,d,p)}function Tg(n,i,l,d){var p=d.children,v=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,n!==null){for(d=i.child=n.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~v}else d=0,i.child=null;return kg(n,i,v,l,d)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(i,v!==null?v.cachePool:null),v!==null?jp(i,v):df(),Cp(i);else return d=i.lanes=536870912,kg(n,i,v!==null?v.baseLanes|l:l,l,d)}else v!==null?(dc(i,v.cachePool),jp(i,v),Xa(),i.memoizedState=null):(n!==null&&dc(i,null),df(),Xa());return fr(n,i,p,l),i.child}function $l(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function kg(n,i,l,d,p){var v=af();return v=v===null?null:{parent:Wt._currentValue,pool:v},i.memoizedState={baseLanes:l,cachePool:v},n!==null&&dc(i,null),df(),Cp(i),n!==null&&Ss(n,i,d,!0),i.childLanes=p,null}function Ac(n,i){return i=Cc({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Ag(n,i,l){return Mi(i,n.child,null,l),n=Ac(i,i.pendingProps),n.flags|=2,en(i),i.memoizedState=null,n}function Iw(n,i,l){var d=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(ct){if(d.mode==="hidden")return n=Ac(i,d),i.lanes=536870912,$l(null,n);if(hf(i),(n=Nt)?(n=I1(n,bn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Ha!==null?{id:Vn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},l=up(n),l.return=i,i.child=l,ur=i,Nt=null)):n=null,n===null)throw Ga(i);return i.lanes=536870912,null}return Ac(i,d)}var v=n.memoizedState;if(v!==null){var E=v.dehydrated;if(hf(i),p)if(i.flags&256)i.flags&=-257,i=Ag(n,i,l);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(Kt||Ss(n,i,l,!1),p=(l&n.childLanes)!==0,Kt||p){if(d=jt,d!==null&&(E=je(d,l),E!==0&&E!==v.retryLane))throw v.retryLane=E,ki(n,E),Gr(d,n,E),Mf;Bc(),i=Ag(n,i,l)}else n=v.treeContext,Nt=Sn(E.nextSibling),ur=i,ct=!0,$a=null,bn=!1,n!==null&&hp(i,n),i=Ac(i,d),i.flags|=4096;return i}return n=ha(n.child,{mode:d.mode,children:d.children}),n.ref=i.ref,i.child=n,n.return=i,n}function jc(n,i){var l=i.ref;if(l===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(n===null||n.ref!==l)&&(i.flags|=4194816)}}function Lf(n,i,l,d,p){return Ri(i),l=pf(n,i,l,d,void 0,p),d=gf(),n!==null&&!Kt?(vf(n,i,p),ya(n,i,p)):(ct&&d&&Yd(i),i.flags|=1,fr(n,i,l,p),i.child)}function jg(n,i,l,d,p,v){return Ri(i),i.updateQueue=null,l=Op(i,d,l,p),Rp(n),d=gf(),n!==null&&!Kt?(vf(n,i,v),ya(n,i,v)):(ct&&d&&Yd(i),i.flags|=1,fr(n,i,l,v),i.child)}function Cg(n,i,l,d,p){if(Ri(i),i.stateNode===null){var v=ys,E=l.contextType;typeof E=="object"&&E!==null&&(v=dr(E)),v=new l(d,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Nf,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=d,v.state=i.memoizedState,v.refs={},lf(i),E=l.contextType,v.context=typeof E=="object"&&E!==null?dr(E):ys,v.state=i.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Of(i,l,E,d),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Nf.enqueueReplaceState(v,v.state,null),Bl(i,d,v,p),Fl(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(n===null){v=i.stateNode;var M=i.memoizedProps,V=zi(l,M);v.props=V;var ue=v.context,xe=l.contextType;E=ys,typeof xe=="object"&&xe!==null&&(E=dr(xe));var Se=l.getDerivedStateFromProps;xe=typeof Se=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,xe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||ue!==E)&&pg(i,v,d,E),Wa=!1;var he=i.memoizedState;v.state=he,Bl(i,d,v,p),Fl(),ue=i.memoizedState,M||he!==ue||Wa?(typeof Se=="function"&&(Of(i,l,Se,d),ue=i.memoizedState),(V=Wa||mg(i,l,V,d,he,ue,E))?(xe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=ue),v.props=d,v.state=ue,v.context=E,d=V):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{v=i.stateNode,of(n,i),E=i.memoizedProps,xe=zi(l,E),v.props=xe,Se=i.pendingProps,he=v.context,ue=l.contextType,V=ys,typeof ue=="object"&&ue!==null&&(V=dr(ue)),M=l.getDerivedStateFromProps,(ue=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==Se||he!==V)&&pg(i,v,d,V),Wa=!1,he=i.memoizedState,v.state=he,Bl(i,d,v,p),Fl();var ge=i.memoizedState;E!==Se||he!==ge||Wa||n!==null&&n.dependencies!==null&&cc(n.dependencies)?(typeof M=="function"&&(Of(i,l,M,d),ge=i.memoizedState),(xe=Wa||mg(i,l,xe,d,he,ge,V)||n!==null&&n.dependencies!==null&&cc(n.dependencies))?(ue||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,ge,V),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,ge,V)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&he===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&he===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ge),v.props=d,v.state=ge,v.context=V,d=xe):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&he===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&he===n.memoizedState||(i.flags|=1024),d=!1)}return v=d,jc(n,i),d=(i.flags&128)!==0,v||d?(v=i.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,n!==null&&d?(i.child=Mi(i,n.child,null,p),i.child=Mi(i,null,l,p)):fr(n,i,l,p),i.memoizedState=v.state,n=i.child):n=ya(n,i,p),n}function Rg(n,i,l,d){return ji(),i.flags|=256,fr(n,i,l,d),i.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(n){return{baseLanes:n,cachePool:yp()}}function Bf(n,i,l){return n=n!==null?n.childLanes&~l:0,i&&(n|=rn),n}function Og(n,i,l){var d=i.pendingProps,p=!1,v=(i.flags&128)!==0,E;if((E=v)||(E=n!==null&&n.memoizedState===null?!1:(Gt.current&2)!==0),E&&(p=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(ct){if(p?Ya(i):Xa(),(n=Nt)?(n=I1(n,bn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Ha!==null?{id:Vn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},l=up(n),l.return=i,i.child=l,ur=i,Nt=null)):n=null,n===null)throw Ga(i);return _0(n)?i.lanes=32:i.lanes=536870912,null}var M=d.children;return d=d.fallback,p?(Xa(),p=i.mode,M=Cc({mode:"hidden",children:M},p),d=Ai(d,p,l,null),M.return=i,d.return=i,M.sibling=d,i.child=M,d=i.child,d.memoizedState=Ff(l),d.childLanes=Bf(n,E,l),i.memoizedState=zf,$l(null,d)):(Ya(i),If(i,M))}var V=n.memoizedState;if(V!==null&&(M=V.dehydrated,M!==null)){if(v)i.flags&256?(Ya(i),i.flags&=-257,i=Uf(n,i,l)):i.memoizedState!==null?(Xa(),i.child=n.child,i.flags|=128,i=null):(Xa(),M=d.fallback,p=i.mode,d=Cc({mode:"visible",children:d.children},p),M=Ai(M,p,l,null),M.flags|=2,d.return=i,M.return=i,d.sibling=M,i.child=d,Mi(i,n.child,null,l),d=i.child,d.memoizedState=Ff(l),d.childLanes=Bf(n,E,l),i.memoizedState=zf,i=$l(null,d));else if(Ya(i),_0(M)){if(E=M.nextSibling&&M.nextSibling.dataset,E)var ue=E.dgst;E=ue,d=Error(a(419)),d.stack="",d.digest=E,Ol({value:d,source:null,stack:null}),i=Uf(n,i,l)}else if(Kt||Ss(n,i,l,!1),E=(l&n.childLanes)!==0,Kt||E){if(E=jt,E!==null&&(d=je(E,l),d!==0&&d!==V.retryLane))throw V.retryLane=d,ki(n,d),Gr(E,n,d),Mf;y0(M)||Bc(),i=Uf(n,i,l)}else y0(M)?(i.flags|=192,i.child=n.child,i=null):(n=V.treeContext,Nt=Sn(M.nextSibling),ur=i,ct=!0,$a=null,bn=!1,n!==null&&hp(i,n),i=If(i,d.children),i.flags|=4096);return i}return p?(Xa(),M=d.fallback,p=i.mode,V=n.child,ue=V.sibling,d=ha(V,{mode:"hidden",children:d.children}),d.subtreeFlags=V.subtreeFlags&65011712,ue!==null?M=ha(ue,M):(M=Ai(M,p,l,null),M.flags|=2),M.return=i,d.return=i,d.sibling=M,i.child=d,$l(null,d),d=i.child,M=n.child.memoizedState,M===null?M=Ff(l):(p=M.cachePool,p!==null?(V=Wt._currentValue,p=p.parent!==V?{parent:V,pool:V}:p):p=yp(),M={baseLanes:M.baseLanes|l,cachePool:p}),d.memoizedState=M,d.childLanes=Bf(n,E,l),i.memoizedState=zf,$l(n.child,d)):(Ya(i),l=n.child,n=l.sibling,l=ha(l,{mode:"visible",children:d.children}),l.return=i,l.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=l,i.memoizedState=null,l)}function If(n,i){return i=Cc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Cc(n,i){return n=Qr(22,n,null,i),n.lanes=0,n}function Uf(n,i,l){return Mi(i,n.child,null,l),n=If(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Ng(n,i,l){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),ef(n.return,i,l)}function Pf(n,i,l,d,p,v){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p,treeForkCount:v}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=l,E.tailMode=p,E.treeForkCount=v)}function Dg(n,i,l){var d=i.pendingProps,p=d.revealOrder,v=d.tail;d=d.children;var E=Gt.current,M=(E&2)!==0;if(M?(E=E&1|2,i.flags|=128):E&=1,W(Gt,E),fr(n,i,d,l),d=ct?Rl:0,!M&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ng(n,l,i);else if(n.tag===19)Ng(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)n=l.alternate,n!==null&&vc(n)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Pf(i,!1,p,l,v,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&vc(n)===null){i.child=p;break}n=p.sibling,p.sibling=l,l=p,p=n}Pf(i,!0,l,null,v,d);break;case"together":Pf(i,!1,null,null,void 0,d);break;default:i.memoizedState=null}return i.child}function ya(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),Za|=i.lanes,(l&i.childLanes)===0)if(n!==null){if(Ss(n,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,l=ha(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=ha(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function Hf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&cc(n)))}function Uw(n,i,l){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),qa(i,Wt,n.memoizedState.cache),ji();break;case 27:case 5:Ee(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:qa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,hf(i),null;break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(Ya(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Og(n,i,l):(Ya(i),n=ya(n,i,l),n!==null?n.sibling:null);Ya(i);break;case 19:var p=(n.flags&128)!==0;if(d=(l&i.childLanes)!==0,d||(Ss(n,i,l,!1),d=(l&i.childLanes)!==0),p){if(d)return Dg(n,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(Gt,Gt.current),d)break;return null;case 22:return i.lanes=0,Tg(n,i,l,i.pendingProps);case 24:qa(i,Wt,n.memoizedState.cache)}return ya(n,i,l)}function Mg(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps)Kt=!0;else{if(!Hf(n,l)&&(i.flags&128)===0)return Kt=!1,Uw(n,i,l);Kt=(n.flags&131072)!==0}else Kt=!1,ct&&(i.flags&1048576)!==0&&fp(i,Rl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var d=i.pendingProps;if(n=Ni(i.elementType),i.type=n,typeof n=="function")Wd(n)?(d=zi(n,d),i.tag=1,i=Cg(null,i,n,d,l)):(i.tag=0,i=Lf(null,i,n,d,l));else{if(n!=null){var p=n.$$typeof;if(p===F){i.tag=11,i=wg(null,i,n,d,l);break e}else if(p===A){i.tag=14,i=Sg(null,i,n,d,l);break e}}throw i=He(n)||n,Error(a(306,i,""))}}return i;case 0:return Lf(n,i,i.type,i.pendingProps,l);case 1:return d=i.type,p=zi(d,i.pendingProps),Cg(n,i,d,p,l);case 3:e:{if(be(i,i.stateNode.containerInfo),n===null)throw Error(a(387));d=i.pendingProps;var v=i.memoizedState;p=v.element,of(n,i),Bl(i,d,null,l);var E=i.memoizedState;if(d=E.cache,qa(i,Wt,d),d!==v.cache&&tf(i,[Wt],l,!0),Fl(),d=E.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Rg(n,i,d,l);break e}else if(d!==p){p=xn(Error(a(424)),i),Ol(p),i=Rg(n,i,d,l);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Nt=Sn(n.firstChild),ur=i,ct=!0,$a=null,bn=!0,l=Tp(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ji(),d===p){i=ya(n,i,l);break e}fr(n,i,d,l)}i=i.child}return i;case 26:return jc(n,i),n===null?(l=q1(i.type,null,i.pendingProps,null))?i.memoizedState=l:ct||(l=i.type,n=i.pendingProps,d=qc(Z.current).createElement(l),d[z]=i,d[U]=n,hr(d,l,n),We(d),i.stateNode=d):i.memoizedState=q1(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ee(i),n===null&&ct&&(d=i.stateNode=H1(i.type,i.pendingProps,Z.current),ur=i,bn=!0,p=Nt,ai(i.type)?(b0=p,Nt=Sn(d.firstChild)):Nt=p),fr(n,i,i.pendingProps.children,l),jc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ct&&((p=d=Nt)&&(d=gS(d,i.type,i.pendingProps,bn),d!==null?(i.stateNode=d,ur=i,Nt=Sn(d.firstChild),bn=!1,p=!0):p=!1),p||Ga(i)),Ee(i),p=i.type,v=i.pendingProps,E=n!==null?n.memoizedProps:null,d=v.children,g0(p,v)?d=null:E!==null&&g0(p,E)&&(i.flags|=32),i.memoizedState!==null&&(p=pf(n,i,Ow,null,null,l),ao._currentValue=p),jc(n,i),fr(n,i,d,l),i.child;case 6:return n===null&&ct&&((n=l=Nt)&&(l=vS(l,i.pendingProps,bn),l!==null?(i.stateNode=l,ur=i,Nt=null,n=!0):n=!1),n||Ga(i)),null;case 13:return Og(n,i,l);case 4:return be(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=Mi(i,null,d,l):fr(n,i,d,l),i.child;case 11:return wg(n,i,i.type,i.pendingProps,l);case 7:return fr(n,i,i.pendingProps,l),i.child;case 8:return fr(n,i,i.pendingProps.children,l),i.child;case 12:return fr(n,i,i.pendingProps.children,l),i.child;case 10:return d=i.pendingProps,qa(i,i.type,d.value),fr(n,i,d.children,l),i.child;case 9:return p=i.type._context,d=i.pendingProps.children,Ri(i),p=dr(p),d=d(p),i.flags|=1,fr(n,i,d,l),i.child;case 14:return Sg(n,i,i.type,i.pendingProps,l);case 15:return Eg(n,i,i.type,i.pendingProps,l);case 19:return Dg(n,i,l);case 31:return Iw(n,i,l);case 22:return Tg(n,i,l,i.pendingProps);case 24:return Ri(i),d=dr(Wt),n===null?(p=af(),p===null&&(p=jt,v=rf(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),i.memoizedState={parent:d,cache:p},lf(i),qa(i,Wt,p)):((n.lanes&l)!==0&&(of(n,i),Bl(i,null,null,l),Fl()),p=n.memoizedState,v=i.memoizedState,p.parent!==d?(p={parent:d,cache:d},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),qa(i,Wt,d)):(d=v.cache,qa(i,Wt,d),d!==p.cache&&tf(i,[Wt],l,!0))),fr(n,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function _a(n){n.flags|=4}function $f(n,i,l,d,p){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(l1())n.flags|=8192;else throw Di=hc,sf}else n.flags&=-16777217}function Lg(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!X1(i))if(l1())n.flags|=8192;else throw Di=hc,sf}function Rc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?os():536870912,n.lanes|=i,Ls|=i)}function Gl(n,i){if(!ct)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Dt(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(i)for(var p=n.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=d,n.childLanes=l,i}function Pw(n,i,l){var d=i.pendingProps;switch(Xd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return l=i.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),ga(Wt),we(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(ws(i)?_a(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Qd())),Dt(i),null;case 26:var p=i.type,v=i.memoizedState;return n===null?(_a(i),v!==null?(Dt(i),Lg(i,v)):(Dt(i),$f(i,p,null,d,l))):v?v!==n.memoizedState?(_a(i),Dt(i),Lg(i,v)):(Dt(i),i.flags&=-16777217):(n=n.memoizedProps,n!==d&&_a(i),Dt(i),$f(i,p,n,d,l)),null;case 27:if($e(i),l=Z.current,p=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==d&&_a(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}n=D.current,ws(i)?mp(i):(n=H1(p,d,l),i.stateNode=n,_a(i))}return Dt(i),null;case 5:if($e(i),p=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==d&&_a(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}if(v=D.current,ws(i))mp(i);else{var E=qc(Z.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof d.is=="string"?E.createElement("select",{is:d.is}):E.createElement("select"),d.multiple?v.multiple=!0:d.size&&(v.size=d.size);break;default:v=typeof d.is=="string"?E.createElement(p,{is:d.is}):E.createElement(p)}}v[z]=i,v[U]=d;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=v;e:switch(hr(v,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&_a(i)}}return Dt(i),$f(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,l),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==d&&_a(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(a(166));if(n=Z.current,ws(i)){if(n=i.stateNode,l=i.memoizedProps,d=null,p=ur,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}n[z]=i,n=!!(n.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||O1(n.nodeValue,l)),n||Ga(i,!0)}else n=qc(n).createTextNode(d),n[z]=i,i.stateNode=n}return Dt(i),null;case 31:if(l=i.memoizedState,n===null||n.memoizedState!==null){if(d=ws(i),l!==null){if(n===null){if(!d)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[z]=i}else ji(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),n=!1}else l=Qd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return i.flags&256?(en(i),i):(en(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Dt(i),null;case 13:if(d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=ws(i),d!==null&&d.dehydrated!==null){if(n===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[z]=i}else ji(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),p=!1}else p=Qd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(en(i),i):(en(i),null)}return en(i),(i.flags&128)!==0?(i.lanes=l,i):(l=d!==null,n=n!==null&&n.memoizedState!==null,l&&(d=i.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048)),l!==n&&l&&(i.child.flags|=8192),Rc(i,i.updateQueue),Dt(i),null);case 4:return we(),n===null&&d0(i.stateNode.containerInfo),Dt(i),null;case 10:return ga(i.type),Dt(i),null;case 19:if(R(Gt),d=i.memoizedState,d===null)return Dt(i),null;if(p=(i.flags&128)!==0,v=d.rendering,v===null)if(p)Gl(d,!1);else{if(Pt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=vc(n),v!==null){for(i.flags|=128,Gl(d,!1),n=v.updateQueue,i.updateQueue=n,Rc(i,n),i.subtreeFlags=0,n=l,l=i.child;l!==null;)cp(l,n),l=l.sibling;return W(Gt,Gt.current&1|2),ct&&ma(i,d.treeForkCount),i.child}n=n.sibling}d.tail!==null&&gt()>Lc&&(i.flags|=128,p=!0,Gl(d,!1),i.lanes=4194304)}else{if(!p)if(n=vc(v),n!==null){if(i.flags|=128,p=!0,n=n.updateQueue,i.updateQueue=n,Rc(i,n),Gl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!ct)return Dt(i),null}else 2*gt()-d.renderingStartTime>Lc&&l!==536870912&&(i.flags|=128,p=!0,Gl(d,!1),i.lanes=4194304);d.isBackwards?(v.sibling=i.child,i.child=v):(n=d.last,n!==null?n.sibling=v:i.child=v,d.last=v)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=gt(),n.sibling=null,l=Gt.current,W(Gt,p?l&1|2:l&1),ct&&ma(i,d.treeForkCount),n):(Dt(i),null);case 22:case 23:return en(i),ff(),d=i.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(l&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),l=i.updateQueue,l!==null&&Rc(i,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==l&&(i.flags|=2048),n!==null&&R(Oi),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ga(Wt),Dt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Hw(n,i){switch(Xd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ga(Wt),we(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return $e(i),null;case 31:if(i.memoizedState!==null){if(en(i),i.alternate===null)throw Error(a(340));ji()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(en(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ji()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return R(Gt),null;case 4:return we(),null;case 10:return ga(i.type),null;case 22:case 23:return en(i),ff(),n!==null&&R(Oi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ga(Wt),null;case 25:return null;default:return null}}function zg(n,i){switch(Xd(i),i.tag){case 3:ga(Wt),we();break;case 26:case 27:case 5:$e(i);break;case 4:we();break;case 31:i.memoizedState!==null&&en(i);break;case 13:en(i);break;case 19:R(Gt);break;case 10:ga(i.type);break;case 22:case 23:en(i),ff(),n!==null&&R(Oi);break;case 24:ga(Wt)}}function ql(n,i){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&n)===n){d=void 0;var v=l.create,E=l.inst;d=v(),E.destroy=d}l=l.next}while(l!==p)}}catch(M){xt(i,i.return,M)}}function Ja(n,i,l){try{var d=i.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&n)===n){var E=d.inst,M=E.destroy;if(M!==void 0){E.destroy=void 0,p=i;var V=l,ue=M;try{ue()}catch(xe){xt(p,V,xe)}}}d=d.next}while(d!==v)}}catch(xe){xt(i,i.return,xe)}}function Fg(n){var i=n.updateQueue;if(i!==null){var l=n.stateNode;try{Ap(i,l)}catch(d){xt(n,n.return,d)}}}function Bg(n,i,l){l.props=zi(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(d){xt(n,i,d)}}function Wl(n,i){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof l=="function"?n.refCleanup=l(d):l.current=d}}catch(p){xt(n,i,p)}}function Yn(n,i){var l=n.ref,d=n.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(p){xt(n,i,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){xt(n,i,p)}else l.current=null}function Ig(n){var i=n.type,l=n.memoizedProps,d=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(p){xt(n,n.return,p)}}function Gf(n,i,l){try{var d=n.stateNode;uS(d,n.type,l,i),d[U]=i}catch(p){xt(n,n.return,p)}}function Ug(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ai(n.type)||n.tag===4}function qf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ug(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ai(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wf(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(n),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=da));else if(d!==4&&(d===27&&ai(n.type)&&(l=n.stateNode,i=null),n=n.child,n!==null))for(Wf(n,i,l),n=n.sibling;n!==null;)Wf(n,i,l),n=n.sibling}function Oc(n,i,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(d!==4&&(d===27&&ai(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Oc(n,i,l),n=n.sibling;n!==null;)Oc(n,i,l),n=n.sibling}function Pg(n){var i=n.stateNode,l=n.memoizedProps;try{for(var d=n.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);hr(i,d,l),i[z]=n,i[U]=l}catch(v){xt(n,n.return,v)}}var ba=!1,Yt=!1,Vf=!1,Hg=typeof WeakSet=="function"?WeakSet:Set,ar=null;function $w(n,i){if(n=n.containerInfo,m0=Qc,n=ep(n),Id(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,M=-1,V=-1,ue=0,xe=0,Se=n,he=null;t:for(;;){for(var ge;Se!==l||p!==0&&Se.nodeType!==3||(M=E+p),Se!==v||d!==0&&Se.nodeType!==3||(V=E+d),Se.nodeType===3&&(E+=Se.nodeValue.length),(ge=Se.firstChild)!==null;)he=Se,Se=ge;for(;;){if(Se===n)break t;if(he===l&&++ue===p&&(M=E),he===v&&++xe===d&&(V=E),(ge=Se.nextSibling)!==null)break;Se=he,he=Se.parentNode}Se=ge}l=M===-1||V===-1?null:{start:M,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(p0={focusedElem:n,selectionRange:l},Qc=!1,ar=i;ar!==null;)if(i=ar,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ar=n;else for(;ar!==null;){switch(i=ar,v=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)p=n[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,l=i,p=v.memoizedProps,v=v.memoizedState,d=l.stateNode;try{var Ge=zi(l.type,p);n=d.getSnapshotBeforeUpdate(Ge,v),d.__reactInternalSnapshotBeforeUpdate=n}catch(Xe){xt(l,l.return,Xe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,l=n.nodeType,l===9)x0(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":x0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,ar=n;break}ar=i.return}}function $g(n,i,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Sa(n,l),d&4&&ql(5,l);break;case 1:if(Sa(n,l),d&4)if(n=l.stateNode,i===null)try{n.componentDidMount()}catch(E){xt(l,l.return,E)}else{var p=zi(l.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(p,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){xt(l,l.return,E)}}d&64&&Fg(l),d&512&&Wl(l,l.return);break;case 3:if(Sa(n,l),d&64&&(n=l.updateQueue,n!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Ap(n,i)}catch(E){xt(l,l.return,E)}}break;case 27:i===null&&d&4&&Pg(l);case 26:case 5:Sa(n,l),i===null&&d&4&&Ig(l),d&512&&Wl(l,l.return);break;case 12:Sa(n,l);break;case 31:Sa(n,l),d&4&&Wg(n,l);break;case 13:Sa(n,l),d&4&&Vg(n,l),d&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=Qw.bind(null,l),xS(n,l))));break;case 22:if(d=l.memoizedState!==null||ba,!d){i=i!==null&&i.memoizedState!==null||Yt,p=ba;var v=Yt;ba=d,(Yt=i)&&!v?Ea(n,l,(l.subtreeFlags&8772)!==0):Sa(n,l),ba=p,Yt=v}break;case 30:break;default:Sa(n,l)}}function Gg(n){var i=n.alternate;i!==null&&(n.alternate=null,Gg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ae(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ft=null,Ur=!1;function wa(n,i,l){for(l=l.child;l!==null;)qg(n,i,l),l=l.sibling}function qg(n,i,l){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Lr,l)}catch{}switch(l.tag){case 26:Yt||Yn(l,i),wa(n,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yt||Yn(l,i);var d=Ft,p=Ur;ai(l.type)&&(Ft=l.stateNode,Ur=!1),wa(n,i,l),to(l.stateNode),Ft=d,Ur=p;break;case 5:Yt||Yn(l,i);case 6:if(d=Ft,p=Ur,Ft=null,wa(n,i,l),Ft=d,Ur=p,Ft!==null)if(Ur)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(l.stateNode)}catch(v){xt(l,i,v)}else try{Ft.removeChild(l.stateNode)}catch(v){xt(l,i,v)}break;case 18:Ft!==null&&(Ur?(n=Ft,F1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),$s(n)):F1(Ft,l.stateNode));break;case 4:d=Ft,p=Ur,Ft=l.stateNode.containerInfo,Ur=!0,wa(n,i,l),Ft=d,Ur=p;break;case 0:case 11:case 14:case 15:Ja(2,l,i),Yt||Ja(4,l,i),wa(n,i,l);break;case 1:Yt||(Yn(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Bg(l,i,d)),wa(n,i,l);break;case 21:wa(n,i,l);break;case 22:Yt=(d=Yt)||l.memoizedState!==null,wa(n,i,l),Yt=d;break;default:wa(n,i,l)}}function Wg(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{$s(n)}catch(l){xt(i,i.return,l)}}}function Vg(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{$s(n)}catch(l){xt(i,i.return,l)}}function Gw(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Hg),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Hg),i;default:throw Error(a(435,n.tag))}}function Nc(n,i){var l=Gw(n);i.forEach(function(d){if(!l.has(d)){l.add(d);var p=Zw.bind(null,n,d);d.then(p,p)}})}function Pr(n,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d],v=n,E=i,M=E;e:for(;M!==null;){switch(M.tag){case 27:if(ai(M.type)){Ft=M.stateNode,Ur=!1;break e}break;case 5:Ft=M.stateNode,Ur=!1;break e;case 3:case 4:Ft=M.stateNode.containerInfo,Ur=!0;break e}M=M.return}if(Ft===null)throw Error(a(160));qg(v,E,p),Ft=null,Ur=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Kg(i,n),i=i.sibling}var Nn=null;function Kg(n,i){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Pr(i,n),Hr(n),d&4&&(Ja(3,n,n.return),ql(3,n),Ja(5,n,n.return));break;case 1:Pr(i,n),Hr(n),d&512&&(Yt||l===null||Yn(l,l.return)),d&64&&ba&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var p=Nn;if(Pr(i,n),Hr(n),d&512&&(Yt||l===null||Yn(l,l.return)),d&4){var v=l!==null?l.memoizedState:null;if(d=n.memoizedState,l===null)if(d===null)if(n.stateNode===null){e:{d=n.type,l=n.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":v=p.getElementsByTagName("title")[0],(!v||v[oe]||v[z]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(d),p.head.insertBefore(v,p.querySelector("head > title"))),hr(v,d,l),v[z]=n,We(v),d=v;break e;case"link":var E=K1("link","href",p).get(d+(l.href||""));if(E){for(var M=0;M<E.length;M++)if(v=E[M],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(M,1);break t}}v=p.createElement(d),hr(v,d,l),p.head.appendChild(v);break;case"meta":if(E=K1("meta","content",p).get(d+(l.content||""))){for(M=0;M<E.length;M++)if(v=E[M],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(M,1);break t}}v=p.createElement(d),hr(v,d,l),p.head.appendChild(v);break;default:throw Error(a(468,d))}v[z]=n,We(v),d=v}n.stateNode=d}else Y1(p,n.type,n.stateNode);else n.stateNode=V1(p,d,n.memoizedProps);else v!==d?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,d===null?Y1(p,n.type,n.stateNode):V1(p,d,n.memoizedProps)):d===null&&n.stateNode!==null&&Gf(n,n.memoizedProps,l.memoizedProps)}break;case 27:Pr(i,n),Hr(n),d&512&&(Yt||l===null||Yn(l,l.return)),l!==null&&d&4&&Gf(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Pr(i,n),Hr(n),d&512&&(Yt||l===null||Yn(l,l.return)),n.flags&32){p=n.stateNode;try{fs(p,"")}catch(Ge){xt(n,n.return,Ge)}}d&4&&n.stateNode!=null&&(p=n.memoizedProps,Gf(n,p,l!==null?l.memoizedProps:p)),d&1024&&(Vf=!0);break;case 6:if(Pr(i,n),Hr(n),d&4){if(n.stateNode===null)throw Error(a(162));d=n.memoizedProps,l=n.stateNode;try{l.nodeValue=d}catch(Ge){xt(n,n.return,Ge)}}break;case 3:if(Kc=null,p=Nn,Nn=Wc(i.containerInfo),Pr(i,n),Nn=p,Hr(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{$s(i.containerInfo)}catch(Ge){xt(n,n.return,Ge)}Vf&&(Vf=!1,Yg(n));break;case 4:d=Nn,Nn=Wc(n.stateNode.containerInfo),Pr(i,n),Hr(n),Nn=d;break;case 12:Pr(i,n),Hr(n);break;case 31:Pr(i,n),Hr(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Nc(n,d)));break;case 13:Pr(i,n),Hr(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Mc=gt()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Nc(n,d)));break;case 22:p=n.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,ue=ba,xe=Yt;if(ba=ue||p,Yt=xe||V,Pr(i,n),Yt=xe,ba=ue,Hr(n),d&8192)e:for(i=n.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||V||ba||Yt||Fi(n)),l=null,i=n;;){if(i.tag===5||i.tag===26){if(l===null){V=l=i;try{if(v=V.stateNode,p)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{M=V.stateNode;var Se=V.memoizedProps.style,he=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;M.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ge){xt(V,V.return,Ge)}}}else if(i.tag===6){if(l===null){V=i;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(Ge){xt(V,V.return,Ge)}}}else if(i.tag===18){if(l===null){V=i;try{var ge=V.stateNode;p?B1(ge,!0):B1(V.stateNode,!1)}catch(Ge){xt(V,V.return,Ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=n.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Nc(n,l))));break;case 19:Pr(i,n),Hr(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Nc(n,d)));break;case 30:break;case 21:break;default:Pr(i,n),Hr(n)}}function Hr(n){var i=n.flags;if(i&2){try{for(var l,d=n.return;d!==null;){if(Ug(d)){l=d;break}d=d.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var p=l.stateNode,v=qf(n);Oc(n,v,p);break;case 5:var E=l.stateNode;l.flags&32&&(fs(E,""),l.flags&=-33);var M=qf(n);Oc(n,M,E);break;case 3:case 4:var V=l.stateNode.containerInfo,ue=qf(n);Wf(n,ue,V);break;default:throw Error(a(161))}}catch(xe){xt(n,n.return,xe)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Yg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Yg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Sa(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)$g(n,i.alternate,i),i=i.sibling}function Fi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ja(4,i,i.return),Fi(i);break;case 1:Yn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Bg(i,i.return,l),Fi(i);break;case 27:to(i.stateNode);case 26:case 5:Yn(i,i.return),Fi(i);break;case 22:i.memoizedState===null&&Fi(i);break;case 30:Fi(i);break;default:Fi(i)}n=n.sibling}}function Ea(n,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,p=n,v=i,E=v.flags;switch(v.tag){case 0:case 11:case 15:Ea(p,v,l),ql(4,v);break;case 1:if(Ea(p,v,l),d=v,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ue){xt(d,d.return,ue)}if(d=v,p=d.updateQueue,p!==null){var M=d.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)kp(V[p],M)}catch(ue){xt(d,d.return,ue)}}l&&E&64&&Fg(v),Wl(v,v.return);break;case 27:Pg(v);case 26:case 5:Ea(p,v,l),l&&d===null&&E&4&&Ig(v),Wl(v,v.return);break;case 12:Ea(p,v,l);break;case 31:Ea(p,v,l),l&&E&4&&Wg(p,v);break;case 13:Ea(p,v,l),l&&E&4&&Vg(p,v);break;case 22:v.memoizedState===null&&Ea(p,v,l),Wl(v,v.return);break;case 30:break;default:Ea(p,v,l)}i=i.sibling}}function Kf(n,i){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Nl(l))}function Yf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Nl(n))}function Dn(n,i,l,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xg(n,i,l,d),i=i.sibling}function Xg(n,i,l,d){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Dn(n,i,l,d),p&2048&&ql(9,i);break;case 1:Dn(n,i,l,d);break;case 3:Dn(n,i,l,d),p&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Nl(n)));break;case 12:if(p&2048){Dn(n,i,l,d),n=i.stateNode;try{var v=i.memoizedProps,E=v.id,M=v.onPostCommit;typeof M=="function"&&M(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){xt(i,i.return,V)}}else Dn(n,i,l,d);break;case 31:Dn(n,i,l,d);break;case 13:Dn(n,i,l,d);break;case 23:break;case 22:v=i.stateNode,E=i.alternate,i.memoizedState!==null?v._visibility&2?Dn(n,i,l,d):Vl(n,i):v._visibility&2?Dn(n,i,l,d):(v._visibility|=2,Ns(n,i,l,d,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Kf(E,i);break;case 24:Dn(n,i,l,d),p&2048&&Yf(i.alternate,i);break;default:Dn(n,i,l,d)}}function Ns(n,i,l,d,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=n,E=i,M=l,V=d,ue=E.flags;switch(E.tag){case 0:case 11:case 15:Ns(v,E,M,V,p),ql(8,E);break;case 23:break;case 22:var xe=E.stateNode;E.memoizedState!==null?xe._visibility&2?Ns(v,E,M,V,p):Vl(v,E):(xe._visibility|=2,Ns(v,E,M,V,p)),p&&ue&2048&&Kf(E.alternate,E);break;case 24:Ns(v,E,M,V,p),p&&ue&2048&&Yf(E.alternate,E);break;default:Ns(v,E,M,V,p)}i=i.sibling}}function Vl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=n,d=i,p=d.flags;switch(d.tag){case 22:Vl(l,d),p&2048&&Kf(d.alternate,d);break;case 24:Vl(l,d),p&2048&&Yf(d.alternate,d);break;default:Vl(l,d)}i=i.sibling}}var Kl=8192;function Ds(n,i,l){if(n.subtreeFlags&Kl)for(n=n.child;n!==null;)Jg(n,i,l),n=n.sibling}function Jg(n,i,l){switch(n.tag){case 26:Ds(n,i,l),n.flags&Kl&&n.memoizedState!==null&&RS(l,Nn,n.memoizedState,n.memoizedProps);break;case 5:Ds(n,i,l);break;case 3:case 4:var d=Nn;Nn=Wc(n.stateNode.containerInfo),Ds(n,i,l),Nn=d;break;case 22:n.memoizedState===null&&(d=n.alternate,d!==null&&d.memoizedState!==null?(d=Kl,Kl=16777216,Ds(n,i,l),Kl=d):Ds(n,i,l));break;default:Ds(n,i,l)}}function Qg(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Yl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];ar=d,e1(d,n)}Qg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zg(n),n=n.sibling}function Zg(n){switch(n.tag){case 0:case 11:case 15:Yl(n),n.flags&2048&&Ja(9,n,n.return);break;case 3:Yl(n);break;case 12:Yl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Dc(n)):Yl(n);break;default:Yl(n)}}function Dc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];ar=d,e1(d,n)}Qg(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ja(8,i,i.return),Dc(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Dc(i));break;default:Dc(i)}n=n.sibling}}function e1(n,i){for(;ar!==null;){var l=ar;switch(l.tag){case 0:case 11:case 15:Ja(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Nl(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,ar=d;else e:for(l=n;ar!==null;){d=ar;var p=d.sibling,v=d.return;if(Gg(d),d===l){ar=null;break e}if(p!==null){p.return=v,ar=p;break e}ar=v}}}var qw={getCacheForType:function(n){var i=dr(Wt),l=i.data.get(n);return l===void 0&&(l=n(),i.data.set(n,l)),l},cacheSignal:function(){return dr(Wt).controller.signal}},Ww=typeof WeakMap=="function"?WeakMap:Map,ht=0,jt=null,it=null,lt=0,vt=0,tn=null,Qa=!1,Ms=!1,Xf=!1,Ta=0,Pt=0,Za=0,Bi=0,Jf=0,rn=0,Ls=0,Xl=null,$r=null,Qf=!1,Mc=0,t1=0,Lc=1/0,zc=null,ei=null,tr=0,ti=null,zs=null,ka=0,Zf=0,e0=null,r1=null,Jl=0,t0=null;function nn(){return(ht&2)!==0&&lt!==0?lt&-lt:X.T!==null?l0():j()}function n1(){if(rn===0)if((lt&536870912)===0||ct){var n=la;la<<=1,(la&3932160)===0&&(la=262144),rn=n}else rn=536870912;return n=Zr.current,n!==null&&(n.flags|=32),rn}function Gr(n,i,l){(n===jt&&(vt===2||vt===9)||n.cancelPendingCommit!==null)&&(Fs(n,0),ri(n,lt,rn,!1)),ca(n,l),((ht&2)===0||n!==jt)&&(n===jt&&((ht&2)===0&&(Bi|=l),Pt===4&&ri(n,lt,rn,!1)),Xn(n))}function a1(n,i,l){if((ht&6)!==0)throw Error(a(327));var d=!l&&(i&127)===0&&(i&n.expiredLanes)===0||qn(n,i),p=d?Yw(n,i):n0(n,i,!0),v=d;do{if(p===0){Ms&&!d&&ri(n,i,0,!1);break}else{if(l=n.current.alternate,v&&!Vw(l)){p=n0(n,i,!1),v=!1;continue}if(p===2){if(v=i,n.errorRecoveryDisabledLanes&v)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var M=n;p=Xl;var V=M.current.memoizedState.isDehydrated;if(V&&(Fs(M,E).flags|=256),E=n0(M,E,!1),E!==2){if(Xf&&!V){M.errorRecoveryDisabledLanes|=v,Bi|=v,p=4;break e}v=$r,$r=p,v!==null&&($r===null?$r=v:$r.push.apply($r,v))}p=E}if(v=!1,p!==2)continue}}if(p===1){Fs(n,0),ri(n,i,0,!0);break}e:{switch(d=n,v=p,v){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ri(d,i,rn,!Qa);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=Mc+300-gt(),10<p)){if(ri(d,i,rn,!Qa),oa(d,0,!0)!==0)break e;ka=i,d.timeoutHandle=L1(i1.bind(null,d,l,$r,zc,Qf,i,rn,Bi,Ls,Qa,v,"Throttled",-0,0),p);break e}i1(d,l,$r,zc,Qf,i,rn,Bi,Ls,Qa,v,null,-0,0)}}break}while(!0);Xn(n)}function i1(n,i,l,d,p,v,E,M,V,ue,xe,Se,he,ge){if(n.timeoutHandle=-1,Se=i.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:da},Jg(i,v,Se);var Ge=(v&62914560)===v?Mc-gt():(v&4194048)===v?t1-gt():0;if(Ge=OS(Se,Ge),Ge!==null){ka=v,n.cancelPendingCommit=Ge(h1.bind(null,n,i,v,l,d,p,E,M,V,xe,Se,null,he,ge)),ri(n,v,E,!ue);return}}h1(n,i,v,l,d,p,E,M,V)}function Vw(n){for(var i=n;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var p=l[d],v=p.getSnapshot;p=p.value;try{if(!Jr(v(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ri(n,i,l,d){i&=~Jf,i&=~Bi,n.suspendedLanes|=i,n.pingedLanes&=~i,d&&(n.warmLanes|=i),d=n.expirationTimes;for(var p=i;0<p;){var v=31-cr(p),E=1<<v;d[v]=-1,p&=~E}l!==0&&us(n,l,i)}function Fc(){return(ht&6)===0?(Ql(0),!1):!0}function r0(){if(it!==null){if(vt===0)var n=it.return;else n=it,pa=Ci=null,xf(n),As=null,Ml=0,n=it;for(;n!==null;)zg(n.alternate,n),n=n.return;it=null}}function Fs(n,i){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,hS(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),ka=0,r0(),jt=n,it=l=ha(n.current,null),lt=i,vt=0,tn=null,Qa=!1,Ms=qn(n,i),Xf=!1,Ls=rn=Jf=Bi=Za=Pt=0,$r=Xl=null,Qf=!1,(i&8)!==0&&(i|=i&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=i;0<d;){var p=31-cr(d),v=1<<p;i|=n[p],d&=~v}return Ta=i,ac(),l}function s1(n,i){tt=null,X.H=Hl,i===ks||i===fc?(i=wp(),vt=3):i===sf?(i=wp(),vt=4):vt=i===Mf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,tn=i,it===null&&(Pt=1,kc(n,xn(i,n.current)))}function l1(){var n=Zr.current;return n===null?!0:(lt&4194048)===lt?wn===null:(lt&62914560)===lt||(lt&536870912)!==0?n===wn:!1}function o1(){var n=X.H;return X.H=Hl,n===null?Hl:n}function c1(){var n=X.A;return X.A=qw,n}function Bc(){Pt=4,Qa||(lt&4194048)!==lt&&Zr.current!==null||(Ms=!0),(Za&134217727)===0&&(Bi&134217727)===0||jt===null||ri(jt,lt,rn,!1)}function n0(n,i,l){var d=ht;ht|=2;var p=o1(),v=c1();(jt!==n||lt!==i)&&(zc=null,Fs(n,i)),i=!1;var E=Pt;e:do try{if(vt!==0&&it!==null){var M=it,V=tn;switch(vt){case 8:r0(),E=6;break e;case 3:case 2:case 9:case 6:Zr.current===null&&(i=!0);var ue=vt;if(vt=0,tn=null,Bs(n,M,V,ue),l&&Ms){E=0;break e}break;default:ue=vt,vt=0,tn=null,Bs(n,M,V,ue)}}Kw(),E=Pt;break}catch(xe){s1(n,xe)}while(!0);return i&&n.shellSuspendCounter++,pa=Ci=null,ht=d,X.H=p,X.A=v,it===null&&(jt=null,lt=0,ac()),E}function Kw(){for(;it!==null;)u1(it)}function Yw(n,i){var l=ht;ht|=2;var d=o1(),p=c1();jt!==n||lt!==i?(zc=null,Lc=gt()+500,Fs(n,i)):Ms=qn(n,i);e:do try{if(vt!==0&&it!==null){i=it;var v=tn;t:switch(vt){case 1:vt=0,tn=null,Bs(n,i,v,1);break;case 2:case 9:if(_p(v)){vt=0,tn=null,d1(i);break}i=function(){vt!==2&&vt!==9||jt!==n||(vt=7),Xn(n)},v.then(i,i);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:_p(v)?(vt=0,tn=null,d1(i)):(vt=0,tn=null,Bs(n,i,v,7));break;case 5:var E=null;switch(it.tag){case 26:E=it.memoizedState;case 5:case 27:var M=it;if(E?X1(E):M.stateNode.complete){vt=0,tn=null;var V=M.sibling;if(V!==null)it=V;else{var ue=M.return;ue!==null?(it=ue,Ic(ue)):it=null}break t}}vt=0,tn=null,Bs(n,i,v,5);break;case 6:vt=0,tn=null,Bs(n,i,v,6);break;case 8:r0(),Pt=6;break e;default:throw Error(a(462))}}Xw();break}catch(xe){s1(n,xe)}while(!0);return pa=Ci=null,X.H=d,X.A=p,ht=l,it!==null?0:(jt=null,lt=0,ac(),Pt)}function Xw(){for(;it!==null&&!wr();)u1(it)}function u1(n){var i=Mg(n.alternate,n,Ta);n.memoizedProps=n.pendingProps,i===null?Ic(n):it=i}function d1(n){var i=n,l=i.alternate;switch(i.tag){case 15:case 0:i=jg(l,i,i.pendingProps,i.type,void 0,lt);break;case 11:i=jg(l,i,i.pendingProps,i.type.render,i.ref,lt);break;case 5:xf(i);default:zg(l,i),i=it=cp(i,Ta),i=Mg(l,i,Ta)}n.memoizedProps=n.pendingProps,i===null?Ic(n):it=i}function Bs(n,i,l,d){pa=Ci=null,xf(i),As=null,Ml=0;var p=i.return;try{if(Bw(n,p,i,l,lt)){Pt=1,kc(n,xn(l,n.current)),it=null;return}}catch(v){if(p!==null)throw it=p,v;Pt=1,kc(n,xn(l,n.current)),it=null;return}i.flags&32768?(ct||d===1?n=!0:Ms||(lt&536870912)!==0?n=!1:(Qa=n=!0,(d===2||d===9||d===3||d===6)&&(d=Zr.current,d!==null&&d.tag===13&&(d.flags|=16384))),f1(i,n)):Ic(i)}function Ic(n){var i=n;do{if((i.flags&32768)!==0){f1(i,Qa);return}n=i.return;var l=Pw(i.alternate,i,Ta);if(l!==null){it=l;return}if(i=i.sibling,i!==null){it=i;return}it=i=n}while(i!==null);Pt===0&&(Pt=5)}function f1(n,i){do{var l=Hw(n.alternate,n);if(l!==null){l.flags&=32767,it=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(n=n.sibling,n!==null)){it=n;return}it=n=l}while(n!==null);Pt=6,it=null}function h1(n,i,l,d,p,v,E,M,V){n.cancelPendingCommit=null;do Uc();while(tr!==0);if((ht&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(v=i.lanes|i.childLanes,v|=Gd,cs(n,l,v,E,M,V),n===jt&&(it=jt=null,lt=0),zs=i,ti=n,ka=l,Zf=v,e0=p,r1=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,eS(Er,function(){return x1(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=X.T,X.T=null,p=pe.p,pe.p=2,E=ht,ht|=4;try{$w(n,i,l)}finally{ht=E,pe.p=p,X.T=d}}tr=1,m1(),p1(),g1()}}function m1(){if(tr===1){tr=0;var n=ti,i=zs,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var d=pe.p;pe.p=2;var p=ht;ht|=4;try{Kg(i,n);var v=p0,E=ep(n.containerInfo),M=v.focusedElem,V=v.selectionRange;if(E!==M&&M&&M.ownerDocument&&Zm(M.ownerDocument.documentElement,M)){if(V!==null&&Id(M)){var ue=V.start,xe=V.end;if(xe===void 0&&(xe=ue),"selectionStart"in M)M.selectionStart=ue,M.selectionEnd=Math.min(xe,M.value.length);else{var Se=M.ownerDocument||document,he=Se&&Se.defaultView||window;if(he.getSelection){var ge=he.getSelection(),Ge=M.textContent.length,Xe=Math.min(V.start,Ge),Tt=V.end===void 0?Xe:Math.min(V.end,Ge);!ge.extend&&Xe>Tt&&(E=Tt,Tt=Xe,Xe=E);var re=Qm(M,Xe),Y=Qm(M,Tt);if(re&&Y&&(ge.rangeCount!==1||ge.anchorNode!==re.node||ge.anchorOffset!==re.offset||ge.focusNode!==Y.node||ge.focusOffset!==Y.offset)){var ce=Se.createRange();ce.setStart(re.node,re.offset),ge.removeAllRanges(),Xe>Tt?(ge.addRange(ce),ge.extend(Y.node,Y.offset)):(ce.setEnd(Y.node,Y.offset),ge.addRange(ce))}}}}for(Se=[],ge=M;ge=ge.parentNode;)ge.nodeType===1&&Se.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Se.length;M++){var _e=Se[M];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Qc=!!m0,p0=m0=null}finally{ht=p,pe.p=d,X.T=l}}n.current=i,tr=2}}function p1(){if(tr===2){tr=0;var n=ti,i=zs,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var d=pe.p;pe.p=2;var p=ht;ht|=4;try{$g(n,i.alternate,i)}finally{ht=p,pe.p=d,X.T=l}}tr=3}}function g1(){if(tr===4||tr===3){tr=0,aa();var n=ti,i=zs,l=ka,d=r1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?tr=5:(tr=0,zs=ti=null,v1(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(ei=null),Oe(l),i=i.stateNode,nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Lr,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=X.T,p=pe.p,pe.p=2,X.T=null;try{for(var v=n.onRecoverableError,E=0;E<d.length;E++){var M=d[E];v(M.value,{componentStack:M.stack})}}finally{X.T=i,pe.p=p}}(ka&3)!==0&&Uc(),Xn(n),p=n.pendingLanes,(l&261930)!==0&&(p&42)!==0?n===t0?Jl++:(Jl=0,t0=n):Jl=0,Ql(0)}}function v1(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Nl(i)))}function Uc(){return m1(),p1(),g1(),x1()}function x1(){if(tr!==5)return!1;var n=ti,i=Zf;Zf=0;var l=Oe(ka),d=X.T,p=pe.p;try{pe.p=32>l?32:l,X.T=null,l=e0,e0=null;var v=ti,E=ka;if(tr=0,zs=ti=null,ka=0,(ht&6)!==0)throw Error(a(331));var M=ht;if(ht|=4,Zg(v.current),Xg(v,v.current,E,l),ht=M,Ql(0,!1),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Lr,v)}catch{}return!0}finally{pe.p=p,X.T=d,v1(n,i)}}function y1(n,i,l){i=xn(l,i),i=Df(n.stateNode,i,2),n=Ka(n,i,2),n!==null&&(ca(n,2),Xn(n))}function xt(n,i,l){if(n.tag===3)y1(n,n,l);else for(;i!==null;){if(i.tag===3){y1(i,n,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ei===null||!ei.has(d))){n=xn(l,n),l=_g(2),d=Ka(i,l,2),d!==null&&(bg(l,d,i,n),ca(d,2),Xn(d));break}}i=i.return}}function a0(n,i,l){var d=n.pingCache;if(d===null){d=n.pingCache=new Ww;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(Xf=!0,p.add(l),n=Jw.bind(null,n,i,l),i.then(n,n))}function Jw(n,i,l){var d=n.pingCache;d!==null&&d.delete(i),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,jt===n&&(lt&l)===l&&(Pt===4||Pt===3&&(lt&62914560)===lt&&300>gt()-Mc?(ht&2)===0&&Fs(n,0):Jf|=l,Ls===lt&&(Ls=0)),Xn(n)}function _1(n,i){i===0&&(i=os()),n=ki(n,i),n!==null&&(ca(n,i),Xn(n))}function Qw(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),_1(n,l)}function Zw(n,i){var l=0;switch(n.tag){case 31:case 13:var d=n.stateNode,p=n.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(i),_1(n,l)}function eS(n,i){return pt(n,i)}var Pc=null,Is=null,i0=!1,Hc=!1,s0=!1,ni=0;function Xn(n){n!==Is&&n.next===null&&(Is===null?Pc=Is=n:Is=Is.next=n),Hc=!0,i0||(i0=!0,rS())}function Ql(n,i){if(!s0&&Hc){s0=!0;do for(var l=!1,d=Pc;d!==null;){if(n!==0){var p=d.pendingLanes;if(p===0)var v=0;else{var E=d.suspendedLanes,M=d.pingedLanes;v=(1<<31-cr(42|n)+1)-1,v&=p&~(E&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,E1(d,v))}else v=lt,v=oa(d,d===jt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||qn(d,v)||(l=!0,E1(d,v));d=d.next}while(l);s0=!1}}function tS(){b1()}function b1(){Hc=i0=!1;var n=0;ni!==0&&fS()&&(n=ni);for(var i=gt(),l=null,d=Pc;d!==null;){var p=d.next,v=w1(d,i);v===0?(d.next=null,l===null?Pc=p:l.next=p,p===null&&(Is=l)):(l=d,(n!==0||(v&3)!==0)&&(Hc=!0)),d=p}tr!==0&&tr!==5||Ql(n),ni!==0&&(ni=0)}function w1(n,i){for(var l=n.suspendedLanes,d=n.pingedLanes,p=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var E=31-cr(v),M=1<<E,V=p[E];V===-1?((M&l)===0||(M&d)!==0)&&(p[E]=yl(M,i)):V<=i&&(n.expiredLanes|=M),v&=~M}if(i=jt,l=lt,l=oa(n,n===i?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,l===0||n===i&&(vt===2||vt===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&Cr(d),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||qn(n,l)){if(i=l&-l,i===n.callbackPriority)return i;switch(d!==null&&Cr(d),Oe(l)){case 2:case 8:l=Cn;break;case 32:l=Er;break;case 268435456:l=Rn;break;default:l=Er}return d=S1.bind(null,n),l=pt(l,d),n.callbackPriority=i,n.callbackNode=l,i}return d!==null&&d!==null&&Cr(d),n.callbackPriority=2,n.callbackNode=null,2}function S1(n,i){if(tr!==0&&tr!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Uc()&&n.callbackNode!==l)return null;var d=lt;return d=oa(n,n===jt?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(a1(n,d,i),w1(n,gt()),n.callbackNode!=null&&n.callbackNode===l?S1.bind(null,n):null)}function E1(n,i){if(Uc())return null;a1(n,i,!0)}function rS(){mS(function(){(ht&6)!==0?pt(Sr,tS):b1()})}function l0(){if(ni===0){var n=Es;n===0&&(n=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),ni=n}return ni}function T1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Xo(""+n)}function k1(n,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,n.id&&l.setAttribute("form",n.id),i.parentNode.insertBefore(l,i),n=new FormData(n),l.parentNode.removeChild(l),n}function nS(n,i,l,d,p){if(i==="submit"&&l&&l.stateNode===p){var v=T1((p[U]||null).action),E=d.submitter;E&&(i=(i=E[U]||null)?T1(i.formAction):E.getAttribute("formAction"),i!==null&&(v=i,E=null));var M=new ec("action","action",null,d,p);n.push({event:M,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ni!==0){var V=E?k1(p,E):new FormData(p);Af(l,{pending:!0,data:V,method:p.method,action:v},null,V)}}else typeof v=="function"&&(M.preventDefault(),V=E?k1(p,E):new FormData(p),Af(l,{pending:!0,data:V,method:p.method,action:v},v,V))},currentTarget:p}]})}}for(var o0=0;o0<$d.length;o0++){var c0=$d[o0],aS=c0.toLowerCase(),iS=c0[0].toUpperCase()+c0.slice(1);On(aS,"on"+iS)}On(np,"onAnimationEnd"),On(ap,"onAnimationIteration"),On(ip,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(bw,"onTransitionRun"),On(ww,"onTransitionStart"),On(Sw,"onTransitionCancel"),On(sp,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function A1(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],p=d.event;d=d.listeners;e:{var v=void 0;if(i)for(var E=d.length-1;0<=E;E--){var M=d[E],V=M.instance,ue=M.currentTarget;if(M=M.listener,V!==v&&p.isPropagationStopped())break e;v=M,p.currentTarget=ue;try{v(p)}catch(xe){nc(xe)}p.currentTarget=null,v=V}else for(E=0;E<d.length;E++){if(M=d[E],V=M.instance,ue=M.currentTarget,M=M.listener,V!==v&&p.isPropagationStopped())break e;v=M,p.currentTarget=ue;try{v(p)}catch(xe){nc(xe)}p.currentTarget=null,v=V}}}}function st(n,i){var l=i[se];l===void 0&&(l=i[se]=new Set);var d=n+"__bubble";l.has(d)||(j1(i,n,2,!1),l.add(d))}function u0(n,i,l){var d=0;i&&(d|=4),j1(l,n,d,i)}var $c="_reactListening"+Math.random().toString(36).slice(2);function d0(n){if(!n[$c]){n[$c]=!0,Ct.forEach(function(l){l!=="selectionchange"&&(sS.has(l)||u0(l,!1,n),u0(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[$c]||(i[$c]=!0,u0("selectionchange",!1,i))}}function j1(n,i,l,d){switch(nv(i)){case 2:var p=MS;break;case 8:p=LS;break;default:p=k0}l=p.bind(null,i,l,n),p=void 0,!Rd||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?n.addEventListener(i,l,{capture:!0,passive:p}):n.addEventListener(i,l,!0):p!==void 0?n.addEventListener(i,l,{passive:p}):n.addEventListener(i,l,!1)}function f0(n,i,l,d,p){var v=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var M=d.stateNode.containerInfo;if(M===p)break;if(E===4)for(E=d.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;M!==null;){if(E=Ne(M),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){d=v=E;continue e}M=M.parentNode}}d=d.return}Dm(function(){var ue=v,xe=jd(l),Se=[];e:{var he=lp.get(n);if(he!==void 0){var ge=ec,Ge=n;switch(n){case"keypress":if(Qo(l)===0)break e;case"keydown":case"keyup":ge=Zb;break;case"focusin":Ge="focus",ge=Md;break;case"focusout":Ge="blur",ge=Md;break;case"beforeblur":case"afterblur":ge=Md;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Pb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=rw;break;case np:case ap:case ip:ge=Gb;break;case sp:ge=aw;break;case"scroll":case"scrollend":ge=Ib;break;case"wheel":ge=sw;break;case"copy":case"cut":case"paste":ge=Wb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Bm;break;case"toggle":case"beforetoggle":ge=ow}var Xe=(i&4)!==0,Tt=!Xe&&(n==="scroll"||n==="scrollend"),re=Xe?he!==null?he+"Capture":null:he;Xe=[];for(var Y=ue,ce;Y!==null;){var _e=Y;if(ce=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ce===null||re===null||(_e=bl(Y,re),_e!=null&&Xe.push(eo(Y,_e,ce))),Tt)break;Y=Y.return}0<Xe.length&&(he=new ge(he,Ge,null,l,xe),Se.push({event:he,listeners:Xe}))}}if((i&7)===0){e:{if(he=n==="mouseover"||n==="pointerover",ge=n==="mouseout"||n==="pointerout",he&&l!==Ad&&(Ge=l.relatedTarget||l.fromElement)&&(Ne(Ge)||Ge[I]))break e;if((ge||he)&&(he=xe.window===xe?xe:(he=xe.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(Ge=l.relatedTarget||l.toElement,ge=ue,Ge=Ge?Ne(Ge):null,Ge!==null&&(Tt=o(Ge),Xe=Ge.tag,Ge!==Tt||Xe!==5&&Xe!==27&&Xe!==6)&&(Ge=null)):(ge=null,Ge=ue),ge!==Ge)){if(Xe=zm,_e="onMouseLeave",re="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(Xe=Bm,_e="onPointerLeave",re="onPointerEnter",Y="pointer"),Tt=ge==null?he:Re(ge),ce=Ge==null?he:Re(Ge),he=new Xe(_e,Y+"leave",ge,l,xe),he.target=Tt,he.relatedTarget=ce,_e=null,Ne(xe)===ue&&(Xe=new Xe(re,Y+"enter",Ge,l,xe),Xe.target=ce,Xe.relatedTarget=Tt,_e=Xe),Tt=_e,ge&&Ge)t:{for(Xe=lS,re=ge,Y=Ge,ce=0,_e=re;_e;_e=Xe(_e))ce++;_e=0;for(var Ye=Y;Ye;Ye=Xe(Ye))_e++;for(;0<ce-_e;)re=Xe(re),ce--;for(;0<_e-ce;)Y=Xe(Y),_e--;for(;ce--;){if(re===Y||Y!==null&&re===Y.alternate){Xe=re;break t}re=Xe(re),Y=Xe(Y)}Xe=null}else Xe=null;ge!==null&&C1(Se,he,ge,Xe,!1),Ge!==null&&Tt!==null&&C1(Se,Tt,Ge,Xe,!0)}}e:{if(he=ue?Re(ue):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var ut=Wm;else if(Gm(he))if(Vm)ut=xw;else{ut=gw;var Ve=pw}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&kd(ue.elementType)&&(ut=Wm):ut=vw;if(ut&&(ut=ut(n,ue))){qm(Se,ut,l,xe);break e}Ve&&Ve(n,he,ue),n==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&Td(he,"number",he.value)}switch(Ve=ue?Re(ue):window,n){case"focusin":(Gm(Ve)||Ve.contentEditable==="true")&&(gs=Ve,Ud=ue,Cl=null);break;case"focusout":Cl=Ud=gs=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,tp(Se,l,xe);break;case"selectionchange":if(_w)break;case"keydown":case"keyup":tp(Se,l,xe)}var rt;if(zd)e:{switch(n){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else ps?Hm(n,l)&&(ot="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ot="onCompositionStart");ot&&(Im&&l.locale!=="ko"&&(ps||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&ps&&(rt=Mm()):(Pa=xe,Od="value"in Pa?Pa.value:Pa.textContent,ps=!0)),Ve=Gc(ue,ot),0<Ve.length&&(ot=new Fm(ot,n,null,l,xe),Se.push({event:ot,listeners:Ve}),rt?ot.data=rt:(rt=$m(l),rt!==null&&(ot.data=rt)))),(rt=uw?dw(n,l):fw(n,l))&&(ot=Gc(ue,"onBeforeInput"),0<ot.length&&(Ve=new Fm("onBeforeInput","beforeinput",null,l,xe),Se.push({event:Ve,listeners:ot}),Ve.data=rt)),nS(Se,n,ue,l,xe)}A1(Se,i)})}function eo(n,i,l){return{instance:n,listener:i,currentTarget:l}}function Gc(n,i){for(var l=i+"Capture",d=[];n!==null;){var p=n,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=bl(n,l),p!=null&&d.unshift(eo(n,p,v)),p=bl(n,i),p!=null&&d.push(eo(n,p,v))),n.tag===3)return d;n=n.return}return[]}function lS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function C1(n,i,l,d,p){for(var v=i._reactName,E=[];l!==null&&l!==d;){var M=l,V=M.alternate,ue=M.stateNode;if(M=M.tag,V!==null&&V===d)break;M!==5&&M!==26&&M!==27||ue===null||(V=ue,p?(ue=bl(l,v),ue!=null&&E.unshift(eo(l,ue,V))):p||(ue=bl(l,v),ue!=null&&E.push(eo(l,ue,V)))),l=l.return}E.length!==0&&n.push({event:i,listeners:E})}var oS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function R1(n){return(typeof n=="string"?n:""+n).replace(oS,`
`).replace(cS,"")}function O1(n,i){return i=R1(i),R1(n)===i}function Et(n,i,l,d,p,v){switch(l){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||fs(n,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&fs(n,""+d);break;case"className":Ko(n,"class",d);break;case"tabIndex":Ko(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ko(n,l,d);break;case"style":Om(n,d,v);break;case"data":if(i!=="object"){Ko(n,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||l!=="href")){n.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=Xo(""+d),n.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Et(n,i,"name",p.name,p,null),Et(n,i,"formEncType",p.formEncType,p,null),Et(n,i,"formMethod",p.formMethod,p,null),Et(n,i,"formTarget",p.formTarget,p,null)):(Et(n,i,"encType",p.encType,p,null),Et(n,i,"method",p.method,p,null),Et(n,i,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=Xo(""+d),n.setAttribute(l,d);break;case"onClick":d!=null&&(n.onclick=da);break;case"onScroll":d!=null&&st("scroll",n);break;case"onScrollEnd":d!=null&&st("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}l=Xo(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""+d):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":d===!0?n.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,d):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(l,d):n.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(l):n.setAttribute(l,d);break;case"popover":st("beforetoggle",n),st("toggle",n),Br(n,"popover",d);break;case"xlinkActuate":ua(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ua(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ua(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ua(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ua(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ua(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ua(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ua(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ua(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Br(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Fb.get(l)||l,Br(n,l,d))}}function h0(n,i,l,d,p,v){switch(l){case"style":Om(n,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"children":typeof d=="string"?fs(n,d):(typeof d=="number"||typeof d=="bigint")&&fs(n,""+d);break;case"onScroll":d!=null&&st("scroll",n);break;case"onScrollEnd":d!=null&&st("scrollend",n);break;case"onClick":d!=null&&(n.onclick=da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rt.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),v=n[U]||null,v=v!=null?v[l]:null,typeof v=="function"&&n.removeEventListener(i,v,p),typeof d=="function")){typeof v!="function"&&v!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(i,d,p);break e}l in n?n[l]=d:d===!0?n.setAttribute(l,""):Br(n,l,d)}}}function hr(n,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",n),st("load",n);var d=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var E=l[v];if(E!=null)switch(v){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Et(n,i,v,E,l,null)}}p&&Et(n,i,"srcSet",l.srcSet,l,null),d&&Et(n,i,"src",l.src,l,null);return;case"input":st("invalid",n);var M=v=E=p=null,V=null,ue=null;for(d in l)if(l.hasOwnProperty(d)){var xe=l[d];if(xe!=null)switch(d){case"name":p=xe;break;case"type":E=xe;break;case"checked":V=xe;break;case"defaultChecked":ue=xe;break;case"value":v=xe;break;case"defaultValue":M=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(a(137,i));break;default:Et(n,i,d,xe,l,null)}}Am(n,v,M,V,ue,E,p,!1);return;case"select":st("invalid",n),d=E=v=null;for(p in l)if(l.hasOwnProperty(p)&&(M=l[p],M!=null))switch(p){case"value":v=M;break;case"defaultValue":E=M;break;case"multiple":d=M;default:Et(n,i,p,M,l,null)}i=v,l=E,n.multiple=!!d,i!=null?ds(n,!!d,i,!1):l!=null&&ds(n,!!d,l,!0);return;case"textarea":st("invalid",n),v=p=d=null;for(E in l)if(l.hasOwnProperty(E)&&(M=l[E],M!=null))switch(E){case"value":d=M;break;case"defaultValue":p=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:Et(n,i,E,M,l,null)}Cm(n,d,p,v);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(d=l[V],d!=null))switch(V){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Et(n,i,V,d,l,null)}return;case"dialog":st("beforetoggle",n),st("toggle",n),st("cancel",n),st("close",n);break;case"iframe":case"object":st("load",n);break;case"video":case"audio":for(d=0;d<Zl.length;d++)st(Zl[d],n);break;case"image":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"embed":case"source":case"link":st("error",n),st("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in l)if(l.hasOwnProperty(ue)&&(d=l[ue],d!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Et(n,i,ue,d,l,null)}return;default:if(kd(i)){for(xe in l)l.hasOwnProperty(xe)&&(d=l[xe],d!==void 0&&h0(n,i,xe,d,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(d=l[M],d!=null&&Et(n,i,M,d,l,null))}function uS(n,i,l,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,E=null,M=null,V=null,ue=null,xe=null;for(ge in l){var Se=l[ge];if(l.hasOwnProperty(ge)&&Se!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":V=Se;default:d.hasOwnProperty(ge)||Et(n,i,ge,null,d,Se)}}for(var he in d){var ge=d[he];if(Se=l[he],d.hasOwnProperty(he)&&(ge!=null||Se!=null))switch(he){case"type":v=ge;break;case"name":p=ge;break;case"checked":ue=ge;break;case"defaultChecked":xe=ge;break;case"value":E=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(137,i));break;default:ge!==Se&&Et(n,i,he,ge,d,Se)}}Ed(n,E,M,V,ue,xe,v,p);return;case"select":ge=E=M=he=null;for(v in l)if(V=l[v],l.hasOwnProperty(v)&&V!=null)switch(v){case"value":break;case"multiple":ge=V;default:d.hasOwnProperty(v)||Et(n,i,v,null,d,V)}for(p in d)if(v=d[p],V=l[p],d.hasOwnProperty(p)&&(v!=null||V!=null))switch(p){case"value":he=v;break;case"defaultValue":M=v;break;case"multiple":E=v;default:v!==V&&Et(n,i,p,v,d,V)}i=M,l=E,d=ge,he!=null?ds(n,!!l,he,!1):!!d!=!!l&&(i!=null?ds(n,!!l,i,!0):ds(n,!!l,l?[]:"",!1));return;case"textarea":ge=he=null;for(M in l)if(p=l[M],l.hasOwnProperty(M)&&p!=null&&!d.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Et(n,i,M,null,d,p)}for(E in d)if(p=d[E],v=l[E],d.hasOwnProperty(E)&&(p!=null||v!=null))switch(E){case"value":he=p;break;case"defaultValue":ge=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==v&&Et(n,i,E,p,d,v)}jm(n,he,ge);return;case"option":for(var Ge in l)if(he=l[Ge],l.hasOwnProperty(Ge)&&he!=null&&!d.hasOwnProperty(Ge))switch(Ge){case"selected":n.selected=!1;break;default:Et(n,i,Ge,null,d,he)}for(V in d)if(he=d[V],ge=l[V],d.hasOwnProperty(V)&&he!==ge&&(he!=null||ge!=null))switch(V){case"selected":n.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Et(n,i,V,he,d,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in l)he=l[Xe],l.hasOwnProperty(Xe)&&he!=null&&!d.hasOwnProperty(Xe)&&Et(n,i,Xe,null,d,he);for(ue in d)if(he=d[ue],ge=l[ue],d.hasOwnProperty(ue)&&he!==ge&&(he!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,i));break;default:Et(n,i,ue,he,d,ge)}return;default:if(kd(i)){for(var Tt in l)he=l[Tt],l.hasOwnProperty(Tt)&&he!==void 0&&!d.hasOwnProperty(Tt)&&h0(n,i,Tt,void 0,d,he);for(xe in d)he=d[xe],ge=l[xe],!d.hasOwnProperty(xe)||he===ge||he===void 0&&ge===void 0||h0(n,i,xe,he,d,ge);return}}for(var re in l)he=l[re],l.hasOwnProperty(re)&&he!=null&&!d.hasOwnProperty(re)&&Et(n,i,re,null,d,he);for(Se in d)he=d[Se],ge=l[Se],!d.hasOwnProperty(Se)||he===ge||he==null&&ge==null||Et(n,i,Se,he,d,ge)}function N1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var p=l[d],v=p.transferSize,E=p.initiatorType,M=p.duration;if(v&&M&&N1(E)){for(E=0,M=p.responseEnd,d+=1;d<l.length;d++){var V=l[d],ue=V.startTime;if(ue>M)break;var xe=V.transferSize,Se=V.initiatorType;xe&&N1(Se)&&(V=V.responseEnd,E+=xe*(V<M?1:(M-ue)/(V-ue)))}if(--d,i+=8*(v+E)/(p.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var m0=null,p0=null;function qc(n){return n.nodeType===9?n:n.ownerDocument}function D1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M1(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function g0(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var v0=null;function fS(){var n=window.event;return n&&n.type==="popstate"?n===v0?!1:(v0=n,!0):(v0=null,!1)}var L1=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(n){return z1.resolve(null).then(n).catch(pS)}:L1;function pS(n){setTimeout(function(){throw n})}function ai(n){return n==="head"}function F1(n,i){var l=i,d=0;do{var p=l.nextSibling;if(n.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(d===0){n.removeChild(p),$s(i);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")to(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,to(l);for(var v=l.firstChild;v;){var E=v.nextSibling,M=v.nodeName;v[oe]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=E}}else l==="body"&&to(n.ownerDocument.body);l=p}while(l);$s(i)}function B1(n,i){var l=n;n=0;do{var d=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=d}while(l)}function x0(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":x0(l),Ae(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function gS(n,i,l,d){for(;n.nodeType===1;){var p=l;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[oe])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=Sn(n.nextSibling),n===null)break}return null}function vS(n,i,l){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Sn(n.nextSibling),n===null))return null;return n}function I1(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Sn(n.nextSibling),n===null))return null;return n}function y0(n){return n.data==="$?"||n.data==="$~"}function _0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function xS(n,i){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||l.readyState!=="loading")i();else{var d=function(){i(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function Sn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var b0=null;function U1(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(i===0)return Sn(n.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}n=n.nextSibling}return null}function P1(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return n;i--}else l!=="/$"&&l!=="/&"||i++}n=n.previousSibling}return null}function H1(n,i,l){switch(i=qc(l),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function to(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ae(n)}var En=new Map,$1=new Set;function Wc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Aa=pe.d;pe.d={f:yS,r:_S,D:bS,C:wS,L:SS,m:ES,X:kS,S:TS,M:AS};function yS(){var n=Aa.f(),i=Fc();return n||i}function _S(n){var i=Ie(n);i!==null&&i.tag===5&&i.type==="form"?sg(i):Aa.r(n)}var Us=typeof document>"u"?null:document;function G1(n,i,l){var d=Us;if(d&&typeof i=="string"&&i){var p=gn(i);p='link[rel="'+n+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),$1.has(p)||($1.add(p),n={rel:n,crossOrigin:l,href:i},d.querySelector(p)===null&&(i=d.createElement("link"),hr(i,"link",n),We(i),d.head.appendChild(i)))}}function bS(n){Aa.D(n),G1("dns-prefetch",n,null)}function wS(n,i){Aa.C(n,i),G1("preconnect",n,i)}function SS(n,i,l){Aa.L(n,i,l);var d=Us;if(d&&n&&i){var p='link[rel="preload"][as="'+gn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+gn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+gn(l.imageSizes)+'"]')):p+='[href="'+gn(n)+'"]';var v=p;switch(i){case"style":v=Ps(n);break;case"script":v=Hs(n)}En.has(v)||(n=x({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:n,as:i},l),En.set(v,n),d.querySelector(p)!==null||i==="style"&&d.querySelector(ro(v))||i==="script"&&d.querySelector(no(v))||(i=d.createElement("link"),hr(i,"link",n),We(i),d.head.appendChild(i)))}}function ES(n,i){Aa.m(n,i);var l=Us;if(l&&n){var d=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+gn(d)+'"][href="'+gn(n)+'"]',v=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Hs(n)}if(!En.has(v)&&(n=x({rel:"modulepreload",href:n},i),En.set(v,n),l.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(no(v)))return}d=l.createElement("link"),hr(d,"link",n),We(d),l.head.appendChild(d)}}}function TS(n,i,l){Aa.S(n,i,l);var d=Us;if(d&&n){var p=Fe(d).hoistableStyles,v=Ps(n);i=i||"default";var E=p.get(v);if(!E){var M={loading:0,preload:null};if(E=d.querySelector(ro(v)))M.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":i},l),(l=En.get(v))&&w0(n,l);var V=E=d.createElement("link");We(V),hr(V,"link",n),V._p=new Promise(function(ue,xe){V.onload=ue,V.onerror=xe}),V.addEventListener("load",function(){M.loading|=1}),V.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Vc(E,i,d)}E={type:"stylesheet",instance:E,count:1,state:M},p.set(v,E)}}}function kS(n,i){Aa.X(n,i);var l=Us;if(l&&n){var d=Fe(l).hoistableScripts,p=Hs(n),v=d.get(p);v||(v=l.querySelector(no(p)),v||(n=x({src:n,async:!0},i),(i=En.get(p))&&S0(n,i),v=l.createElement("script"),We(v),hr(v,"link",n),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function AS(n,i){Aa.M(n,i);var l=Us;if(l&&n){var d=Fe(l).hoistableScripts,p=Hs(n),v=d.get(p);v||(v=l.querySelector(no(p)),v||(n=x({src:n,async:!0,type:"module"},i),(i=En.get(p))&&S0(n,i),v=l.createElement("script"),We(v),hr(v,"link",n),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function q1(n,i,l,d){var p=(p=Z.current)?Wc(p):null;if(!p)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Ps(l.href),l=Fe(p).hoistableStyles,d=l.get(i),d||(d={type:"style",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Ps(l.href);var v=Fe(p).hoistableStyles,E=v.get(n);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,E),(v=p.querySelector(ro(n)))&&!v._p&&(E.instance=v,E.state.loading=5),En.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},En.set(n,l),v||jS(p,n,l,E.state))),i&&d===null)throw Error(a(528,""));return E}if(i&&d!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Hs(l),l=Fe(p).hoistableScripts,d=l.get(i),d||(d={type:"script",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Ps(n){return'href="'+gn(n)+'"'}function ro(n){return'link[rel="stylesheet"]['+n+"]"}function W1(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function jS(n,i,l,d){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=n.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),hr(i,"link",l),We(i),n.head.appendChild(i))}function Hs(n){return'[src="'+gn(n)+'"]'}function no(n){return"script[async]"+n}function V1(n,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var d=n.querySelector('style[data-href~="'+gn(l.href)+'"]');if(d)return i.instance=d,We(d),d;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),We(d),hr(d,"style",p),Vc(d,l.precedence,n),i.instance=d;case"stylesheet":p=Ps(l.href);var v=n.querySelector(ro(p));if(v)return i.state.loading|=4,i.instance=v,We(v),v;d=W1(l),(p=En.get(p))&&w0(d,p),v=(n.ownerDocument||n).createElement("link"),We(v);var E=v;return E._p=new Promise(function(M,V){E.onload=M,E.onerror=V}),hr(v,"link",d),i.state.loading|=4,Vc(v,l.precedence,n),i.instance=v;case"script":return v=Hs(l.src),(p=n.querySelector(no(v)))?(i.instance=p,We(p),p):(d=l,(p=En.get(v))&&(d=x({},l),S0(d,p)),n=n.ownerDocument||n,p=n.createElement("script"),We(p),hr(p,"link",d),n.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Vc(d,l.precedence,n));return i.instance}function Vc(n,i,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,v=p,E=0;E<d.length;E++){var M=d[E];if(M.dataset.precedence===i)v=M;else if(v!==p)break}v?v.parentNode.insertBefore(n,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(n,i.firstChild))}function w0(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function S0(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Kc=null;function K1(n,i,l){if(Kc===null){var d=new Map,p=Kc=new Map;p.set(l,d)}else p=Kc,d=p.get(l),d||(d=new Map,p.set(l,d));if(d.has(n))return d;for(d.set(n,null),l=l.getElementsByTagName(n),p=0;p<l.length;p++){var v=l[p];if(!(v[oe]||v[z]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(i)||"";E=n+E;var M=d.get(E);M?M.push(v):d.set(E,[v])}}return d}function Y1(n,i,l){n=n.ownerDocument||n,n.head.insertBefore(l,i==="title"?n.querySelector("head > title"):null)}function CS(n,i,l){if(l===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function X1(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function RS(n,i,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Ps(d.href),v=i.querySelector(ro(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Yc.bind(n),i.then(n,n)),l.state.loading|=4,l.instance=v,We(v);return}v=i.ownerDocument||i,d=W1(d),(p=En.get(p))&&w0(d,p),v=v.createElement("link"),We(v);var E=v;E._p=new Promise(function(M,V){E.onload=M,E.onerror=V}),hr(v,"link",d),l.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Yc.bind(n),i.addEventListener("load",l),i.addEventListener("error",l))}}var E0=0;function OS(n,i){return n.stylesheets&&n.count===0&&Jc(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var d=setTimeout(function(){if(n.stylesheets&&Jc(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+i);0<n.imgBytes&&E0===0&&(E0=62500*dS());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Jc(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>E0?50:800)+i);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function Yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xc=null;function Jc(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xc=new Map,i.forEach(NS,n),Xc=null,Yc.call(n))}function NS(n,i){if(!(i.state.loading&4)){var l=Xc.get(n);if(l)var d=l.get(null);else{l=new Map,Xc.set(n,l);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var E=p[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),d=E)}d&&l.set(null,d)}p=i.instance,E=p.getAttribute("data-precedence"),v=l.get(E)||d,v===d&&l.set(null,p),l.set(E,p),this.count++,d=Yc.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),v?v.parentNode.insertBefore(p,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),i.state.loading|=4}}var ao={$$typeof:T,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function DS(n,i,l,d,p,v,E,M,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function J1(n,i,l,d,p,v,E,M,V,ue,xe,Se){return n=new DS(n,i,l,E,V,ue,xe,Se,M),i=1,v===!0&&(i|=24),v=Qr(3,null,null,i),n.current=v,v.stateNode=n,i=rf(),i.refCount++,n.pooledCache=i,i.refCount++,v.memoizedState={element:d,isDehydrated:l,cache:i},lf(v),n}function Q1(n){return n?(n=ys,n):ys}function Z1(n,i,l,d,p,v){p=Q1(p),d.context===null?d.context=p:d.pendingContext=p,d=Va(i),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=Ka(n,d,i),l!==null&&(Gr(l,n,i),zl(l,n,i))}function ev(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function T0(n,i){ev(n,i),(n=n.alternate)&&ev(n,i)}function tv(n){if(n.tag===13||n.tag===31){var i=ki(n,67108864);i!==null&&Gr(i,n,67108864),T0(n,67108864)}}function rv(n){if(n.tag===13||n.tag===31){var i=nn();i=Ue(i);var l=ki(n,i);l!==null&&Gr(l,n,i),T0(n,i)}}var Qc=!0;function MS(n,i,l,d){var p=X.T;X.T=null;var v=pe.p;try{pe.p=2,k0(n,i,l,d)}finally{pe.p=v,X.T=p}}function LS(n,i,l,d){var p=X.T;X.T=null;var v=pe.p;try{pe.p=8,k0(n,i,l,d)}finally{pe.p=v,X.T=p}}function k0(n,i,l,d){if(Qc){var p=A0(d);if(p===null)f0(n,i,d,Zc,l),av(n,d);else if(FS(p,n,i,l,d))d.stopPropagation();else if(av(n,d),i&4&&-1<zS.indexOf(n)){for(;p!==null;){var v=Ie(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=Fr(v.pendingLanes);if(E!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;E;){var V=1<<31-cr(E);M.entanglements[1]|=V,E&=~V}Xn(v),(ht&6)===0&&(Lc=gt()+500,Ql(0))}}break;case 31:case 13:M=ki(v,2),M!==null&&Gr(M,v,2),Fc(),T0(v,2)}if(v=A0(d),v===null&&f0(n,i,d,Zc,l),v===p)break;p=v}p!==null&&d.stopPropagation()}else f0(n,i,d,null,l)}}function A0(n){return n=jd(n),j0(n)}var Zc=null;function j0(n){if(Zc=null,n=Ne(n),n!==null){var i=o(n);if(i===null)n=null;else{var l=i.tag;if(l===13){if(n=c(i),n!==null)return n;n=null}else if(l===31){if(n=f(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Zc=n,null}function nv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rr()){case Sr:return 2;case Cn:return 8;case Er:case ia:return 32;case Rn:return 268435456;default:return 32}default:return 32}}var C0=!1,ii=null,si=null,li=null,io=new Map,so=new Map,oi=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function av(n,i){switch(n){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":io.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(i.pointerId)}}function lo(n,i,l,d,p,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},i!==null&&(i=Ie(i),i!==null&&tv(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function FS(n,i,l,d,p){switch(i){case"focusin":return ii=lo(ii,n,i,l,d,p),!0;case"dragenter":return si=lo(si,n,i,l,d,p),!0;case"mouseover":return li=lo(li,n,i,l,d,p),!0;case"pointerover":var v=p.pointerId;return io.set(v,lo(io.get(v)||null,n,i,l,d,p)),!0;case"gotpointercapture":return v=p.pointerId,so.set(v,lo(so.get(v)||null,n,i,l,d,p)),!0}return!1}function iv(n){var i=Ne(n.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){n.blockedOn=i,B(n.priority,function(){rv(l)});return}}else if(i===31){if(i=f(l),i!==null){n.blockedOn=i,B(n.priority,function(){rv(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function eu(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=A0(n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);Ad=d,l.target.dispatchEvent(d),Ad=null}else return i=Ie(l),i!==null&&tv(i),n.blockedOn=l,!1;i.shift()}return!0}function sv(n,i,l){eu(n)&&l.delete(i)}function BS(){C0=!1,ii!==null&&eu(ii)&&(ii=null),si!==null&&eu(si)&&(si=null),li!==null&&eu(li)&&(li=null),io.forEach(sv),so.forEach(sv)}function tu(n,i){n.blockedOn===i&&(n.blockedOn=null,C0||(C0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BS)))}var ru=null;function lv(n){ru!==n&&(ru=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ru===n&&(ru=null);for(var i=0;i<n.length;i+=3){var l=n[i],d=n[i+1],p=n[i+2];if(typeof d!="function"){if(j0(d||l)===null)continue;break}var v=Ie(l);v!==null&&(n.splice(i,3),i-=3,Af(v,{pending:!0,data:p,method:l.method,action:d},d,p))}}))}function $s(n){function i(V){return tu(V,n)}ii!==null&&tu(ii,n),si!==null&&tu(si,n),li!==null&&tu(li,n),io.forEach(i),so.forEach(i);for(var l=0;l<oi.length;l++){var d=oi[l];d.blockedOn===n&&(d.blockedOn=null)}for(;0<oi.length&&(l=oi[0],l.blockedOn===null);)iv(l),l.blockedOn===null&&oi.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var p=l[d],v=l[d+1],E=p[U]||null;if(typeof v=="function")E||lv(l);else if(E){var M=null;if(v&&v.hasAttribute("formAction")){if(p=v,E=v[U]||null)M=E.formAction;else if(j0(p)!==null)continue}else M=E.action;typeof M=="function"?l[d+1]=M:(l.splice(d,3),d-=3),lv(l)}}}function ov(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function R0(n){this._internalRoot=n}nu.prototype.render=R0.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,d=nn();Z1(l,d,n,i,null,null)},nu.prototype.unmount=R0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Z1(n.current,2,null,n,null,null),Fc(),i[I]=null}};function nu(n){this._internalRoot=n}nu.prototype.unstable_scheduleHydration=function(n){if(n){var i=j();n={blockedOn:null,target:n,priority:i};for(var l=0;l<oi.length&&i!==0&&i<oi[l].priority;l++);oi.splice(l,0,n),l===0&&iv(n)}};var cv=e.version;if(cv!=="19.2.1")throw Error(a(527,cv,"19.2.1"));pe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var IS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{Lr=au.inject(IS),nr=au}catch{}}return co.createRoot=function(n,i){if(!s(n))throw Error(a(299));var l=!1,d="",p=gg,v=vg,E=xg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=J1(n,1,!1,null,null,l,d,null,p,v,E,ov),n[I]=i.current,d0(n),new R0(i)},co.hydrateRoot=function(n,i,l){if(!s(n))throw Error(a(299));var d=!1,p="",v=gg,E=vg,M=xg,V=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),i=J1(n,1,!0,i,l??null,d,p,V,v,E,M,ov),i.context=Q1(null),l=i.current,d=nn(),d=Ue(d),p=Va(d),p.callback=null,Ka(l,p,d),l=d,i.current.lanes=l,ca(i,l),Xn(i),n[I]=i.current,d0(n),new nu(i)},co.version="19.2.1",co}var yv;function XS(){if(yv)return D0.exports;yv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),D0.exports=YS(),D0.exports}var JS=XS();const QS=Oh(JS);var _v="popstate";function ZS(t={}){function e(s,o){let{pathname:c="/",search:f="",hash:h=""}=rs(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),nh("",{pathname:c,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let c=s.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let h=s.location.href,m=h.indexOf("#");f=m===-1?h:h.slice(0,m)}return f+"#"+(typeof o=="string"?o:ko(o))}function a(s,o){un(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return tE(e,r,a,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eE(){return Math.random().toString(36).substring(2,10)}function bv(t,e){return{usr:t.state,key:t.key,idx:e}}function nh(t,e,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?rs(e):e,state:r,key:e&&e.key||a||eE()}}function ko({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function tE(t,e,r,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,c=s.history,f="POP",h=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function x(){f="POP";let b=g(),k=b==null?null:b-m;m=b,h&&h({action:f,location:_.location,delta:k})}function y(b,k){f="PUSH";let O=nh(_.location,b,k);r&&r(O,b),m=g()+1;let T=bv(O,m),F=_.createHref(O);try{c.pushState(T,"",F)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(F)}o&&h&&h({action:f,location:_.location,delta:1})}function w(b,k){f="REPLACE";let O=nh(_.location,b,k);r&&r(O,b),m=g();let T=bv(O,m),F=_.createHref(O);c.replaceState(T,"",F),o&&h&&h({action:f,location:_.location,delta:0})}function S(b){return rE(b)}let _={get action(){return f},get location(){return t(s,c)},listen(b){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(_v,x),h=b,()=>{s.removeEventListener(_v,x),h=null}},createHref(b){return e(s,b)},createURL:S,encodeLocation(b){let k=S(b);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:w,go(b){return c.go(b)}};return _}function rE(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),It(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:ko(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function ty(t,e,r="/"){return nE(t,e,r,!1)}function nE(t,e,r,a){let s=typeof e=="string"?rs(e):e,o=Ma(s.pathname||"/",r);if(o==null)return null;let c=ry(t);aE(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=pE(o);f=hE(c[h],m,a)}return f}function ry(t,e=[],r=[],a="",s=!1){let o=(c,f,h=s,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&h)return;It(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let x=Ra([a,g.relativePath]),y=r.concat(g);c.children&&c.children.length>0&&(It(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),ry(c.children,e,y,x,h)),!(c.path==null&&!c.index)&&e.push({path:x,score:dE(x,c.index),routesMeta:y})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))o(c,f);else for(let h of ny(c.path))o(c,f,!0,h)}),e}function ny(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let c=ny(a.join("/")),f=[];return f.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&f.push(...c),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function aE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:fE(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var iE=/^:[\w-]+$/,sE=3,lE=2,oE=1,cE=10,uE=-2,wv=t=>t==="*";function dE(t,e){let r=t.split("/"),a=r.length;return r.some(wv)&&(a+=uE),e&&(a+=lE),r.filter(s=>!wv(s)).reduce((s,o)=>s+(iE.test(o)?sE:o===""?oE:cE),a)}function fE(t,e){return t.length===e.length&&t.slice(0,-1).every((a,s)=>a===e[s])?t[t.length-1]-e[e.length-1]:0}function hE(t,e,r=!1){let{routesMeta:a}=t,s={},o="/",c=[];for(let f=0;f<a.length;++f){let h=a[f],m=f===a.length-1,g=o==="/"?e:e.slice(o.length)||"/",x=Ru({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),y=h.route;if(!x&&m&&r&&!a[a.length-1].route.index&&(x=Ru({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),c.push({params:s,pathname:Ra([o,x.pathname]),pathnameBase:_E(Ra([o,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(o=Ra([o,x.pathnameBase]))}return c}function Ru(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=mE(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:a.reduce((m,{paramName:g,isOptional:x},y)=>{if(g==="*"){let S=f[y]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[y];return x&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function mE(t,e=!1,r=!0){un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(a.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function pE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ma(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}var gE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vE=t=>gE.test(t);function xE(t,e="/"){let{pathname:r,search:a="",hash:s=""}=typeof t=="string"?rs(t):t,o;if(r)if(vE(r))o=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),un(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?o=Sv(r.substring(1),"/"):o=Sv(r,e)}else o=e;return{pathname:o,search:bE(a),hash:wE(s)}}function Sv(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function F0(t,e,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yE(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Dh(t){let e=yE(t);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function Mh(t,e,r,a=!1){let s;typeof t=="string"?s=rs(t):(s={...t},It(!s.pathname||!s.pathname.includes("?"),F0("?","pathname","search",s)),It(!s.pathname||!s.pathname.includes("#"),F0("#","pathname","hash",s)),It(!s.search||!s.search.includes("#"),F0("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,f;if(c==null)f=r;else{let x=e.length-1;if(!a&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),x-=1;s.pathname=y.join("/")}f=x>=0?e[x]:"/"}let h=xE(s,f),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var Ra=t=>t.join("/").replace(/\/\/+/g,"/"),_E=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function EE(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ay=["POST","PUT","PATCH","DELETE"];new Set(ay);var TE=["GET",...ay];new Set(TE);var ul=L.createContext(null);ul.displayName="DataRouter";var id=L.createContext(null);id.displayName="DataRouterState";L.createContext(!1);var iy=L.createContext({isTransitioning:!1});iy.displayName="ViewTransition";var kE=L.createContext(new Map);kE.displayName="Fetchers";var AE=L.createContext(null);AE.displayName="Await";var An=L.createContext(null);An.displayName="Navigation";var Fo=L.createContext(null);Fo.displayName="Location";var $n=L.createContext({outlet:null,matches:[],isDataRoute:!1});$n.displayName="Route";var Lh=L.createContext(null);Lh.displayName="RouteError";function jE(t,{relative:e}={}){It(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=L.useContext(An),{hash:s,pathname:o,search:c}=Bo(t,{relative:e}),f=o;return r!=="/"&&(f=o==="/"?r:Ra([r,o])),a.createHref({pathname:f,search:c,hash:s})}function dl(){return L.useContext(Fo)!=null}function na(){return It(dl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Fo).location}var sy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ly(t){L.useContext(An).static||L.useLayoutEffect(t)}function sd(){let{isDataRoute:t}=L.useContext($n);return t?$E():CE()}function CE(){It(dl(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(ul),{basename:e,navigator:r}=L.useContext(An),{matches:a}=L.useContext($n),{pathname:s}=na(),o=JSON.stringify(Dh(a)),c=L.useRef(!1);return ly(()=>{c.current=!0}),L.useCallback((h,m={})=>{if(un(c.current,sy),!c.current)return;if(typeof h=="number"){r.go(h);return}let g=Mh(h,JSON.parse(o),s,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ra([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,o,s,t])}var RE=L.createContext(null);function OE(t){let e=L.useContext($n).outlet;return L.useMemo(()=>e&&L.createElement(RE.Provider,{value:t},e),[e,t])}function Bo(t,{relative:e}={}){let{matches:r}=L.useContext($n),{pathname:a}=na(),s=JSON.stringify(Dh(r));return L.useMemo(()=>Mh(t,JSON.parse(s),a,e==="path"),[t,s,a,e])}function NE(t,e){return oy(t,e)}function oy(t,e,r,a,s){It(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(An),{matches:c}=L.useContext($n),f=c[c.length-1],h=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",x=f&&f.route;{let O=x&&x.path||"";cy(m,!x||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=na(),w;if(e){let O=typeof e=="string"?rs(e):e;It(g==="/"||O.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${O.pathname}" was given in the \`location\` prop.`),w=O}else w=y;let S=w.pathname||"/",_=S;if(g!=="/"){let O=g.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let b=ty(t,{pathname:_});un(x||b!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),un(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=FE(b&&b.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:Ra([g,o.encodeLocation?o.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:Ra([g,o.encodeLocation?o.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),c,r,a,s);return e&&k?L.createElement(Fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function DE(){let t=HE(),e=SE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),r?L.createElement("pre",{style:s},r):null,c)}var ME=L.createElement(DE,null),LE=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?L.createElement($n.Provider,{value:this.props.routeContext},L.createElement(Lh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zE({routeContext:t,match:e,children:r}){let a=L.useContext(ul);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement($n.Provider,{value:t},r)}function FE(t,e=[],r=null,a=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,c=r?.errors;if(c!=null){let g=o.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);It(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,h=-1;if(r)for(let g=0;g<o.length;g++){let x=o[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=g),x.route.id){let{loaderData:y,errors:w}=r,S=x.route.loader&&!y.hasOwnProperty(x.route.id)&&(!w||w[x.route.id]===void 0);if(x.route.lazy||S){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let m=r&&a?(g,x)=>{a(g,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:EE(r.matches),errorInfo:x})}:void 0;return o.reduceRight((g,x,y)=>{let w,S=!1,_=null,b=null;r&&(w=c&&x.route.id?c[x.route.id]:void 0,_=x.route.errorElement||ME,f&&(h<0&&y===0?(cy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,b=null):h===y&&(S=!0,b=x.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,y+1)),O=()=>{let T;return w?T=_:S?T=b:x.route.Component?T=L.createElement(x.route.Component,null):x.route.element?T=x.route.element:T=g,L.createElement(zE,{match:x,routeContext:{outlet:g,matches:k,isDataRoute:r!=null},children:T})};return r&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?L.createElement(LE,{location:r.location,revalidation:r.revalidation,component:_,error:w,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:m}):O()},null)}function zh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BE(t){let e=L.useContext(ul);return It(e,zh(t)),e}function IE(t){let e=L.useContext(id);return It(e,zh(t)),e}function UE(t){let e=L.useContext($n);return It(e,zh(t)),e}function Fh(t){let e=UE(t),r=e.matches[e.matches.length-1];return It(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function PE(){return Fh("useRouteId")}function HE(){let t=L.useContext(Lh),e=IE("useRouteError"),r=Fh("useRouteError");return t!==void 0?t:e.errors?.[r]}function $E(){let{router:t}=BE("useNavigate"),e=Fh("useNavigate"),r=L.useRef(!1);return ly(()=>{r.current=!0}),L.useCallback(async(s,o={})=>{un(r.current,sy),r.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var Ev={};function cy(t,e,r){!e&&!Ev[t]&&(Ev[t]=!0,un(!1,r))}L.memo(GE);function GE({routes:t,future:e,state:r,unstable_onError:a}){return oy(t,void 0,r,a,e)}function qE({to:t,replace:e,state:r,relative:a}){It(dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=L.useContext(An);un(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=L.useContext($n),{pathname:c}=na(),f=sd(),h=Mh(t,Dh(o),c,a==="path"),m=JSON.stringify(h);return L.useEffect(()=>{f(JSON.parse(m),{replace:e,state:r,relative:a})},[f,m,a,e,r]),null}function WE(t){return OE(t.context)}function zn(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VE({basename:t="/",children:e=null,location:r,navigationType:a="POP",navigator:s,static:o=!1,unstable_useTransitions:c}){It(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:f,navigator:s,static:o,unstable_useTransitions:c,future:{}}),[f,s,o,c]);typeof r=="string"&&(r=rs(r));let{pathname:m="/",search:g="",hash:x="",state:y=null,key:w="default"}=r,S=L.useMemo(()=>{let _=Ma(m,f);return _==null?null:{location:{pathname:_,search:g,hash:x,state:y,key:w},navigationType:a}},[f,m,g,x,y,w,a]);return un(S!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:L.createElement(An.Provider,{value:h},L.createElement(Fo.Provider,{children:e,value:S}))}function KE({children:t,location:e}){return NE(ah(t),e)}function ah(t,e=[]){let r=[];return L.Children.forEach(t,(a,s)=>{if(!L.isValidElement(a))return;let o=[...e,s];if(a.type===L.Fragment){r.push.apply(r,ah(a.props.children,o));return}It(a.type===zn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=ah(a.props.children,o)),r.push(c)}),r}var Eu="get",Tu="application/x-www-form-urlencoded";function ld(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function YE(t){return ld(t)&&t.tagName.toLowerCase()==="button"}function XE(t){return ld(t)&&t.tagName.toLowerCase()==="form"}function JE(t){return ld(t)&&t.tagName.toLowerCase()==="input"}function QE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZE(t,e){return t.button===0&&(!e||e==="_self")&&!QE(t)}var iu=null;function eT(){if(iu===null)try{new FormData(document.createElement("form"),0),iu=!1}catch{iu=!0}return iu}var tT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function B0(t){return t!=null&&!tT.has(t)?(un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tu}"`),null):t}function rT(t,e){let r,a,s,o,c;if(XE(t)){let f=t.getAttribute("action");a=f?Ma(f,e):null,r=t.getAttribute("method")||Eu,s=B0(t.getAttribute("enctype"))||Tu,o=new FormData(t)}else if(YE(t)||JE(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(a=h?Ma(h,e):null,r=t.getAttribute("formmethod")||f.getAttribute("method")||Eu,s=B0(t.getAttribute("formenctype"))||B0(f.getAttribute("enctype"))||Tu,o=new FormData(f,t),!eT()){let{name:m,type:g,value:x}=t;if(g==="image"){let y=m?`${m}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else m&&o.append(m,x)}}else{if(ld(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Eu,a=null,s=Tu,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nT(t,e,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&Ma(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function aT(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sT(t,e,r){let a=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await aT(o,r);return c.links?c.links():[]}return[]}));return uT(a.flat(1).filter(iT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Tv(t,e,r,a,s,o){let c=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,f=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,m)=>c(h,m)||f(h,m)):o==="data"?e.filter((h,m)=>{let g=a.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function lT(t,e,{includeHydrateFallback:r}={}){return oT(t.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function oT(t){return[...new Set(t)]}function cT(t){let e={},r=Object.keys(t).sort();for(let a of r)e[a]=t[a];return e}function uT(t,e){let r=new Set;return new Set(e),t.reduce((a,s)=>{let o=JSON.stringify(cT(s));return r.has(o)||(r.add(o),a.push({key:o,link:s})),a},[])}function uy(){let t=L.useContext(ul);return Bh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dT(){let t=L.useContext(id);return Bh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ih=L.createContext(void 0);Ih.displayName="FrameworkContext";function dy(){let t=L.useContext(Ih);return Bh(t,"You must render this element inside a <HydratedRouter> element"),t}function fT(t,e){let r=L.useContext(Ih),[a,s]=L.useState(!1),[o,c]=L.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=e,y=L.useRef(null);L.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=k=>{k.forEach(O=>{c(O.isIntersecting)})},b=new IntersectionObserver(_,{threshold:.5});return y.current&&b.observe(y.current),()=>{b.disconnect()}}},[t]),L.useEffect(()=>{if(a){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[a]);let w=()=>{s(!0)},S=()=>{s(!1),c(!1)};return r?t!=="intent"?[o,y,{}]:[o,y,{onFocus:uo(f,w),onBlur:uo(h,S),onMouseEnter:uo(m,w),onMouseLeave:uo(g,S),onTouchStart:uo(x,w)}]:[!1,y,{}]}function uo(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function hT({page:t,...e}){let{router:r}=uy(),a=L.useMemo(()=>ty(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?L.createElement(pT,{page:t,matches:a,...e}):null}function mT(t){let{manifest:e,routeModules:r}=dy(),[a,s]=L.useState([]);return L.useEffect(()=>{let o=!1;return sT(t,e,r).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,r]),a}function pT({page:t,matches:e,...r}){let a=na(),{manifest:s,routeModules:o}=dy(),{basename:c}=uy(),{loaderData:f,matches:h}=dT(),m=L.useMemo(()=>Tv(t,e,h,s,a,"data"),[t,e,h,s,a]),g=L.useMemo(()=>Tv(t,e,h,s,a,"assets"),[t,e,h,s,a]),x=L.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let S=new Set,_=!1;if(e.forEach(k=>{let O=s.routes[k.route.id];!O||!O.hasLoader||(!m.some(T=>T.route.id===k.route.id)&&k.route.id in f&&o[k.route.id]?.shouldRevalidate||O.hasClientLoader?_=!0:S.add(k.route.id))}),S.size===0)return[];let b=nT(t,c,"data");return _&&S.size>0&&b.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[b.pathname+b.search]},[c,f,a,s,m,e,t,o]),y=L.useMemo(()=>lT(g,s),[g,s]),w=mT(g);return L.createElement(L.Fragment,null,x.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),y.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),w.map(({key:S,link:_})=>L.createElement("link",{key:S,nonce:r.nonce,..._})))}function gT(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fy&&(window.__reactRouterVersion="7.10.1")}catch{}function vT({basename:t,children:e,unstable_useTransitions:r,window:a}){let s=L.useRef();s.current==null&&(s.current=ZS({window:a,v5Compat:!0}));let o=s.current,[c,f]=L.useState({action:o.action,location:o.location}),h=L.useCallback(m=>{r===!1?f(m):L.startTransition(()=>f(m))},[r]);return L.useLayoutEffect(()=>o.listen(h),[o,h]),L.createElement(VE,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:r===!0})}var hy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,od=L.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:s,reloadDocument:o,replace:c,state:f,target:h,to:m,preventScrollReset:g,viewTransition:x,...y},w){let{basename:S,unstable_useTransitions:_}=L.useContext(An),b=typeof m=="string"&&hy.test(m),k,O=!1;if(typeof m=="string"&&b&&(k=m,fy))try{let te=new URL(window.location.href),ee=m.startsWith("//")?new URL(te.protocol+m):new URL(m),de=Ma(ee.pathname,S);ee.origin===te.origin&&de!=null?m=de+ee.search+ee.hash:O=!0}catch{un(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=jE(m,{relative:s}),[F,G,K]=fT(a,y),A=bT(m,{replace:c,state:f,target:h,preventScrollReset:g,relative:s,viewTransition:x,unstable_useTransitions:_});function P(te){e&&e(te),te.defaultPrevented||A(te)}let q=L.createElement("a",{...y,...K,href:k||T,onClick:O||o?e:P,ref:gT(w,G),target:h,"data-discover":!b&&r==="render"?"true":void 0});return F&&!b?L.createElement(L.Fragment,null,q,L.createElement(hT,{page:T})):q});od.displayName="Link";var xT=L.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:s=!1,style:o,to:c,viewTransition:f,children:h,...m},g){let x=Bo(c,{relative:m.relative}),y=na(),w=L.useContext(id),{navigator:S,basename:_}=L.useContext(An),b=w!=null&&kT(x)&&f===!0,k=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,O=y.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(O=O.toLowerCase(),T=T?T.toLowerCase():null,k=k.toLowerCase()),T&&_&&(T=Ma(T,_)||T);const F=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let G=O===k||!s&&O.startsWith(k)&&O.charAt(F)==="/",K=T!=null&&(T===k||!s&&T.startsWith(k)&&T.charAt(k.length)==="/"),A={isActive:G,isPending:K,isTransitioning:b},P=G?e:void 0,q;typeof a=="function"?q=a(A):q=[a,G?"active":null,K?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let te=typeof o=="function"?o(A):o;return L.createElement(od,{...m,"aria-current":P,className:q,ref:g,style:te,to:c,viewTransition:f},typeof h=="function"?h(A):h)});xT.displayName="NavLink";var yT=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:s,state:o,method:c=Eu,action:f,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:x,...y},w)=>{let{unstable_useTransitions:S}=L.useContext(An),_=ET(),b=TT(f,{relative:m}),k=c.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&hy.test(f),T=F=>{if(h&&h(F),F.defaultPrevented)return;F.preventDefault();let G=F.nativeEvent.submitter,K=G?.getAttribute("formmethod")||c,A=()=>_(G||F.currentTarget,{fetcherKey:e,method:K,navigate:r,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:x});S&&r!==!1?L.startTransition(()=>A()):A()};return L.createElement("form",{ref:w,method:k,action:b,onSubmit:a?h:T,...y,"data-discover":!O&&t==="render"?"true":void 0})});yT.displayName="Form";function _T(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function my(t){let e=L.useContext(ul);return It(e,_T(t)),e}function bT(t,{target:e,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:c,unstable_useTransitions:f}={}){let h=sd(),m=na(),g=Bo(t,{relative:o});return L.useCallback(x=>{if(ZE(x,e)){x.preventDefault();let y=r!==void 0?r:ko(m)===ko(g),w=()=>h(t,{replace:y,state:a,preventScrollReset:s,relative:o,viewTransition:c});f?L.startTransition(()=>w()):w()}},[m,h,g,r,a,e,t,s,o,c,f])}var wT=0,ST=()=>`__${String(++wT)}__`;function ET(){let{router:t}=my("useSubmit"),{basename:e}=L.useContext(An),r=PE(),a=t.fetch,s=t.navigate;return L.useCallback(async(o,c={})=>{let{action:f,method:h,encType:m,formData:g,body:x}=rT(o,e);if(c.navigate===!1){let y=c.fetcherKey||ST();await a(y,r,c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await s(c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,s,e,r])}function TT(t,{relative:e}={}){let{basename:r}=L.useContext(An),a=L.useContext($n);It(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...Bo(t||".",{relative:e})},c=na();if(t==null){o.search=c.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(x=>x).forEach(x=>f.append("index",x));let g=f.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Ra([r,o.pathname])),ko(o)}function kT(t,{relative:e}={}){let r=L.useContext(iy);It(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=my("useViewTransitionState"),s=Bo(t,{relative:e});if(!r.isTransitioning)return!1;let o=Ma(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=Ma(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Ru(s.pathname,c)!=null||Ru(s.pathname,o)!=null}var py=ey(),ja={},su={},ih=function(t,e){return ih=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},ih(t,e)};function gy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ih(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ou=function(){return Ou=Object.assign||function(e){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ou.apply(this,arguments)};function fl(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(r[a[s]]=t[a[s]]);return r}function vy(t,e,r,a){var s=arguments.length,o=s<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,a);else for(var f=t.length-1;f>=0;f--)(c=t[f])&&(o=(s<3?c(o):s>3?c(e,r,o):c(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function xy(t,e){return function(r,a){e(r,a,t)}}function yy(t,e,r,a,s,o){function c(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var f=a.kind,h=f==="getter"?"get":f==="setter"?"set":"value",m=!e&&t?a.static?t:t.prototype:null,g=e||(m?Object.getOwnPropertyDescriptor(m,a.name):{}),x,y=!1,w=r.length-1;w>=0;w--){var S={};for(var _ in a)S[_]=_==="access"?{}:a[_];for(var _ in a.access)S.access[_]=a.access[_];S.addInitializer=function(k){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(k||null))};var b=(0,r[w])(f==="accessor"?{get:g.get,set:g.set}:g[h],S);if(f==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(x=c(b.get))&&(g.get=x),(x=c(b.set))&&(g.set=x),(x=c(b.init))&&s.unshift(x)}else(x=c(b))&&(f==="field"?s.unshift(x):g[h]=x)}m&&Object.defineProperty(m,a.name,g),y=!0}function _y(t,e,r){for(var a=arguments.length>2,s=0;s<e.length;s++)r=a?e[s].call(t,r):e[s].call(t);return a?r:void 0}function by(t){return typeof t=="symbol"?t:"".concat(t)}function wy(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Sy(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function qe(t,e,r,a){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(g){try{m(a.next(g))}catch(x){c(x)}}function h(g){try{m(a.throw(g))}catch(x){c(x)}}function m(g){g.done?o(g.value):s(g.value).then(f,h)}m((a=a.apply(t,e||[])).next())})}function Ey(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(g){return h([m,g])}}function h(m){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(a=1,s&&(o=m[0]&2?s.return:m[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,m[1])).done)return o;switch(s=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,s=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){r.label=m[1];break}if(m[0]===6&&r.label<o[1]){r.label=o[1],o=m;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(m);break}o[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(g){m=[6,g],s=0}finally{a=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var cd=Object.create?(function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}):(function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]});function Ty(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cd(e,t,r)}function Nu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var a=r.call(t),s,o=[],c;try{for(;(e===void 0||e-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(f){c={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(c)throw c.error}}return o}function ky(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Uh(arguments[e]));return t}function Ay(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var a=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],c=0,f=o.length;c<f;c++,s++)a[s]=o[c];return a}function jy(t,e,r){if(r||arguments.length===2)for(var a=0,s=e.length,o;a<s;a++)(o||!(a in e))&&(o||(o=Array.prototype.slice.call(e,0,a)),o[a]=e[a]);return t.concat(o||Array.prototype.slice.call(e))}function ll(t){return this instanceof ll?(this.v=t,this):new ll(t)}function Cy(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(w){return function(S){return Promise.resolve(S).then(w,x)}}function f(w,S){a[w]&&(s[w]=function(_){return new Promise(function(b,k){o.push([w,_,b,k])>1||h(w,_)})},S&&(s[w]=S(s[w])))}function h(w,S){try{m(a[w](S))}catch(_){y(o[0][3],_)}}function m(w){w.value instanceof ll?Promise.resolve(w.value.v).then(g,x):y(o[0][2],w)}function g(w){h("next",w)}function x(w){h("throw",w)}function y(w,S){w(S),o.shift(),o.length&&h(o[0][0],o[0][1])}}function Ry(t){var e,r;return e={},a("next"),a("throw",function(s){throw s}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(s,o){e[s]=t[s]?function(c){return(r=!r)?{value:ll(t[s](c)),done:!1}:o?o(c):c}:o}}function Oy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Nu=="function"?Nu(t):t[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(o){r[o]=t[o]&&function(c){return new Promise(function(f,h){c=t[o](c),s(f,h,c.done,c.value)})}}function s(o,c,f,h){Promise.resolve(h).then(function(m){o({value:m,done:f})},c)}}function Ny(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var AT=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},sh=function(t){return sh=Object.getOwnPropertyNames||function(e){var r=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[r.length]=a);return r},sh(t)};function Dy(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=sh(t),a=0;a<r.length;a++)r[a]!=="default"&&cd(e,t,r[a]);return AT(e,t),e}function My(t){return t&&t.__esModule?t:{default:t}}function Ly(t,e,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(t):a?a.value:e.get(t)}function zy(t,e,r,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function Fy(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function By(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],r&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:a,async:r})}else r&&t.stack.push({async:!0});return e}var jT=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var a=new Error(r);return a.name="SuppressedError",a.error=t,a.suppressed=e,a};function Iy(t){function e(o){t.error=t.hasError?new jT(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,a=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&a===1)return a=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(o).then(s,function(c){return e(c),s()})}else a|=1}catch(c){e(c)}if(a===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Uy(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,s,o,c){return a?e?".jsx":".js":s&&(!o||!c)?r:s+o+"."+c.toLowerCase()+"js"}):t}const CT={__extends:gy,__assign:Ou,__rest:fl,__decorate:vy,__param:xy,__esDecorate:yy,__runInitializers:_y,__propKey:by,__setFunctionName:wy,__metadata:Sy,__awaiter:qe,__generator:Ey,__createBinding:cd,__exportStar:Ty,__values:Nu,__read:Uh,__spread:ky,__spreadArrays:Ay,__spreadArray:jy,__await:ll,__asyncGenerator:Cy,__asyncDelegator:Ry,__asyncValues:Oy,__makeTemplateObject:Ny,__importStar:Dy,__importDefault:My,__classPrivateFieldGet:Ly,__classPrivateFieldSet:zy,__classPrivateFieldIn:Fy,__addDisposableResource:By,__disposeResources:Iy,__rewriteRelativeImportExtension:Uy},RT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:By,get __assign(){return Ou},__asyncDelegator:Ry,__asyncGenerator:Cy,__asyncValues:Oy,__await:ll,__awaiter:qe,__classPrivateFieldGet:Ly,__classPrivateFieldIn:Fy,__classPrivateFieldSet:zy,__createBinding:cd,__decorate:vy,__disposeResources:Iy,__esDecorate:yy,__exportStar:Ty,__extends:gy,__generator:Ey,__importDefault:My,__importStar:Dy,__makeTemplateObject:Ny,__metadata:Sy,__param:xy,__propKey:by,__read:Uh,__rest:fl,__rewriteRelativeImportExtension:Uy,__runInitializers:_y,__setFunctionName:wy,__spread:ky,__spreadArray:jy,__spreadArrays:Ay,__values:Nu,default:CT},Symbol.toStringTag,{value:"Module"})),OT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let ud=class extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}},Py=class extends ud{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},lh=class extends ud{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},oh=class extends ud{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Du;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Du||(Du={}));class NT{constructor(e,{headers:r={},customFetch:a,region:s=Du.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=OT(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return qe(this,arguments,void 0,function*(r,a={}){var s;let o,c;try{const{headers:f,method:h,body:m,signal:g,timeout:x}=a;let y={},{region:w}=a;w||(w=this.region);const S=new URL(`${this.url}/${r}`);w&&w!=="any"&&(y["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let _;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(y["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(y["Content-Type"]="application/json",_=JSON.stringify(m)):_=m;let b=g;x&&(c=new AbortController,o=setTimeout(()=>c.abort(),x),g?(b=c.signal,g.addEventListener("abort",()=>c.abort())):b=c.signal);const k=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),f),body:_,signal:b}).catch(G=>{throw new Py(G)}),O=k.headers.get("x-relay-error");if(O&&O==="true")throw new lh(k);if(!k.ok)throw new oh(k);let T=((s=k.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),F;return T==="application/json"?F=yield k.json():T==="application/octet-stream"||T==="application/pdf"?F=yield k.blob():T==="text/event-stream"?F=k:T==="multipart/form-data"?F=yield k.formData():F=yield k.text(),{data:F,error:null,response:k}}catch(f){return{data:null,error:f,response:f instanceof oh||f instanceof lh?f.context:void 0}}finally{o&&clearTimeout(o)}})}}const DT=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Du},FunctionsClient:NT,FunctionsError:ud,FunctionsFetchError:Py,FunctionsHttpError:oh,FunctionsRelayError:lh},Symbol.toStringTag,{value:"Module"})),Hy=zo(DT);var kr={};const hl=zo(RT);var lu={},ou={},cu={},uu={},du={},fu={},kv;function $y(){if(kv)return fu;kv=1,Object.defineProperty(fu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return fu.default=t,fu}var Av;function Gy(){if(Av)return du;Av=1,Object.defineProperty(du,"__esModule",{value:!0});const e=hl.__importDefault($y());let r=class{constructor(s){var o,c;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(c=s.isMaybeSingle)!==null&&c!==void 0?c:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,g,x,y;let w=null,S=null,_=null,b=h.status,k=h.statusText;if(h.ok){if(this.method!=="HEAD"){const G=await h.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?S=G:S=JSON.parse(G))}const T=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),F=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");T&&F&&F.length>1&&(_=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,_=null,b=406,k="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const T=await h.text();try{w=JSON.parse(T),Array.isArray(w)&&h.status===404&&(S=[],w=null,b=200,k="OK")}catch{h.status===404&&T===""?(b=204,k="No Content"):w={message:T}}if(w&&this.isMaybeSingle&&(!((y=w?.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,b=200,k="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:S,count:_,status:b,statusText:k}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,g,x,y,w,S;let _="";const b=h?.cause;if(b){const k=(m=b?.message)!==null&&m!==void 0?m:"",O=(g=b?.code)!==null&&g!==void 0?g:"";_=`${(x=h?.name)!==null&&x!==void 0?x:"FetchError"}: ${h?.message}`,_+=`

Caused by: ${(y=b?.name)!==null&&y!==void 0?y:"Error"}: ${k}`,O&&(_+=` (${O})`),b?.stack&&(_+=`
${b.stack}`)}else _=(w=h?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(S=h?.name)!==null&&S!==void 0?S:"FetchError"}: ${h?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(s,o)}returns(){return this}overrideTypes(){return this}};return du.default=r,du}var jv;function qy(){if(jv)return uu;jv=1,Object.defineProperty(uu,"__esModule",{value:!0});const e=hl.__importDefault(Gy());let r=class extends e.default{select(s){let o=!1;const c=(s??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:c,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${s}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:c=o}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${s}`),this}range(s,o,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(m,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:c=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var g;const x=[s?"analyze":null,o?"verbose":null,c?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${y}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return uu.default=r,uu}var Cv;function Ph(){if(Cv)return cu;Cv=1,Object.defineProperty(cu,"__esModule",{value:!0});const e=hl.__importDefault(qy()),r=new RegExp("[,()]");let a=class extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}regexMatch(o,c){return this.url.searchParams.append(o,`match.${c}`),this}regexIMatch(o,c){return this.url.searchParams.append(o,`imatch.${c}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}isDistinct(o,c){return this.url.searchParams.append(o,`isdistinct.${c}`),this}in(o,c){const f=Array.from(new Set(c)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${f})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:f,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const g=f===void 0?"":`(${f})`;return this.url.searchParams.append(o,`${m}fts${g}.${c}`),this}match(o){return Object.entries(o).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(o,c,f){return this.url.searchParams.append(o,`not.${c}.${f}`),this}or(o,{foreignTable:c,referencedTable:f=c}={}){const h=f?`${f}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,f){return this.url.searchParams.append(o,`${c}.${f}`),this}};return cu.default=a,cu}var Rv;function Wy(){if(Rv)return ou;Rv=1,Object.defineProperty(ou,"__esModule",{value:!0});const e=hl.__importDefault(Ph());let r=class{constructor(s,{headers:o={},schema:c,fetch:f}){this.url=s,this.headers=new Headers(o),this.schema=c,this.fetch=f}select(s,o){const{head:c=!1,count:f}=o??{},h=c?"HEAD":"GET";let m=!1;const g=(s??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",g),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:c=!0}={}){var f;const h="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:c=!1,count:f,defaultToNull:h=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const x=s.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(x.length>0){const y=[...new Set(x)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:o}={}){var c;const f="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var o;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return ou.default=r,ou}var Ov;function MT(){if(Ov)return lu;Ov=1,Object.defineProperty(lu,"__esModule",{value:!0});const t=hl,e=t.__importDefault(Wy()),r=t.__importDefault(Ph());let a=class Vy{constructor(o,{headers:c={},schema:f,fetch:h}={}){this.url=o,this.headers=new Headers(c),this.schemaName=f,this.fetch=h}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new Vy(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:f=!1,get:h=!1,count:m}={}){var g;let x;const y=new URL(`${this.url}/rpc/${o}`);let w;f||h?(x=f?"HEAD":"GET",Object.entries(c).filter(([_,b])=>b!==void 0).map(([_,b])=>[_,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([_,b])=>{y.searchParams.append(_,b)})):(x="POST",w=c);const S=new Headers(this.headers);return m&&S.set("Prefer",`count=${m}`),new r.default({method:x,url:y,headers:S,schema:this.schemaName,body:w,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};return lu.default=a,lu}var Nv;function Ky(){if(Nv)return kr;Nv=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.PostgrestError=kr.PostgrestBuilder=kr.PostgrestTransformBuilder=kr.PostgrestFilterBuilder=kr.PostgrestQueryBuilder=kr.PostgrestClient=void 0;const t=hl,e=t.__importDefault(MT());kr.PostgrestClient=e.default;const r=t.__importDefault(Wy());kr.PostgrestQueryBuilder=r.default;const a=t.__importDefault(Ph());kr.PostgrestFilterBuilder=a.default;const s=t.__importDefault(qy());kr.PostgrestTransformBuilder=s.default;const o=t.__importDefault(Gy());kr.PostgrestBuilder=o.default;const c=t.__importDefault($y());return kr.PostgrestError=c.default,kr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:c.default},kr}class Yy{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const LT="2.86.2",zT=`realtime-js/${LT}`,Xy="1.0.0",FT="2.0.0",Dv=Xy,ch=1e4,BT=1e3,IT=100;var Gi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gi||(Gi={}));var Jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jt||(Jt={}));var In;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(In||(In={}));var uh;(function(t){t.websocket="websocket"})(uh||(uh={}));var qi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qi||(qi={}));class UT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const s=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,a;const s=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,a){var s,o;const c=e.topic,f=(s=e.ref)!==null&&s!==void 0?s:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",m=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+c.length+m.length+x.length,w=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(w),_=0;S.setUint8(_++,this.KINDS.userBroadcastPush),S.setUint8(_++,h.length),S.setUint8(_++,f.length),S.setUint8(_++,c.length),S.setUint8(_++,m.length),S.setUint8(_++,x.length),S.setUint8(_++,r),Array.from(h,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(f,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(c,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(m,k=>S.setUint8(_++,k.charCodeAt(0))),Array.from(x,k=>S.setUint8(_++,k.charCodeAt(0)));var b=new Uint8Array(w.byteLength+a.byteLength);return b.set(new Uint8Array(w),0),b.set(new Uint8Array(a),w.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[s,o,c,f,h]=a;return r({join_ref:s,ref:o,topic:c,event:f,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),s=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,a){const s=r.getUint8(1),o=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=a.decode(e.slice(h,h+s));h=h+s;const g=a.decode(e.slice(h,h+o));h=h+o;const x=a.decode(e.slice(h,h+c));h=h+c;const y=e.slice(h,e.byteLength),w=f===this.JSON_ENCODING?JSON.parse(a.decode(y)):y,S={type:this.BROADCAST_EVENT,event:g,payload:w};return c>0&&(S.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class Jy{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ot;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ot||(Ot={}));const Mv=(t,e,r={})=>{var a;const s=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=PT(c,t,e,s),o),{}):{}},PT=(t,e,r,a)=>{const s=e.find(f=>f.name===t),o=s?.type,c=r[t];return o&&!a.includes(o)?Qy(o,c):dh(c)},Qy=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return qT(e,r)}switch(t){case Ot.bool:return HT(e);case Ot.float4:case Ot.float8:case Ot.int2:case Ot.int4:case Ot.int8:case Ot.numeric:case Ot.oid:return $T(e);case Ot.json:case Ot.jsonb:return GT(e);case Ot.timestamp:return WT(e);case Ot.abstime:case Ot.date:case Ot.daterange:case Ot.int4range:case Ot.int8range:case Ot.money:case Ot.reltime:case Ot.text:case Ot.time:case Ot.timestamptz:case Ot.timetz:case Ot.tsrange:case Ot.tstzrange:return dh(e);default:return dh(e)}},dh=t=>t,HT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$T=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},GT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qT=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,a=t[r];if(t[0]==="{"&&a==="}"){let o;const c=t.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(f=>Qy(e,f))}return t},WT=t=>typeof t=="string"?t.replace(" ","T"):t,Zy=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class I0{constructor(e,r,a={},s=ch){this.channel=e,this.event=r,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fh||(fh={}));let e_=class ku{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ku.syncState(this.state,s,o,c),this.pendingDiffs.forEach(h=>{this.state=ku.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},s=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ku.syncDiff(this.state,s,o,c),f())}),this.onJoin((s,o,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:c})}),this.onLeave((s,o,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,s){const o=this.cloneDeep(e),c=this.transformState(r),f={},h={};return this.map(o,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const x=o[m];if(x){const y=g.map(b=>b.presence_ref),w=x.map(b=>b.presence_ref),S=g.filter(b=>w.indexOf(b.presence_ref)<0),_=x.filter(b=>y.indexOf(b.presence_ref)<0);S.length>0&&(f[m]=S),_.length>0&&(h[m]=_)}else f[m]=g}),this.syncDiff(o,{joins:f,leaves:h},a,s)}static syncDiff(e,r,a,s){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(o,(f,h)=>{var m;const g=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(h),g.length>0){const x=e[f].map(w=>w.presence_ref),y=g.filter(w=>x.indexOf(w.presence_ref)<0);e[f].unshift(...y)}a(f,g,h)}),this.map(c,(f,h)=>{let m=e[f];if(!m)return;const g=h.map(x=>x.presence_ref);m=m.filter(x=>g.indexOf(x.presence_ref)<0),e[f]=m,s(f,m,h),m.length===0&&delete e[f]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const s=e[a];return"metas"in s?r[a]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[a]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var hh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hh||(hh={}));var tl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tl||(tl={}));var Zn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zn||(Zn={}));const VT=Jt;let t_=class r_{constructor(e,r={config:{}},a){var s,o;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new I0(this,In.join,this.params,this.timeout),this.rejoinTimer=new Jy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new e_(this),this.broadcastEndpointURL=Zy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:c,presence:f,private:h}}=this.params,m=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(w=>w.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[tl.PRESENCE]&&this.bindings[tl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,x={},y={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(Zn.CHANNEL_ERROR,w)),this._onClose(()=>e?.(Zn.CLOSED)),this.updateJoinPayload(Object.assign({config:y},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket.setAuth(),w===void 0){e?.(Zn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(S=_?.length)!==null&&S!==void 0?S:0,k=[];for(let O=0;O<b;O++){const T=_[O],{filter:{event:F,schema:G,table:K,filter:A}}=T,P=w&&w[O];if(P&&P.event===F&&P.schema===G&&P.table===K&&P.filter===A)k.push(Object.assign(Object.assign({},T),{id:P.id}));else{this.unsubscribe(),this.state=Jt.errored,e?.(Zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Zn.SUBSCRIBED);return}}).receive("error",w=>{this.state=Jt.errored,e?.(Zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(Zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===Jt.joined&&e===tl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var a,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,f,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new I0(this,In.leave,{},e),a.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const s=new AbortController,o=setTimeout(()=>s.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),c}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new I0(this,e,r,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>IT){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var s,o;const c=e.toLocaleLowerCase(),{close:f,error:h,leave:m,join:g}=In;if(a&&[f,h,m,g].indexOf(c)>=0&&a!==this._joinRef())return;let y=this._onMessage(c,r,a);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var S,_,b;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((b=(_=w.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===c}).map(w=>w.callback(y,a)):(o=this.bindings[c])===null||o===void 0||o.filter(w=>{var S,_,b,k,O,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const F=w.id,G=(S=w.filter)===null||S===void 0?void 0:S.event;return F&&((_=r.ids)===null||_===void 0?void 0:_.includes(F))&&(G==="*"||G?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const F=(O=(k=w?.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return F==="*"||F===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:_,table:b,commit_timestamp:k,type:O,errors:T}=S;y=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:k,eventType:O,new:{},old:{},errors:T}),this._getPayloadRecords(S))}w.callback(y,a)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:a};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&r_.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(In.close,{},e)}_onError(e){this._on(In.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Mv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Mv(e.columns,e.old_record)),r}};const U0=()=>{},hu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},KT=[1e3,2e3,5e3,1e4],YT=1e4,XT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let JT=class{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ch,this.transport=null,this.heartbeatIntervalMs=hu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=U0,this.ref=0,this.reconnectTimer=null,this.vsn=Dv,this.logger=U0,this.conn=null,this.sendBuffer=[],this.serializer=new UT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${uh.websocket}`,this.httpEndpoint=Zy(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yy.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Gi.connecting:return qi.Connecting;case Gi.open:return qi.Open;case Gi.closing:return qi.Closing;default:return qi.Closed}}isConnected(){return this.connectionState()===qi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===a);if(s)return s;{const o=new t_(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:a,payload:s,ref:o}=e,c=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${a} (${o})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(BT,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:o,ref:c}=r,f=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${a} ${s} ${f}`.trim(),o),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(s,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gi.open||this.conn.readyState===Gi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(In.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${a}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([XT],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:zT};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(In.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Jy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,s,o,c,f,h,m,g,x,y,w;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:ch,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:hu.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:U0,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:Dv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(S=>KT[S-1]||YT),this.vsn){case Xy:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((S,_)=>_(JSON.stringify(S))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((S,_)=>_(JSON.parse(S)));break;case FT:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const QT=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:VT,get REALTIME_LISTEN_TYPES(){return tl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return hh},get REALTIME_PRESENCE_LISTEN_EVENTS(){return fh},get REALTIME_SUBSCRIBE_STATES(){return Zn},RealtimeChannel:t_,RealtimeClient:JT,RealtimePresence:e_,WebSocketFactory:Yy},Symbol.toStringTag,{value:"Module"})),n_=zo(QT);class Io extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Bt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class a_ extends Io{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Mu extends Io{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Hh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ZT=()=>Response,mh=t=>{if(Array.isArray(t))return t.map(r=>mh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,a])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=mh(a)}),e},ek=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tk=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),P0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},rk=(t,e,r)=>qe(void 0,void 0,void 0,function*(){const a=yield ZT();t instanceof a&&!r?.noResolveJson?t.json().then(s=>{const o=t.status||500,c=s?.statusCode||o+"";e(new a_(P0(s),o,c))}).catch(s=>{e(new Mu(P0(s),s))}):e(new Mu(P0(t),t))}),nk=(t,e,r,a)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||!a?s:(ek(a)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(a)):s.body=a,e?.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Uo(t,e,r,a,s,o){return qe(this,void 0,void 0,function*(){return new Promise((c,f)=>{t(r,nk(e,a,s,o)).then(h=>{if(!h.ok)throw h;return a?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>rk(h,f,a))})})}function Ao(t,e,r,a){return qe(this,void 0,void 0,function*(){return Uo(t,"GET",e,r,a)})}function Bn(t,e,r,a,s){return qe(this,void 0,void 0,function*(){return Uo(t,"POST",e,a,s,r)})}function ph(t,e,r,a,s){return qe(this,void 0,void 0,function*(){return Uo(t,"PUT",e,a,s,r)})}function ak(t,e,r,a){return qe(this,void 0,void 0,function*(){return Uo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function $h(t,e,r,a,s){return qe(this,void 0,void 0,function*(){return Uo(t,"DELETE",e,a,s,r)})}class ik{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return qe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}}var i_;class sk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[i_]="BlobDownloadBuilder",this.promise=null}asStream(){return new ik(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return qe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}}i_=Symbol.toStringTag;const lk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ok{constructor(e,r={},a,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=Hh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,s){return qe(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Lv),s);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),h&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(h))):(o=a,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),s?.headers&&(f=Object.assign(Object.assign({},f),s.headers));const m=this._removeEmptyFolders(r),g=this._getFinalPath(m),x=yield(e=="PUT"?ph:Bn)(this.fetch,`${this.url}/object/${g}`,o,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Bt(o))return{data:null,error:o};throw o}})}upload(e,r,a){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,s){return qe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Lv.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.append("cacheControl",m.cacheControl)):(h=a,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const x=yield ph(this.fetch,f.toString(),h,{headers:g});return{data:{path:o,fullPath:x.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Bt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return qe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const o=yield Bn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),c=new URL(this.url+o.url),f=c.searchParams.get("token");if(!f)throw new Io("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}update(e,r,a){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return qe(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}copy(e,r,a){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Bn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,a){return qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Bn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,a){return qe(this,void 0,void 0,function*(){try{const s=yield Bn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),c=o?`?${o}`:"",f=this._getFinalPath(e),h=()=>Ao(this.fetch,`${this.url}/${s}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new sk(h,this.shouldThrowOnError)}info(e){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield Ao(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mh(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}exists(e){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ak(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a)&&a instanceof Mu){const s=a.originalError;if([400,404].includes(s?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),s=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const f=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&s.push(h);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${m}`)}}}remove(e){return qe(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}list(e,r,a){return qe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},lk),r),{prefix:e||""});return{data:yield Bn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}listV2(e,r){return qe(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield Bn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const s_="2.86.2",l_={"X-Client-Info":`storage-js/${s_}`};class ck{constructor(e,r={},a,s){this.shouldThrowOnError=!1;const o=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l_),r),this.fetch=Hh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return qe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Ao(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}getBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}createBucket(e){return qe(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return qe(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}emptyBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var jo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uk(t,e,r){const a=new URL(e,t);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&a.searchParams.set(s,o);return a.toString()}async function dk(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function fk(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:s,body:o,headers:c}){const f=uk(t.baseUrl,a,s),h=await dk(t.auth),m=await e(f,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...h,...c},body:o?JSON.stringify(o):void 0}),g=await m.text(),x=(m.headers.get("content-type")||"").includes("application/json"),y=x&&g?JSON.parse(g):g;if(!m.ok){const w=x?y:void 0,S=w?.error;throw new jo(S?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:S?.type,icebergCode:S?.code,details:w})}return{status:m.status,headers:m.headers,data:y}}}}function mu(t){return t.join("")}var hk=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:mu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mu(t.namespace)}`}),!0}catch(e){if(e instanceof jo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof jo&&r.status===409)return;throw r}}};function Gs(t){return t.join("")}var mk=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gs(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof jo&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof jo&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},pk=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=fk({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new hk(this.client,e),this.tableOps=new mk(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class o_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l_),r),this.fetch=Hh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listBuckets(e){return qe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const a=r.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Ao(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}from(e){if(!tk(e))throw new Io("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new pk({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>qe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Gh={"X-Client-Info":`storage-js/${s_}`,"Content-Type":"application/json"};class qh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Wr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Au extends qh{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class c_ extends qh{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var gh;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gh||(gh={}));const dd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gk=()=>Response,u_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vk=t=>Array.from(new Float32Array(t)),xk=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},zv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yk=(t,e,r)=>qe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(c=>{const f=c?.statusCode||c?.code||s+"";e(new Au(zv(c),s,f))}).catch(()=>{const c=s+"",f=o.statusText||`HTTP ${s} error`;e(new Au(f,s,c))});else{const c=s+"",f=o.statusText||`HTTP ${s} error`;e(new Au(f,s,c))}}else e(new c_(zv(t),t))}),_k=(t,e,r,a)=>{const s={method:t,headers:e?.headers||{}};return a?(u_(a)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),r)):s};function bk(t,e,r,a,s,o){return qe(this,void 0,void 0,function*(){return new Promise((c,f)=>{t(r,_k(e,a,s,o)).then(h=>{if(!h.ok)throw h;if(a?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>yk(h,f,a))})})}function cn(t,e,r,a,s){return qe(this,void 0,void 0,function*(){return bk(t,"POST",e,a,s,r)})}class d_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gh),r),this.fetch=dd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return qe(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return qe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Wr(a))return{data:null,error:a};throw a}})}listIndexes(e){return qe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return qe(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Wr(a))return{data:null,error:a};throw a}})}}class f_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gh),r),this.fetch=dd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return qe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}getVectors(e){return qe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}listVectors(e){return qe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield cn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}queryVectors(e){return qe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return qe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}}class h_{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gh),r),this.fetch=dd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}getBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}listBuckets(){return qe(this,arguments,void 0,function*(e={}){try{return{data:yield cn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}}class m_ extends h_{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new p_(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return qe(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return qe(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return qe(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return qe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class p_ extends d_{constructor(e,r,a,s){super(e,r,s),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return qe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return qe(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return qe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return qe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new g_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class g_ extends f_{constructor(e,r,a,s,o){super(e,r,o),this.vectorBucketName=a,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return qe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return qe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return qe(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return qe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return qe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class wk extends ck{constructor(e,r={},a,s){super(e,r,a,s)}from(e){return new ok(this.url,this.headers,e,this.fetch)}get vectors(){return new m_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new o_(this.url+"/iceberg",this.headers,this.fetch)}}const Sk=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:o_,StorageApiError:a_,StorageClient:wk,StorageError:Io,StorageUnknownError:Mu,StorageVectorsApiError:Au,StorageVectorsClient:m_,StorageVectorsError:qh,get StorageVectorsErrorCode(){return gh},StorageVectorsUnknownError:c_,VectorBucketApi:h_,VectorBucketScope:p_,VectorDataApi:f_,VectorIndexApi:d_,VectorIndexScope:g_,isPlainObject:u_,isStorageError:Bt,isStorageVectorsError:Wr,normalizeToFloat32:vk,resolveFetch:dd,resolveResponse:gk,validateVectorDimension:xk},Symbol.toStringTag,{value:"Module"})),Ek=zo(Sk);var H0={},fo={},Fv;function Tk(){return Fv||(Fv=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.version=void 0,fo.version="2.86.2"),fo}var Bv;function kk(){return Bv||(Bv=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=Tk();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(H0)),H0}var $0={},Iv;function Ak(){return Iv||(Iv=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...o)=>s(...o):(...o)=>fetch(...o);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const a=(s,o,c)=>{const f=(0,t.resolveFetch)(c),h=(0,t.resolveHeadersConstructor)();return async(m,g)=>{var x;const y=(x=await o())!==null&&x!==void 0?x:s;let w=new h(g?.headers);return w.has("apikey")||w.set("apikey",s),w.has("Authorization")||w.set("Authorization",`Bearer ${y}`),f(m,Object.assign(Object.assign({},g),{headers:w}))}};t.fetchWithAuth=a})($0)),$0}var Ca={},Uv;function jk(){if(Uv)return Ca;Uv=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.isBrowser=void 0,Ca.uuid=t,Ca.ensureTrailingSlash=e,Ca.applySettingDefaults=a,Ca.validateSupabaseUrl=s;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var c=Math.random()*16|0,f=o=="x"?c:c&3|8;return f.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const r=()=>typeof window<"u";Ca.isBrowser=r;function a(o,c){var f,h;const{db:m,auth:g,realtime:x,global:y}=o,{db:w,auth:S,realtime:_,global:b}=c,k={db:Object.assign(Object.assign({},w),m),auth:Object.assign(Object.assign({},S),g),realtime:Object.assign(Object.assign({},_),x),storage:{},global:Object.assign(Object.assign(Object.assign({},b),y),{headers:Object.assign(Object.assign({},(f=b?.headers)!==null&&f!==void 0?f:{}),(h=y?.headers)!==null&&h!==void 0?h:{})}),accessToken:async()=>""};return o.accessToken?k.accessToken=o.accessToken:delete k.accessToken,k}function s(o){const c=o?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ca}var ho={};const v_="2.86.2",Js=30*1e3,vh=3,G0=vh*Js,Ck="http://localhost:9999",Rk="supabase.auth.token",Ok={"X-Client-Info":`gotrue-js/${v_}`},xh="X-Supabase-Api-Version",x_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dk=600*1e3;let ol=class extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function Ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let y_=class extends ol{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function __(t){return Ke(t)&&t.name==="AuthApiError"}let di=class extends ol{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Fa=class extends ol{constructor(e,r,a,s){super(e,a,s),this.name=r,this.status=a}},qr=class extends Fa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function b_(t){return Ke(t)&&t.name==="AuthSessionMissingError"}let Pi=class extends Fa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},go=class extends Fa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},vo=class extends Fa{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function w_(t){return Ke(t)&&t.name==="AuthImplicitGrantRedirectError"}let yh=class extends Fa{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Lu=class extends Fa{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function ju(t){return Ke(t)&&t.name==="AuthRetryableFetchError"}let _h=class extends Fa{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function Mk(t){return Ke(t)&&t.name==="AuthWeakPasswordError"}let zu=class extends Fa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pv=` 	
\r=`.split(""),Lk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Pv.length;e+=1)t[Pv[e].charCodeAt(0)]=-2;for(let e=0;e<Fu.length;e+=1)t[Fu[e].charCodeAt(0)]=e;return t})();function Hv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Fu[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Fu[a]),e.queuedBits-=6}}function S_(t,e,r){const a=Lk[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $v(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=c=>{Bk(c,a,r)};for(let c=0;c<t.length;c+=1)S_(t.charCodeAt(c),s,o);return e.join("")}function zk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Fk(t,e){for(let r=0;r<t.length;r+=1){let a=t.charCodeAt(r);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}zk(a,e)}}function Bk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function rl(t){const e=[],r={queue:0,queuedBits:0},a=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)S_(t.charCodeAt(s),r,a);return new Uint8Array(e)}function Ik(t){const e=[];return Fk(t,r=>e.push(r)),new Uint8Array(e)}function Vi(t){const e=[],r={queue:0,queuedBits:0},a=s=>{e.push(s)};return t.forEach(s=>Hv(s,r,a)),Hv(null,r,a),e.join("")}function Uk(t){return Math.round(Date.now()/1e3)+t}function Pk(){return Symbol("auth-callback")}const pr=()=>typeof window<"u"&&typeof document<"u",Ii={tested:!1,writable:!1},E_=()=>{if(!pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ii.tested)return Ii.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ii.tested=!0,Ii.writable=!0}catch{Ii.tested=!0,Ii.writable=!1}return Ii.writable};function Hk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((a,s)=>{e[s]=a}),e}const T_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$k=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qs=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ui=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mr=async(t,e)=>{await t.removeItem(e)};class fd{constructor(){this.promise=new fd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}fd.promiseConstructor=Promise;function q0(t){const e=t.split(".");if(e.length!==3)throw new zu("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!Nk.test(e[a]))throw new zu("JWT not in base64url format");return{header:JSON.parse($v(e[0])),payload:JSON.parse($v(e[1])),signature:rl(e[2]),raw:{header:e[0],payload:e[1]}}}async function Gk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qk(t,e){return new Promise((a,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await t(o);if(!e(o,null,c)){a(c);return}}catch(c){if(!e(o,c)){s(c);return}}})()})}function Wk(t){return("0"+t.toString(16)).substr(-2)}function Vk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(e),Array.from(e,Wk).join("")}async function Kk(t){const r=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(a);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Yk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Kk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qs(t,e,r=!1){const a=Vk();let s=a;r&&(s+="/PASSWORD_RECOVERY"),await Qs(t,`${e}-code-verifier`,s);const o=await Yk(a);return[o,a===o?"plain":"s256"]}const Xk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jk(t){const e=t.headers.get(xh);if(!e||!e.match(Xk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Qk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ws(t){if(!e4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function W0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function t4(t,e){return new Proxy(t,{get:(r,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,s)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,s)}})}function Gv(t){return JSON.parse(JSON.stringify(t))}const Hi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),r4=[502,503,504];async function qv(t){var e;if(!$k(t))throw new Lu(Hi(t),0);if(r4.includes(t.status))throw new Lu(Hi(t),t.status);let r;try{r=await t.json()}catch(o){throw new di(Hi(o),o)}let a;const s=Jk(t);if(s&&s.getTime()>=x_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new _h(Hi(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new qr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new _h(Hi(r),t.status,r.weak_password.reasons);throw new y_(Hi(r),t.status||500,a)}const n4=(t,e,r,a)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),r))};async function Je(t,e,r,a){var s;const o=Object.assign({},a?.headers);o[xh]||(o[xh]=x_["2024-01-01"].name),a?.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const c=(s=a?.query)!==null&&s!==void 0?s:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await a4(t,e,r+f,{headers:o,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(h):{data:Object.assign({},h),error:null}}async function a4(t,e,r,a,s,o){const c=n4(e,a,s,o);let f;try{f=await t(r,Object.assign({},c))}catch(h){throw console.error(h),new Lu(Hi(h),0)}if(f.ok||await qv(f),a?.noResolveJson)return f;try{return await f.json()}catch(h){await qv(h)}}function Fn(t){var e;let r=null;l4(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Uk(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:a},error:null}}function Wv(t){const e=Fn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function i4(t){return{data:t,error:null}}function s4(t){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:s,verification_type:o}=t,c=fl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:r,hashed_token:a,redirect_to:s,verification_type:o},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function Vv(t){return t}function l4(t){return t.access_token&&t.refresh_token&&t.expires_in}const Cu=["global","local","others"];let Wh=class{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=T_(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Cu[0]){if(Cu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cu.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fi})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=fl(e,["options"]),s=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(s.new_email=a?.newEmail,delete s.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:s4,redirectTo:r?.redirectTo})}catch(r){if(Ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fi})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,s,o,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Vv});if(g.error)throw g.error;const x=await g.json(),y=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);m[`${b}Page`]=_}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Ke(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Ws(e);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fi})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ws(e);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:fi})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){Ws(e);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:fi})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Ws(e.userId);try{const{data:r,error:a}=await Je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:a}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ws(e.userId),Ws(e.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,s,o,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Vv});if(g.error)throw g.error;const x=await g.json(),y=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);m[`${b}Page`]=_}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Ke(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ke(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}};function Kv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const $i={debug:!!(globalThis&&E_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let k_=class extends Vh{};class o4 extends Vh{}async function A_(t,e,r){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),$i.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw $i.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new k_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($i.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Yv={};async function c4(t,e,r){var a;const s=(a=Yv[t])!==null&&a!==void 0?a:Promise.resolve(),o=Promise.race([s.catch(()=>null),e>=0?new Promise((c,f)=>{setTimeout(()=>{f(new o4(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return Yv[t]=o.catch(async c=>{if(c&&c.isAcquireTimeout)return await s,null;throw c}),await o}function u4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function j_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function d4(t){return parseInt(t,16)}function f4(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function h4(t){var e;const{chainId:r,domain:a,expirationTime:s,issuedAt:o=new Date,nonce:c,notBefore:f,requestId:h,resources:m,scheme:g,uri:x,version:y}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=j_(t.address),S=g?`${g}://${a}`:a,_=t.statement?`${t.statement}
`:"",b=`${S} wants you to sign in with your Ethereum account:
${w}

${_}`;let k=`URI: ${x}
Version: ${y}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(s&&(k+=`
Expiration Time: ${s.toISOString()}`),f&&(k+=`
Not Before: ${f.toISOString()}`),h&&(k+=`
Request ID: ${h}`),m){let O=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);O+=`
- ${T}`}k+=O}return`${b}
${k}`}class Qt extends Error{constructor({message:e,code:r,cause:a,name:s}){var o;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=s??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Bu extends Qt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function m4({error:t,options:e}){var r,a,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Qt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(C_(c)){if(o.rp.id!==c)return new Qt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function p4({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Qt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(C_(a)){if(r.rpId!==a)return new Qt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class g4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const v4=new g4;function x4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:a}=t,s=fl(t,["challenge","user","excludeCredentials"]),o=rl(e).buffer,c=Object.assign(Object.assign({},r),{id:rl(r.id).buffer}),f=Object.assign(Object.assign({},s),{challenge:o,user:c});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const m=a[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:rl(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function y4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,a=fl(t,["challenge","allowCredentials"]),s=rl(e).buffer,o=Object.assign(Object.assign({},a),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];o.allowCredentials[c]=Object.assign(Object.assign({},f),{id:rl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return o}function _4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Vi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Vi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function b4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,a=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Vi(new Uint8Array(s.authenticatorData)),clientDataJSON:Vi(new Uint8Array(s.clientDataJSON)),signature:Vi(new Uint8Array(s.signature)),userHandle:s.userHandle?Vi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function C_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Xv(){var t,e;return!!(pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function w4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bu("Browser returned unexpected credential type",e)}:{data:null,error:new Bu("Empty credential response",e)}}catch(e){return{data:null,error:m4({error:e,options:t})}}}async function S4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bu("Browser returned unexpected credential type",e)}:{data:null,error:new Bu("Empty credential response",e)}}catch(e){return{data:null,error:p4({error:e,options:t})}}}const E4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},T4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Iu(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of t)if(s)for(const o in s){const c=s[o];if(c!==void 0)if(Array.isArray(c))a[o]=c;else if(r(c))a[o]=c;else if(e(c)){const f=a[o];e(f)?a[o]=Iu(f,c):a[o]=Iu(c)}else a[o]=c}return a}function k4(t,e){return Iu(E4,t,e||{})}function A4(t,e){return Iu(T4,t,e||{})}class j4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:s},o){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:f};const h=s??v4.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=k4(c.webauthn.credential_options.publicKey,o?.create),{data:g,error:x}=await w4({publicKey:m,signal:h});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const m=A4(c.webauthn.credential_options.publicKey,o?.request),{data:g,error:x}=await S4(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(c){return Ke(c)?{data:null,error:c}:{data:null,error:new di("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ol("rpId is required for WebAuthn authentication")};try{if(!Xv())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:s},{request:o});if(!c)return{data:null,error:f};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:a,credential_response:h.credential_response}})}catch(c){return Ke(c)?{data:null,error:c}:{data:null,error:new di("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ol("rpId is required for WebAuthn registration")};try{if(!Xv())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var x;return(x=g.data)===null||x===void 0?void 0:x.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:s},{create:o});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return Ke(c)?{data:null,error:c}:{data:null,error:new di("Unexpected error in register",c)}}}}u4();const C4={url:Ck,storageKey:Rk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ok,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Jv(t,e,r){return await r()}const Vs={};let Kh=class bh{get jwks(){var e,r;return(r=(e=Vs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Vs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},C4),e);if(this.storageKey=o.storageKey,this.instanceID=(r=bh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,bh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&pr()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Wh({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=T_(o.fetch),this.lock=o.lock||Jv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:pr()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=A_:this.lock=Jv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new j4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:E_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Kv(this.memoryStorage)),pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${v_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(pr()&&(r=Hk(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),pr()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),w_(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:f}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ke(r)?this._returnResult({error:r}):this._returnResult({error:new di("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,s;try{const o=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Fn}),{data:c,error:f}=o;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(Ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,a,s;try{let o;if("email"in e){const{email:g,password:x,options:y}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await qs(this.storage,this.storageKey)),o=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:g,password:x,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:w,code_challenge_method:S},xform:Fn})}else if("phone"in e){const{phone:g,password:x,options:y}=e;o=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(a=y?.data)!==null&&a!==void 0?a:{},channel:(s=y?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Fn})}else throw new go("You must provide either an email or phone number and a password");const{data:c,error:f}=o;if(f||!c)return await mr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:c,options:f}=e;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wv})}else if("phone"in e){const{phone:o,password:c,options:f}=e;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wv})}else throw new go("You must provide either an email or phone number and a password");const{data:a,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!a||!a.session||!a.user){const o=new Pi;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(r){if(Ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,s,o,c,f,h,m,g,x,y;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:_,wallet:b,statement:k,options:O}=e;let T;if(pr())if(typeof b=="object")T=b;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")T=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=b}const F=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href),G=await T.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=j_(G[0]);let A=(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!A){const q=await T.request({method:"eth_chainId"});A=d4(q)}const P={domain:F.host,address:K,statement:k,uri:F.href,version:"1",chainId:A,nonce:(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(o=O?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=O?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=O?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=h4(P),S=await T.request({method:"personal_sign",params:[f4(w),K]})}try{const{data:_,error:b}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Fn});if(b)throw b;if(!_||!_.session||!_.user){const k=new Pi;return this._returnResult({data:{user:null,session:null},error:k})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:b})}catch(_){if(Ke(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,a,s,o,c,f,h,m,g,x,y,w;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:b,wallet:k,statement:O,options:T}=e;let F;if(pr())if(typeof k=="object")F=k;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))F=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=k}const G=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const K=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),O?{statement:O}:null));let A;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")A=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)A=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)S=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),_=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${G.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(s=(a=T?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=T?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((x=(g=T?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...T.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const K=await F.signMessage(new TextEncoder().encode(S),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=K}}try{const{data:b,error:k}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Vi(_)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Fn});if(k)throw k;if(!b||!b.session||!b.user){const O=new Pi;return this._returnResult({data:{user:null,session:null},error:O})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(Ke(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await Ui(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(r??"").split("/");try{const{data:o,error:c}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Fn});if(await mr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const f=new Pi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:c})}catch(o){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:a,token:s,access_token:o,nonce:c}=e,f=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Fn}),{data:h,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const g=new Pi;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(Ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,s,o,c;try{if("email"in e){const{email:f,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await qs(this.storage,this.storageKey));const{error:x}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:f,options:h}=e,{data:m,error:g}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(s=h?.data)!==null&&s!==void 0?s:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:g})}throw new go("You must provide either an email or phone number.")}catch(f){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Ke(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var r,a;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:f}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Fn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(s){if(Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,a,s,o,c;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await qs(this.storage,this.storageKey));const m=await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:i4});return!((o=m.data)===null||o===void 0)&&o.url&&pr()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Ke(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new qr;const{error:s}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Ke(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:s,options:o}=e,{error:c}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:s,options:o}=e,{data:c,error:f}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new go("You must provide either an email or phone number and a type")}catch(r){if(Ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<G0:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await Ui(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=W0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=t4(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fi}):await this._useSession(async r=>{var a,s,o;const{data:c,error:f}=r;if(f)throw f;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qr}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:fi})})}catch(r){if(Ke(r))return b_(r)&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:s,error:o}=a;if(o)throw o;if(!s.session)throw new qr;const c=s.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await qs(this.storage,this.storageKey));const{data:m,error:g}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:fi});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Ke(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qr;const r=Date.now()/1e3;let a=r,s=!0,o=null;const{payload:c}=q0(e.access_token);if(c.exp&&(a=c.exp,s=a<=r),s){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Ke(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:c,error:f}=r;if(f)throw f;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new qr;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!pr())throw new vo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yh("No code detected.");const{data:O,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:o,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=e;if(!o||!f||!c||!m)throw new vo("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(f);let y=g+x;h&&(y=parseInt(h));const w=y-g;w*1e3<=Js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${x}s`);const S=y-x;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,g);const{data:_,error:b}=await this._getUser(o);if(b)throw b;const k={provider_token:a,provider_refresh_token:s,access_token:o,expires_in:x,expires_at:y,refresh_token:c,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(a){if(Ke(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ui(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const c=(a=s.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(__(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Pk(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,s;try{const{data:{session:o},error:c}=r;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await qs(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ke(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:s}=await this._useSession(async o=>{var c,f,h,m,g;const{data:x,error:y}=o;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return pr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(Ke(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:c,provider:f,token:h,access_token:m,nonce:g}=e,x=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:h,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Fn}),{data:y,error:w}=x;return w?this._returnResult({data:{user:null,session:null},error:w}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Pi}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:w}))}catch(s){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,s;const{data:o,error:c}=r;if(c)throw c;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ke(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await qk(async s=>(s>0&&await Gk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Fn})),(s,o)=>{const c=200*Math.pow(2,s);return o&&ju(o)&&Date.now()+c-a<Js})}catch(a){if(this._debug(r,"error",a),Ke(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),pr()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await Ui(this.storage,this.storageKey);if(s&&this.userStorage){let c=await Ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await Qs(this.userStorage,this.storageKey+"-user",c)),s.user=(e=c?.user)!==null&&e!==void 0?e:W0()}else if(s&&!s.user&&!s.user){const c=await Ui(this.storage,this.storageKey+"-user");c&&c?.user?(s.user=c.user,await mr(this.storage,this.storageKey+"-user"),await Qs(this.storage,this.storageKey,s)):s.user=W0()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<G0;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${G0}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),ju(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(s.access_token);!f&&c?.user?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new qr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fd;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new qr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={data:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(s,"error",o),Ke(o)){const c={data:null,error:o};return ju(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,a=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,r)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await mr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Qs(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Gv(s);await Qs(this.storage,this.storageKey,o)}else{const s=Gv(r);await Qs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mr(this.storage,this.storageKey),await mr(this.storage,this.storageKey+"-code-verifier"),await mr(this.storage,this.storageKey+"-user"),this.userStorage&&await mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Js);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-e)/Js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Js}ms, refresh threshold is ${vh} ticks`),s<=vh&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const s=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,c]=await qs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(f.toString())}if(a?.queryParams){const o=new URLSearchParams(a.queryParams);s.push(o.toString())}return a?.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await Je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ke(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,s;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((s=h?.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(Ke(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?_4(e.webauthn.credential_response):b4(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await Je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(r){if(Ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=await Je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:x4(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y4(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r?.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=q0(a.access_token);let c=null;o.aal&&(c=o.aal);let f=c;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=o.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;return s?this._returnResult({data:null,error:s}):a?await Je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new qr})})}catch(r){if(Ke(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new qr});const c=await Je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&pr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(Ke(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new qr});const c=await Je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&pr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(Ke(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await Je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new qr})})}catch(e){if(Ke(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;return s?this._returnResult({data:null,error:s}):a?(await Je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qr})})}catch(r){if(Ke(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(f=>f.kid===e);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(f=>f.kid===e),a&&this.jwks_cached_at+Dk>s)return a;const{data:o,error:c}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,a=o.keys.find(f=>f.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});a=w.session.access_token}const{header:s,payload:o,signature:c,raw:{header:f,payload:h}}=q0(a);r?.allowExpired||Qk(o.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:o,header:s,signature:c},error:null}}const g=Zk(s.alg),x=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,c,Ik(`${f}.${h}`)))throw new zu("Invalid JWT signature");return{data:{claims:o,header:s,signature:c},error:null}}catch(a){if(Ke(a))return this._returnResult({data:null,error:a});throw a}}};Kh.nextInstanceID={};const R4=Wh,O4=Kh,N4=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:R4,AuthApiError:y_,AuthClient:O4,AuthError:ol,AuthImplicitGrantRedirectError:vo,AuthInvalidCredentialsError:go,AuthInvalidJwtError:zu,AuthInvalidTokenResponseError:Pi,AuthPKCEGrantCodeExchangeError:yh,AuthRetryableFetchError:Lu,AuthSessionMissingError:qr,AuthUnknownError:di,AuthWeakPasswordError:_h,CustomAuthError:Fa,GoTrueAdminApi:Wh,GoTrueClient:Kh,NavigatorLockAcquireTimeoutError:k_,SIGN_OUT_SCOPES:Cu,isAuthApiError:__,isAuthError:Ke,isAuthImplicitGrantRedirectError:w_,isAuthRetryableFetchError:ju,isAuthSessionMissingError:b_,isAuthWeakPasswordError:Mk,lockInternals:$i,navigatorLock:A_,processLock:c4},Symbol.toStringTag,{value:"Module"})),R_=zo(N4);var Qv;function D4(){if(Qv)return ho;Qv=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.SupabaseAuthClient=void 0;const t=R_;let e=class extends t.AuthClient{constructor(a){super(a)}};return ho.SupabaseAuthClient=e,ho}var Zv;function ex(){if(Zv)return su;Zv=1,Object.defineProperty(su,"__esModule",{value:!0});const t=Hy,e=Ky(),r=n_,a=Ek,s=kk(),o=Ak(),c=jk(),f=D4();class h{constructor(g,x,y){var w,S,_;this.supabaseUrl=g,this.supabaseKey=x;const b=(0,c.validateSupabaseUrl)(g);if(!x)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",b),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",b),this.storageUrl=new URL("storage/v1",b),this.functionsUrl=new URL("functions/v1",b);const k=`sb-${b.hostname.split(".")[0]}-auth-token`,O={db:s.DEFAULT_DB_OPTIONS,realtime:s.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},s.DEFAULT_AUTH_OPTIONS),{storageKey:k}),global:s.DEFAULT_GLOBAL_OPTIONS},T=(0,c.applySettingDefaults)(y??{},O);this.storageKey=(w=T.auth.storageKey)!==null&&w!==void 0?w:"",this.headers=(S=T.global.headers)!==null&&S!==void 0?S:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(F,G)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(G)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=T.auth)!==null&&_!==void 0?_:{},this.headers,T.global.fetch),this.fetch=(0,o.fetchWithAuth)(x,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.accessToken&&this.accessToken().then(F=>this.realtime.setAuth(F)).catch(F=>console.warn("Failed to set initial Realtime auth token:",F)),this.rest=new e.PostgrestClient(new URL("rest/v1",b).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,y?.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(g){return this.rest.from(g)}schema(g){return this.rest.schema(g)}rpc(g,x={},y={head:!1,get:!1,count:void 0}){return this.rest.rpc(g,x,y)}channel(g,x={config:{}}){return this.realtime.channel(g,x)}getChannels(){return this.realtime.getChannels()}removeChannel(g){return this.realtime.removeChannel(g)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var g,x;if(this.accessToken)return await this.accessToken();const{data:y}=await this.auth.getSession();return(x=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:g,persistSession:x,detectSessionInUrl:y,storage:w,userStorage:S,storageKey:_,flowType:b,lock:k,debug:O,throwOnError:T},F,G){const K={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},K),F),storageKey:_,autoRefreshToken:g,persistSession:x,detectSessionInUrl:y,storage:w,userStorage:S,flowType:b,lock:k,debug:O,throwOnError:T,fetch:G,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(g){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},g),{params:Object.assign({apikey:this.supabaseKey},g?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((x,y)=>{this._handleTokenChanged(x,"CLIENT",y?.access_token)})}_handleTokenChanged(g,x,y){(g==="TOKEN_REFRESHED"||g==="SIGNED_IN")&&this.changedAccessToken!==y?(this.changedAccessToken=y,this.realtime.setAuth(y)):g==="SIGNED_OUT"&&(this.realtime.setAuth(),x=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return su.default=h,su}var tx;function M4(){return tx||(tx=1,(function(t){var e=ja&&ja.__createBinding||(Object.create?(function(g,x,y,w){w===void 0&&(w=y);var S=Object.getOwnPropertyDescriptor(x,y);(!S||("get"in S?!x.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return x[y]}}),Object.defineProperty(g,w,S)}):(function(g,x,y,w){w===void 0&&(w=y),g[w]=x[y]})),r=ja&&ja.__exportStar||function(g,x){for(var y in g)y!=="default"&&!Object.prototype.hasOwnProperty.call(x,y)&&e(x,g,y)},a=ja&&ja.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=a(ex());r(R_,t);var o=Ky();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var c=Hy;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(n_,t);var f=ex();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return a(f).default}});const h=(g,x,y)=>new s.default(g,x,y);t.createClient=h;function m(){if(typeof window<"u"||typeof process>"u")return!1;const g=process.version;if(g==null)return!1;const x=g.match(/^v(\d+)\./);return x?parseInt(x[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ja)),ja}var O_=M4();const N_=Oh(O_),L4=PS({__proto__:null,default:N_},[O_]),{PostgrestError:x7,FunctionsHttpError:y7,FunctionsFetchError:_7,FunctionsRelayError:b7,FunctionsError:w7,FunctionRegion:S7,SupabaseClient:E7,createClient:z4,GoTrueAdminApi:T7,GoTrueClient:k7,AuthAdminApi:A7,AuthClient:j7,navigatorLock:C7,NavigatorLockAcquireTimeoutError:R7,lockInternals:O7,processLock:N7,SIGN_OUT_SCOPES:D7,AuthError:M7,AuthApiError:L7,AuthUnknownError:z7,CustomAuthError:F7,AuthSessionMissingError:B7,AuthInvalidTokenResponseError:I7,AuthInvalidCredentialsError:U7,AuthImplicitGrantRedirectError:P7,AuthPKCEGrantCodeExchangeError:H7,AuthRetryableFetchError:$7,AuthWeakPasswordError:G7,AuthInvalidJwtError:q7,isAuthError:W7,isAuthApiError:V7,isAuthSessionMissingError:K7,isAuthImplicitGrantRedirectError:Y7,isAuthRetryableFetchError:X7,isAuthWeakPasswordError:J7,RealtimePresence:Q7,RealtimeChannel:Z7,RealtimeClient:eM,REALTIME_LISTEN_TYPES:tM,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:rM,REALTIME_PRESENCE_LISTEN_EVENTS:nM,REALTIME_SUBSCRIBE_STATES:aM,REALTIME_CHANNEL_STATES:iM}=N_||L4,F4="https://kynwwhugwnzekrozxytj.supabase.co",B4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5bnd3aHVnd256ZWtyb3p4eXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMTQ0NzUsImV4cCI6MjA4MDU5MDQ3NX0.9JKTRgcYhzdQ2jaIi95PlFFj_bgg6jzJObLP9BQUHYg",Ce=z4(F4,B4),D_=L.createContext({}),fn=()=>L.useContext(D_),I4=({children:t})=>{const[e,r]=L.useState(null),[a,s]=L.useState(!0);L.useEffect(()=>{const h=localStorage.getItem("panela_user");h&&r(JSON.parse(h)),s(!1)},[]);const f={user:e,login:async(h,m)=>{try{const{data:g,error:x}=await Ce.from("app_users").select("*").eq("username",h).eq("password",m).single();if(x||!g)throw new Error("Kullanc ad veya ifre hatal");return r(g),localStorage.setItem("panela_user",JSON.stringify(g)),{success:!0}}catch(g){return{error:g.message}}},signOut:()=>{r(null),localStorage.removeItem("panela_user")},loading:a,session:e?{user:e}:null};return u.jsx(D_.Provider,{value:f,children:!a&&t})};function U4(){const[t,e]=L.useState(!1),[r,a]=L.useState(""),[s,o]=L.useState(""),[c,f]=L.useState(null),{login:h}=fn(),m=sd(),g=async x=>{x.preventDefault(),e(!0),f(null);const y=await h(r,s);y.success?m("/"):f(y.error),e(!1)};return u.jsx("div",{style:{display:"flex",minHeight:"100vh",alignItems:"center",justifyContent:"center",background:"#F3F0FF"},children:u.jsxs("div",{className:"glass-panel fade-in",style:{padding:"3rem",borderRadius:"var(--radius-xl)",width:"100%",maxWidth:"420px",textAlign:"center"},children:[u.jsx("h1",{style:{fontSize:"3rem",fontWeight:"800",marginBottom:"1rem",letterSpacing:"-1px",color:"var(--color-primary)"},children:"Panela"}),u.jsx("p",{style:{color:"var(--color-text-muted)",marginBottom:"2rem"},children:"Giri yap ve ynetmeye bala."}),c&&u.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--color-error)",padding:"0.75rem",borderRadius:"var(--radius-sm)",marginBottom:"1.5rem",fontSize:"0.9rem"},children:c}),u.jsxs("form",{onSubmit:g,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsx("input",{type:"text",placeholder:"Kullanc Ad",value:r,onChange:x=>a(x.target.value),required:!0,autoComplete:"username",style:{padding:"0.875rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid var(--color-border)",background:"rgba(255,255,255,0.8)",fontSize:"1rem"}}),u.jsx("input",{type:"password",placeholder:"ifre",value:s,onChange:x=>o(x.target.value),required:!0,autoComplete:"current-password",style:{padding:"0.875rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid var(--color-border)",background:"rgba(255,255,255,0.8)",fontSize:"1rem"}}),u.jsx("button",{type:"submit",disabled:t,style:{marginTop:"0.5rem",padding:"0.875rem",borderRadius:"var(--radius-md)",background:"var(--color-primary)",color:"white",fontWeight:"600",fontSize:"1rem",boxShadow:"var(--shadow-glow)",transition:"transform 0.2s",opacity:t?.7:1},children:t?"Kontrol Ediliyor...":"Giri Yap"})]})]})})}const P4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),rx=t=>{const e=H4(t);return e.charAt(0).toUpperCase()+e.slice(1)},M_=(...t)=>t.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),$4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var G4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const q4=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:c,...f},h)=>L.createElement("svg",{ref:h,...G4,width:e,height:e,stroke:t,strokeWidth:a?Number(r)*24/Number(e):r,className:M_("lucide",s),...!o&&!$4(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,g])=>L.createElement(m,g)),...Array.isArray(o)?o:[o]]));const Be=(t,e)=>{const r=L.forwardRef(({className:a,...s},o)=>L.createElement(q4,{ref:o,iconNode:e,className:M_(`lucide-${P4(rx(t))}`,`lucide-${t}`,a),...s}));return r.displayName=rx(t),r};const W4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],L_=Be("arrow-right",W4);const V4=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],K4=Be("badge-check",V4);const Y4=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],z_=Be("book-marked",Y4);const X4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],hd=Be("book-open",X4);const J4=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],wh=Be("brain",J4);const Q4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Yh=Be("calendar",Q4);const Z4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],e5=Be("chart-column",Z4);const t5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],r5=Be("chart-line",t5);const n5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xh=Be("check",n5);const a5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],i5=Be("chevron-down",a5);const s5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],l5=Be("chevron-right",s5);const o5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],c5=Be("chevron-up",o5);const u5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],d5=Be("circle-alert",u5);const f5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jh=Be("circle-check-big",f5);const h5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],F_=Be("circle-check",h5);const m5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],B_=Be("circle-x",m5);const p5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],g5=Be("clock-4",p5);const v5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qh=Be("clock",v5);const x5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],y5=Be("download",x5);const _5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],xo=Be("ellipsis",_5);const b5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ea=Be("external-link",b5);const w5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],S5=Be("file-spreadsheet",w5);const E5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],T5=Be("file-text",E5);const k5=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],A5=Be("flag",k5);const j5=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],C5=Be("flame",j5);const R5=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],nx=Be("folder",R5);const O5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],I_=Be("funnel",O5);const N5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ax=Be("globe",N5);const D5=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],U_=Be("graduation-cap",D5);const M5=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],ix=Be("hand",M5);const L5=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],z5=Be("hash",L5);const F5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],B5=Be("history",F5);const I5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],U5=Be("info",I5);const P5=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],sx=Be("instagram",P5);const H5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Uu=Be("layout-dashboard",H5);const $5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Sh=Be("lightbulb",$5);const G5=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],q5=Be("link-2",G5);const W5=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],V5=Be("link",W5);const K5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],lx=Be("list",K5);const Y5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Kr=Be("loader-circle",Y5);const X5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],J5=Be("log-out",X5);const Q5=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],P_=Be("map",Q5);const Z5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],eA=Be("maximize-2",Z5);const tA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],H_=Be("message-square",tA);const rA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],nA=Be("monitor",rA);const aA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Pu=Be("package",aA);const iA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],sA=Be("pause",iA);const lA=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Hu=Be("pen-tool",lA);const oA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cA=Be("pen",oA);const uA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Zh=Be("play",uA);const dA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xi=Be("plus",dA);const fA=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],$_=Be("rocket",fA);const hA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],G_=Be("rotate-ccw",hA);const mA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Po=Be("save",mA);const pA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],q_=Be("search",pA);const gA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vA=Be("send",gA);const xA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yA=Be("settings",xA);const _A=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],em=Be("shield-check",_A);const bA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ox=Be("shield",bA);const wA=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],W_=Be("shopping-bag",wA);const SA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],EA=Be("smartphone",SA);const TA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ji=Be("sparkles",TA);const kA=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],md=Be("square-check-big",kA);const AA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Eh=Be("square-pen",AA);const jA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],CA=Be("square",jA);const RA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tm=Be("star",RA);const OA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qi=Be("trash-2",OA);const NA=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],DA=Be("trending-down",NA);const MA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],V_=Be("trending-up",MA);const LA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zA=Be("upload",LA);const FA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BA=Be("user",FA);const IA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Th=Be("video",IA);const UA=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],PA=Be("wand-sparkles",UA);const HA=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],$A=Be("workflow",HA);const GA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ta=Be("x",GA);const qA=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],V0=Be("youtube",qA);const WA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],K_=Be("zap",WA);function VA(){const{pathname:t}=na(),{signOut:e}=fn(),r=[{label:"zet",path:"/",icon:Uu},{label:"rnlerim",path:"/products",icon:W_},{label:"Yaplacaklar",path:"/todos",icon:md},{label:"Yol Haritas",path:"/roadmap",icon:P_},{label:"Aratrma",path:"/research",icon:q_},{label:"Creative Lab",path:"/creative-lab",icon:Uu},{label:"Academy Hub",path:"/academy",icon:U_},{label:"Ayarlar",path:"/settings",icon:yA}];return u.jsxs("aside",{className:"sidebar",children:[u.jsx("div",{className:"sidebar-header",children:u.jsx("h2",{children:"Panela"})}),u.jsx("nav",{className:"sidebar-nav",children:r.map(a=>{const s=a.icon,o=t===a.path;return u.jsxs(od,{to:a.path,className:`nav-item ${o?"active":""}`,children:[u.jsx(s,{size:20}),u.jsx("span",{children:a.label})]},a.path)})}),u.jsx("div",{className:"sidebar-footer",children:u.jsxs("button",{onClick:e,className:"nav-item logout-btn",children:[u.jsx(J5,{size:20}),u.jsx("span",{children:"k Yap"})]})}),u.jsx("style",{children:`
        .sidebar {
          width: 260px;
          height: 100vh;
          background: rgba(255, 255, 255, 0.8);
          border-right: 1px solid var(--color-border);
          display: flex;
          flex-direction: column;
          position: fixed;
          left: 0;
          top: 0;
          padding: 2rem 1.5rem;
          backdrop-filter: blur(10px);
          z-index: 50;
        }

        .sidebar-header {
          margin-bottom: 3rem;
          padding-left: 0.5rem;
        }

        .sidebar-header h2 {
          font-size: 1.75rem;
          font-weight: 800;
          letter-spacing: -0.5px;
        }

        .sidebar-nav {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          flex: 1;
        }

        .nav-item {
          display: flex;
          align-items: center;
          gap: 1rem;
          padding: 0.875rem 1rem;
          border-radius: var(--radius-md);
          color: var(--color-text-muted);
          font-weight: 500;
          transition: all 0.2s;
        }

        .nav-item:hover {
          background: rgba(139, 92, 246, 0.05);
          color: var(--color-primary);
        }

        .nav-item.active {
          background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
          color: white;
          box-shadow: var(--shadow-sm);
        }

        .logout-btn {
          color: var(--color-error);
          width: 100%;
        }
        
        .logout-btn:hover {
          background: rgba(239, 68, 68, 0.05);
          color: var(--color-error);
        }

        @media (max-width: 768px) {
          .sidebar {
            display: none;
          }
        }
      `})]})}function KA(){const{pathname:t}=na(),e=[{label:"zet",path:"/",icon:Uu},{label:"rnler",path:"/products",icon:W_},{label:"ler",path:"/todos",icon:md},{label:"Aratr",path:"/research",icon:q_},{label:"Creative",path:"/creative-lab",icon:Uu},{label:"Academy",path:"/academy",icon:U_},{label:"Yol",path:"/roadmap",icon:P_}];return u.jsxs("nav",{className:"mobile-nav glass-panel",children:[e.map(r=>{const a=r.icon,s=t===r.path;return u.jsxs(od,{to:r.path,className:`mobile-item ${s?"active":""}`,children:[u.jsx("div",{className:"icon-wrapper",children:u.jsx(a,{size:22})}),u.jsx("span",{className:"label",children:r.label})]},r.path)}),u.jsx("style",{children:`
        .mobile-nav {
          display: none;
          position: fixed;
          bottom: 1.5rem;
          left: 50%;
          transform: translateX(-50%);
          width: 90%;
          max-width: 400px;
          border-radius: var(--radius-xl);
          padding: 0.75rem 1.5rem;
          justify-content: space-between;
          z-index: 100;
        }

        .mobile-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.25rem;
          color: var(--color-text-muted);
          transition: all 0.2s;
        }

        .mobile-item.active {
          color: var(--color-primary);
        }

        .mobile-item.active .icon-wrapper {
          transform: translateY(-2px);
        }
        
        .label {
          font-size: 0.7rem;
          font-weight: 500;
        }

        @media (max-width: 768px) {
          .mobile-nav {
            display: flex;
          }
        }
      `})]})}function YA(){return u.jsxs("div",{className:"layout",children:[u.jsx(VA,{}),u.jsx("main",{className:"main-content",children:u.jsx("div",{className:"content-container",children:u.jsx(WE,{})})}),u.jsx(KA,{}),u.jsx("style",{children:`
        .layout {
          min-height: 100vh;
          background: var(--color-background);
        }

        .main-content {
          margin-left: 260px; /* Sidebar width */
          min-height: 100vh;
          padding: 2rem;
          transition: margin 0.3s;
        }

        .content-container {
          max-width: 1200px;
          margin: 0 auto;
          padding-bottom: 5rem; /* Space for mobile nav */
        }

        @media (max-width: 768px) {
          .main-content {
            margin-left: 0;
            padding: 1.5rem 1rem;
          }
        }
      `})]})}function XA(){const{user:t}=fn(),e=sd(),[r,a]=L.useState([]),[s,o]=L.useState({tasks_view_mode:"latest",tasks_count:3,tasks_animation_duration:5,tasks_status_filters:["Todo","In Progress","Review"]}),[c,f]=L.useState(!0),h=L.useRef(null),[m,g]=L.useState(0);L.useEffect(()=>(t&&y(),()=>{h.current&&clearInterval(h.current)}),[t]),L.useEffect(()=>{s.tasks_view_mode==="loop"?x(r.length):h.current&&clearInterval(h.current)},[s,r]);const x=T=>{h.current&&clearInterval(h.current);const F=s.tasks_count||3;if(T<=F)return;const G=(s.tasks_animation_duration||5)*1e3;h.current=setInterval(()=>{g(K=>(K+F)%T)},G)},y=async()=>{try{const{data:T}=await Ce.from("user_settings").select("tasks_view_mode, tasks_count, tasks_animation_duration, tasks_status_filters").eq("user_id",t.id).maybeSingle(),F={tasks_view_mode:T?.tasks_view_mode||"latest",tasks_count:T?.tasks_count||3,tasks_animation_duration:T?.tasks_animation_duration||5,tasks_status_filters:T?.tasks_status_filters?.length?T.tasks_status_filters:["Todo","In Progress","Review"]};o(F);const G=F.tasks_status_filters?.length?F.tasks_status_filters:["Todo","In Progress","Review"],K=Ce.from("todos").select("*").in("status",G);if(F.tasks_view_mode==="latest"||F.tasks_view_mode==="loop"){const{data:A,error:P}=await K.order("created_at",{ascending:!1}).limit(Math.max(F.tasks_count||3,10));if(P)throw P;a(w(A||[],F.tasks_count))}else{const{data:A,error:P}=await K.order("created_at",{ascending:!1}).limit(Math.max((F.tasks_count||3)*3,15));if(P)throw P;const q=S(A||[]);a(w(q,F.tasks_count))}}catch(T){console.error("Error fetching dashboard tasks:",T)}finally{f(!1)}},w=(T,F=3)=>{const G={Todo:1,"In Progress":2,Review:3};return[...T].sort((A,P)=>{const q=G[A.status]||99,te=G[P.status]||99;return q!==te?q-te:new Date(A.created_at)-new Date(P.created_at)}).slice(0,F||3)},S=T=>{const F=[...T];for(let G=F.length-1;G>0;G--){const K=Math.floor(Math.random()*(G+1));[F[G],F[K]]=[F[K],F[G]]}return F},_=T=>{switch(T){case"Tasarm":return"bg-purple-100 text-purple-700";case"Yazlm":return"bg-blue-100 text-blue-700";case"Pazarlama":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},b=T=>{switch(T){case"Todo":return"#f59e0b";case"In Progress":return"#3b82f6";case"Review":return"#a855f7";default:return"#cbd5e1"}},k=T=>T?new Date(T).toLocaleString("tr-TR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit",hour12:!1}):"Tarih yok",O=L.useMemo(()=>{const T=s.tasks_count||3;if(s.tasks_view_mode==="loop"&&r.length>T){const F=[];for(let G=0;G<T;G++)F.push(r[(m+G)%r.length]);return F}return r.slice(0,T)},[r,s,m]);return c?u.jsxs("div",{className:"glass-panel widget-container animate-pulse",children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"h-16 bg-gray-100 rounded-lg"}),u.jsx("div",{className:"h-16 bg-gray-100 rounded-lg"}),u.jsx("div",{className:"h-16 bg-gray-100 rounded-lg"})]})]}):u.jsxs("div",{className:"glass-panel widget-container",children:[u.jsxs("div",{className:"widget-header",children:[u.jsxs("h3",{children:[u.jsx(Qh,{size:20,className:"text-primary"})," Yaklaan Grevler"]}),u.jsxs("button",{onClick:()=>e("/todos"),className:"view-all-btn",children:["Tm ",u.jsx(L_,{size:14})]})]}),u.jsx("div",{className:"tasks-list",children:O.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon-bg",children:u.jsx(F_,{size:32,className:"text-success"})}),u.jsx("p",{className:"empty-title",children:"Harika!"}),u.jsx("p",{className:"empty-desc",children:"u an acil bir grevin yok. Kahve molas? "})]}):O.map(T=>u.jsxs("div",{className:"task-item",onClick:()=>e("/todos"),children:[u.jsxs("div",{className:"task-content",children:[u.jsx("h4",{className:"task-title",children:T.title}),u.jsxs("div",{className:"task-meta",children:[u.jsx("span",{className:`task-tag ${_(T.tags?.[0])}`,children:T.tags?.[0]||"Genel"}),u.jsxs("span",{className:"task-date",children:[u.jsx(Yh,{size:12}),k(T.due_date)]})]})]}),u.jsx("div",{className:"task-action",children:u.jsx("div",{className:"status-indicator",style:{background:b(T.status)}})})]},T.id))}),u.jsx("style",{children:`
                .widget-container {
                    padding: 1.5rem;
                    height: 100%;
                    display: flex;
                    flex-direction: column;
                }

                .widget-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 1.5rem;
                }

                .widget-header h3 {
                    font-size: 1.1rem;
                    font-weight: 600;
                    color: var(--color-text-main);
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                }

                .view-all-btn {
                    font-size: 0.85rem;
                    color: var(--color-primary);
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    gap: 0.25rem;
                    padding: 0.25rem 0.5rem;
                    border-radius: 6px;
                    transition: all 0.2s;
                }

                .view-all-btn:hover {
                    background: rgba(var(--color-primary-rgb), 0.1);
                }

                .tasks-list {
                    display: flex;
                    flex-direction: column;
                    gap: 0.75rem;
                    flex: 1;
                }

                .task-item {
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 0.75rem 1rem;
                    background: rgba(255, 255, 255, 0.5);
                    border: 1px solid rgba(0, 0, 0, 0.05);
                    border-radius: 12px;
                    cursor: pointer;
                    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
                }

                .task-item:hover {
                    transform: translateY(-2px);
                    background: white;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
                    border-color: rgba(var(--color-primary-rgb), 0.2);
                }

                .task-title {
                    font-size: 0.95rem;
                    font-weight: 600;
                    color: var(--color-text-main);
                    margin-bottom: 0.35rem;
                    line-height: 1.3;
                    display: -webkit-box;
                    -webkit-line-clamp: 1;
                    -webkit-box-orient: vertical;
                    overflow: hidden;
                }

                .task-meta {
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                }

                .task-tag {
                    font-size: 0.7rem;
                    padding: 2px 8px;
                    border-radius: 10px;
                    font-weight: 600;
                    letter-spacing: 0.02em;
                }

                /* Setup Tailwind-like colors manually since we don't have full tailwind */
                .bg-purple-100 { background: #F3E8FF; }
                .text-purple-700 { color: #7E22CE; }
                .bg-blue-100 { background: #DBEAFE; }
                .text-blue-700 { color: #1D4ED8; }
                .bg-orange-100 { background: #FFEDD5; }
                .text-orange-700 { color: #C2410C; }
                .bg-gray-100 { background: #F3F4F6; }
                .text-gray-700 { color: #374151; }

                .task-date {
                    font-size: 0.75rem;
                    color: var(--color-text-muted);
                    display: flex;
                    align-items: center;
                    gap: 0.25rem;
                }

                .empty-state {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    padding: 2rem 1rem;
                    text-align: center;
                    background: rgba(255,255,255,0.3);
                    border-radius: 16px;
                    border: 2px dashed rgba(0,0,0,0.05);
                }

                .empty-icon-bg {
                    width: 56px;
                    height: 56px;
                    border-radius: 50%;
                    background: rgba(16, 185, 129, 0.1);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin-bottom: 1rem;
                }

                .empty-title {
                    font-size: 1.1rem;
                    font-weight: 700;
                    color: var(--color-text-main);
                    margin-bottom: 0.25rem;
                }

                .empty-desc {
                    font-size: 0.9rem;
                    color: var(--color-text-muted);
                }
            `})]})}function JA(){const{user:t}=fn(),[e,r]=L.useState(!0),[a,s]=L.useState([]),[o,c]=L.useState({product_view_mode:"latest",product_count:3,animation_duration:5}),[f,h]=L.useState(0);L.useEffect(()=>{if(!t?.id)return;const S=async()=>{try{const{data:k,error:O}=await Ce.from("user_settings").select("*").eq("user_id",t.id).maybeSingle();return O?(console.error("Widget Settings Fetch Error:",O),null):k?(console.log("Widget Settings Loaded:",k),c(k),k):(console.log("Widget: No settings found, using defaults."),null)}catch(k){return console.error("Widget Error:",k),null}},_=async(k=o)=>{try{let O=Ce.from("products").select("*").eq("user_id",t.id);k.product_view_mode==="latest"?O=O.order("created_at",{ascending:!1}).limit(k.product_count||3):O=O.order("created_at",{ascending:!1});const{data:T,error:F}=await O;if(F)throw F;s(T||[]),r(!1)}catch(O){console.error("Products Fetch Error:",O),r(!1)}};S().then(k=>{k?_(k):_()});const b=Ce.channel("settings_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"user_settings",filter:`user_id=eq.${t.id}`},async k=>{console.log("Real-time Settings Update:",k.new);const O=k.new;c(O),_(O)}).subscribe();return()=>{Ce.removeChannel(b)}},[t]);const[m,g]=L.useState([]),x=L.useRef(Date.now());if(L.useEffect(()=>{if(a.length===0){g([]);return}let S=[...a];if(o.product_view_mode==="random"){const _=x.current,k=(O=>{let T=O;return()=>(T=(T*9301+49297)%233280,T/233280)})(_);for(let O=S.length-1;O>0;O--){const T=Math.floor(k()*(O+1));[S[O],S[T]]=[S[T],S[O]]}S=S.slice(0,o.product_count||3)}else o.product_view_mode==="latest"&&(S.sort((_,b)=>new Date(b.created_at)-new Date(_.created_at)),S=S.slice(0,o.product_count||3));g(S)},[o.product_view_mode,o.product_count,a]),L.useEffect(()=>{o.product_view_mode==="random"&&(x.current=Date.now())},[o.product_view_mode]),L.useEffect(()=>{if(o.product_view_mode!=="loop"||a.length<=(o.product_count||3)){h(0);return}const S=setInterval(()=>{h(_=>{const b=Math.ceil(a.length/(o.product_count||3));return(_+1)%b})},(o.animation_duration||5)*1e3);return()=>clearInterval(S)},[o.product_view_mode,o.animation_duration,o.product_count,a.length]),e)return u.jsx("div",{className:"glass-panel",style:{padding:"2rem",display:"flex",justifyContent:"center"},children:u.jsx(Kr,{className:"animate-spin text-primary"})});if(a.length===0)return u.jsxs("div",{className:"glass-panel",style:{padding:"2rem",textAlign:"center"},children:[u.jsx(Pu,{size:32,className:"text-muted",style:{margin:"0 auto 1rem"}}),u.jsx("p",{className:"text-muted",children:"Henz kefedilmi rn yok."})]});let y=[];const w=o.product_count||3;if(a.length===0)return null;if(o.product_view_mode==="loop")if(a.length<=w)y=a.slice(0,w);else{const S=f*w;for(let _=0;_<w;_++){const b=(S+_)%a.length;y.push(a[b])}}else y=m.slice(0,w);return u.jsxs("div",{className:"discovered-products-widget",children:[u.jsx("div",{className:"section-header",children:u.jsxs("h3",{className:"section-title",children:[u.jsx(Pu,{size:20,className:"text-primary"}),"Kefedilen rnler",o.product_view_mode==="loop"&&u.jsx("span",{className:"live-badge",children:"Canl Ak"})]})}),u.jsx("div",{className:"products-grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))"},children:y.map((S,_)=>u.jsxs("div",{className:"product-card glass-panel fade-in",children:[u.jsxs("div",{className:"product-header",children:[u.jsx("span",{className:`priority-dot ${S.priority?.toLowerCase()}`}),u.jsx("h4",{className:"product-name",children:S.name})]}),S.thoughts&&u.jsx("p",{className:"product-thoughts line-clamp-2",children:S.thoughts}),u.jsxs("div",{className:"product-footer",children:[u.jsx("span",{className:"status-tag",children:S.status}),u.jsx("button",{className:"btn-icon",children:u.jsx(L_,{size:16})})]})]},`${S.id}-${_}`))}),u.jsx("style",{children:`
               .discovered-products-widget {
                   margin-bottom: 2rem;
               }

               .section-header {
                   display: flex;
                   align-items: center;
                   margin-bottom: 1rem;
                   gap: 1rem;
               }

               .section-title {
                   font-size: 1.1rem;
                   font-weight: 600;
                   display: flex;
                   align-items: center;
                   gap: 0.5rem;
                   color: var(--color-text-main);
               }

               .live-badge {
                   font-size: 0.7rem;
                   background: rgba(var(--color-primary-rgb), 0.1);
                   color: var(--color-primary);
                   padding: 0.2rem 0.6rem;
                   border-radius: 20px;
                   font-weight: 600;
                   display: flex;
                   align-items: center;
                   gap: 4px;
               }

               .live-badge::before {
                   content: '';
                   width: 6px;
                   height: 6px;
                   border-radius: 50%;
                   background: var(--color-primary);
                   animation: pulse 1.5s infinite;
               }

               .products-grid {
                   display: grid;
                   gap: 1.5rem;
               }

               .product-card {
                   padding: 1.25rem;
                   transition: transform 0.3s ease, box-shadow 0.3s ease;
                   border: 1px solid rgba(255,255,255,0.4);
               }

               .product-card:hover {
                   transform: translateY(-4px);
                   box-shadow: var(--shadow-md);
               }

               .product-header {
                   display: flex;
                   align-items: center;
                   gap: 0.5rem;
                   margin-bottom: 0.75rem;
               }

               .priority-dot {
                   width: 8px;
                   height: 8px;
                   border-radius: 50%;
                   background: #cbd5e1;
               }
               .priority-dot.high { background: #ef4444; box-shadow: 0 0 8px rgba(239,68,68,0.4); }
               .priority-dot.medium { background: #f59e0b; }
               .priority-dot.low { background: #10b981; }

               .product-name {
                   font-weight: 600;
                   font-size: 1rem;
                   margin: 0;
                   width: 100%;
                   overflow: hidden;
                   text-overflow: ellipsis;
                   white-space: nowrap;
               }

               .product-thoughts {
                   font-size: 0.85rem;
                   color: var(--color-text-muted);
                   margin-bottom: 1.25rem;
                   line-height: 1.5;
                   height: 2.6rem; /* fixed height for alignment */
               }

               .line-clamp-2 {
                   display: -webkit-box;
                   -webkit-line-clamp: 2;
                   -webkit-box-orient: vertical;
                   overflow: hidden;
               }

               .product-footer {
                   display: flex;
                   justify-content: space-between;
                   align-items: center;
                   border-top: 1px solid rgba(0,0,0,0.05);
                   padding-top: 0.75rem;
               }

               .status-tag {
                   font-size: 0.75rem;
                   padding: 0.25rem 0.75rem;
                   border-radius: 6px;
                   background: rgba(0,0,0,0.05);
                   color: var(--color-text-muted);
                   font-weight: 500;
               }

               .btn-icon {
                   background: none;
                   border: none;
                   color: var(--color-primary);
                   cursor: pointer;
                   padding: 0.25rem;
                   border-radius: 50%;
                   transition: background 0.2s;
                   display: flex;
                   align-items: center;
                   justify-content: center;
               }

               .btn-icon:hover {
                   background: rgba(var(--color-primary-rgb), 0.1);
               }
           `})]})}function QA(){const{user:t}=fn(),[e,r]=L.useState({products:0,todos:0,completedTodos:0,roadmapStep:"Balang"});return L.useEffect(()=>{(async()=>{try{const{count:s}=await Ce.from("products").select("*",{count:"exact",head:!0}),{count:o}=await Ce.from("todos").select("*",{count:"exact",head:!0}).eq("status","Todo"),{count:c}=await Ce.from("todos").select("*",{count:"exact",head:!0}).eq("status","Done"),{data:f}=await Ce.from("roadmap_steps").select("title").neq("status","Completed").order("sort_order",{ascending:!0}).limit(1).single();r({products:s||0,todos:o||0,completedTodos:c||0,roadmapStep:f?.title||"Tm Tamamland! "})}catch(s){console.error("Error loading stats:",s)}})()},[]),u.jsxs("div",{className:"dashboard fade-in",children:[u.jsxs("header",{className:"page-header",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"welcome-text",children:["Hogeldin, ",u.jsx("span",{className:"font-bold",children:t?.username||"Giriimci"})," "]}),u.jsx("p",{className:"subtitle",children:"Bugn e-ticaret imparatorluun iin neler yapyoruz?"})]}),u.jsx("div",{className:"date-badge",children:new Date().toLocaleDateString("tr-TR",{weekday:"long",day:"numeric",month:"long"})})]}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"widget highlight-widget",children:[u.jsxs("div",{className:"widget-header",children:[u.jsx(Ji,{className:"icon-pulse"}),u.jsx("h3",{children:"Aktif Hedef"})]}),u.jsx("p",{className:"widget-value",children:e.roadmapStep}),u.jsx("p",{className:"widget-desc",children:"Bu admda derinlemesine aratrma yap."}),u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-fill",style:{width:"35%"}})})]}),u.jsxs("div",{className:"widget glass-panel",children:[u.jsx("div",{className:"widget-icon bg-blue",children:u.jsx(Pu,{size:24,color:"#3B82F6"})}),u.jsxs("div",{className:"widget-info",children:[u.jsx("p",{className:"label",children:"Kefedilen rnler"}),u.jsx("p",{className:"value",children:e.products})]})]}),u.jsxs("div",{className:"widget glass-panel",children:[u.jsx("div",{className:"widget-icon bg-green",children:u.jsx(Jh,{size:24,color:"#10B981"})}),u.jsxs("div",{className:"widget-info",children:[u.jsx("p",{className:"label",children:"Mevcut Grevler"}),u.jsxs("p",{className:"value",children:[e.todos," ",u.jsxs("span",{className:"sub-value",children:["(",e.completedTodos," tamamland)"]})]})]})]})]}),u.jsxs("div",{className:"dashboard-main-grid",children:[u.jsxs("section",{className:"dashboard-section",children:[u.jsx(JA,{}),u.jsx(XA,{})]}),u.jsxs("section",{className:"dashboard-section",children:[u.jsxs("h3",{className:"section-title",children:[" ",u.jsx(V_,{size:20})," Son Hareketler"]}),u.jsx("div",{className:"glass-panel activity-list",children:u.jsx("p",{className:"empty-state",children:"Henz bir aktivite yok. Bir rn ekleyerek bala!"})})]})]}),u.jsx("style",{children:`
        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-end;
          margin-bottom: 2.5rem;
          flex-wrap: wrap;
          gap: 1rem;
        }
        
        .welcome-text {
          font-size: 2rem;
          font-weight: 700;
          color: var(--color-text-main);
          margin-bottom: 0.5rem;
        }

        .subtitle {
          color: var(--color-text-muted);
        }

        .date-badge {
          background: white;
          padding: 0.5rem 1rem;
          border-radius: var(--radius-lg);
          font-weight: 600;
          color: var(--color-primary);
          box-shadow: var(--shadow-sm);
        }

        .stats-grid {
          display: grid;
          grid-template-columns: 1.5fr 1fr 1fr;
          gap: 1.5rem;
          margin-bottom: 2rem;
        }

        .widget {
          padding: 1.5rem;
          border-radius: var(--radius-lg);
          display: flex;
          flex-direction: column;
        }

        .highlight-widget {
          background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
          color: white;
          grid-row: span 1;
        }

        .highlight-widget .widget-header {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-bottom: 1rem;
          font-weight: 500;
          opacity: 0.9;
        }

        .widget-value {
          font-size: 1.5rem;
          font-weight: 700;
          margin-bottom: 0.25rem;
        }

        .widget-desc {
          font-size: 0.9rem;
          opacity: 0.8;
          margin-bottom: 1rem;
        }

        .progress-bar {
          height: 6px;
          background: rgba(255,255,255,0.2);
          border-radius: 10px;
          overflow: hidden;
        }
        
        .progress-fill {
          height: 100%;
          background: white;
        }

        .glass-panel .widget-icon {
          width: 48px;
          height: 48px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 1rem;
        }
        
        .bg-blue { background: rgba(59, 130, 246, 0.1); }
        .bg-green { background: rgba(16, 185, 129, 0.1); }

        .widget-info .label {
          color: var(--color-text-muted);
          font-size: 0.9rem;
          margin-bottom: 0.25rem;
        }
        
        .widget-info .value {
          font-size: 1.5rem;
          font-weight: 700;
          color: var(--color-text-main);
        }

        .sub-value {
          font-size: 0.9rem;
          color: var(--color-success);
          font-weight: 500;
        }

        /* NEW STYLES */
        .dashboard-main-grid {
          display: grid;
          grid-template-columns: 2fr 1fr;
          gap: 1.5rem;
          margin-bottom: 2rem;
        }

        .dashboard-section {
          display: flex;
          flex-direction: column;
          height: 100%;
        }

        .section-title {
          font-size: 1.1rem;
          font-weight: 600;
          margin-bottom: 1rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          color: var(--color-text-main);
        }

        .activity-list {
            padding: 2rem;
            text-align: center;
            border-radius: var(--radius-lg);
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .empty-state {
          color: var(--color-text-muted);
        }
        
        .icon-pulse {
          animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
          0% { opacity: 1; }
          50% { opacity: 0.5; }
          100% { opacity: 1; }
        }

        @media (max-width: 1024px) {
          .stats-grid, .dashboard-main-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})}function kh({type:t="status",value:e}){const r={Idea:"var(--color-info)",Researching:"var(--color-warning)",Sourcing:"var(--color-primary)",Live:"var(--color-success)",High:"var(--color-error)",Medium:"var(--color-warning)",Low:"var(--color-success)",Todo:"var(--color-text-muted)","In Progress":"var(--color-primary)",Done:"var(--color-success)",default:"var(--color-text-muted)"},a=r[e]||r.default,s={backgroundColor:a,opacity:.15,position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"var(--radius-sm)"};return u.jsxs("span",{style:{position:"relative",padding:"0.25rem 0.75rem",borderRadius:"var(--radius-sm)",color:a,fontWeight:"600",fontSize:"0.8rem",display:"inline-block",whiteSpace:"nowrap"},children:[u.jsx("span",{style:s}),u.jsx("span",{style:{position:"relative",zIndex:1},children:e})]})}function Ki({title:t,isOpen:e,onClose:r,children:a}){return e?py.createPortal(u.jsxs("div",{className:"modal-container",onClick:r,children:[u.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:t}),u.jsx("button",{onClick:r,className:"close-btn",children:u.jsx(ta,{size:20})})]}),u.jsx("div",{className:"modal-body",children:a})]}),u.jsx("style",{children:`
        .modal-container {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          /* background: REMOVED as per request */
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 99999; /* Increased z-index */
          animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
          width: 90%;
          max-width: 500px;
          border-radius: var(--radius-xl);
          max-height: 85vh;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 80px -12px rgba(0, 0, 0, 0.4); /* Deep, premium shadow */
          animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
          background: rgba(255, 255, 255, 0.95); /* Slightly more opaque for readability */
        }

        @keyframes slideUp {
          from { transform: translateY(20px) scale(0.98); opacity: 0; }
          to { transform: translateY(0) scale(1); opacity: 1; }
        }

        .modal-header {
          padding: 1.5rem 2rem;
          border-bottom: 1px solid rgba(0, 0, 0, 0.05); /* Softer border */
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .modal-header h3 {
          font-size: 1.5rem; /* Clean, not shouting */
          font-weight: 700;
          color: var(--color-text-main);
          letter-spacing: -0.02em;
        }

        .close-btn {
          color: var(--color-text-muted);
          padding: 0.5rem;
          border-radius: 50%;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          background: rgba(0,0,0,0.03);
        }

        .close-btn:hover {
          background: rgba(239, 68, 68, 0.1);
          color: var(--color-error);
          transform: rotate(90deg);
        }

        .modal-body {
          padding: 2rem;
          overflow-y: auto;
          scrollbar-width: thin;
        }
      `})]}),document.body):null}function ZA(){const[t,e]=L.useState([]),[r,a]=L.useState(!0),[s,o]=L.useState(!1),[c,f]=L.useState(!1),[h,m]=L.useState({name:"",price:"",link:"",status:"Idea",priority:"Medium",thoughts:""}),[g,x]=L.useState(null);L.useEffect(()=>{y()},[]);const y=async()=>{try{a(!0);const{data:T,error:F}=await Ce.from("products").select("*").order("created_at",{ascending:!1});if(F)throw F;e(T)}catch(T){console.error("Error fetching products:",T.message)}finally{a(!1)}},{user:w}=fn(),S=async T=>{T.preventDefault();try{if(!w||!w.id)throw new Error("Kullanc oturumu bulunamad. Ltfen tekrar giri yapn.");const F={...h,user_id:w.id};if(g){const{error:G}=await Ce.from("products").update(F).eq("id",g);if(G)throw G}else{const{error:G}=await Ce.from("products").insert([F]);if(G)throw G}o(!1),y(),k()}catch(F){alert("Hata: "+F.message)}},_=async T=>{if(window.confirm("Bu rn silmek istediine emin misin?"))try{const{error:F}=await Ce.from("products").delete().eq("id",T);if(F)throw F;e(t.filter(G=>G.id!==T))}catch(F){console.error("Error deleting:",F.message)}},b=T=>{m({name:T.name,price:T.price,link:T.link,status:T.status,priority:T.priority,thoughts:T.thoughts}),x(T.id),o(!0)},k=()=>{m({name:"",price:"",link:"",status:"Idea",priority:"Medium",thoughts:""}),x(null)},O=async T=>{const F=!T.is_favorite;e(t.map(G=>G.id===T.id?{...G,is_favorite:F}:G)),await Ce.from("products").update({is_favorite:F}).eq("id",T.id)};return u.jsxs("div",{className:"page-container fade-in",children:[u.jsxs("div",{className:"page-header",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"rn Paneli"}),u.jsx("p",{className:"text-muted",children:"Fikirlerini ve bulduun rnleri buradan ynet."})]}),u.jsxs("button",{onClick:()=>{k(),o(!0)},className:"btn-cta",children:[u.jsx(Xi,{size:18}),u.jsx("span",{children:"Yeni rn Ekle"})]})]}),u.jsxs("div",{className:"table-card glass-panel",children:[u.jsxs("div",{className:"table-topbar",children:[u.jsx("div",{className:"table-title",children:"rn Listesi"}),u.jsxs("button",{className:"toggle-wide",onClick:()=>f(!c),children:[u.jsx(EA,{size:16}),c?"Standart Grnm":" Grnm evir"]})]}),r?u.jsx("div",{className:"skeleton-grid",children:[1,2,3].map(T=>u.jsxs("div",{className:"skeleton-row",children:[u.jsx("div",{className:"skeleton-cell wide"}),u.jsx("div",{className:"skeleton-cell"}),u.jsx("div",{className:"skeleton-cell"})]},T))}):t.length===0?u.jsx("div",{className:"p-12 text-center text-muted",children:"Hi rn yok. Yukardan ekleyebilirsin!"}):u.jsx("div",{className:`table-container ${c?"wide-mode":""}`,children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{width:"50",children:"Fav"}),u.jsx("th",{children:"rn smi"}),u.jsx("th",{children:"Tahmini Fiyat"}),u.jsx("th",{children:"Durum"}),u.jsx("th",{children:"ncelik"}),u.jsx("th",{children:"Notlar"}),u.jsx("th",{width:"100",children:"lemler"})]})}),u.jsx("tbody",{children:t.map(T=>u.jsxs("tr",{children:[u.jsx("td",{className:"text-center",children:u.jsx("button",{onClick:()=>O(T),className:`star-btn ${T.is_favorite?"active":""}`,children:u.jsx(tm,{size:18,fill:T.is_favorite?"orange":"none",color:T.is_favorite?"orange":"currentColor"})})}),u.jsx("td",{children:u.jsxs("div",{className:"product-name",children:[u.jsx("span",{className:"truncate-line",children:T.name}),T.link&&u.jsx("a",{href:T.link,target:"_blank",rel:"noopener noreferrer",className:"link-icon",children:u.jsx(ea,{size:14})})]})}),u.jsx("td",{className:"truncate-line",children:T.price}),u.jsx("td",{children:u.jsx(kh,{value:T.status})}),u.jsx("td",{children:u.jsx(kh,{value:T.priority})}),u.jsx("td",{className:"truncate-cell",children:T.thoughts}),u.jsx("td",{children:u.jsxs("div",{className:"actions-cell",children:[u.jsx("button",{onClick:()=>b(T),className:"action-btn edit",children:u.jsx(cA,{size:16})}),u.jsx("button",{onClick:()=>_(T.id),className:"action-btn delete",children:u.jsx(Qi,{size:16})})]})})]},T.id))})]})})]}),u.jsx(Ki,{title:g?"rn Dzenle":"Yeni rn Ekle",isOpen:s,onClose:()=>o(!1),children:u.jsxs("form",{onSubmit:S,className:"form-grid",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"rn Ad"}),u.jsx("input",{required:!0,value:h.name,onChange:T=>m({...h,name:T.target.value}),placeholder:"rn: Galaxy Projektr",className:"input-premium"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"rn Linki"}),u.jsx("input",{value:h.link,onChange:T=>m({...h,link:T.target.value}),placeholder:"https://trendyol.com/...",className:"input-premium"})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Sat Fiyat (Tahmini)"}),u.jsx("input",{value:h.price,onChange:T=>m({...h,price:T.target.value}),placeholder:"rn: 450 TL",className:"input-premium"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"ncelik Seviyesi"}),u.jsxs("select",{value:h.priority,onChange:T=>m({...h,priority:T.target.value}),className:"input-premium",children:[u.jsx("option",{value:"Low",children:"Dk"}),u.jsx("option",{value:"Medium",children:"Orta"}),u.jsx("option",{value:"High",children:"Yksek"})]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Mevcut Durum"}),u.jsxs("select",{value:h.status,onChange:T=>m({...h,status:T.target.value}),className:"input-premium",children:[u.jsx("option",{value:"Idea",children:"Fikir Aamas"}),u.jsx("option",{value:"Researching",children:"Aratrlyor"}),u.jsx("option",{value:"Sourcing",children:"Tedarik Aranyor"}),u.jsx("option",{value:"Live",children:"Yaynda"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Notlar & Strateji"}),u.jsx("textarea",{rows:4,value:h.thoughts,onChange:T=>m({...h,thoughts:T.target.value}),placeholder:"Rakip analizi, kar marj tahmini vb.",className:"input-premium"})]}),u.jsx("button",{type:"submit",className:"btn-primary full-width",children:g?"Kaydet":"Ekle"})]})}),u.jsx("style",{children:`
        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
        }

        .btn-cta {
          background: linear-gradient(135deg, #8B5CF6, #F472B6);
          color: white;
          padding: 0.85rem 1.4rem;
          border-radius: var(--radius-lg);
          font-weight: 700;
          display: inline-flex;
          gap: 0.6rem;
          align-items: center;
          box-shadow: 0 12px 30px rgba(139,92,246,0.25);
          transition: transform 0.2s, box-shadow 0.2s;
          border: none;
        }
        .btn-cta:hover { transform: translateY(-1px); box-shadow: 0 16px 40px rgba(139,92,246,0.3); }
        .btn-cta:active { transform: scale(0.98); }

        .filters-bar {
          display: flex;
          gap: 1rem;
          padding: 1rem;
          border-radius: var(--radius-lg);
          margin-bottom: 1.5rem;
          align-items: center;
        }

        .search-wrapper {
          flex: 1;
          display: flex;
          align-items: center;
          gap: 0.75rem;
          background: rgba(255,255,255,0.5);
          padding: 0.5rem 1rem;
          border-radius: var(--radius-md);
          border: 1px solid transparent;
          transition: all 0.2s;
        }

        .search-wrapper:focus-within {
          background: white;
          border-color: var(--color-primary);
          box-shadow: 0 0 0 3px rgba(139,92,246,0.1);
        }

        .search-wrapper input {
          width: 100%;
          border: none;
          background: none;
          font-size: 0.95rem;
        }

        .table-card { padding: 1rem; }
        .table-topbar {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 0.5rem;
        }
        .table-title { font-weight: 700; color: var(--color-text-main); }
        .toggle-wide {
          display: inline-flex;
          align-items: center;
          gap: 0.4rem;
          padding: 0.5rem 0.75rem;
          border-radius: var(--radius-md);
          border: 1px solid var(--color-border);
          background: white;
          font-weight: 600;
          color: var(--color-text-main);
          cursor: pointer;
        }
        .toggle-wide:hover { background: rgba(var(--color-primary-rgb),0.05); }

        .table-container {
          overflow-x: auto;
          border-radius: var(--radius-lg);
          background: white;
        }

        .data-table {
          width: 100%;
          border-collapse: collapse;
          min-width: 800px;
        }
        .wide-mode .data-table { min-width: 1100px; }

        .data-table th {
          text-align: left;
          padding: 1rem 1.5rem;
          background: rgba(248, 250, 252, 0.8);
          color: var(--color-text-muted);
          font-size: 0.8rem;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          border-bottom: 1px solid var(--color-border);
        }

        .data-table td {
          padding: 1rem 1.5rem;
          border-bottom: 1px solid var(--color-border);
          color: var(--color-text-main);
          font-size: 0.95rem;
        }
        
        .data-table tr:hover {
          background: rgba(241, 245, 249, 0.5);
        }

        .product-name {
          font-weight: 600;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          max-width: 260px;
        }
        .truncate-line {
          display: inline-block;
          max-width: 220px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .link-icon {
          color: var(--color-text-muted);
          transition: color 0.2s;
        }
        .link-icon:hover { color: var(--color-primary); }

        .truncate-cell {
          max-width: 250px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          color: var(--color-text-muted);
        }

        .actions-cell {
          display: flex;
          gap: 0.5rem;
        }

        .action-btn {
          padding: 0.4rem;
          border-radius: var(--radius-sm);
          color: var(--color-text-muted);
          transition: all 0.2s;
        }

        .edit:hover { background: rgba(59, 130, 246, 0.1); color: var(--color-info); }
        .delete:hover { background: rgba(239, 68, 68, 0.1); color: var(--color-error); }

        .star-btn {
          color: var(--color-border);
          transition: transform 0.2s;
        }
        .star-btn:hover { transform: scale(1.1); }
        .star-btn.active { color: orange; }

        .form-grid {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }
        
        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 1rem;
        }

        .form-group label {
          display: block;
          margin-bottom: 0.4rem;
          font-size: 0.9rem;
          color: var(--color-text-muted);
          font-weight: 500;
        }

        .form-group input, 
        .form-group select, 
        .form-group textarea {
          width: 100%;
          padding: 0.75rem;
          border-radius: var(--radius-md);
          border: 1px solid var(--color-border);
          background: var(--color-background);
          transition: border-color 0.2s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
          border-color: var(--color-primary);
          outline: none;
        }

        .full-width { width: 100%; margin-top: 1rem; }

        .skeleton-grid {
          display: grid;
          gap: 0.75rem;
        }
        .skeleton-row {
          display: grid;
          grid-template-columns: 2fr 1fr 1fr;
          gap: 0.5rem;
        }
        .skeleton-cell {
          height: 14px;
          background: linear-gradient(90deg, rgba(226,232,240,0.6), rgba(226,232,240,0.9), rgba(226,232,240,0.6));
          border-radius: 6px;
          animation: shimmer 1.2s infinite;
        }
        .skeleton-cell.wide { grid-column: span 2; height: 16px; }
        @keyframes shimmer {
          0% { background-position: -200px 0; }
          100% { background-position: 200px 0; }
        }

        @media (max-width: 768px) {
          .page-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 0.75rem;
          }
          .table-card { padding: 0.75rem; }
          .data-table { min-width: 720px; }
          .toggle-wide { width: 100%; justify-content: center; }
        }
      `})]})}function e3({todos:t,onStatusChange:e,onEdit:r,onDelete:a,users:s,activities:o,onOpenActivityModal:c,onCreate:f,onOpenDraftsModal:h}){const m=[{id:"Todo",title:"Yaplacaklar",tagClass:"tag-1"},{id:"In Progress",title:"Devam Edenler",tagClass:"tag-2"},{id:"Review",title:"Kontrol",tagClass:"tag-3"},{id:"Done",title:"Tamamland",tagClass:"tag-4"}],g=(b,k)=>{b.dataTransfer.setData("todoId",k),b.dataTransfer.effectAllowed="move",b.target.style.opacity="0.4"},x=b=>{b.target.style.opacity="1"},y=b=>{b.preventDefault(),b.dataTransfer.dropEffect="move"},w=(b,k)=>{b.preventDefault();const O=b.dataTransfer.getData("todoId");O&&e(O,k)},S=b=>t.filter(k=>k.status===b&&k.status!=="Draft"),_=(b,k=15)=>b?b.length<=k?b:b.slice(0,k)+"":"";return u.jsxs("div",{className:"kanban-app fade-in",children:[u.jsxs("main",{className:"project",children:[u.jsxs("div",{className:"project-info",children:[u.jsx("h1",{children:"Grevler"}),u.jsxs("button",{className:"add-task-icon",onClick:()=>f&&f(),children:[u.jsx(Xi,{size:16})," Yeni"]})]}),u.jsx("div",{className:"project-tasks fixed-grid",children:m.map(b=>u.jsxs("div",{className:"project-column",onDragOver:y,onDrop:k=>w(k,b.id),children:[u.jsxs("div",{className:"project-column-heading",children:[u.jsx("h2",{className:"project-column-heading__title",children:b.title}),b.id==="Done"?u.jsx("button",{className:"project-column-heading__options",onClick:()=>h&&h(),title:"Taslaklar Gster",children:u.jsx(xo,{size:20})}):u.jsx("button",{className:"project-column-heading__options",children:u.jsx(xo,{size:20})})]}),u.jsx("div",{className:"project-column-body",children:S(b.id).map(k=>u.jsxs("div",{className:"task",draggable:"true",onDragStart:O=>g(O,k.id),onDragEnd:x,onClick:()=>r(k),style:{userSelect:"none",cursor:"pointer"},children:[u.jsxs("div",{className:"task__tags",children:[u.jsx("span",{className:`task__tag task__tag--${k.tags?.[0]?"illustration":"copyright"}`,children:k.tags?.[0]||"Genel"}),u.jsxs("div",{className:"task-actions",style:{display:"flex",gap:"5px"},children:[u.jsx("button",{onClick:O=>{O.stopPropagation(),r(k)},className:"task__options",children:u.jsx(Eh,{size:14})}),u.jsx("button",{onClick:O=>{O.stopPropagation(),a(k.id)},className:"task__options",children:u.jsx(Qi,{size:14})})]})]}),u.jsx("p",{children:k.title}),u.jsxs("div",{className:"task__stats",children:[u.jsxs("span",{children:[u.jsx(A5,{size:12}),u.jsx("time",{children:new Date(k.due_date).toLocaleDateString("tr-TR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})})]}),u.jsx("span",{className:"task__owner",children:s[k.created_by]?.substring(0,2).toUpperCase()||"??"})]})]},k.id))})]},b.id))})]}),u.jsxs("aside",{className:"task-details",children:[u.jsxs("div",{className:"tag-progress",children:[u.jsx("h2",{children:"lerleme Durumu"}),u.jsxs("div",{className:"tag-progress",children:[u.jsxs("p",{children:["Devam Edenler ",u.jsx("span",{children:S("In Progress").length})]}),u.jsx("progress",{className:"progress",max:t.length||1,value:S("In Progress").length})]}),u.jsxs("div",{className:"tag-progress",children:[u.jsxs("p",{children:["Tamamlananlar ",u.jsx("span",{children:S("Done").length})]}),u.jsx("progress",{className:"progress",max:t.length||1,value:S("Done").length})]})]}),u.jsxs("div",{className:"task-activity",children:[u.jsx("h2",{children:"Son Hareketler"}),u.jsxs("ul",{className:"activity-list",children:[o&&o.slice(0,4).map(b=>{const k=_(b.details,15);return u.jsxs("li",{className:"activity-row",children:[u.jsxs("span",{className:"activity-icon","data-type":b.action_type,children:[b.action_type==="CREATE"&&u.jsx(Xi,{size:14}),b.action_type==="UPDATE"&&u.jsx(Eh,{size:14}),b.action_type==="DELETE"&&u.jsx(Qi,{size:14}),b.action_type==="MOVE"&&u.jsx(xo,{size:14})]}),u.jsxs("div",{className:"activity-text",children:[u.jsx("div",{className:"activity-user",children:b.app_users?.username||"Kullanc"}),u.jsxs("p",{className:"activity-desc",children:[b.action_type==="CREATE"&&`yeni grev ekledi: ${k||"Grev"}`,b.action_type==="UPDATE"&&`grevi gncelledi: ${k||"Grev"}`,b.action_type==="DELETE"&&`"${k}" grevini sildi.`,b.action_type==="MOVE"&&`grevi tad: ${k||"Grev"}`]}),u.jsx("time",{className:"activity-time",children:new Date(b.created_at).toLocaleString("tr-TR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit",hour12:!1})})]})]},b.id)}),(!o||o.length===0)&&u.jsxs("li",{className:"activity-row empty",children:[u.jsx("span",{className:"activity-icon","data-type":"INFO",children:u.jsx(xo,{size:12})}),u.jsxs("div",{className:"activity-text",children:[u.jsx("div",{className:"activity-user",children:"Sistem"}),u.jsx("p",{className:"activity-desc",children:"Hazr."}),u.jsx("time",{className:"activity-time",children:"imdi"})]})]})]}),o&&o.length>4&&u.jsxs("button",{onClick:c,className:"btn-show-more",children:["Daha Fazla Gster (",o.length-4,")"]})]})]})]})}function t3({isOpen:t,onClose:e,activities:r}){const[a,s]=L.useState(""),[o,c]=L.useState(""),f=L.useMemo(()=>{const g=new Set(r.map(x=>x.app_users?.username).filter(Boolean));return Array.from(g)},[r]),h=r.filter(g=>{const x=a?g.app_users?.username===a:!0,y=o?g.action_type===o:!0;return x&&y}),m=g=>{switch(g){case"CREATE":return"Ekleme";case"UPDATE":return"Gncelleme";case"DELETE":return"Silme";case"MOVE":return"Tama";default:return g}};return u.jsxs(Ki,{title:"Hareket Gemii",isOpen:t,onClose:e,children:[u.jsxs("div",{className:"activity-filters",style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",padding:"1rem",background:"rgba(255,255,255,0.5)",borderRadius:"var(--radius-lg)",border:"1px solid rgba(0,0,0,0.05)"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"13px",color:"var(--color-text-muted)",marginBottom:"0.5rem"},children:"Kullanc"}),u.jsxs("select",{value:a,onChange:g=>s(g.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px"},children:[u.jsx("option",{value:"",children:"Tm"}),f.map(g=>u.jsx("option",{value:g,children:g},g))]})]}),u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"13px",color:"var(--color-text-muted)",marginBottom:"0.5rem"},children:"lem Tr"}),u.jsxs("select",{value:o,onChange:g=>c(g.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px"},children:[u.jsx("option",{value:"",children:"Tm"}),u.jsx("option",{value:"CREATE",children:"Yeni Grev"}),u.jsx("option",{value:"UPDATE",children:"Gncelleme"}),u.jsx("option",{value:"MOVE",children:"Durum Deiiklii"}),u.jsx("option",{value:"DELETE",children:"Silme"})]})]}),(a||o)&&u.jsx("div",{style:{display:"flex",alignItems:"end"},children:u.jsx("button",{onClick:()=>{s(""),c("")},style:{padding:"0.5rem",color:"var(--color-error)",background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center"},children:u.jsx(ta,{size:18})})})]}),u.jsx("div",{className:"activity-list",style:{maxHeight:"60vh",overflowY:"auto"},children:h.length===0?u.jsx("p",{style:{textAlign:"center",color:"var(--color-text-muted)",padding:"2rem"},children:"Kayt bulunamad."}):u.jsx("ul",{style:{padding:0,listStyle:"none"},children:h.map(g=>u.jsxs("li",{style:{padding:"1rem",borderBottom:"1px solid #f1f5f9",display:"flex",alignItems:"start",gap:"1rem"},children:[u.jsxs("span",{style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,background:g.action_type==="CREATE"?"#dcfce7":g.action_type==="UPDATE"?"#dbeafe":g.action_type==="DELETE"?"#fee2e2":"#fef9c3",color:g.action_type==="CREATE"?"#166534":g.action_type==="UPDATE"?"#1e40af":g.action_type==="DELETE"?"#991b1b":"#854d0e"},children:[g.action_type==="CREATE"&&u.jsx(Xi,{size:16}),g.action_type==="UPDATE"&&u.jsx(Eh,{size:16}),g.action_type==="DELETE"&&u.jsx(Qi,{size:16}),g.action_type==="MOVE"&&u.jsx(xo,{size:16})]}),u.jsxs("div",{children:[u.jsxs("div",{style:{fontSize:"14px",marginBottom:"0.2rem"},children:[u.jsx("span",{style:{fontWeight:"600"},children:g.app_users?.username||"Kullanc"}),u.jsx("span",{style:{margin:"0 0.5rem",color:"#cbd5e1"},children:""}),u.jsx("span",{style:{fontSize:"12px",padding:"2px 6px",borderRadius:"4px",background:"#f1f5f9",color:"#64748b"},children:m(g.action_type)})]}),u.jsxs("p",{style:{fontSize:"14px",color:"#334155",margin:0},children:[g.action_type==="CREATE"&&"Yeni grev oluturdu.",g.action_type==="UPDATE"&&"Grev detaylarn gncelledi.",g.action_type==="DELETE"&&`"${g.details}" adl grevi sildi.`,g.action_type==="MOVE"&&`Grevi "${g.details}" aamasna tad.`]}),u.jsx("time",{style:{fontSize:"12px",color:"#94a3b8",display:"block",marginTop:"0.4rem"},children:new Date(g.created_at).toLocaleString("tr-TR",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})})]})]},g.id))})})]})}function r3(){const[t,e]=L.useState([]),[r,a]=L.useState(!0),[s,o]=L.useState(!1),[c,f]=L.useState(!1),[h,m]=L.useState(!1),[g,x]=L.useState(null),[y,w]=L.useState({}),[S,_]=L.useState([]),[b,k]=L.useState({search:"",createdBy:"",dateFrom:"",dateTo:"",tag:""}),O=L.useRef(null),[T,F]=L.useState({id:null,title:"",priority:"Medium",due_date:"",tags:""});L.useEffect(()=>{A(),G()},[]);const G=async()=>{const{data:fe}=await Ce.from("todo_activities").select(`
                *,
                app_users (
                    username
                )
            `).order("created_at",{ascending:!1}).limit(20);fe&&_(fe)},K=async(fe,X,pe)=>{try{if(!P?.id)return;const{error:ke}=await Ce.from("todo_activities").insert([{todo_id:pe,user_id:P.id,action_type:fe,details:X}]);if(ke){if(ke.code==="42501"||ke.code==="401"){console.debug("Activity log skipped (RLS/unauthorized).");return}throw ke}G()}catch(ke){console.error("Activity logging failed (safe to ignore if RLS not set):",ke)}},A=async()=>{try{a(!0);const{data:fe,error:X}=await Ce.from("todos").select("*").order("due_date",{ascending:!0});if(X)throw X;const pe=new Date,ke=new Date(pe.getTime()-1440*60*1e3),Me=fe.filter(Q=>Q.status==="Done"&&Q.completed_at&&new Date(Q.completed_at)<ke);if(Me.length>0){const Q=Me.map(R=>R.id);await Ce.from("todos").update({status:"Draft",completed_at:null}).in("id",Q);const C=fe.map(R=>Q.includes(R.id)?{...R,status:"Draft",completed_at:null}:R);e(C)}else e(fe)}catch(fe){console.error("Error fetching todos:",fe.message)}finally{a(!1)}};L.useEffect(()=>{(async()=>{const{data:X}=await Ce.from("app_users").select("id, username");if(X){const pe=X.reduce((ke,Me)=>({...ke,[Me.id]:Me.username}),{});w(pe)}})()},[]);const{user:P}=fn(),q=async fe=>{fe.preventDefault();try{if(!P||!P.id)throw new Error("Oturum kapal.");if(!P||!P.id)throw new Error("Oturum kapal.");const X=T.tags?[T.tags]:["Genel"],pe={title:T.title,priority:"Medium",due_date:T.due_date,tags:X,created_by:P.id};if(T.id){const{error:ke}=await Ce.from("todos").update({title:pe.title,priority:pe.priority,due_date:pe.due_date,tags:pe.tags}).eq("id",T.id);if(ke)throw ke;K("UPDATE","grevi gncelledi",T.id)}else{const{data:ke,error:Me}=await Ce.from("todos").insert([pe]).select();if(Me)throw Me;ke&&ke[0]&&K("CREATE","yeni grev ekledi",ke[0].id)}o(!1),A(),te()}catch(X){alert(X.message)}},te=()=>{const fe=new Date,X=ke=>ke.toString().padStart(2,"0"),pe=`${fe.getFullYear()}-${X(fe.getMonth()+1)}-${X(fe.getDate())}T${X(fe.getHours())}:${X(fe.getMinutes())}`;F({id:null,title:"",priority:"Medium",due_date:pe,tags:"Genel"})},ee=fe=>{let X="";if(fe.due_date){const pe=new Date(fe.due_date),ke=Me=>Me.toString().padStart(2,"0");X=`${pe.getFullYear()}-${ke(pe.getMonth()+1)}-${ke(pe.getDate())}T${ke(pe.getHours())}:${ke(pe.getMinutes())}`}F({id:fe.id,title:fe.title,priority:fe.priority,due_date:X,tags:fe.tags&&fe.tags.length>0?fe.tags[0]:"Genel"}),o(!0),setTimeout(()=>{O.current&&(O.current.style.height="auto",O.current.style.height=`${O.current.scrollHeight}px`)},100)},de=fe=>{F({...T,title:fe.target.value}),O.current&&(O.current.style.height="auto",O.current.style.height=`${O.current.scrollHeight}px`)},ye=async fe=>{if(!window.confirm("Grevi silmek istiyor musun?"))return;const X=t.find(ke=>ke.id===fe),{error:pe}=await Ce.from("todos").delete().eq("id",fe);pe?(console.error("Error deleting:",pe),alert("Silinirken hata olutu.")):(e(t.filter(ke=>ke.id!==fe)),X&&K("DELETE",X.title,null))},He=async(fe,X)=>{e(t.map(Me=>Me.id===fe?{...Me,status:X}:Me));const pe={status:X};X==="Done"?pe.completed_at=new Date().toISOString():pe.completed_at=null;const{error:ke}=await Ce.from("todos").update(pe).eq("id",fe);ke?(console.error("Error updating status:",ke),A()):K("MOVE",X==="Todo"?"Yaplacaklar":X==="In Progress"?"Devam Edenler":X==="Review"?"Kontrol":"Tamamland",fe)};return u.jsxs("div",{className:"page-container fade-in",style:{padding:0,maxWidth:"100%",margin:0},children:[u.jsx(e3,{todos:t,onStatusChange:He,onEdit:ee,onDelete:ye,users:y,activities:S,onOpenActivityModal:()=>f(!0),onCreate:()=>{te(),o(!0)},onOpenDraftsModal:()=>m(!0)}),u.jsx(t3,{isOpen:c,onClose:()=>f(!1),activities:S}),u.jsx(Ki,{title:"Taslaklar",isOpen:h,onClose:()=>m(!1),children:u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",gap:"1rem",padding:"1rem",background:"#f8fafc",borderRadius:"var(--radius-md)"},children:[u.jsx("input",{type:"text",placeholder:"Grev ieriinde ara...",value:b.search,onChange:fe=>k({...b,search:fe.target.value}),style:{padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"14px"}}),u.jsxs("select",{value:b.createdBy,onChange:fe=>k({...b,createdBy:fe.target.value}),style:{padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"},children:[u.jsx("option",{value:"",children:"Tm Kullanclar"}),Object.entries(y).map(([fe,X])=>u.jsx("option",{value:fe,children:X},fe))]}),u.jsx("input",{type:"date",placeholder:"Balang",value:b.dateFrom,onChange:fe=>k({...b,dateFrom:fe.target.value}),style:{padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"14px"}}),u.jsx("input",{type:"date",placeholder:"Biti",value:b.dateTo,onChange:fe=>k({...b,dateTo:fe.target.value}),style:{padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"14px"}})]}),u.jsxs("select",{value:b.tag,onChange:fe=>k({...b,tag:fe.target.value}),style:{padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"},children:[u.jsx("option",{value:"",children:"Tm Etiketler"}),u.jsx("option",{value:"Genel",children:"Genel"}),u.jsx("option",{value:"Tasarm",children:"Tasarm"}),u.jsx("option",{value:"Yazlm",children:"Yazlm"}),u.jsx("option",{value:"Pazarlama",children:"Pazarlama"})]}),u.jsxs("div",{style:{maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[t.filter(fe=>fe.status==="Draft").filter(fe=>!(b.search&&!fe.title.toLowerCase().includes(b.search.toLowerCase())||b.createdBy&&fe.created_by!==b.createdBy||b.dateFrom&&new Date(fe.created_at)<new Date(b.dateFrom)||b.dateTo&&new Date(fe.created_at)>new Date(b.dateTo)||b.tag&&(!fe.tags||!fe.tags.includes(b.tag)))).map(fe=>u.jsxs("div",{onClick:()=>x(fe),style:{padding:"1rem",background:"white",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:X=>X.target.style.borderColor="var(--color-primary)",onMouseLeave:X=>X.target.style.borderColor="#e2e8f0",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"0.5rem"},children:[u.jsx("h3",{style:{margin:0,fontSize:"15px",fontWeight:"600"},children:fe.title}),u.jsx("span",{style:{padding:"0.2rem 0.6rem",background:"#f0fdf4",color:"#166534",borderRadius:"100px",fontSize:"11px",fontWeight:"600"},children:fe.tags?.[0]||"Genel"})]}),u.jsxs("div",{style:{fontSize:"12px",color:"#64748b",display:"flex",gap:"1rem"},children:[u.jsx("span",{children:y[fe.created_by]||"Bilinmeyen"}),u.jsx("span",{children:new Date(fe.created_at).toLocaleDateString("tr-TR")})]})]},fe.id)),t.filter(fe=>fe.status==="Draft").length===0&&u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b"},children:"Henz taslak grev yok."})]})]})}),u.jsx(Ki,{title:"Grev nizleme",isOpen:g!==null,onClose:()=>x(null),children:g&&u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"GREV BALII"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"15px",background:"#f8fafc",whiteSpace:"pre-wrap",wordWrap:"break-word",lineHeight:"1.5"},children:g.title})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"SON TARH"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",background:"#f8fafc"},children:g.due_date?new Date(g.due_date).toLocaleString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Belirtilmemi"})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"ETKET"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",background:"#f8fafc"},children:g.tags?.[0]||"Genel"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"OLUTURULMA TARH"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",background:"#f8fafc"},children:new Date(g.created_at).toLocaleString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),g.completed_at&&u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"TAMAMLANMA TARH"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",background:"#f8fafc"},children:new Date(g.completed_at).toLocaleString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"OLUTURAN"}),u.jsx("div",{style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",background:"#f8fafc"},children:y[g.created_by]||"Bilinmeyen"})]})]})}),u.jsx(Ki,{title:T.id?"Grevi Dzenle":"Yeni Grev Ekle",isOpen:s,onClose:()=>o(!1),children:u.jsxs("form",{onSubmit:q,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"GREV BALII"}),u.jsx("textarea",{ref:O,required:!0,value:T.title,onChange:de,placeholder:"rn: Muhasebeciyle grme ayarla...",rows:1,style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"15px",outline:"none",transition:"border-color 0.2s",background:"#f8fafc",resize:"none",overflow:"hidden",minHeight:"44px",lineHeight:"1.5",fontFamily:"inherit"},onFocus:fe=>fe.target.style.borderColor="var(--color-primary)",onBlur:fe=>fe.target.style.borderColor="#e2e8f0"})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"SON TARH"}),u.jsx("input",{type:"datetime-local",required:!0,value:T.due_date,onChange:fe=>F({...T,due_date:fe.target.value}),style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",outline:"none",background:"#f8fafc"}})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b",marginBottom:"0.5rem"},children:"ETKET"}),u.jsxs("select",{value:T.tags,onChange:fe=>F({...T,tags:fe.target.value}),style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0",fontSize:"14px",outline:"none",background:"#f8fafc",appearance:"none",cursor:"pointer"},children:[u.jsx("option",{value:"Genel",children:"Genel"}),u.jsx("option",{value:"Tasarm",children:"Tasarm"}),u.jsx("option",{value:"Yazlm",children:"Yazlm"}),u.jsx("option",{value:"Pazarlama",children:"Pazarlama"})]})]})]}),u.jsx("button",{type:"submit",style:{marginTop:"1rem",padding:"1rem",borderRadius:"var(--radius-md)",background:"var(--color-primary)",color:"white",border:"none",fontSize:"15px",fontWeight:"600",cursor:"pointer",transition:"transform 0.1s",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},className:"btn-primary full-width",onMouseDown:fe=>fe.target.style.transform="scale(0.98)",onMouseUp:fe=>fe.target.style.transform="scale(1)",children:T.id?"Deiiklikleri Kaydet":"Grevi Olutur"})]})})]})}function n3(){const[t,e]=L.useState([]),[r,a]=L.useState(!0),[s,o]=L.useState(null),[c,f]=L.useState({});L.useEffect(()=>{h()},[]);const h=async()=>{try{a(!0);const{data:S,error:_}=await Ce.from("roadmap_steps").select("*").order("sort_order",{ascending:!0});if(_)throw _;e(S)}catch(S){console.error("Error fetching roadmap:",S.message)}finally{a(!1)}},m=S=>{o(s===S?null:S)},g=async(S,_)=>{const k={"Not Started":"Learning",Learning:"Completed",Completed:"Not Started"}[_]||"Not Started";e(t.map(O=>O.id===S?{...O,status:k}:O)),await Ce.from("roadmap_steps").update({status:k}).eq("id",S)},x=async S=>{const _=c[S];if(_!==void 0)try{await Ce.from("roadmap_steps").update({research_notes:_}).eq("id",S),e(t.map(b=>b.id===S?{...b,research_notes:_}:b)),alert("Not kaydedildi!")}catch(b){console.error("Save error:",b)}},y=(S,_)=>{f({...c,[S]:_})},w=S=>{switch(S){case"Completed":return"var(--color-success)";case"Learning":return"var(--color-primary)";default:return"var(--color-text-muted)"}};return u.jsxs("div",{className:"page-container fade-in",children:[u.jsx("div",{className:"page-header",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Yol Haritas"}),u.jsx("p",{className:"text-muted",children:"E-ticaret baars iin adm adm rehber."})]})}),u.jsx("div",{className:"roadmap-container",children:t.map((S,_)=>{const b=s===S.id,k=w(S.status);return u.jsxs("div",{className:`roadmap-step ${S.status==="Completed"?"completed":""}`,children:[u.jsxs("div",{className:"step-connector",children:[u.jsx("div",{className:"step-number",style:{borderColor:k,color:k},children:S.status==="Completed"?u.jsx(Xh,{size:16}):_+1}),_!==t.length-1&&u.jsx("div",{className:"step-line"})]}),u.jsxs("div",{className:"step-content glass-panel",children:[u.jsxs("div",{className:"step-header",onClick:()=>m(S.id),children:[u.jsxs("div",{className:"header-info",children:[u.jsx("h3",{className:S.status==="Completed"?"text-muted":"",children:S.title}),u.jsxs("span",{className:"status-badge",style:{background:S.status==="Not Started"?"var(--color-border)":k,opacity:.8},onClick:O=>{O.stopPropagation(),g(S.id,S.status)},children:[S.status==="Not Started"&&"Balanmad",S.status==="Learning"&&"Aratrlyor",S.status==="Completed"&&"Tamamland"]})]}),b?u.jsx(c5,{size:20}):u.jsx(i5,{size:20})]}),b&&u.jsxs("div",{className:"step-body fade-in",children:[u.jsx("p",{className:"step-desc",children:S.description}),u.jsxs("div",{className:"research-box",children:[u.jsxs("div",{className:"research-header",children:[u.jsx(hd,{size:16}),u.jsx("span",{children:"Aratrma & Notlar"})]}),u.jsx("textarea",{className:"research-input",placeholder:"Bu adm ile ilgili rendiklerini buraya not al...",value:c[S.id]!==void 0?c[S.id]:S.research_notes||"",onChange:O=>y(S.id,O.target.value)}),u.jsx("div",{className:"action-row",children:u.jsxs("button",{onClick:()=>x(S.id),className:"save-btn",children:[u.jsx(Po,{size:16})," Kaydet"]})})]})]})]})]},S.id)})}),u.jsx("style",{children:`
        .roadmap-container {
          display: flex;
          flex-direction: column;
          gap: 0;
          max-width: 800px;
          margin: 0 auto;
        }

        .roadmap-step {
          display: flex;
          gap: 1.5rem;
        }

        .step-connector {
          display: flex;
          flex-direction: column;
          align-items: center;
          min-width: 40px;
        }

        .step-number {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          border: 2px solid var(--color-border);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          background: var(--color-background);
          z-index: 2;
          transition: all 0.3s;
        }

        .step-line {
          width: 2px;
          flex: 1;
          background: var(--color-border);
          margin-top: -2px;
          margin-bottom: -2px;
        }

        .step-content {
          flex: 1;
          margin-bottom: 2rem;
          border-radius: var(--radius-lg);
          overflow: hidden;
          transition: all 0.3s;
        }
        
        .step-content:hover {
          box-shadow: var(--shadow-lg);
        }

        .step-header {
          padding: 1.25rem 1.5rem;
          display: flex;
          justify-content: space-between;
          align-items: center;
          cursor: pointer;
          background: rgba(255,255,255,0.5);
        }
        
        .header-info {
          display: flex;
          align-items: center;
          gap: 1rem;
          flex-wrap: wrap;
        }

        .header-info h3 {
          font-weight: 700;
          font-size: 1.1rem;
        }

        .status-badge {
          font-size: 0.75rem;
          padding: 0.25rem 0.75rem;
          border-radius: 20px;
          color: white;
          font-weight: 600;
          cursor: pointer;
          transition: transform 0.2s;
        }
        
        .status-badge:hover { transform: scale(1.05); }

        .step-body {
          padding: 1.5rem;
          background: white;
          border-top: 1px solid var(--color-border);
        }

        .step-desc {
          margin-bottom: 1.5rem;
          color: var(--color-text-muted);
          line-height: 1.6;
        }

        .research-box {
          background: var(--color-background);
          border-radius: var(--radius-md);
          padding: 1rem;
          border: 1px solid var(--color-border);
        }

        .research-header {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-bottom: 0.75rem;
          font-size: 0.9rem;
          font-weight: 600;
          color: var(--color-primary);
        }

        .research-input {
          width: 100%;
          min-height: 100px;
          padding: 0.75rem;
          border-radius: var(--radius-sm);
          border: 1px solid var(--color-border);
          resize: vertical;
          font-size: 0.95rem;
          margin-bottom: 0.5rem;
        }
        
        .research-input:focus { border-color: var(--color-primary); outline: none; }

        .action-row {
          display: flex;
          justify-content: flex-end;
        }

        .save-btn {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem 1rem;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-sm);
          font-size: 0.85rem;
          font-weight: 600;
          transition: opacity 0.2s;
        }
        
        .save-btn:hover { opacity: 0.9; }

        .page-header { margin-bottom: 2.5rem; }
      `})]})}const a3=async()=>{try{const t=["/Panela/weeks/week1/Ads Library Keywordlar.txt","/weeks/week1/Ads Library Keywordlar.txt","./weeks/week1/Ads Library Keywordlar.txt"];let e=null;for(const s of t)try{if(e=await fetch(s),e.ok)break}catch{continue}return!e||!e.ok?(console.warn("Keywords file not found, using empty array"),[]):(await e.text()).split("|").map(s=>s.trim()).filter(s=>s.length>0).filter((s,o,c)=>c.indexOf(s)===o)}catch(t){return console.error("Error loading keywords file:",t),[]}},i3=async(t,e)=>{if(!e||e.length===0)return;const{data:r}=await t.from("research_keywords").select("keyword"),a=new Set(r?.map(c=>c.keyword)||[]),s=e.filter(c=>!a.has(c));if(s.length===0)return;const{error:o}=await t.from("research_keywords").insert(s.map(c=>({keyword:c,created_by:null})));o&&console.error("Error inserting keywords:",o)};function s3({onAdd:t,loading:e=!1}){const[r,a]=L.useState(""),s=c=>{if(c.preventDefault(),!r.trim())return;const f=r.split(",").map(h=>h.trim()).filter(h=>h.length>0);f.length>0&&(t(f),a(""))},o=async c=>{const f=c.target.files?.[0];if(f){try{const m=(await f.text()).split(/[|,\n]/).map(g=>g.trim()).filter(g=>g.length>0).filter((g,x,y)=>y.indexOf(g)===x);m.length>0&&t(m)}catch(h){console.error("Error reading file:",h)}c.target.value=""}};return u.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"flex-start"},children:[u.jsxs("form",{onSubmit:s,style:{flex:1,display:"flex",gap:"0.5rem"},children:[u.jsx("input",{type:"text",value:r,onChange:c=>a(c.target.value),placeholder:"Kelime ekle (virglle ayrarak toplu ekleyebilirsin)",disabled:e,style:{flex:1,padding:"0.65rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",fontSize:"14px",transition:"border var(--transition-fast), box-shadow var(--transition-fast)"},onFocus:c=>{c.target.style.borderColor="var(--color-primary)",c.target.style.boxShadow="0 0 0 3px rgba(139,92,246,0.15)"},onBlur:c=>{c.target.style.borderColor="var(--color-border)",c.target.style.boxShadow="none"}}),u.jsxs("button",{type:"submit",disabled:e||!r.trim(),className:"primary",style:{padding:"0.65rem 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx(Xi,{size:18}),"Ekle"]})]}),u.jsxs("label",{style:{padding:"0.65rem 1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",fontSize:"14px",transition:"all var(--transition-fast)"},onMouseEnter:c=>{c.currentTarget.style.borderColor="var(--color-primary)",c.currentTarget.style.boxShadow="var(--shadow-sm)"},onMouseLeave:c=>{c.currentTarget.style.borderColor="var(--color-border)",c.currentTarget.style.boxShadow="none"},children:[u.jsx(zA,{size:18}),"Dosya",u.jsx("input",{type:"file",accept:".txt",onChange:o,style:{display:"none"},disabled:e})]})]})}function l3({isOpen:t,onClose:e,userId:r}){const[a,s]=L.useState([]),[o,c]=L.useState(!0),[f,h]=L.useState(""),[m,g]=L.useState(""),[x,y]=L.useState("");L.useEffect(()=>{t&&r&&w()},[t,r]);const w=async()=>{c(!0);try{let b=Ce.from("research_history").select("*").eq("user_id",r).order("created_at",{ascending:!1});f&&(b=b.ilike("keyword",`%${f}%`)),m&&(b=b.eq("country_code",m)),x&&(b=b.eq("action_type",x));const{data:k,error:O}=await b;if(O)throw O;s(k||[])}catch(b){console.error("Error loading history:",b)}finally{c(!1)}};if(L.useEffect(()=>{t&&w()},[f,m,x]),!t)return null;const S=b=>{const k=new Date(b);return new Intl.DateTimeFormat("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(k)},_=b=>({US:"",CA:"",GB:"",AU:"",NZ:""})[b]||b;return u.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},onClick:e,children:u.jsxs("div",{style:{background:"white",borderRadius:"var(--radius-lg)",width:"100%",maxWidth:"800px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"var(--shadow-lg)"},onClick:b=>b.stopPropagation(),children:[u.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[u.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"700"},children:"Aratrma Gemii"}),u.jsx("button",{onClick:e,style:{padding:"0.5rem",borderRadius:"var(--radius-sm)",border:"none",background:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx(ta,{size:24})})]}),u.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[u.jsx("input",{type:"text",placeholder:"Kelime ara...",value:f,onChange:b=>h(b.target.value),style:{flex:1,minWidth:"200px",padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px"}}),u.jsxs("select",{value:m,onChange:b=>g(b.target.value),style:{padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"},children:[u.jsx("option",{value:"",children:"Tm lkeler"}),u.jsx("option",{value:"US",children:" US"}),u.jsx("option",{value:"CA",children:" CA"}),u.jsx("option",{value:"GB",children:" GB"}),u.jsx("option",{value:"AU",children:" AU"}),u.jsx("option",{value:"NZ",children:" NZ"})]}),u.jsxs("select",{value:x,onChange:b=>y(b.target.value),style:{padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"},children:[u.jsx("option",{value:"",children:"Tm lemler"}),u.jsx("option",{value:"clicked",children:"Tklama"}),u.jsx("option",{value:"reset",children:"Reset"})]})]}),u.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem"},children:o?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Ykleniyor..."}):a.length===0?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Henz gemi kayd yok"}):u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:a.map(b=>u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",gap:"1rem",background:b.action_type==="reset"?"rgba(239, 68, 68, 0.05)":"var(--color-background)"},children:[u.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"var(--radius-sm)",background:b.action_type==="reset"?"rgba(239, 68, 68, 0.1)":"rgba(139, 92, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:b.action_type==="reset"?u.jsx(G_,{size:20,color:"var(--color-error)"}):u.jsx(Qh,{size:20,color:"var(--color-primary)"})}),u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:b.keyword}),u.jsxs("div",{style:{fontSize:"14px",color:"var(--color-text-muted)",display:"flex",gap:"0.5rem",alignItems:"center"},children:[u.jsxs("span",{children:[_(b.country_code)," ",b.country_code]}),u.jsx("span",{children:""}),u.jsx("span",{children:b.action_type==="clicked"?"Tklama":"Reset"})]})]}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:S(b.created_at)})]},b.id))})})]})})}const o3=[{code:"US",flag:"",name:"ABD"},{code:"CA",flag:"",name:"Kanada"},{code:"GB",flag:"",name:"ngiltere"},{code:"AU",flag:"",name:"Avustralya"},{code:"NZ",flag:"",name:"Yeni Zelanda"}];function c3({userId:t}){const[e,r]=L.useState([]),[a,s]=L.useState(!0),[o,c]=L.useState(new Set),[f,h]=L.useState(new Set),[m,g]=L.useState(new Map),[x,y]=L.useState(!1),[w,S]=L.useState(""),[_,b]=L.useState("");L.useEffect(()=>{t&&(k(),O())},[t]);const k=async()=>{s(!0);try{const P=await a3();await i3(Ce,P);const{data:q,error:te}=await Ce.from("research_keywords").select("*").order("keyword",{ascending:!0});if(te)throw te;r(q||[])}catch(P){console.error("Error loading keywords:",P)}finally{s(!1)}},O=async()=>{if(t)try{const{data:P}=await Ce.from("research_history").select("keyword, country_code").eq("user_id",t).eq("action_type","clicked"),q=new Set;P?.forEach(ye=>{q.add(`${ye.keyword}|${ye.country_code}`)}),c(q);const{data:te}=await Ce.from("research_history").select(`
          keyword, 
          country_code, 
          user_id,
          app_users(username, full_name)
        `).eq("action_type","clicked").neq("user_id",t),ee=new Set,de=new Map;te?.forEach(ye=>{const He=`${ye.keyword}|${ye.country_code}`;ee.add(He),de.has(He)||de.set(He,[]);const fe=ye.app_users;fe&&!de.get(He).find(X=>X.id===ye.user_id)&&de.get(He).push({id:ye.user_id,username:fe.username||"Bilinmeyen",full_name:fe.full_name})}),h(ee),g(de)}catch(P){console.error("Error loading clicked states:",P);const{data:q}=await Ce.from("research_history").select("keyword, country_code").eq("action_type","clicked").neq("user_id",t),te=new Set;q?.forEach(ee=>{te.add(`${ee.keyword}|${ee.country_code}`)}),h(te)}},T=async(P,q)=>{if(!t)return;const te=`${P}|${q}`;let ee=`https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=${q}&is_targeted_country=false&media_type=all&q=${encodeURIComponent(P)}&search_type=keyword_unordered`;w&&(ee+=`&start_date[min]=${w}`),_&&(ee+=`&start_date[max]=${_}`);try{localStorage.setItem("meta_last_search",JSON.stringify({keyword:P,country_code:q,url:ee,ts:Date.now()})),window.dispatchEvent(new Event("meta_last_search_updated"))}catch{}window.open(ee,"_blank");try{const{error:de}=await Ce.from("research_history").insert({user_id:t,keyword:P,country_code:q,action_type:"clicked"});if(de)throw de;c(ye=>new Set([...ye,te])),O()}catch(de){console.error("Error saving click:",de)}},F=async(P,q)=>{if(t)try{const{error:te}=await Ce.from("research_history").delete().eq("user_id",t).eq("keyword",P).eq("country_code",q).eq("action_type","clicked");if(te)throw te;const{error:ee}=await Ce.from("research_history").insert({user_id:t,keyword:P,country_code:q,action_type:"reset"});if(ee)throw ee;const de=`${P}|${q}`;c(ye=>{const He=new Set(ye);return He.delete(de),He}),O()}catch(te){console.error("Error resetting:",te)}},G=async P=>{try{const{error:q}=await Ce.from("research_keywords").insert(P.map(te=>({keyword:te,created_by:t})));if(q)throw q;k()}catch(q){console.error("Error adding keywords:",q)}},K=(P,q)=>o.has(`${P}|${q}`),A=(P,q)=>f.has(`${P}|${q}`);return u.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[u.jsxs("div",{style:{marginBottom:"1.5rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[u.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"700"},children:"Hzl Balatc"}),u.jsxs("button",{onClick:()=>y(!0),className:"primary",style:{padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"14px"},children:[u.jsx(B5,{size:18}),"Gemi"]})]}),u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",marginBottom:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[u.jsx(Yh,{size:18,color:"var(--color-primary)"}),u.jsx("label",{style:{fontSize:"14px",fontWeight:"600",color:"var(--color-text-main)"},children:"Tarih Aral (Opsiyonel)"})]}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"0.25rem"},children:"Balang"}),u.jsx("input",{type:"date",value:w,onChange:P=>S(P.target.value),style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"}})]}),u.jsxs("div",{style:{flex:1},children:[u.jsx("label",{style:{display:"block",fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"0.25rem"},children:"Biti"}),u.jsx("input",{type:"date",value:_,onChange:P=>b(P.target.value),min:w||void 0,style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"14px",background:"white"}})]}),(w||_)&&u.jsxs("button",{onClick:()=>{S(""),b("")},style:{padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",background:"white",cursor:"pointer",fontSize:"12px",fontWeight:"600",color:"var(--color-text-muted)",display:"flex",alignItems:"center",gap:"0.25rem",height:"fit-content"},onMouseEnter:P=>{P.currentTarget.style.borderColor="var(--color-error)",P.currentTarget.style.color="var(--color-error)"},onMouseLeave:P=>{P.currentTarget.style.borderColor="var(--color-border)",P.currentTarget.style.color="var(--color-text-muted)"},children:[u.jsx(ta,{size:14}),"Temizle"]})]}),(w||_)&&u.jsx("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"var(--color-primary)",fontWeight:"500"},children:w&&_?`Aralk: ${new Date(w).toLocaleDateString("tr-TR")} - ${new Date(_).toLocaleDateString("tr-TR")}`:w?`Balang: ${new Date(w).toLocaleDateString("tr-TR")}`:`Biti: ${new Date(_).toLocaleDateString("tr-TR")}`})]}),u.jsx(s3,{onAdd:G})]}),u.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.75rem"},children:a?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Ykleniyor..."}):e.length===0?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Henz anahtar kelime yok"}):e.map(P=>u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",transition:"all var(--transition-fast)"},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:u.jsx("span",{style:{fontWeight:"600",fontSize:"15px"},children:P.keyword})}),u.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:o3.map(q=>{const te=K(P.keyword,q.code),ee=A(P.keyword,q.code);return u.jsxs("div",{style:{position:"relative"},children:[u.jsxs("button",{onClick:()=>T(P.keyword,q.code),disabled:te,style:{padding:"0.5rem 0.75rem",border:`1px solid ${te?"var(--color-success)":ee?"var(--color-primary)":"var(--color-border)"}`,borderRadius:"var(--radius-sm)",background:te?"rgba(16, 185, 129, 0.1)":ee?"rgba(139, 92, 246, 0.05)":"white",cursor:te?"default":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"13px",fontWeight:"500",opacity:te?.6:1,transition:"all var(--transition-fast)",position:"relative"},onMouseEnter:de=>{te||(de.currentTarget.style.borderColor="var(--color-primary)",de.currentTarget.style.boxShadow="var(--shadow-sm)")},onMouseLeave:de=>{te||(de.currentTarget.style.borderColor=ee?"var(--color-primary)":"var(--color-border)",de.currentTarget.style.boxShadow="none")},children:[u.jsx("span",{children:q.flag}),u.jsx("span",{children:q.code}),te&&u.jsx(Xh,{size:14,color:"var(--color-success)"}),ee&&!te&&u.jsx("span",{style:{fontSize:"10px",color:"var(--color-primary)"},children:""})]}),te&&u.jsx("button",{onClick:de=>{de.stopPropagation(),F(P.keyword,q.code)},style:{position:"absolute",top:"-8px",right:"-8px",width:"20px",height:"20px",borderRadius:"50%",background:"var(--color-error)",border:"2px solid white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:0},title:"Sfrla",children:u.jsx(G_,{size:10,color:"white"})})]},q.code)})})]},P.id))}),u.jsx(l3,{isOpen:x,onClose:()=>y(!1),userId:t})]})}function Y_({value:t=0,onChange:e,label:r,disabled:a=!1}){const[s,o]=L.useState(0),c=g=>{!a&&e&&e(g)},f=g=>{a||o(g)},h=()=>{a||o(0)},m=s||t;return u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[r&&u.jsx("label",{style:{fontSize:"14px",fontWeight:"500",color:"var(--color-text-main)"},children:r}),u.jsxs("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[[1,2,3,4,5].map(g=>u.jsx("button",{type:"button",onClick:()=>c(g),onMouseEnter:()=>f(g),onMouseLeave:h,disabled:a,style:{background:"none",border:"none",padding:"0",cursor:a?"default":"pointer",transition:"transform 0.1s"},children:u.jsx(tm,{size:24,fill:g<=m?"var(--color-warning)":"transparent",color:g<=m?"var(--color-warning)":"var(--color-border)",style:{transition:"all 0.2s",transform:g<=m&&!a?"scale(1.1)":"scale(1)"}})},g)),t>0&&u.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"14px",color:"var(--color-text-muted)",fontWeight:"600"},children:[t,"/5"]})]})]})}const u3=[{key:"innovative",label:"novatif mi?"},{key:"lightweight",label:"Hafif mi?"},{key:"low_variation",label:"Varyasyonu Az m?"},{key:"problem_solving",label:"Sorun zyor mu?"},{key:"visual_sellable",label:"Gstererek Satlabilir mi?"}];function d3({userId:t,onProductsChange:e}){const[r,a]=L.useState(!1),[s,o]=L.useState({product_name:"",meta_link:"",trendyol_link:"",amazon_link:"",image_url:"",ad_count:"",country_code:"",search_keyword:"",scores:{innovative:0,lightweight:0,low_variation:0,problem_solving:0,visual_sellable:0},notes:""}),c=L.useMemo(()=>{const x=Object.values(s.scores);return x.length===0?0:x.reduce((y,w)=>y+w,0)/x.length},[s.scores]);L.useEffect(()=>{const x=()=>{try{const S=localStorage.getItem("meta_last_search");if(!S)return;const _=JSON.parse(S);(_?.keyword||_?.country_code)&&o(b=>({...b,search_keyword:_.keyword||b.search_keyword,country_code:_.country_code||b.country_code,meta_link:_.url||b.meta_link}))}catch{}};x();const y=S=>{S.key==="meta_last_search"&&x()},w=()=>{x()};return window.addEventListener("storage",y),window.addEventListener("meta_last_search_updated",w),()=>{window.removeEventListener("storage",y),window.removeEventListener("meta_last_search_updated",w)}},[]);const f=(x,y)=>{o(w=>({...w,scores:{...w.scores,[x]:y}}))},m=(parseInt(s.ad_count||"0")||0)>30,g=async()=>{a(!0);try{const x=s.product_name.trim();if(!x){alert("Ltfen rn adn girin"),a(!1);return}if(!t){alert("Kullanc bilgisi bulunamad. Ltfen tekrar giri yapn."),a(!1);return}const y=s.scores,w=Object.values(y).reduce((F,G)=>F+G,0)/Object.values(y).length,S={user_id:t,product_name:x,meta_link:s.meta_link.trim()||null,trendyol_link:s.trendyol_link.trim()||null,amazon_link:s.amazon_link.trim()||null,image_url:s.image_url.trim()||null,ad_count:s.ad_count?parseInt(s.ad_count):0,country_code:s.country_code.trim()||null,search_keyword:s.search_keyword.trim()||null,scores:y,potential_score:parseFloat((isFinite(w)?w:0).toFixed(2)),notes:s.notes.trim()||null},{data:_,error:b}=await Ce.from("discovered_products").insert([S]).select();if(b)throw console.error("Supabase error:",b),b;if(!_||_.length===0)throw new Error("rn kaydedildi ama yant alnamad");const k=localStorage.getItem("meta_last_search");let O="",T="";if(k)try{const F=JSON.parse(k);O=F.keyword||"",T=F.country_code||""}catch{}o({product_name:"",meta_link:"",trendyol_link:"",amazon_link:"",image_url:"",ad_count:"",country_code:T,search_keyword:O,scores:{innovative:0,lightweight:0,low_variation:0,problem_solving:0,visual_sellable:0},notes:""}),e&&e(),console.log("rn baaryla kaydedildi:",_[0])}catch(x){console.error("Error saving product:",x);const y=x.message||"rn kaydedilirken hata olutu";alert(`rn kaydedilemedi: ${y}`)}finally{a(!1)}};return u.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[u.jsx("div",{style:{flexShrink:0,marginBottom:"0.75rem"},children:u.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",marginBottom:"0.75rem"},children:"Hzl Analiz ve Kayt"})}),u.jsx("div",{id:"product-form",style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",overflowY:"auto",flex:1,minHeight:0},children:u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Sat Linki"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[u.jsx("input",{type:"text",value:s.image_url,onChange:x=>o(y=>({...y,image_url:x.target.value})),placeholder:"https://...",style:{flex:1,padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}}),s.image_url&&u.jsx("img",{src:s.image_url,alt:"Preview",style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)"},onError:x=>{x.target.style.display="none"}})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"rn Ad"}),u.jsx("input",{type:"text",value:s.product_name,onChange:x=>o(y=>({...y,product_name:x.target.value})),placeholder:"rn ad",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Meta Linki"}),u.jsx("input",{type:"text",value:s.meta_link,onChange:x=>o(y=>({...y,meta_link:x.target.value})),placeholder:"https://www.facebook.com/ads/library/...",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Trendyol Linki"}),u.jsx("input",{type:"text",value:s.trendyol_link,onChange:x=>o(y=>({...y,trendyol_link:x.target.value})),placeholder:"https://www.trendyol.com/...",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Reklam Says"}),u.jsxs("div",{style:{position:"relative"},children:[u.jsx("input",{type:"number",value:s.ad_count,onChange:x=>o(y=>({...y,ad_count:x.target.value})),placeholder:"0",min:"0",style:{width:"100%",padding:"0.5rem 0.65rem",border:`1px solid ${m?"var(--color-success)":"var(--color-border)"}`,borderRadius:"var(--radius-sm)",fontSize:"13px",transition:"border var(--transition-fast)"}}),m&&u.jsx("span",{style:{position:"absolute",top:"-8px",right:"8px",padding:"0.2rem 0.4rem",background:"var(--color-success)",color:"white",borderRadius:"var(--radius-sm)",fontSize:"10px",fontWeight:"700"},children:" Markalama"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Amazon Linki"}),u.jsx("input",{type:"text",value:s.amazon_link,onChange:x=>o(y=>({...y,amazon_link:x.target.value})),placeholder:"https://www.amazon.com/...",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:u3.map(x=>u.jsx(Y_,{label:`${x.label}`,value:s.scores[x.key],onChange:y=>f(x.key,y)},x.key))}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"lke Kodu (US/CA/GB/AU/NZ)"}),u.jsx("input",{type:"text",value:s.country_code,onChange:x=>o(y=>({...y,country_code:x.target.value})),placeholder:"US",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Anahtar Kelime"}),u.jsx("input",{type:"text",value:s.search_keyword,onChange:x=>o(y=>({...y,search_keyword:x.target.value})),placeholder:"rn: free shipping",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500"},children:"Not"}),u.jsx("textarea",{value:s.notes,onChange:x=>o(y=>({...y,notes:x.target.value})),rows:2,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",resize:"vertical"}})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem",alignItems:"end"},children:[c>0&&u.jsxs("div",{style:{padding:"0.75rem",background:"var(--color-background)",borderRadius:"var(--radius-sm)",textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"11px",color:"var(--color-text-muted)",marginBottom:"0.25rem"},children:"Potansiyel Skoru"}),u.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:c>=4?"var(--color-success)":c>=3?"var(--color-warning)":"var(--color-error)"},children:[c.toFixed(1),"/5"]})]}),u.jsxs("button",{onClick:g,disabled:r,className:"primary",style:{padding:"0.6rem 1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:"600",fontSize:"13px",background:"linear-gradient(135deg, var(--color-primary), var(--color-accent))",boxShadow:"var(--shadow-glow)",opacity:r?.5:1,cursor:r?"not-allowed":"pointer"},children:[u.jsx(Po,{size:16}),"Kaydet"]})]})]})})]})}const f3="v19.0",X_=`https://graph.facebook.com/${f3}`,$u="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5bnd3aHVnd256ZWtyb3p4eXRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMTQ0NzUsImV4cCI6MjA4MDU5MDQ3NX0.9JKTRgcYhzdQ2jaIi95PlFFj_bgg6jzJObLP9BQUHYg";function J_(){try{if(typeof localStorage<"u"){const t=localStorage.getItem("meta_proxy_override");if(t)return t}}catch{}return"https://kynwwhugwnzekrozxytj.functions.supabase.co/meta-ads-proxy"}const h3=t=>new Promise(e=>setTimeout(e,t)),m3=/(shop\s*now|imdi\s*alveri\s*yap)/i;function p3(t){return[t.ad_creative_body,t.ad_creative_link_title,t.ad_creative_link_caption,t.ad_creative_link_description,t.link_caption,t.link_description].filter(Boolean).some(r=>m3.test(r))}function g3(t){return{Authorization:t?`Bearer ${t}`:void 0}}async function rm(t,e,r=1){const a=await fetch(t,{headers:g3(e)});if(!a.ok){if(r>0&&a.status>=500)return await h3(400),rm(t,e,r-1);const s=await a.text();throw new Error(`Graph error ${a.status}: ${s}`)}return a.json()}async function v3(t){const{countries:e=[],search_terms:r=[],ad_active_status:a="ALL",media_type:s="ALL",publisher_platforms:o=[],since:c,until:f,limit:h=25,accessToken:m,after:g}=t,x=new URLSearchParams;x.set("search_type","KEYWORD_UNORDERED"),x.set("ad_type","ALL"),x.set("ad_active_status",a.toUpperCase()),x.set("media_type",s.toUpperCase()),x.set("limit",String(h)),x.set("fields",["ad_snapshot_url","page_name","page_id","ad_creative_body","ad_creative_link_title","ad_creative_link_caption","ad_creative_link_description","link_caption","link_description","publisher_platforms","impressions","delivery_by_region"].join(",")),e.length&&e.forEach((S,_)=>x.set(`ad_reached_countries[${_}]`,S)),r.length&&x.set("search_terms",r.join(" ")),o.length&&o.forEach((S,_)=>x.set(`publisher_platforms[${_}]`,S.toLowerCase())),c&&x.set("ad_delivery_date_min",c),f&&x.set("ad_delivery_date_max",f),g&&x.set("after",g);const y=`${X_}/ads_archive?${x.toString()}`,w=J_();if(w){const S=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json",apikey:$u,Authorization:`Bearer ${$u}`},body:JSON.stringify({action:"search",query:Object.fromEntries(x),after:g,countries:e,search_terms:r,publisher_platforms:o,since:c,until:f})});if(!S.ok){let _;try{_=await S.json()}catch{const F=await S.text();throw new Error(`Proxy error ${S.status}: ${F}`)}const b=_.error||"Unknown proxy error",k=_.code,O=_.details;if(k==="TOKEN_VALIDATION_ERROR"||b.includes("token")||b.includes("Token"))throw new Error(`Token hatas: ${b}. Ltfen Supabase secrets'da META_ADS_TOKEN'in doru ekilde set edildiinden emin olun.`);if(O&&O.code){const T=O.code===1?"Token geersiz veya sresi dolmu. Ltfen yeni bir token oluturun.":O.code===190?"Token sresi dolmu. Ltfen yeni bir token oluturun.":O.code===10||O.code===200?"Token yetersiz izinlere sahip. ads_read veya ads_management izinlerini kontrol edin.":"";throw new Error(`${b}${T?` ${T}`:""}${O.originalMessage?` (${O.originalMessage})`:""}`)}throw new Error(`Proxy error ${S.status}: ${b}${O?` - ${JSON.stringify(O)}`:""}`)}return S.json()}return rm(y,m)}async function x3({page_id:t,since:e,until:r,accessToken:a,limit:s=50}){const o=new URLSearchParams;o.set("search_type","PAGE"),o.set("page_ids[0]",t),o.set("ad_active_status","all"),o.set("limit",String(s)),o.set("fields","id"),e&&o.set("ad_delivery_date_min",e),r&&o.set("ad_delivery_date_max",r);const c=`${X_}/ads_archive?${o.toString()}`,f=J_();if(f){const g=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json",apikey:$u,Authorization:`Bearer ${$u}`},body:JSON.stringify({action:"count",query:Object.fromEntries(o)})});if(!g.ok){let w;try{w=await g.json()}catch{const O=await g.text();throw new Error(`Proxy error ${g.status}: ${O}`)}const S=w.error||"Unknown proxy error",_=w.code,b=w.details;if(_==="TOKEN_VALIDATION_ERROR"||S.includes("token")||S.includes("Token"))throw new Error(`Token hatas: ${S}. Ltfen Supabase secrets'da META_ADS_TOKEN'in doru ekilde set edildiinden emin olun.`);if(b&&b.code){const k=b.code===1?"Token geersiz veya sresi dolmu. Ltfen yeni bir token oluturun.":b.code===190?"Token sresi dolmu. Ltfen yeni bir token oluturun.":b.code===10||b.code===200?"Token yetersiz izinlere sahip. ads_read veya ads_management izinlerini kontrol edin.":"";throw new Error(`${S}${k?` ${k}`:""}${b.originalMessage?` (${b.originalMessage})`:""}`)}throw new Error(`Proxy error ${g.status}: ${S}${b?` - ${JSON.stringify(b)}`:""}`)}return((await g.json()).data||[]).length}return((await rm(c,a)).data||[]).length}const y3=/shop\s*now|imdi\s*alveri\s*yap/i,_3=["US","CA","GB","AU","NZ"],b3=["facebook","instagram"],w3=()=>new Date().toISOString().slice(0,10),S3=()=>{const t=new Date;return t.setDate(t.getDate()-14),t.toISOString().slice(0,10)};function E3({onPrefill:t}){const r="https://kynwwhugwnzekrozxytj.functions.supabase.co/meta-ads-proxy",[a,s]=L.useState(""),[o,c]=L.useState(""),f=!!(o||r),[h,m]=L.useState(_3.join(",")),[g,x]=L.useState(""),[y,w]=L.useState("ALL"),[S,_]=L.useState(b3.join(",")),[b,k]=L.useState("ACTIVE"),[O,T]=L.useState(S3()),[F,G]=L.useState(w3()),[K,A]=L.useState(50),[P,q]=L.useState(25),[te,ee]=L.useState(!1),[de,ye]=L.useState([]),[He,fe]=L.useState([]),X=L.useMemo(()=>h.split(",").map(D=>D.trim().toUpperCase()).filter(Boolean),[h]),pe=L.useMemo(()=>g.split(",").map(D=>D.trim()).filter(Boolean),[g]),ke=L.useMemo(()=>S.split(",").map(D=>D.trim().toLowerCase()).filter(Boolean),[S]),Me=D=>fe(H=>[`${new Date().toLocaleTimeString()}: ${D}`,...H].slice(0,30)),Q=async()=>{ee(!0),ye([]);try{let D=[],H,Z=0,me=0,be=0;for(Me(` Tarama balatld: ${pe.length} keyword, ${X.length} lke`);D.length<K;){const Ee=await v3({countries:X,search_terms:pe,ad_active_status:b,media_type:y,publisher_platforms:ke,since:O,until:F,limit:P,accessToken:a||"EAA9Y5I8p9rMBQH8Kh2Hb27yYREEhyCk7UKF72SXaNZCd8flKiIxGZCkQJ2bLhNdFNNSCn6nokezXmo2sJ0KobmvRwDPmQPYKNTqLZBb0W5RssrgZBSMzV8amJgJnnuFrPIWZBZASfoxwYmS0hUG287TMySGbZADT69BC9dJtwSzmOL0vajAD9E9ysRom2lIEJCFmA1aRjLCA2qZBb51nDxWlRzIp3tnH5fSlEkxmrsNX",after:H}),$e=Ee.data||[];Z+=$e.length,Me(` ekilen: ${$e.length}, Toplam: ${Z}`),$e.length===0&&Me(" Bu sayfada sonu yok, devam ediliyor...");const Pe=await Promise.all($e.map(async Qe=>{const le=p3(Qe)||y3.test(Qe.ad_creative_body||"");le&&me++;let at=null;try{at=await x3({page_id:Qe.page_id,since:O,until:F,accessToken:a||"EAA9Y5I8p9rMBQH8Kh2Hb27yYREEhyCk7UKF72SXaNZCd8flKiIxGZCkQJ2bLhNdFNNSCn6nokezXmo2sJ0KobmvRwDPmQPYKNTqLZBb0W5RssrgZBSMzV8amJgJnnuFrPIWZBZASfoxwYmS0hUG287TMySGbZADT69BC9dJtwSzmOL0vajAD9E9ysRom2lIEJCFmA1aRjLCA2qZBb51nDxWlRzIp3tnH5fSlEkxmrsNX",limit:50}),at>=30&&be++}catch{}return{...Qe,ctaHit:le,pageCount:at,keywordUsed:pe.join(", "),countriesUsed:X.join(", ")}}));if(D=[...D,...Pe],H=Ee.paging?.cursors?.after,!H||$e.length===0){Me(" Sayfa sonu, tarama tamamland");break}if(D.length>=K)break}Me(` zet: Toplam ${Z} reklam ekildi`),Me(` CTA bulunan: ${me} reklam`),Me(` 30+ reklam veren: ${be} sayfa`);const we=D.filter(Ee=>(Ee.pageCount??0)>=30&&Ee.ctaHit);ye(we),Me(` Final filtre sonucu: ${we.length} uygun sayfa`),we.length===0&&Z>0&&Me(" pucu: Filtreler ok sk olabilir. CTA veya 30+ reklam filtresini gevetmeyi deneyin.")}catch(D){console.error(D);const H=D.message||"Bilinmeyen hata";H.includes("token")||H.includes("Token")||H.includes("TOKEN")?(Me(` Token Hatas: ${H}`),Me(" zm: Supabase secrets'da META_ADS_TOKEN'in doru ekilde set edildiinden emin olun."),Me(" Token'n ads_read veya ads_management izinlerine sahip olduunu kontrol edin.")):Me(` Hata: ${H}`)}finally{ee(!1)}},C=D=>{ye(H=>H.filter(Z=>Z.id!==D))},R=D=>{t&&t({product_name:D.page_name||"",meta_link:D.ad_snapshot_url||"",country_code:X[0]||"",search_keyword:pe.join(", "),proof_link:D.ad_snapshot_url||"",notes:D.ad_creative_body||""});try{localStorage.setItem("meta_prefill_product",JSON.stringify({product_name:D.page_name||"",meta_link:D.ad_snapshot_url||"",country_code:X[0]||"",search_keyword:pe.join(", "),proof_link:D.ad_snapshot_url||"",notes:D.ad_creative_body||""}))}catch{}};L.useEffect(()=>{try{const D=localStorage.getItem("meta_proxy_override");D&&c(D)}catch{}},[]);const W=D=>{c(D);try{D?localStorage.setItem("meta_proxy_override",D):localStorage.removeItem("meta_proxy_override")}catch{}};return u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",marginBottom:"0.25rem"},children:[u.jsx("span",{style:{background:"var(--color-surface-muted, #f8fafc)",border:"1px solid var(--color-border)",padding:"0.25rem 0.55rem",borderRadius:"10px",fontSize:"12px",letterSpacing:"0.3px",color:"var(--color-text-main)"},children:"Otomatik Meta Tarayc"}),u.jsx("span",{style:{background:"rgba(16,185,129,0.12)",border:"1px solid rgba(16,185,129,0.25)",color:"#0f766e",padding:"0.25rem 0.55rem",borderRadius:"10px",fontSize:"12px",fontWeight:700},children:"CTA + 30+ reklam filtresi"}),f&&u.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.35rem",fontSize:"12px",color:"#0f766e",background:"#ecfdf3",padding:"0.25rem 0.55rem",borderRadius:"10px",border:"1px solid #d1fae5"},children:[u.jsx(ox,{size:12}),"Proxy aktif"]}),!f&&u.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.35rem",fontSize:"12px",color:"#1d4ed8",background:"#eef2ff",padding:"0.25rem 0.55rem",borderRadius:"10px",border:"1px solid #e0e7ff"},children:[u.jsx(ox,{size:12}),"Env token"]})]}),u.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:700,color:"var(--color-text-main)"},children:`14 gnde "Shop now/imdi alveri yap" CTA'sn yakalayan sayfalar bul`})]}),u.jsx("button",{onClick:()=>{ye([]),fe([])},style:{padding:"0.5rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",background:"white",color:"var(--color-text-main)",fontWeight:600,fontSize:"13px"},children:"Temizle"})]}),u.jsx("div",{id:"meta-scanner-form",style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",marginBottom:"0.75rem",maxHeight:"50vh",overflowY:"auto"},children:u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"lkeler (virglle)"}),u.jsx("input",{type:"text",value:h,onChange:D=>m(D.target.value),placeholder:"US,CA,GB",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Keywords (virglle)"}),u.jsx("input",{type:"text",value:g,onChange:D=>x(D.target.value),placeholder:"shop now, buy now",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Platformlar"}),u.jsx("input",{type:"text",value:S,onChange:D=>_(D.target.value),placeholder:"facebook,instagram",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Media Type"}),u.jsxs("select",{value:y,onChange:D=>w(D.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"},children:[u.jsx("option",{value:"ALL",children:"ALL"}),u.jsx("option",{value:"VIDEO",children:"VIDEO"}),u.jsx("option",{value:"IMAGE",children:"IMAGE"})]})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Status"}),u.jsxs("select",{value:b,onChange:D=>k(D.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"},children:[u.jsx("option",{value:"ALL",children:"ALL"}),u.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),u.jsx("option",{value:"INACTIVE",children:"INACTIVE"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Tarih (Min)"}),u.jsx("input",{type:"date",value:O,onChange:D=>T(D.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Tarih (Max)"}),u.jsx("input",{type:"date",value:F,onChange:D=>G(D.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Hedef Adet"}),u.jsx("input",{type:"number",value:K,onChange:D=>A(parseInt(D.target.value)||0),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Sayfa Bana Limit"}),u.jsx("input",{type:"number",value:P,onChange:D=>q(parseInt(D.target.value)||25),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]}),!1,u.jsxs("div",{children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.35rem",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:[u.jsx(q5,{size:12}),"Proxy URL (istee bal)"]}),u.jsx("input",{type:"text",value:o,onChange:D=>W(D.target.value),placeholder:r,style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px",background:"white"}})]})]}),!1]})}),u.jsx("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"0.75rem"},children:u.jsxs("button",{onClick:Q,className:"primary",disabled:te||!f&&!1,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1.1rem",borderRadius:"var(--radius-sm)",fontSize:"14px",fontWeight:600},children:[te?u.jsx(Kr,{size:16,className:"spin"}):u.jsx(Zh,{size:16}),"Taramay Balat"]})}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"0.75rem"},children:de.map(D=>u.jsxs("div",{className:"glass-panel",style:{padding:"0.85rem",borderRadius:"14px",border:"1px solid var(--color-border)",position:"relative"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"0.5rem"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:"700",fontSize:"15px"},children:D.page_name||"Bilinmeyen Sayfa"}),u.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:["Page ID: ",D.page_id]}),u.jsxs("div",{style:{display:"flex",gap:"0.35rem",flexWrap:"wrap",marginTop:"0.35rem",fontSize:"11px"},children:[u.jsxs("span",{style:{background:"rgba(16,185,129,0.1)",color:"var(--color-success)",padding:"0.2rem 0.4rem",borderRadius:"8px",fontWeight:700},children:[D.pageCount??"?"," ads /14g"]}),D.ctaHit?u.jsx("span",{style:{background:"rgba(139,92,246,0.12)",color:"var(--color-primary)",padding:"0.2rem 0.4rem",borderRadius:"8px",fontWeight:700},children:"CTA bulundu"}):u.jsx("span",{style:{background:"rgba(239,68,68,0.1)",color:"var(--color-error)",padding:"0.2rem 0.4rem",borderRadius:"8px",fontWeight:700},children:"CTA yok"}),u.jsx("span",{style:{background:"rgba(59,130,246,0.1)",color:"#2563eb",padding:"0.2rem 0.4rem",borderRadius:"8px",fontWeight:700},children:D.countriesUsed}),u.jsx("span",{style:{background:"rgba(16,185,129,0.1)",color:"#0f766e",padding:"0.2rem 0.4rem",borderRadius:"8px",fontWeight:700},children:D.keywordUsed})]})]}),u.jsxs("div",{style:{display:"flex",gap:"0.35rem"},children:[u.jsx("a",{href:D.ad_snapshot_url,target:"_blank",rel:"noreferrer",title:"Snapshot",style:{padding:"0.35rem",borderRadius:"10px",border:"1px solid var(--color-border)",background:"white"},children:u.jsx(ea,{size:14})}),u.jsx("button",{onClick:()=>C(D.id),style:{padding:"0.35rem",borderRadius:"10px",border:"1px solid var(--color-border)",background:"white"},children:u.jsx(ta,{size:14})})]})]}),u.jsx("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"var(--color-text-muted)",maxHeight:"70px",overflow:"auto"},children:D.ad_creative_body||"Metin yok"}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.65rem"},children:[u.jsxs("button",{onClick:()=>R(D),className:"primary",style:{flex:1,padding:"0.55rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.35rem"},children:[u.jsx(F_,{size:14}),"Taslaa ekle"]}),u.jsx("button",{onClick:()=>C(D.id),style:{padding:"0.55rem",border:"1px solid var(--color-border)",borderRadius:"10px",background:"white",fontWeight:"600"},children:"Sil"})]})]},D.id))}),u.jsxs("div",{style:{marginTop:"1rem"},children:[u.jsx("div",{className:"eyebrow",children:"Log"}),u.jsx("div",{style:{maxHeight:"120px",overflow:"auto",fontSize:"12px",color:"var(--color-text-muted)",padding:"0.5rem",border:"1px solid var(--color-border)",borderRadius:"10px",background:"white"},children:He.length===0?"Henz log yok":He.map((D,H)=>u.jsx("div",{children:D},H))})]})]})}function T3({product:t,onEdit:e,currentUserId:r,unreadCount:a=0,isNew:s=!1,firstSeenAt:o=null}){typeof t.scores=="string"?JSON.parse(t.scores):t.scores;const c=x=>x>=4?"var(--color-success)":x>=3?"var(--color-warning)":"var(--color-error)",f=t.app_users||{},h=t.user_id===r,m=f.username||f.full_name||"Bilinmeyen",g=t.created_at?new Date(t.created_at).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return u.jsxs("div",{style:{padding:"1.25rem",border:s?"2px solid rgba(139, 92, 246, 0.3)":"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:s?"linear-gradient(135deg, rgba(139, 92, 246, 0.02), rgba(99, 102, 241, 0.02))":"white",transition:"all var(--transition-fast)",cursor:"pointer",position:"relative",boxShadow:s?"0 0 0 1px rgba(139, 92, 246, 0.1), 0 4px 12px rgba(139, 92, 246, 0.15)":"none",animation:s?"pulseGlow 2s ease-in-out infinite":"none"},onMouseEnter:x=>{s||(x.currentTarget.style.borderColor="var(--color-primary)",x.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:x=>{s||(x.currentTarget.style.borderColor="var(--color-border)",x.currentTarget.style.boxShadow="none")},onClick:e,children:[s&&u.jsx("div",{style:{position:"absolute",top:"8px",left:"8px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",color:"white",borderRadius:"8px",padding:"0.25rem 0.5rem",fontSize:"10px",fontWeight:"700",display:"inline-flex",alignItems:"center",gap:"0.25rem",boxShadow:"0 2px 8px rgba(139, 92, 246, 0.4)",zIndex:10,animation:"pulse 2s ease-in-out infinite"},children:"YEN"}),a>0&&u.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",background:"var(--color-primary)",color:"white",borderRadius:"12px",padding:"0.15rem 0.45rem",fontSize:"11px",fontWeight:"700",display:"inline-flex",alignItems:"center",gap:"0.25rem",boxShadow:"0 2px 6px rgba(0,0,0,0.12)",zIndex:10},children:[u.jsx(H_,{size:12}),a]}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.image_url&&u.jsx("img",{src:t.image_url,alt:t.product_name,style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-border)"},onError:x=>{x.target.style.display="none"}}),u.jsxs("div",{style:{flex:1,minWidth:0},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:t.product_name||"simsiz rn"}),!h&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",background:"rgba(139, 92, 246, 0.1)",borderRadius:"var(--radius-sm)",fontSize:"11px",fontWeight:"600",color:"var(--color-primary)",marginLeft:"0.5rem",flexShrink:0},children:[u.jsx(BA,{size:12}),m]}),h&&u.jsx("div",{style:{padding:"0.25rem 0.5rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"var(--radius-sm)",fontSize:"11px",fontWeight:"600",color:"var(--color-success)",marginLeft:"0.5rem",flexShrink:0},children:"Benim"})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[u.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"13px",color:"var(--color-text-muted)"},children:g&&u.jsx("span",{children:g})}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"14px",flexWrap:"wrap"},children:[u.jsx("span",{style:{color:"var(--color-text-muted)"},children:"Reklam Says:"}),u.jsx("span",{style:{fontWeight:"600"},children:t.ad_count??"-"}),t.ad_count>30&&u.jsx("span",{style:{padding:"0.25rem 0.5rem",background:"rgba(16, 185, 129, 0.1)",color:"var(--color-success)",borderRadius:"var(--radius-sm)",fontSize:"12px",fontWeight:"600"},children:" Markalama Sinyali"}),t.country_code&&u.jsx("span",{style:{fontSize:"12px",color:"var(--color-text-muted)",background:"rgba(59,130,246,0.08)",padding:"0.2rem 0.4rem",borderRadius:"8px"},children:t.country_code}),t.search_keyword&&u.jsx("span",{style:{fontSize:"12px",color:"var(--color-text-muted)",background:"rgba(16,185,129,0.08)",padding:"0.2rem 0.4rem",borderRadius:"8px"},children:t.search_keyword})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"14px"},children:[u.jsx("span",{style:{color:"var(--color-text-muted)"},children:"Potansiyel Skoru:"}),u.jsxs("span",{style:{fontWeight:"700",fontSize:"16px",color:c(t.potential_score)},children:[t.potential_score?.toFixed(1)||"0.0","/5"]})]}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",fontSize:"12px"},children:[t.meta_link&&u.jsxs("a",{href:t.meta_link,target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none"},children:[u.jsx(ea,{size:14}),"Meta"]}),t.image_url&&u.jsxs("a",{href:t.image_url,target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none"},children:[u.jsx(ea,{size:14}),"rn Sat Linki"]}),t.trendyol_link&&u.jsxs("a",{href:t.trendyol_link,target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none"},children:[u.jsx(ea,{size:14}),"Trendyol"]}),t.amazon_link&&u.jsxs("a",{href:t.amazon_link,target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none"},children:[u.jsx(ea,{size:14}),"Amazon"]})]})]})]})]}),u.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.8;
            transform: scale(1.05);
          }
        }
        @keyframes pulseGlow {
          0%, 100% {
            box-shadow: 0 0 0 1px rgba(139, 92, 246, 0.1), 0 4px 12px rgba(139, 92, 246, 0.15);
          }
          50% {
            box-shadow: 0 0 0 1px rgba(139, 92, 246, 0.2), 0 4px 16px rgba(139, 92, 246, 0.25);
          }
        }
      `})]})}var Gu={};Gu.version="0.18.5";var Q_=1252,k3=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Z_=function(t){k3.indexOf(t)!=-1&&(Q_=t)};function A3(){Z_(1252)}var Co=function(t){Z_(t)};function j3(){Co(1200),A3()}var pu=function(e){return String.fromCharCode(e)},cx=function(e){return String.fromCharCode(e)},qu,hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ro(t){for(var e="",r=0,a=0,s=0,o=0,c=0,f=0,h=0,m=0;m<t.length;)r=t.charCodeAt(m++),o=r>>2,a=t.charCodeAt(m++),c=(r&3)<<4|a>>4,s=t.charCodeAt(m++),f=(a&15)<<2|s>>6,h=s&63,isNaN(a)?f=h=64:isNaN(s)&&(h=64),e+=hi.charAt(o)+hi.charAt(c)+hi.charAt(f)+hi.charAt(h);return e}function La(t){var e="",r=0,a=0,s=0,o=0,c=0,f=0,h=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var m=0;m<t.length;)o=hi.indexOf(t.charAt(m++)),c=hi.indexOf(t.charAt(m++)),r=o<<2|c>>4,e+=String.fromCharCode(r),f=hi.indexOf(t.charAt(m++)),a=(c&15)<<4|f>>2,f!==64&&(e+=String.fromCharCode(a)),h=hi.indexOf(t.charAt(m++)),s=(f&3)<<6|h,h!==64&&(e+=String.fromCharCode(s));return e}var mt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ba=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Zi(t){return mt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function ux(t){return mt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Un=function(e){return mt?Ba(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function pd(t){if(typeof ArrayBuffer>"u")return Un(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),a=0;a!=t.length;++a)r[a]=t.charCodeAt(a)&255;return e}function Ho(t){if(Array.isArray(t))return t.map(function(a){return String.fromCharCode(a)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function C3(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var xr=mt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ba(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var a=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)a.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";a.set(new Uint8Array(t[e]),r)}return a}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function R3(t){for(var e=[],r=0,a=t.length+250,s=Zi(t.length+255),o=0;o<t.length;++o){var c=t.charCodeAt(o);if(c<128)s[r++]=c;else if(c<2048)s[r++]=192|c>>6&31,s[r++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var f=t.charCodeAt(++o)&1023;s[r++]=240|c>>8&7,s[r++]=128|c>>2&63,s[r++]=128|f>>6&15|(c&3)<<4,s[r++]=128|f&63}else s[r++]=224|c>>12&15,s[r++]=128|c>>6&63,s[r++]=128|c&63;r>a&&(e.push(s.slice(0,r)),r=0,s=Zi(65535),a=65530)}return e.push(s.slice(0,r)),xr(e)}var _o=/\u0000/g,gu=/[\u0001-\u0006]/g;function nl(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Pn(t,e){var r=""+t;return r.length>=e?r:Ht("0",e-r.length)+r}function nm(t,e){var r=""+t;return r.length>=e?r:Ht(" ",e-r.length)+r}function Wu(t,e){var r=""+t;return r.length>=e?r:r+Ht(" ",e-r.length)}function O3(t,e){var r=""+Math.round(t);return r.length>=e?r:Ht("0",e-r.length)+r}function N3(t,e){var r=""+t;return r.length>=e?r:Ht("0",e-r.length)+r}var dx=Math.pow(2,32);function Ks(t,e){if(t>dx||t<-dx)return O3(t,e);var r=Math.round(t);return N3(r,e)}function Vu(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var fx=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],K0=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function D3(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var $t={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},hx={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},M3={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ku(t,e,r){for(var a=t<0?-1:1,s=t*a,o=0,c=1,f=0,h=1,m=0,g=0,x=Math.floor(s);m<e&&(x=Math.floor(s),f=x*c+o,g=x*m+h,!(s-x<5e-8));)s=1/(s-x),o=c,c=f,h=m,m=g;if(g>e&&(m>e?(g=h,f=o):(g=m,f=c)),!r)return[0,a*f,g];var y=Math.floor(a*f/g);return[y,a*f-y*g,g]}function vu(t,e,r){if(t>2958465||t<0)return null;var a=t|0,s=Math.floor(86400*(t-a)),o=0,c=[],f={D:a,T:s,u:86400*(t-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6&&(f.u=0),e&&e.date1904&&(a+=1462),f.u>.9999&&(f.u=0,++s==86400&&(f.T=s=0,++a,++f.D)),a===60)c=r?[1317,10,29]:[1900,2,29],o=3;else if(a===0)c=r?[1317,8,29]:[1900,1,0],o=6;else{a>60&&--a;var h=new Date(1900,0,1);h.setDate(h.getDate()+a-1),c=[h.getFullYear(),h.getMonth()+1,h.getDate()],o=h.getDay(),a<60&&(o=(o+6)%7),r&&(o=P3(h,c))}return f.y=c[0],f.m=c[1],f.d=c[2],f.S=s%60,s=Math.floor(s/60),f.M=s%60,s=Math.floor(s/60),f.H=s,f.q=o,f}var e2=new Date(1899,11,31,0,0,0),L3=e2.getTime(),z3=new Date(1900,2,1,0,0,0);function t2(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=z3&&(r+=1440*60*1e3),(r-(L3+(t.getTimezoneOffset()-e2.getTimezoneOffset())*6e4))/(1440*60*1e3)}function am(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function F3(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function B3(t){var e=t<0?12:11,r=am(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function I3(t){var e=am(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function U3(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=B3(t):e===10?r=t.toFixed(10).substr(0,12):r=I3(t),am(F3(r.toUpperCase()))}function Ah(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):U3(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return pi(14,t2(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function P3(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function H3(t,e,r,a){var s="",o=0,c=0,f=r.y,h,m=0;switch(t){case 98:f=r.y+543;case 121:switch(e.length){case 1:case 2:h=f%100,m=2;break;default:h=f%1e4,m=4;break}break;case 109:switch(e.length){case 1:case 2:h=r.m,m=e.length;break;case 3:return K0[r.m-1][1];case 5:return K0[r.m-1][0];default:return K0[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=r.d,m=e.length;break;case 3:return fx[r.q][0];default:return fx[r.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(r.H+11)%12,m=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=r.H,m=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=r.M,m=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Pn(r.S,e.length):(a>=2?c=a===3?1e3:100:c=a===1?10:1,o=Math.round(c*(r.S+r.u)),o>=60*c&&(o=0),e==="s"?o===0?"0":""+o/c:(s=Pn(o,2+a),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=r.D*24+r.H;break;case"[m]":case"[mm]":h=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":h=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}m=e.length===3?1:2;break;case 101:h=f,m=1;break}var g=m>0?Pn(h,m):"";return g}function mi(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,a=t.substr(0,r);r!=t.length;r+=e)a+=(a.length>0?",":"")+t.substr(r,e);return a}var r2=/%/g;function $3(t,e,r){var a=e.replace(r2,""),s=e.length-a.length;return Oa(t,a,r*Math.pow(10,2*s))+Ht("%",s)}function G3(t,e,r){for(var a=e.length-1;e.charCodeAt(a-1)===44;)--a;return Oa(t,e.substr(0,a),r/Math.pow(10,3*(e.length-a)))}function n2(t,e){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+n2(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%s;if(o<0&&(o+=s),r=(e/Math.pow(10,o)).toPrecision(a+1+(s+o)%s),r.indexOf("e")===-1){var c=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+o):r+="E+"+(c-o);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,m,g){return h+m+g.substr(0,(s+o)%s)+"."+g.substr(o)+"E"})}else r=e.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var a2=/# (\?+)( ?)\/( ?)(\d+)/;function q3(t,e,r){var a=parseInt(t[4],10),s=Math.round(e*a),o=Math.floor(s/a),c=s-o*a,f=a;return r+(o===0?"":""+o)+" "+(c===0?Ht(" ",t[1].length+1+t[4].length):nm(c,t[1].length)+t[2]+"/"+t[3]+Pn(f,t[4].length))}function W3(t,e,r){return r+(e===0?"":""+e)+Ht(" ",t[1].length+2+t[4].length)}var i2=/^#*0*\.([0#]+)/,s2=/\).*[0#]/,l2=/\(###\) ###\\?-####/;function Nr(t){for(var e="",r,a=0;a!=t.length;++a)switch(r=t.charCodeAt(a)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function mx(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function px(t,e){var r=t-Math.floor(t),a=Math.pow(10,e);return e<(""+Math.round(r*a)).length?0:Math.round(r*a)}function V3(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function K3(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Tn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(s2)){var a=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Tn("n",a,r):"("+Tn("n",a,-r)+")"}if(e.charCodeAt(e.length-1)===44)return G3(t,e,r);if(e.indexOf("%")!==-1)return $3(t,e,r);if(e.indexOf("E")!==-1)return n2(e,r);if(e.charCodeAt(0)===36)return"$"+Tn(t,e.substr(e.charAt(1)==" "?2:1),r);var s,o,c,f,h=Math.abs(r),m=r<0?"-":"";if(e.match(/^00+$/))return m+Ks(h,e.length);if(e.match(/^[#?]+$/))return s=Ks(r,0),s==="0"&&(s=""),s.length>e.length?s:Nr(e.substr(0,e.length-s.length))+s;if(o=e.match(a2))return q3(o,h,m);if(e.match(/^#+0+$/))return m+Ks(h,e.length-e.indexOf("0"));if(o=e.match(i2))return s=mx(r,o[1].length).replace(/^([^\.]+)$/,"$1."+Nr(o[1])).replace(/\.$/,"."+Nr(o[1])).replace(/\.(\d*)$/,function(S,_){return"."+_+Ht("0",Nr(o[1]).length-_.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return m+mx(h,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return m+mi(Ks(h,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Tn(t,e,-r):mi(""+(Math.floor(r)+V3(r,o[1].length)))+"."+Pn(px(r,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return Tn(t,e.replace(/^#,#*,/,""),r);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=nl(Tn(t,e.replace(/[\\-]/g,""),r)),c=0,nl(nl(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return c<s.length?s.charAt(c++):S==="0"?"0":""}));if(e.match(l2))return s=Tn(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var g="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),f=Ku(h,Math.pow(10,c)-1,!1),s=""+m,g=Oa("n",o[1],f[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),s+=g+o[2]+"/"+o[3],g=Wu(f[2],c),g.length<o[4].length&&(g=Nr(o[4].substr(o[4].length-g.length))+g),s+=g,s;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),f=Ku(h,Math.pow(10,c)-1,!0),m+(f[0]||(f[1]?"":"0"))+" "+(f[1]?nm(f[1],c)+o[2]+"/"+o[3]+Wu(f[2],c):Ht(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return s=Ks(r,0),e.length<=s.length?s:Nr(e.substr(0,e.length-s.length))+s;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=s.indexOf(".");var x=e.indexOf(".")-c,y=e.length-s.length-x;return Nr(e.substr(0,x)+s+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return c=px(r,o[1].length),r<0?"-"+Tn(t,e,-r):mi(K3(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Pn(0,3-S.length):"")+S})+"."+Pn(c,o[1].length);switch(e){case"###,##0.00":return Tn(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var w=mi(Ks(h,0));return w!=="0"?m+w:"";case"###,###.00":return Tn(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Tn(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Y3(t,e,r){for(var a=e.length-1;e.charCodeAt(a-1)===44;)--a;return Oa(t,e.substr(0,a),r/Math.pow(10,3*(e.length-a)))}function X3(t,e,r){var a=e.replace(r2,""),s=e.length-a.length;return Oa(t,a,r*Math.pow(10,2*s))+Ht("%",s)}function o2(t,e){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+o2(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%s;if(o<0&&(o+=s),r=(e/Math.pow(10,o)).toPrecision(a+1+(s+o)%s),!r.match(/[Ee]/)){var c=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+o):r+="E+"+(c-o),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,m,g){return h+m+g.substr(0,(s+o)%s)+"."+g.substr(o)+"E"})}else r=e.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Jn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(s2)){var a=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Jn("n",a,r):"("+Jn("n",a,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Y3(t,e,r);if(e.indexOf("%")!==-1)return X3(t,e,r);if(e.indexOf("E")!==-1)return o2(e,r);if(e.charCodeAt(0)===36)return"$"+Jn(t,e.substr(e.charAt(1)==" "?2:1),r);var s,o,c,f,h=Math.abs(r),m=r<0?"-":"";if(e.match(/^00+$/))return m+Pn(h,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:Nr(e.substr(0,e.length-s.length))+s;if(o=e.match(a2))return W3(o,h,m);if(e.match(/^#+0+$/))return m+Pn(h,e.length-e.indexOf("0"));if(o=e.match(i2))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Nr(o[1])).replace(/\.$/,"."+Nr(o[1])),s=s.replace(/\.(\d*)$/,function(S,_){return"."+_+Ht("0",Nr(o[1]).length-_.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return m+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return m+mi(""+h);if(o=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Jn(t,e,-r):mi(""+r)+"."+Ht("0",o[1].length);if(o=e.match(/^#,#*,#0/))return Jn(t,e.replace(/^#,#*,/,""),r);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=nl(Jn(t,e.replace(/[\\-]/g,""),r)),c=0,nl(nl(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return c<s.length?s.charAt(c++):S==="0"?"0":""}));if(e.match(l2))return s=Jn(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var g="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),f=Ku(h,Math.pow(10,c)-1,!1),s=""+m,g=Oa("n",o[1],f[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),s+=g+o[2]+"/"+o[3],g=Wu(f[2],c),g.length<o[4].length&&(g=Nr(o[4].substr(o[4].length-g.length))+g),s+=g,s;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),f=Ku(h,Math.pow(10,c)-1,!0),m+(f[0]||(f[1]?"":"0"))+" "+(f[1]?nm(f[1],c)+o[2]+"/"+o[3]+Wu(f[2],c):Ht(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:Nr(e.substr(0,e.length-s.length))+s;if(o=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=s.indexOf(".");var x=e.indexOf(".")-c,y=e.length-s.length-x;return Nr(e.substr(0,x)+s+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Jn(t,e,-r):mi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Pn(0,3-S.length):"")+S})+"."+Pn(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var w=mi(""+h);return w!=="0"?m+w:"";default:if(e.match(/\.[0#?]*$/))return Jn(t,e.slice(0,e.lastIndexOf(".")),r)+Nr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Oa(t,e,r){return(r|0)===r?Jn(t,e,r):Tn(t,e,r)}function J3(t){for(var e=[],r=!1,a=0,s=0;a<t.length;++a)switch(t.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:e[e.length]=t.substr(s,a-s),s=a+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var c2=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function u2(t){for(var e=0,r="",a="";e<t.length;)switch(r=t.charAt(e)){case"G":Vu(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(a=r;t.charAt(e++)!=="]"&&e<t.length;)a+=t.charAt(e);if(a.match(c2))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Q3(t,e,r,a){for(var s=[],o="",c=0,f="",h="t",m,g,x,y="H";c<t.length;)switch(f=t.charAt(c)){case"G":if(!Vu(t,c))throw new Error("unrecognized character "+f+" in "+t);s[s.length]={t:"G",v:"General"},c+=7;break;case'"':for(o="";(x=t.charCodeAt(++c))!==34&&c<t.length;)o+=String.fromCharCode(x);s[s.length]={t:"t",v:o},++c;break;case"\\":var w=t.charAt(++c),S=w==="("||w===")"?w:"t";s[s.length]={t:S,v:w},++c;break;case"_":s[s.length]={t:"t",v:" "},c+=2;break;case"@":s[s.length]={t:"T",v:e},++c;break;case"B":case"b":if(t.charAt(c+1)==="1"||t.charAt(c+1)==="2"){if(m==null&&(m=vu(e,r,t.charAt(c+1)==="2"),m==null))return"";s[s.length]={t:"X",v:t.substr(c,2)},h=f,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||m==null&&(m=vu(e,r),m==null))return"";for(o=f;++c<t.length&&t.charAt(c).toLowerCase()===f;)o+=f;f==="m"&&h.toLowerCase()==="h"&&(f="M"),f==="h"&&(f=y),s[s.length]={t:f,v:o},h=f;break;case"A":case"a":case"":var _={t:f,v:f};if(m==null&&(m=vu(e,r)),t.substr(c,3).toUpperCase()==="A/P"?(m!=null&&(_.v=m.H>=12?"P":"A"),_.t="T",y="h",c+=3):t.substr(c,5).toUpperCase()==="AM/PM"?(m!=null&&(_.v=m.H>=12?"PM":"AM"),_.t="T",c+=5,y="h"):t.substr(c,5).toUpperCase()==="/"?(m!=null&&(_.v=m.H>=12?"":""),_.t="T",c+=5,y="h"):(_.t="t",++c),m==null&&_.t==="T")return"";s[s.length]=_,h=f;break;case"[":for(o=f;t.charAt(c++)!=="]"&&c<t.length;)o+=t.charAt(c);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(c2)){if(m==null&&(m=vu(e,r),m==null))return"";s[s.length]={t:"Z",v:o.toLowerCase()},h=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",u2(t)||(s[s.length]={t:"t",v:o}));break;case".":if(m!=null){for(o=f;++c<t.length&&(f=t.charAt(c))==="0";)o+=f;s[s.length]={t:"s",v:o};break}case"0":case"#":for(o=f;++c<t.length&&"0#?.,E+-%".indexOf(f=t.charAt(c))>-1;)o+=f;s[s.length]={t:"n",v:o};break;case"?":for(o=f;t.charAt(++c)===f;)o+=f;s[s.length]={t:f,v:o},h=f;break;case"*":++c,(t.charAt(c)==" "||t.charAt(c)=="*")&&++c;break;case"(":case")":s[s.length]={t:a===1?"t":f,v:f},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=f;c<t.length&&"0123456789".indexOf(t.charAt(++c))>-1;)o+=t.charAt(c);s[s.length]={t:"D",v:o};break;case" ":s[s.length]={t:f,v:f},++c;break;case"$":s[s.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+t);s[s.length]={t:"t",v:f},++c;break}var b=0,k=0,O;for(c=s.length-1,h="t";c>=0;--c)switch(s[c].t){case"h":case"H":s[c].t=y,h="h",b<1&&(b=1);break;case"s":(O=s[c].v.match(/\.0+$/))&&(k=Math.max(k,O[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":h=s[c].t;break;case"m":h==="s"&&(s[c].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&s[c].v.match(/[Hh]/)&&(b=1),b<2&&s[c].v.match(/[Mm]/)&&(b=2),b<3&&s[c].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M),m.M>=60&&(m.M=0,++m.H);break;case 2:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M);break}var T="",F;for(c=0;c<s.length;++c)switch(s[c].t){case"t":case"T":case" ":case"D":break;case"X":s[c].v="",s[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[c].v=H3(s[c].t.charCodeAt(0),s[c].v,m,k),s[c].t="t";break;case"n":case"?":for(F=c+1;s[F]!=null&&((f=s[F].t)==="?"||f==="D"||(f===" "||f==="t")&&s[F+1]!=null&&(s[F+1].t==="?"||s[F+1].t==="t"&&s[F+1].v==="/")||s[c].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(s[F].v==="/"||s[F].v===" "&&s[F+1]!=null&&s[F+1].t=="?"));)s[c].v+=s[F].v,s[F]={v:"",t:";"},++F;T+=s[c].v,c=F-1;break;case"G":s[c].t="t",s[c].v=Ah(e,r);break}var G="",K,A;if(T.length>0){T.charCodeAt(0)==40?(K=e<0&&T.charCodeAt(0)===45?-e:e,A=Oa("n",T,K)):(K=e<0&&a>1?-e:e,A=Oa("n",T,K),K<0&&s[0]&&s[0].t=="t"&&(A=A.substr(1),s[0].v="-"+s[0].v)),F=A.length-1;var P=s.length;for(c=0;c<s.length;++c)if(s[c]!=null&&s[c].t!="t"&&s[c].v.indexOf(".")>-1){P=c;break}var q=s.length;if(P===s.length&&A.indexOf("E")===-1){for(c=s.length-1;c>=0;--c)s[c]==null||"n?".indexOf(s[c].t)===-1||(F>=s[c].v.length-1?(F-=s[c].v.length,s[c].v=A.substr(F+1,s[c].v.length)):F<0?s[c].v="":(s[c].v=A.substr(0,F+1),F=-1),s[c].t="t",q=c);F>=0&&q<s.length&&(s[q].v=A.substr(0,F+1)+s[q].v)}else if(P!==s.length&&A.indexOf("E")===-1){for(F=A.indexOf(".")-1,c=P;c>=0;--c)if(!(s[c]==null||"n?".indexOf(s[c].t)===-1)){for(g=s[c].v.indexOf(".")>-1&&c===P?s[c].v.indexOf(".")-1:s[c].v.length-1,G=s[c].v.substr(g+1);g>=0;--g)F>=0&&(s[c].v.charAt(g)==="0"||s[c].v.charAt(g)==="#")&&(G=A.charAt(F--)+G);s[c].v=G,s[c].t="t",q=c}for(F>=0&&q<s.length&&(s[q].v=A.substr(0,F+1)+s[q].v),F=A.indexOf(".")+1,c=P;c<s.length;++c)if(!(s[c]==null||"n?(".indexOf(s[c].t)===-1&&c!==P)){for(g=s[c].v.indexOf(".")>-1&&c===P?s[c].v.indexOf(".")+1:0,G=s[c].v.substr(0,g);g<s[c].v.length;++g)F<A.length&&(G+=A.charAt(F++));s[c].v=G,s[c].t="t",q=c}}}for(c=0;c<s.length;++c)s[c]!=null&&"n?".indexOf(s[c].t)>-1&&(K=a>1&&e<0&&c>0&&s[c-1].v==="-"?-e:e,s[c].v=Oa(s[c].t,s[c].v,K),s[c].t="t");var te="";for(c=0;c!==s.length;++c)s[c]!=null&&(te+=s[c].v);return te}var gx=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function vx(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function Z3(t,e){var r=J3(t),a=r.length,s=r[a-1].indexOf("@");if(a<4&&s>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var o=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,o];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var c=r[0].match(gx),f=r[1].match(gx);return vx(e,c)?[a,r[0]]:vx(e,f)?[a,r[1]]:[a,r[c!=null&&f!=null?2:1]]}return[a,o]}function pi(t,e,r){r==null&&(r={});var a="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?a=r.dateNF:a=t;break;case"number":t==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:$t)[t],a==null&&(a=r.table&&r.table[hx[t]]||$t[hx[t]]),a==null&&(a=M3[t]||"General");break}if(Vu(a,0))return Ah(e,r);e instanceof Date&&(e=t2(e,r.date1904));var s=Z3(a,e);if(Vu(s[1]))return Ah(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Q3(s[1],e,r,s[0])}function d2(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if($t[r]==null){e<0&&(e=r);continue}if($t[r]==t){e=r;break}}e<0&&(e=391)}return $t[e]=t,e}function gd(t){for(var e=0;e!=392;++e)t[e]!==void 0&&d2(t[e],e)}function vd(){$t=D3()}var f2=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function ej(t){var e=typeof t=="number"?$t[t]:t;return e=e.replace(f2,"(\\d+)"),new RegExp("^"+e+"$")}function tj(t,e,r){var a=-1,s=-1,o=-1,c=-1,f=-1,h=-1;(e.match(f2)||[]).forEach(function(x,y){var w=parseInt(r[y+1],10);switch(x.toLowerCase().charAt(0)){case"y":a=w;break;case"d":o=w;break;case"h":c=w;break;case"s":h=w;break;case"m":c>=0?f=w:s=w;break}}),h>=0&&f==-1&&s>=0&&(f=s,s=-1);var m=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);m.length==7&&(m="0"+m),m.length==8&&(m="20"+m);var g=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return c==-1&&f==-1&&h==-1?m:a==-1&&s==-1&&o==-1?g:m+"T"+g}var rj=(function(){var t={};t.version="1.2.0";function e(){for(var A=0,P=new Array(256),q=0;q!=256;++q)A=q,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,P[q]=A;return typeof Int32Array<"u"?new Int32Array(P):P}var r=e();function a(A){var P=0,q=0,te=0,ee=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(te=0;te!=256;++te)ee[te]=A[te];for(te=0;te!=256;++te)for(q=A[te],P=256+te;P<4096;P+=256)q=ee[P]=q>>>8^A[q&255];var de=[];for(te=1;te!=16;++te)de[te-1]=typeof Int32Array<"u"?ee.subarray(te*256,te*256+256):ee.slice(te*256,te*256+256);return de}var s=a(r),o=s[0],c=s[1],f=s[2],h=s[3],m=s[4],g=s[5],x=s[6],y=s[7],w=s[8],S=s[9],_=s[10],b=s[11],k=s[12],O=s[13],T=s[14];function F(A,P){for(var q=P^-1,te=0,ee=A.length;te<ee;)q=q>>>8^r[(q^A.charCodeAt(te++))&255];return~q}function G(A,P){for(var q=P^-1,te=A.length-15,ee=0;ee<te;)q=T[A[ee++]^q&255]^O[A[ee++]^q>>8&255]^k[A[ee++]^q>>16&255]^b[A[ee++]^q>>>24]^_[A[ee++]]^S[A[ee++]]^w[A[ee++]]^y[A[ee++]]^x[A[ee++]]^g[A[ee++]]^m[A[ee++]]^h[A[ee++]]^f[A[ee++]]^c[A[ee++]]^o[A[ee++]]^r[A[ee++]];for(te+=15;ee<te;)q=q>>>8^r[(q^A[ee++])&255];return~q}function K(A,P){for(var q=P^-1,te=0,ee=A.length,de=0,ye=0;te<ee;)de=A.charCodeAt(te++),de<128?q=q>>>8^r[(q^de)&255]:de<2048?(q=q>>>8^r[(q^(192|de>>6&31))&255],q=q>>>8^r[(q^(128|de&63))&255]):de>=55296&&de<57344?(de=(de&1023)+64,ye=A.charCodeAt(te++)&1023,q=q>>>8^r[(q^(240|de>>8&7))&255],q=q>>>8^r[(q^(128|de>>2&63))&255],q=q>>>8^r[(q^(128|ye>>6&15|(de&3)<<4))&255],q=q>>>8^r[(q^(128|ye&63))&255]):(q=q>>>8^r[(q^(224|de>>12&15))&255],q=q>>>8^r[(q^(128|de>>6&63))&255],q=q>>>8^r[(q^(128|de&63))&255]);return~q}return t.table=r,t.bstr=F,t.buf=G,t.str=K,t})(),kt=(function(){var e={};e.version="1.2.1";function r(j,B){for(var N=j.split("/"),z=B.split("/"),U=0,I=0,se=Math.min(N.length,z.length);U<se;++U){if(I=N[U].length-z[U].length)return I;if(N[U]!=z[U])return N[U]<z[U]?-1:1}return N.length-z.length}function a(j){if(j.charAt(j.length-1)=="/")return j.slice(0,-1).indexOf("/")===-1?j:a(j.slice(0,-1));var B=j.lastIndexOf("/");return B===-1?j:j.slice(0,B+1)}function s(j){if(j.charAt(j.length-1)=="/")return s(j.slice(0,-1));var B=j.lastIndexOf("/");return B===-1?j:j.slice(B+1)}function o(j,B){typeof B=="string"&&(B=new Date(B));var N=B.getHours();N=N<<6|B.getMinutes(),N=N<<5|B.getSeconds()>>>1,j.write_shift(2,N);var z=B.getFullYear()-1980;z=z<<4|B.getMonth()+1,z=z<<5|B.getDate(),j.write_shift(2,z)}function c(j){var B=j.read_shift(2)&65535,N=j.read_shift(2)&65535,z=new Date,U=N&31;N>>>=5;var I=N&15;N>>>=4,z.setMilliseconds(0),z.setFullYear(N+1980),z.setMonth(I-1),z.setDate(U);var se=B&31;B>>>=5;var ne=B&63;return B>>>=6,z.setHours(B),z.setMinutes(ne),z.setSeconds(se<<1),z}function f(j){sn(j,0);for(var B={},N=0;j.l<=j.length-4;){var z=j.read_shift(2),U=j.read_shift(2),I=j.l+U,se={};switch(z){case 21589:N=j.read_shift(1),N&1&&(se.mtime=j.read_shift(4)),U>5&&(N&2&&(se.atime=j.read_shift(4)),N&4&&(se.ctime=j.read_shift(4))),se.mtime&&(se.mt=new Date(se.mtime*1e3));break}j.l=I,B[z]=se}return B}var h;function m(){return h||(h={})}function g(j,B){if(j[0]==80&&j[1]==75)return Gn(j,B);if((j[0]|32)==109&&(j[1]|32)==105)return ca(j,B);if(j.length<512)throw new Error("CFB file size "+j.length+" < 512");var N=3,z=512,U=0,I=0,se=0,ne=0,ae=0,ie=[],oe=j.slice(0,512);sn(oe,0);var Ae=x(oe);switch(N=Ae[0],N){case 3:z=512;break;case 4:z=4096;break;case 0:if(Ae[1]==0)return Gn(j,B);default:throw new Error("Major Version: Expected 3 or 4 saw "+N)}z!==512&&(oe=j.slice(0,z),sn(oe,28));var Ne=j.slice(0,z);y(oe,N);var Ie=oe.read_shift(4,"i");if(N===3&&Ie!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ie);oe.l+=4,se=oe.read_shift(4,"i"),oe.l+=4,oe.chk("00100000","Mini Stream Cutoff Size: "),ne=oe.read_shift(4,"i"),U=oe.read_shift(4,"i"),ae=oe.read_shift(4,"i"),I=oe.read_shift(4,"i");for(var Re=-1,Fe=0;Fe<109&&(Re=oe.read_shift(4,"i"),!(Re<0));++Fe)ie[Fe]=Re;var We=w(j,z);b(ae,I,We,z,ie);var Ct=O(We,se,ie,z);Ct[se].name="!Directory",U>0&&ne!==ye&&(Ct[ne].name="!MiniFAT"),Ct[ie[0]].name="!FAT",Ct.fat_addrs=ie,Ct.ssz=z;var Rt={},zt=[],mn=[],wi=[];T(se,Ct,We,zt,U,Rt,mn,ne),S(mn,wi,zt),zt.shift();var Ua={FileIndex:mn,FullPaths:wi};return B&&B.raw&&(Ua.raw={header:Ne,sectors:We}),Ua}function x(j){if(j[j.l]==80&&j[j.l+1]==75)return[0,0];j.chk(He,"Header Signature: "),j.l+=16;var B=j.read_shift(2,"u");return[j.read_shift(2,"u"),B]}function y(j,B){var N=9;switch(j.l+=2,N=j.read_shift(2)){case 9:if(B!=3)throw new Error("Sector Shift: Expected 9 saw "+N);break;case 12:if(B!=4)throw new Error("Sector Shift: Expected 12 saw "+N);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+N)}j.chk("0600","Mini Sector Shift: "),j.chk("000000000000","Reserved: ")}function w(j,B){for(var N=Math.ceil(j.length/B)-1,z=[],U=1;U<N;++U)z[U-1]=j.slice(U*B,(U+1)*B);return z[N-1]=j.slice(N*B),z}function S(j,B,N){for(var z=0,U=0,I=0,se=0,ne=0,ae=N.length,ie=[],oe=[];z<ae;++z)ie[z]=oe[z]=z,B[z]=N[z];for(;ne<oe.length;++ne)z=oe[ne],U=j[z].L,I=j[z].R,se=j[z].C,ie[z]===z&&(U!==-1&&ie[U]!==U&&(ie[z]=ie[U]),I!==-1&&ie[I]!==I&&(ie[z]=ie[I])),se!==-1&&(ie[se]=z),U!==-1&&z!=ie[z]&&(ie[U]=ie[z],oe.lastIndexOf(U)<ne&&oe.push(U)),I!==-1&&z!=ie[z]&&(ie[I]=ie[z],oe.lastIndexOf(I)<ne&&oe.push(I));for(z=1;z<ae;++z)ie[z]===z&&(I!==-1&&ie[I]!==I?ie[z]=ie[I]:U!==-1&&ie[U]!==U&&(ie[z]=ie[U]));for(z=1;z<ae;++z)if(j[z].type!==0){if(ne=z,ne!=ie[ne])do ne=ie[ne],B[z]=B[ne]+"/"+B[z];while(ne!==0&&ie[ne]!==-1&&ne!=ie[ne]);ie[z]=-1}for(B[0]+="/",z=1;z<ae;++z)j[z].type!==2&&(B[z]+="/")}function _(j,B,N){for(var z=j.start,U=j.size,I=[],se=z;N&&U>0&&se>=0;)I.push(B.slice(se*de,se*de+de)),U-=de,se=Wi(N,se*4);return I.length===0?ve(0):xr(I).slice(0,j.size)}function b(j,B,N,z,U){var I=ye;if(j===ye){if(B!==0)throw new Error("DIFAT chain shorter than expected")}else if(j!==-1){var se=N[j],ne=(z>>>2)-1;if(!se)return;for(var ae=0;ae<ne&&(I=Wi(se,ae*4))!==ye;++ae)U.push(I);b(Wi(se,z-4),B-1,N,z,U)}}function k(j,B,N,z,U){var I=[],se=[];U||(U=[]);var ne=z-1,ae=0,ie=0;for(ae=B;ae>=0;){U[ae]=!0,I[I.length]=ae,se.push(j[ae]);var oe=N[Math.floor(ae*4/z)];if(ie=ae*4&ne,z<4+ie)throw new Error("FAT boundary crossed: "+ae+" 4 "+z);if(!j[oe])break;ae=Wi(j[oe],ie)}return{nodes:I,data:Tx([se])}}function O(j,B,N,z){var U=j.length,I=[],se=[],ne=[],ae=[],ie=z-1,oe=0,Ae=0,Ne=0,Ie=0;for(oe=0;oe<U;++oe)if(ne=[],Ne=oe+B,Ne>=U&&(Ne-=U),!se[Ne]){ae=[];var Re=[];for(Ae=Ne;Ae>=0;){Re[Ae]=!0,se[Ae]=!0,ne[ne.length]=Ae,ae.push(j[Ae]);var Fe=N[Math.floor(Ae*4/z)];if(Ie=Ae*4&ie,z<4+Ie)throw new Error("FAT boundary crossed: "+Ae+" 4 "+z);if(!j[Fe]||(Ae=Wi(j[Fe],Ie),Re[Ae]))break}I[Ne]={nodes:ne,data:Tx([ae])}}return I}function T(j,B,N,z,U,I,se,ne){for(var ae=0,ie=z.length?2:0,oe=B[j].data,Ae=0,Ne=0,Ie;Ae<oe.length;Ae+=128){var Re=oe.slice(Ae,Ae+128);sn(Re,64),Ne=Re.read_shift(2),Ie=cm(Re,0,Ne-ie),z.push(Ie);var Fe={name:Ie,type:Re.read_shift(1),color:Re.read_shift(1),L:Re.read_shift(4,"i"),R:Re.read_shift(4,"i"),C:Re.read_shift(4,"i"),clsid:Re.read_shift(16),state:Re.read_shift(4,"i"),start:0,size:0},We=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);We!==0&&(Fe.ct=F(Re,Re.l-8));var Ct=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);Ct!==0&&(Fe.mt=F(Re,Re.l-8)),Fe.start=Re.read_shift(4,"i"),Fe.size=Re.read_shift(4,"i"),Fe.size<0&&Fe.start<0&&(Fe.size=Fe.type=0,Fe.start=ye,Fe.name=""),Fe.type===5?(ae=Fe.start,U>0&&ae!==ye&&(B[ae].name="!StreamData")):Fe.size>=4096?(Fe.storage="fat",B[Fe.start]===void 0&&(B[Fe.start]=k(N,Fe.start,B.fat_addrs,B.ssz)),B[Fe.start].name=Fe.name,Fe.content=B[Fe.start].data.slice(0,Fe.size)):(Fe.storage="minifat",Fe.size<0?Fe.size=0:ae!==ye&&Fe.start!==ye&&B[ae]&&(Fe.content=_(Fe,B[ae].data,(B[ne]||{}).data))),Fe.content&&sn(Fe.content,0),I[Ie]=Fe,se.push(Fe)}}function F(j,B){return new Date((on(j,B+4)/1e7*Math.pow(2,32)+on(j,B)/1e7-11644473600)*1e3)}function G(j,B){return m(),g(h.readFileSync(j),B)}function K(j,B){var N=B&&B.type;switch(N||mt&&Buffer.isBuffer(j)&&(N="buffer"),N||"base64"){case"file":return G(j,B);case"base64":return g(Un(La(j)),B);case"binary":return g(Un(j),B)}return g(j,B)}function A(j,B){var N=B||{},z=N.root||"Root Entry";if(j.FullPaths||(j.FullPaths=[]),j.FileIndex||(j.FileIndex=[]),j.FullPaths.length!==j.FileIndex.length)throw new Error("inconsistent CFB structure");j.FullPaths.length===0&&(j.FullPaths[0]=z+"/",j.FileIndex[0]={name:z,type:5}),N.CLSID&&(j.FileIndex[0].clsid=N.CLSID),P(j)}function P(j){var B="Sh33tJ5";if(!kt.find(j,"/"+B)){var N=ve(4);N[0]=55,N[1]=N[3]=50,N[2]=54,j.FileIndex.push({name:B,type:2,content:N,size:4,L:69,R:69,C:69}),j.FullPaths.push(j.FullPaths[0]+B),q(j)}}function q(j,B){A(j);for(var N=!1,z=!1,U=j.FullPaths.length-1;U>=0;--U){var I=j.FileIndex[U];switch(I.type){case 0:z?N=!0:(j.FileIndex.pop(),j.FullPaths.pop());break;case 1:case 2:case 5:z=!0,isNaN(I.R*I.L*I.C)&&(N=!0),I.R>-1&&I.L>-1&&I.R==I.L&&(N=!0);break;default:N=!0;break}}if(!(!N&&!B)){var se=new Date(1987,1,19),ne=0,ae=Object.create?Object.create(null):{},ie=[];for(U=0;U<j.FullPaths.length;++U)ae[j.FullPaths[U]]=!0,j.FileIndex[U].type!==0&&ie.push([j.FullPaths[U],j.FileIndex[U]]);for(U=0;U<ie.length;++U){var oe=a(ie[U][0]);z=ae[oe],z||(ie.push([oe,{name:s(oe).replace("/",""),type:1,clsid:X,ct:se,mt:se,content:null}]),ae[oe]=!0)}for(ie.sort(function(Ie,Re){return r(Ie[0],Re[0])}),j.FullPaths=[],j.FileIndex=[],U=0;U<ie.length;++U)j.FullPaths[U]=ie[U][0],j.FileIndex[U]=ie[U][1];for(U=0;U<ie.length;++U){var Ae=j.FileIndex[U],Ne=j.FullPaths[U];if(Ae.name=s(Ne).replace("/",""),Ae.L=Ae.R=Ae.C=-(Ae.color=1),Ae.size=Ae.content?Ae.content.length:0,Ae.start=0,Ae.clsid=Ae.clsid||X,U===0)Ae.C=ie.length>1?1:-1,Ae.size=0,Ae.type=5;else if(Ne.slice(-1)=="/"){for(ne=U+1;ne<ie.length&&a(j.FullPaths[ne])!=Ne;++ne);for(Ae.C=ne>=ie.length?-1:ne,ne=U+1;ne<ie.length&&a(j.FullPaths[ne])!=a(Ne);++ne);Ae.R=ne>=ie.length?-1:ne,Ae.type=1}else a(j.FullPaths[U+1]||"")==a(Ne)&&(Ae.R=U+1),Ae.type=2}}}function te(j,B){var N=B||{};if(N.fileType=="mad")return cs(j,N);switch(q(j),N.fileType){case"zip":return Ia(j,N)}var z=(function(Ie){for(var Re=0,Fe=0,We=0;We<Ie.FileIndex.length;++We){var Ct=Ie.FileIndex[We];if(Ct.content){var Rt=Ct.content.length;Rt>0&&(Rt<4096?Re+=Rt+63>>6:Fe+=Rt+511>>9)}}for(var zt=Ie.FullPaths.length+3>>2,mn=Re+7>>3,wi=Re+127>>7,Ua=mn+Fe+zt+wi,Wn=Ua+127>>7,_l=Wn<=109?0:Math.ceil((Wn-109)/127);Ua+Wn+_l+127>>7>Wn;)_l=++Wn<=109?0:Math.ceil((Wn-109)/127);var Br=[1,_l,Wn,wi,zt,Fe,Re,0];return Ie.FileIndex[0].size=Re<<6,Br[7]=(Ie.FileIndex[0].start=Br[0]+Br[1]+Br[2]+Br[3]+Br[4]+Br[5])+(Br[6]+7>>3),Br})(j),U=ve(z[7]<<9),I=0,se=0;{for(I=0;I<8;++I)U.write_shift(1,fe[I]);for(I=0;I<8;++I)U.write_shift(2,0);for(U.write_shift(2,62),U.write_shift(2,3),U.write_shift(2,65534),U.write_shift(2,9),U.write_shift(2,6),I=0;I<3;++I)U.write_shift(2,0);for(U.write_shift(4,0),U.write_shift(4,z[2]),U.write_shift(4,z[0]+z[1]+z[2]+z[3]-1),U.write_shift(4,0),U.write_shift(4,4096),U.write_shift(4,z[3]?z[0]+z[1]+z[2]-1:ye),U.write_shift(4,z[3]),U.write_shift(-4,z[1]?z[0]-1:ye),U.write_shift(4,z[1]),I=0;I<109;++I)U.write_shift(-4,I<z[2]?z[1]+I:-1)}if(z[1])for(se=0;se<z[1];++se){for(;I<236+se*127;++I)U.write_shift(-4,I<z[2]?z[1]+I:-1);U.write_shift(-4,se===z[1]-1?ye:se+1)}var ne=function(Ie){for(se+=Ie;I<se-1;++I)U.write_shift(-4,I+1);Ie&&(++I,U.write_shift(-4,ye))};for(se=I=0,se+=z[1];I<se;++I)U.write_shift(-4,pe.DIFSECT);for(se+=z[2];I<se;++I)U.write_shift(-4,pe.FATSECT);ne(z[3]),ne(z[4]);for(var ae=0,ie=0,oe=j.FileIndex[0];ae<j.FileIndex.length;++ae)oe=j.FileIndex[ae],oe.content&&(ie=oe.content.length,!(ie<4096)&&(oe.start=se,ne(ie+511>>9)));for(ne(z[6]+7>>3);U.l&511;)U.write_shift(-4,pe.ENDOFCHAIN);for(se=I=0,ae=0;ae<j.FileIndex.length;++ae)oe=j.FileIndex[ae],oe.content&&(ie=oe.content.length,!(!ie||ie>=4096)&&(oe.start=se,ne(ie+63>>6)));for(;U.l&511;)U.write_shift(-4,pe.ENDOFCHAIN);for(I=0;I<z[4]<<2;++I){var Ae=j.FullPaths[I];if(!Ae||Ae.length===0){for(ae=0;ae<17;++ae)U.write_shift(4,0);for(ae=0;ae<3;++ae)U.write_shift(4,-1);for(ae=0;ae<12;++ae)U.write_shift(4,0);continue}oe=j.FileIndex[I],I===0&&(oe.start=oe.size?oe.start-1:ye);var Ne=I===0&&N.root||oe.name;if(ie=2*(Ne.length+1),U.write_shift(64,Ne,"utf16le"),U.write_shift(2,ie),U.write_shift(1,oe.type),U.write_shift(1,oe.color),U.write_shift(-4,oe.L),U.write_shift(-4,oe.R),U.write_shift(-4,oe.C),oe.clsid)U.write_shift(16,oe.clsid,"hex");else for(ae=0;ae<4;++ae)U.write_shift(4,0);U.write_shift(4,oe.state||0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,oe.start),U.write_shift(4,oe.size),U.write_shift(4,0)}for(I=1;I<j.FileIndex.length;++I)if(oe=j.FileIndex[I],oe.size>=4096)if(U.l=oe.start+1<<9,mt&&Buffer.isBuffer(oe.content))oe.content.copy(U,U.l,0,oe.size),U.l+=oe.size+511&-512;else{for(ae=0;ae<oe.size;++ae)U.write_shift(1,oe.content[ae]);for(;ae&511;++ae)U.write_shift(1,0)}for(I=1;I<j.FileIndex.length;++I)if(oe=j.FileIndex[I],oe.size>0&&oe.size<4096)if(mt&&Buffer.isBuffer(oe.content))oe.content.copy(U,U.l,0,oe.size),U.l+=oe.size+63&-64;else{for(ae=0;ae<oe.size;++ae)U.write_shift(1,oe.content[ae]);for(;ae&63;++ae)U.write_shift(1,0)}if(mt)U.l=U.length;else for(;U.l<U.length;)U.write_shift(1,0);return U}function ee(j,B){var N=j.FullPaths.map(function(ae){return ae.toUpperCase()}),z=N.map(function(ae){var ie=ae.split("/");return ie[ie.length-(ae.slice(-1)=="/"?2:1)]}),U=!1;B.charCodeAt(0)===47?(U=!0,B=N[0].slice(0,-1)+B):U=B.indexOf("/")!==-1;var I=B.toUpperCase(),se=U===!0?N.indexOf(I):z.indexOf(I);if(se!==-1)return j.FileIndex[se];var ne=!I.match(gu);for(I=I.replace(_o,""),ne&&(I=I.replace(gu,"!")),se=0;se<N.length;++se)if((ne?N[se].replace(gu,"!"):N[se]).replace(_o,"")==I||(ne?z[se].replace(gu,"!"):z[se]).replace(_o,"")==I)return j.FileIndex[se];return null}var de=64,ye=-2,He="d0cf11e0a1b11ae1",fe=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",pe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ye,FREESECT:-1,HEADER_SIGNATURE:He,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ke(j,B,N){m();var z=te(j,N);h.writeFileSync(B,z)}function Me(j){for(var B=new Array(j.length),N=0;N<j.length;++N)B[N]=String.fromCharCode(j[N]);return B.join("")}function Q(j,B){var N=te(j,B);switch(B&&B.type||"buffer"){case"file":return m(),h.writeFileSync(B.filename,N),N;case"binary":return typeof N=="string"?N:Me(N);case"base64":return Ro(typeof N=="string"?N:Me(N));case"buffer":if(mt)return Buffer.isBuffer(N)?N:Ba(N);case"array":return typeof N=="string"?Un(N):N}return N}var C;function R(j){try{var B=j.InflateRaw,N=new B;if(N._processChunk(new Uint8Array([3,0]),N._finishFlushFlag),N.bytesRead)C=j;else throw new Error("zlib does not expose bytesRead")}catch(z){console.error("cannot use native zlib: "+(z.message||z))}}function W(j,B){if(!C)return yi(j,B);var N=C.InflateRaw,z=new N,U=z._processChunk(j.slice(j.l),z._finishFlushFlag);return j.l+=z.bytesRead,U}function D(j){return C?C.deflateRawSync(j):Rn(j)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function be(j){var B=(j<<1|j<<11)&139536|(j<<5|j<<15)&558144;return(B>>16|B>>8|B)&255}for(var we=typeof Uint8Array<"u",Ee=we?new Uint8Array(256):[],$e=0;$e<256;++$e)Ee[$e]=be($e);function Pe(j,B){var N=Ee[j&255];return B<=8?N>>>8-B:(N=N<<8|Ee[j>>8&255],B<=16?N>>>16-B:(N=N<<8|Ee[j>>16&255],N>>>24-B))}function Qe(j,B){var N=B&7,z=B>>>3;return(j[z]|(N<=6?0:j[z+1]<<8))>>>N&3}function le(j,B){var N=B&7,z=B>>>3;return(j[z]|(N<=5?0:j[z+1]<<8))>>>N&7}function at(j,B){var N=B&7,z=B>>>3;return(j[z]|(N<=4?0:j[z+1]<<8))>>>N&15}function et(j,B){var N=B&7,z=B>>>3;return(j[z]|(N<=3?0:j[z+1]<<8))>>>N&31}function ze(j,B){var N=B&7,z=B>>>3;return(j[z]|(N<=1?0:j[z+1]<<8))>>>N&127}function At(j,B,N){var z=B&7,U=B>>>3,I=(1<<N)-1,se=j[U]>>>z;return N<8-z||(se|=j[U+1]<<8-z,N<16-z)||(se|=j[U+2]<<16-z,N<24-z)||(se|=j[U+3]<<24-z),se&I}function Lt(j,B,N){var z=B&7,U=B>>>3;return z<=5?j[U]|=(N&7)<<z:(j[U]|=N<<z&255,j[U+1]=(N&7)>>8-z),B+3}function pt(j,B,N){var z=B&7,U=B>>>3;return N=(N&1)<<z,j[U]|=N,B+1}function Cr(j,B,N){var z=B&7,U=B>>>3;return N<<=z,j[U]|=N&255,N>>>=8,j[U+1]=N,B+8}function wr(j,B,N){var z=B&7,U=B>>>3;return N<<=z,j[U]|=N&255,N>>>=8,j[U+1]=N&255,j[U+2]=N>>>8,B+16}function aa(j,B){var N=j.length,z=2*N>B?2*N:B+5,U=0;if(N>=B)return j;if(mt){var I=ux(z);if(j.copy)j.copy(I);else for(;U<j.length;++U)I[U]=j[U];return I}else if(we){var se=new Uint8Array(z);if(se.set)se.set(j);else for(;U<N;++U)se[U]=j[U];return se}return j.length=z,j}function gt(j){for(var B=new Array(j),N=0;N<j;++N)B[N]=0;return B}function Rr(j,B,N){var z=1,U=0,I=0,se=0,ne=0,ae=j.length,ie=we?new Uint16Array(32):gt(32);for(I=0;I<32;++I)ie[I]=0;for(I=ae;I<N;++I)j[I]=0;ae=j.length;var oe=we?new Uint16Array(ae):gt(ae);for(I=0;I<ae;++I)ie[U=j[I]]++,z<U&&(z=U),oe[I]=0;for(ie[0]=0,I=1;I<=z;++I)ie[I+16]=ne=ne+ie[I-1]<<1;for(I=0;I<ae;++I)ne=j[I],ne!=0&&(oe[I]=ie[ne+16]++);var Ae=0;for(I=0;I<ae;++I)if(Ae=j[I],Ae!=0)for(ne=Pe(oe[I],z)>>z-Ae,se=(1<<z+4-Ae)-1;se>=0;--se)B[ne|se<<Ae]=Ae&15|I<<4;return z}var Sr=we?new Uint16Array(512):gt(512),Cn=we?new Uint16Array(32):gt(32);if(!we){for(var Er=0;Er<512;++Er)Sr[Er]=0;for(Er=0;Er<32;++Er)Cn[Er]=0}(function(){for(var j=[],B=0;B<32;B++)j.push(5);Rr(j,Cn,32);var N=[];for(B=0;B<=143;B++)N.push(8);for(;B<=255;B++)N.push(9);for(;B<=279;B++)N.push(7);for(;B<=287;B++)N.push(8);Rr(N,Sr,288)})();var ia=(function(){for(var B=we?new Uint8Array(32768):[],N=0,z=0;N<me.length-1;++N)for(;z<me[N+1];++z)B[z]=N;for(;z<32768;++z)B[z]=29;var U=we?new Uint8Array(259):[];for(N=0,z=0;N<Z.length-1;++N)for(;z<Z[N+1];++z)U[z]=N;function I(ne,ae){for(var ie=0;ie<ne.length;){var oe=Math.min(65535,ne.length-ie),Ae=ie+oe==ne.length;for(ae.write_shift(1,+Ae),ae.write_shift(2,oe),ae.write_shift(2,~oe&65535);oe-- >0;)ae[ae.l++]=ne[ie++]}return ae.l}function se(ne,ae){for(var ie=0,oe=0,Ae=we?new Uint16Array(32768):[];oe<ne.length;){var Ne=Math.min(65535,ne.length-oe);if(Ne<10){for(ie=Lt(ae,ie,+(oe+Ne==ne.length)),ie&7&&(ie+=8-(ie&7)),ae.l=ie/8|0,ae.write_shift(2,Ne),ae.write_shift(2,~Ne&65535);Ne-- >0;)ae[ae.l++]=ne[oe++];ie=ae.l*8;continue}ie=Lt(ae,ie,+(oe+Ne==ne.length)+2);for(var Ie=0;Ne-- >0;){var Re=ne[oe];Ie=(Ie<<5^Re)&32767;var Fe=-1,We=0;if((Fe=Ae[Ie])&&(Fe|=oe&-32768,Fe>oe&&(Fe-=32768),Fe<oe))for(;ne[Fe+We]==ne[oe+We]&&We<250;)++We;if(We>2){Re=U[We],Re<=22?ie=Cr(ae,ie,Ee[Re+1]>>1)-1:(Cr(ae,ie,3),ie+=5,Cr(ae,ie,Ee[Re-23]>>5),ie+=3);var Ct=Re<8?0:Re-4>>2;Ct>0&&(wr(ae,ie,We-Z[Re]),ie+=Ct),Re=B[oe-Fe],ie=Cr(ae,ie,Ee[Re]>>3),ie-=3;var Rt=Re<4?0:Re-2>>1;Rt>0&&(wr(ae,ie,oe-Fe-me[Re]),ie+=Rt);for(var zt=0;zt<We;++zt)Ae[Ie]=oe&32767,Ie=(Ie<<5^ne[oe])&32767,++oe;Ne-=We-1}else Re<=143?Re=Re+48:ie=pt(ae,ie,1),ie=Cr(ae,ie,Ee[Re]),Ae[Ie]=oe&32767,++oe}ie=Cr(ae,ie,0)-1}return ae.l=(ie+7)/8|0,ae.l}return function(ae,ie){return ae.length<8?I(ae,ie):se(ae,ie)}})();function Rn(j){var B=ve(50+Math.floor(j.length*1.1)),N=ia(j,B);return B.slice(0,N)}var hn=we?new Uint16Array(32768):gt(32768),sa=we?new Uint16Array(32768):gt(32768),Lr=we?new Uint16Array(128):gt(128),nr=1,zr=1;function cr(j,B){var N=et(j,B)+257;B+=5;var z=et(j,B)+1;B+=5;var U=at(j,B)+4;B+=4;for(var I=0,se=we?new Uint8Array(19):gt(19),ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ae=1,ie=we?new Uint8Array(8):gt(8),oe=we?new Uint8Array(8):gt(8),Ae=se.length,Ne=0;Ne<U;++Ne)se[H[Ne]]=I=le(j,B),ae<I&&(ae=I),ie[I]++,B+=3;var Ie=0;for(ie[0]=0,Ne=1;Ne<=ae;++Ne)oe[Ne]=Ie=Ie+ie[Ne-1]<<1;for(Ne=0;Ne<Ae;++Ne)(Ie=se[Ne])!=0&&(ne[Ne]=oe[Ie]++);var Re=0;for(Ne=0;Ne<Ae;++Ne)if(Re=se[Ne],Re!=0){Ie=Ee[ne[Ne]]>>8-Re;for(var Fe=(1<<7-Re)-1;Fe>=0;--Fe)Lr[Ie|Fe<<Re]=Re&7|Ne<<3}var We=[];for(ae=1;We.length<N+z;)switch(Ie=Lr[ze(j,B)],B+=Ie&7,Ie>>>=3){case 16:for(I=3+Qe(j,B),B+=2,Ie=We[We.length-1];I-- >0;)We.push(Ie);break;case 17:for(I=3+le(j,B),B+=3;I-- >0;)We.push(0);break;case 18:for(I=11+ze(j,B),B+=7;I-- >0;)We.push(0);break;default:We.push(Ie),ae<Ie&&(ae=Ie);break}var Ct=We.slice(0,N),Rt=We.slice(N);for(Ne=N;Ne<286;++Ne)Ct[Ne]=0;for(Ne=z;Ne<30;++Ne)Rt[Ne]=0;return nr=Rr(Ct,hn,286),zr=Rr(Rt,sa,30),B}function xl(j,B){if(j[0]==3&&!(j[1]&3))return[Zi(B),2];for(var N=0,z=0,U=ux(B||1<<18),I=0,se=U.length>>>0,ne=0,ae=0;(z&1)==0;){if(z=le(j,N),N+=3,z>>>1)z>>1==1?(ne=9,ae=5):(N=cr(j,N),ne=nr,ae=zr);else{N&7&&(N+=8-(N&7));var ie=j[N>>>3]|j[(N>>>3)+1]<<8;if(N+=32,ie>0)for(!B&&se<I+ie&&(U=aa(U,I+ie),se=U.length);ie-- >0;)U[I++]=j[N>>>3],N+=8;continue}for(;;){!B&&se<I+32767&&(U=aa(U,I+32767),se=U.length);var oe=At(j,N,ne),Ae=z>>>1==1?Sr[oe]:hn[oe];if(N+=Ae&15,Ae>>>=4,(Ae>>>8&255)===0)U[I++]=Ae;else{if(Ae==256)break;Ae-=257;var Ne=Ae<8?0:Ae-4>>2;Ne>5&&(Ne=0);var Ie=I+Z[Ae];Ne>0&&(Ie+=At(j,N,Ne),N+=Ne),oe=At(j,N,ae),Ae=z>>>1==1?Cn[oe]:sa[oe],N+=Ae&15,Ae>>>=4;var Re=Ae<4?0:Ae-2>>1,Fe=me[Ae];for(Re>0&&(Fe+=At(j,N,Re),N+=Re),!B&&se<Ie&&(U=aa(U,Ie+100),se=U.length);I<Ie;)U[I]=U[I-Fe],++I}}}return B?[U,N+7>>>3]:[U.slice(0,I),N+7>>>3]}function yi(j,B){var N=j.slice(j.l||0),z=xl(N,B);return j.l+=z[1],z[0]}function _i(j,B){if(j)typeof console<"u"&&console.error(B);else throw new Error(B)}function Gn(j,B){var N=j;sn(N,0);var z=[],U=[],I={FileIndex:z,FullPaths:U};A(I,{root:B.root});for(var se=N.length-4;(N[se]!=80||N[se+1]!=75||N[se+2]!=5||N[se+3]!=6)&&se>=0;)--se;N.l=se+4,N.l+=4;var ne=N.read_shift(2);N.l+=6;var ae=N.read_shift(4);for(N.l=ae,se=0;se<ne;++se){N.l+=20;var ie=N.read_shift(4),oe=N.read_shift(4),Ae=N.read_shift(2),Ne=N.read_shift(2),Ie=N.read_shift(2);N.l+=8;var Re=N.read_shift(4),Fe=f(N.slice(N.l+Ae,N.l+Ae+Ne));N.l+=Ae+Ne+Ie;var We=N.l;N.l=Re+4,la(N,ie,oe,I,Fe),N.l=We}return I}function la(j,B,N,z,U){j.l+=2;var I=j.read_shift(2),se=j.read_shift(2),ne=c(j);if(I&8257)throw new Error("Unsupported ZIP encryption");for(var ae=j.read_shift(4),ie=j.read_shift(4),oe=j.read_shift(4),Ae=j.read_shift(2),Ne=j.read_shift(2),Ie="",Re=0;Re<Ae;++Re)Ie+=String.fromCharCode(j[j.l++]);if(Ne){var Fe=f(j.slice(j.l,j.l+Ne));(Fe[21589]||{}).mt&&(ne=Fe[21589].mt),((U||{})[21589]||{}).mt&&(ne=U[21589].mt)}j.l+=Ne;var We=j.slice(j.l,j.l+ie);switch(se){case 8:We=W(j,oe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+se)}var Ct=!1;I&8&&(ae=j.read_shift(4),ae==134695760&&(ae=j.read_shift(4),Ct=!0),ie=j.read_shift(4),oe=j.read_shift(4)),ie!=B&&_i(Ct,"Bad compressed size: "+B+" != "+ie),oe!=N&&_i(Ct,"Bad uncompressed size: "+N+" != "+oe),J(z,Ie,We,{unsafe:!0,mt:ne})}function Ia(j,B){var N=B||{},z=[],U=[],I=ve(1),se=N.compression?8:0,ne=0,ae=0,ie=0,oe=0,Ae=0,Ne=j.FullPaths[0],Ie=Ne,Re=j.FileIndex[0],Fe=[],We=0;for(ae=1;ae<j.FullPaths.length;++ae)if(Ie=j.FullPaths[ae].slice(Ne.length),Re=j.FileIndex[ae],!(!Re.size||!Re.content||Ie=="Sh33tJ5")){var Ct=oe,Rt=ve(Ie.length);for(ie=0;ie<Ie.length;++ie)Rt.write_shift(1,Ie.charCodeAt(ie)&127);Rt=Rt.slice(0,Rt.l),Fe[Ae]=rj.buf(Re.content,0);var zt=Re.content;se==8&&(zt=D(zt)),I=ve(30),I.write_shift(4,67324752),I.write_shift(2,20),I.write_shift(2,ne),I.write_shift(2,se),Re.mt?o(I,Re.mt):I.write_shift(4,0),I.write_shift(-4,Fe[Ae]),I.write_shift(4,zt.length),I.write_shift(4,Re.content.length),I.write_shift(2,Rt.length),I.write_shift(2,0),oe+=I.length,z.push(I),oe+=Rt.length,z.push(Rt),oe+=zt.length,z.push(zt),I=ve(46),I.write_shift(4,33639248),I.write_shift(2,0),I.write_shift(2,20),I.write_shift(2,ne),I.write_shift(2,se),I.write_shift(4,0),I.write_shift(-4,Fe[Ae]),I.write_shift(4,zt.length),I.write_shift(4,Re.content.length),I.write_shift(2,Rt.length),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(4,0),I.write_shift(4,Ct),We+=I.l,U.push(I),We+=Rt.length,U.push(Rt),++Ae}return I=ve(22),I.write_shift(4,101010256),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(2,Ae),I.write_shift(2,Ae),I.write_shift(4,We),I.write_shift(4,oe),I.write_shift(2,0),xr([xr(z),xr(U),I])}var Fr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function oa(j,B){if(j.ctype)return j.ctype;var N=j.name||"",z=N.match(/\.([^\.]+)$/);return z&&Fr[z[1]]||B&&(z=(N=B).match(/[\.\\]([^\.\\])+$/),z&&Fr[z[1]])?Fr[z[1]]:"application/octet-stream"}function qn(j){for(var B=Ro(j),N=[],z=0;z<B.length;z+=76)N.push(B.slice(z,z+76));return N.join(`\r
`)+`\r
`}function yl(j){var B=j.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ie){var oe=ie.charCodeAt(0).toString(16).toUpperCase();return"="+(oe.length==1?"0"+oe:oe)});B=B.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),B.charAt(0)==`
`&&(B="=0D"+B.slice(1)),B=B.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var N=[],z=B.split(`\r
`),U=0;U<z.length;++U){var I=z[U];if(I.length==0){N.push("");continue}for(var se=0;se<I.length;){var ne=76,ae=I.slice(se,se+ne);ae.charAt(ne-1)=="="?ne--:ae.charAt(ne-2)=="="?ne-=2:ae.charAt(ne-3)=="="&&(ne-=3),ae=I.slice(se,se+ne),se+=ne,se<I.length&&(ae+="="),N.push(ae)}}return N.join(`\r
`)}function os(j){for(var B=[],N=0;N<j.length;++N){for(var z=j[N];N<=j.length&&z.charAt(z.length-1)=="=";)z=z.slice(0,z.length-1)+j[++N];B.push(z)}for(var U=0;U<B.length;++U)B[U]=B[U].replace(/[=][0-9A-Fa-f]{2}/g,function(I){return String.fromCharCode(parseInt(I.slice(1),16))});return Un(B.join(`\r
`))}function bi(j,B,N){for(var z="",U="",I="",se,ne=0;ne<10;++ne){var ae=B[ne];if(!ae||ae.match(/^\s*$/))break;var ie=ae.match(/^(.*?):\s*([^\s].*)$/);if(ie)switch(ie[1].toLowerCase()){case"content-location":z=ie[2].trim();break;case"content-type":I=ie[2].trim();break;case"content-transfer-encoding":U=ie[2].trim();break}}switch(++ne,U.toLowerCase()){case"base64":se=Un(La(B.slice(ne).join("")));break;case"quoted-printable":se=os(B.slice(ne));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+U)}var oe=J(j,z.slice(N.length),se,{unsafe:!0});I&&(oe.ctype=I)}function ca(j,B){if(Me(j.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var N=B&&B.root||"",z=(mt&&Buffer.isBuffer(j)?j.toString("binary"):Me(j)).split(`\r
`),U=0,I="";for(U=0;U<z.length;++U)if(I=z[U],!!/^Content-Location:/i.test(I)&&(I=I.slice(I.indexOf("file")),N||(N=I.slice(0,I.lastIndexOf("/")+1)),I.slice(0,N.length)!=N))for(;N.length>0&&(N=N.slice(0,N.length-1),N=N.slice(0,N.lastIndexOf("/")+1),I.slice(0,N.length)!=N););var se=(z[1]||"").match(/boundary="(.*?)"/);if(!se)throw new Error("MAD cannot find boundary");var ne="--"+(se[1]||""),ae=[],ie=[],oe={FileIndex:ae,FullPaths:ie};A(oe);var Ae,Ne=0;for(U=0;U<z.length;++U){var Ie=z[U];Ie!==ne&&Ie!==ne+"--"||(Ne++&&bi(oe,z.slice(Ae,U),N),Ae=U)}return oe}function cs(j,B){var N=B||{},z=N.boundary||"SheetJS";z="------="+z;for(var U=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+z.slice(2)+'"',"","",""],I=j.FullPaths[0],se=I,ne=j.FileIndex[0],ae=1;ae<j.FullPaths.length;++ae)if(se=j.FullPaths[ae].slice(I.length),ne=j.FileIndex[ae],!(!ne.size||!ne.content||se=="Sh33tJ5")){se=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(We){return"_x"+We.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(We){return"_u"+We.charCodeAt(0).toString(16)+"_"});for(var ie=ne.content,oe=mt&&Buffer.isBuffer(ie)?ie.toString("binary"):Me(ie),Ae=0,Ne=Math.min(1024,oe.length),Ie=0,Re=0;Re<=Ne;++Re)(Ie=oe.charCodeAt(Re))>=32&&Ie<128&&++Ae;var Fe=Ae>=Ne*4/5;U.push(z),U.push("Content-Location: "+(N.root||"file:///C:/SheetJS/")+se),U.push("Content-Transfer-Encoding: "+(Fe?"quoted-printable":"base64")),U.push("Content-Type: "+oa(ne,se)),U.push(""),U.push(Fe?yl(oe):qn(oe))}return U.push(z+`--\r
`),U.join(`\r
`)}function us(j){var B={};return A(B,j),B}function J(j,B,N,z){var U=z&&z.unsafe;U||A(j);var I=!U&&kt.find(j,B);if(!I){var se=j.FullPaths[0];B.slice(0,se.length)==se?se=B:(se.slice(-1)!="/"&&(se+="/"),se=(se+B).replace("//","/")),I={name:s(B),type:2},j.FileIndex.push(I),j.FullPaths.push(se),U||kt.utils.cfb_gc(j)}return I.content=N,I.size=N?N.length:0,z&&(z.CLSID&&(I.clsid=z.CLSID),z.mt&&(I.mt=z.mt),z.ct&&(I.ct=z.ct)),I}function je(j,B){A(j);var N=kt.find(j,B);if(N){for(var z=0;z<j.FileIndex.length;++z)if(j.FileIndex[z]==N)return j.FileIndex.splice(z,1),j.FullPaths.splice(z,1),!0}return!1}function Ue(j,B,N){A(j);var z=kt.find(j,B);if(z){for(var U=0;U<j.FileIndex.length;++U)if(j.FileIndex[U]==z)return j.FileIndex[U].name=s(N),j.FullPaths[U]=N,!0}return!1}function Oe(j){q(j,!0)}return e.find=ee,e.read=K,e.parse=g,e.write=Q,e.writeFile=ke,e.utils={cfb_new:us,cfb_add:J,cfb_del:je,cfb_mov:Ue,cfb_gc:Oe,ReadShift:wo,CheckField:R2,prep_blob:sn,bconcat:xr,use_zlib:R,_deflateRaw:Rn,_inflateRaw:yi,consts:pe},e})();function nj(t){return typeof t=="string"?pd(t):Array.isArray(t)?C3(t):t}function $o(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=pd(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var a=r=="utf8"?No(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,t);if(typeof Blob<"u"){var s=new Blob([nj(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=t,c.href=o,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var f=File(t);return f.open("w"),f.encoding="binary",Array.isArray(e)&&(e=Ho(e)),f.write(e),f.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+t)}function br(t){for(var e=Object.keys(t),r=[],a=0;a<e.length;++a)Object.prototype.hasOwnProperty.call(t,e[a])&&r.push(e[a]);return r}function xx(t,e){for(var r=[],a=br(t),s=0;s!==a.length;++s)r[t[a[s]][e]]==null&&(r[t[a[s]][e]]=a[s]);return r}function im(t){for(var e=[],r=br(t),a=0;a!==r.length;++a)e[t[r[a]]]=r[a];return e}function xd(t){for(var e=[],r=br(t),a=0;a!==r.length;++a)e[t[r[a]]]=parseInt(r[a],10);return e}function aj(t){for(var e=[],r=br(t),a=0;a!==r.length;++a)e[t[r[a]]]==null&&(e[t[r[a]]]=[]),e[t[r[a]]].push(r[a]);return e}var Yu=new Date(1899,11,30,0,0,0);function Yr(t,e){var r=t.getTime(),a=Yu.getTime()+(t.getTimezoneOffset()-Yu.getTimezoneOffset())*6e4;return(r-a)/(1440*60*1e3)}var h2=new Date,ij=Yu.getTime()+(h2.getTimezoneOffset()-Yu.getTimezoneOffset())*6e4,yx=h2.getTimezoneOffset();function m2(t){var e=new Date;return e.setTime(t*24*60*60*1e3+ij),e.getTimezoneOffset()!==yx&&e.setTime(e.getTime()+(e.getTimezoneOffset()-yx)*6e4),e}var _x=new Date("2017-02-19T19:06:09.000Z"),p2=isNaN(_x.getFullYear())?new Date("2/19/17"):_x,sj=p2.getFullYear()==2017;function Mr(t,e){var r=new Date(t);if(sj)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(p2.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return t.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function yd(t,e){if(mt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(o){return r[o]||o})}catch{}for(var a=[],s=0;s!=t.length;++s)a.push(String.fromCharCode(t[s]));return a.join("")}function Xr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Xr(t[r]));return e}function Ht(t,e){for(var r="";r.length<e;)r+=t;return r}function Na(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,a=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,o){return r=-r,o}),!isNaN(e=Number(a)))?e/r:e}var lj=["january","february","march","april","may","june","july","august","september","october","november","december"];function Oo(t){var e=new Date(t),r=new Date(NaN),a=e.getYear(),s=e.getMonth(),o=e.getDate();if(isNaN(o))return r;var c=t.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&lj.indexOf(c)==-1)return r}else if(c.match(/[a-z]/))return r;return a<0||a>8099?r:(s>0||o>1)&&a!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function nt(t,e,r){if(t.FullPaths){if(typeof r=="string"){var a;return mt?a=Ba(r):a=R3(r),kt.utils.cfb_add(t,e,a)}kt.utils.cfb_add(t,e,r)}else t.file(e,r)}function sm(){return kt.utils.cfb_new()}var er=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,oj={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},lm=im(oj),om=/[&<>'"]/g,cj=/[\u0000-\u0008\u000b-\u001f]/g;function bt(t){var e=t+"";return e.replace(om,function(r){return lm[r]}).replace(cj,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function bx(t){return bt(t).replace(/ /g,"_x0020_")}var g2=/[\u0000-\u001f]/g;function uj(t){var e=t+"";return e.replace(om,function(r){return lm[r]}).replace(/\n/g,"<br/>").replace(g2,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function dj(t){var e=t+"";return e.replace(om,function(r){return lm[r]}).replace(g2,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function fj(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function hj(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Y0(t){for(var e="",r=0,a=0,s=0,o=0,c=0,f=0;r<t.length;){if(a=t.charCodeAt(r++),a<128){e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),a>191&&a<224){c=(a&31)<<6,c|=s&63,e+=String.fromCharCode(c);continue}if(o=t.charCodeAt(r++),a<240){e+=String.fromCharCode((a&15)<<12|(s&63)<<6|o&63);continue}c=t.charCodeAt(r++),f=((a&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536,e+=String.fromCharCode(55296+(f>>>10&1023)),e+=String.fromCharCode(56320+(f&1023))}return e}function wx(t){var e=Zi(2*t.length),r,a,s=1,o=0,c=0,f;for(a=0;a<t.length;a+=s)s=1,(f=t.charCodeAt(a))<128?r=f:f<224?(r=(f&31)*64+(t.charCodeAt(a+1)&63),s=2):f<240?(r=(f&15)*4096+(t.charCodeAt(a+1)&63)*64+(t.charCodeAt(a+2)&63),s=3):(s=4,r=(f&7)*262144+(t.charCodeAt(a+1)&63)*4096+(t.charCodeAt(a+2)&63)*64+(t.charCodeAt(a+3)&63),r-=65536,c=55296+(r>>>10&1023),r=56320+(r&1023)),c!==0&&(e[o++]=c&255,e[o++]=c>>>8,c=0),e[o++]=r%256,e[o++]=r>>>8;return e.slice(0,o).toString("ucs2")}function Sx(t){return Ba(t,"binary").toString("utf8")}var xu="foo bar baz",bo=mt&&(Sx(xu)==Y0(xu)&&Sx||wx(xu)==Y0(xu)&&wx)||Y0,No=mt?function(t){return Ba(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,a=0,s=0;r<t.length;)switch(a=t.charCodeAt(r++),!0){case a<128:e.push(String.fromCharCode(a));break;case a<2048:e.push(String.fromCharCode(192+(a>>6))),e.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=t.charCodeAt(r++)-56320+(a<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(a>>12))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)))}return e.join("")},mj=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)a=a.replace(t[s][0],t[s][1]);return a}})(),v2=/(^\s|\s$|\n)/;function yr(t,e){return"<"+t+(e.match(v2)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Do(t){return br(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function De(t,e,r){return"<"+t+(r!=null?Do(r):"")+(e!=null?(e.match(v2)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function jh(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function pj(t,e){switch(typeof t){case"string":var r=De("vt:lpwstr",bt(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return De((t|0)==t?"vt:i4":"vt:r8",bt(String(t)));case"boolean":return De("vt:bool",t?"true":"false")}if(t instanceof Date)return De("vt:filetime",jh(t));throw new Error("Unable to serialize "+t)}var sr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ml=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ln={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function gj(t,e){for(var r=1-2*(t[e+7]>>>7),a=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,o=5;o>=0;--o)s=s*256+t[e+o];return a==2047?s==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),r*Math.pow(2,a-52)*s)}function vj(t,e,r){var a=(e<0||1/e==-1/0?1:0)<<7,s=0,o=0,c=a?-e:e;isFinite(c)?c==0?s=o=0:(s=Math.floor(Math.log(c)/Math.LN2),o=c*Math.pow(2,52-s),s<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?s=-1022:(o-=Math.pow(2,52),s+=1023)):(s=2047,o=isNaN(e)?26985:0);for(var f=0;f<=5;++f,o/=256)t[r+f]=o&255;t[r+6]=(s&15)<<4|o&15,t[r+7]=s>>4|a}var Ex=function(t){for(var e=[],r=10240,a=0;a<t[0].length;++a)if(t[0][a])for(var s=0,o=t[0][a].length;s<o;s+=r)e.push.apply(e,t[0][a].slice(s,s+r));return e},Tx=mt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ba(e)})):Ex(t)}:Ex,kx=function(t,e,r){for(var a=[],s=e;s<r;s+=2)a.push(String.fromCharCode(yo(t,s)));return a.join("").replace(_o,"")},cm=mt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(_o,""):kx(t,e,r)}:kx,Ax=function(t,e,r){for(var a=[],s=e;s<e+r;++s)a.push(("0"+t[s].toString(16)).slice(-2));return a.join("")},x2=mt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Ax(t,e,r)}:Ax,jx=function(t,e,r){for(var a=[],s=e;s<r;s++)a.push(String.fromCharCode(Zs(t,s)));return a.join("")},Go=mt?function(e,r,a){return Buffer.isBuffer(e)?e.toString("utf8",r,a):jx(e,r,a)}:jx,y2=function(t,e){var r=on(t,e);return r>0?Go(t,e+4,e+4+r-1):""},_2=y2,b2=function(t,e){var r=on(t,e);return r>0?Go(t,e+4,e+4+r-1):""},w2=b2,S2=function(t,e){var r=2*on(t,e);return r>0?Go(t,e+4,e+4+r-1):""},E2=S2,T2=function(e,r){var a=on(e,r);return a>0?cm(e,r+4,r+4+a):""},k2=T2,A2=function(t,e){var r=on(t,e);return r>0?Go(t,e+4,e+4+r):""},j2=A2,C2=function(t,e){return gj(t,e)},Xu=C2,um=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};mt&&(_2=function(e,r){if(!Buffer.isBuffer(e))return y2(e,r);var a=e.readUInt32LE(r);return a>0?e.toString("utf8",r+4,r+4+a-1):""},w2=function(e,r){if(!Buffer.isBuffer(e))return b2(e,r);var a=e.readUInt32LE(r);return a>0?e.toString("utf8",r+4,r+4+a-1):""},E2=function(e,r){if(!Buffer.isBuffer(e))return S2(e,r);var a=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+a-1)},k2=function(e,r){if(!Buffer.isBuffer(e))return T2(e,r);var a=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+a)},j2=function(e,r){if(!Buffer.isBuffer(e))return A2(e,r);var a=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+a)},Xu=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):C2(e,r)},um=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Zs=function(t,e){return t[e]},yo=function(t,e){return t[e+1]*256+t[e]},xj=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},on=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Wi=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},yj=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function wo(t,e){var r="",a,s,o=[],c,f,h,m;switch(e){case"dbcs":if(m=this.l,mt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(h=0;h<t;++h)r+=String.fromCharCode(yo(this,m)),m+=2;t*=2;break;case"utf8":r=Go(this,this.l,this.l+t);break;case"utf16le":t*=2,r=cm(this,this.l,this.l+t);break;case"wstr":return wo.call(this,t,"dbcs");case"lpstr-ansi":r=_2(this,this.l),t=4+on(this,this.l);break;case"lpstr-cp":r=w2(this,this.l),t=4+on(this,this.l);break;case"lpwstr":r=E2(this,this.l),t=4+2*on(this,this.l);break;case"lpp4":t=4+on(this,this.l),r=k2(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+on(this,this.l),r=j2(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(c=Zs(this,this.l+t++))!==0;)o.push(pu(c));r=o.join("");break;case"_wstr":for(t=0,r="";(c=yo(this,this.l+t))!==0;)o.push(pu(c)),t+=2;t+=2,r=o.join("");break;case"dbcs-cont":for(r="",m=this.l,h=0;h<t;++h){if(this.lens&&this.lens.indexOf(m)!==-1)return c=Zs(this,m),this.l=m+1,f=wo.call(this,t-h,c?"dbcs-cont":"sbcs-cont"),o.join("")+f;o.push(pu(yo(this,m))),m+=2}r=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",m=this.l,h=0;h!=t;++h){if(this.lens&&this.lens.indexOf(m)!==-1)return c=Zs(this,m),this.l=m+1,f=wo.call(this,t-h,c?"dbcs-cont":"sbcs-cont"),o.join("")+f;o.push(pu(Zs(this,m))),m+=1}r=o.join("");break;default:switch(t){case 1:return a=Zs(this,this.l),this.l++,a;case 2:return a=(e==="i"?xj:yo)(this,this.l),this.l+=2,a;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(a=(t>0?Wi:yj)(this,this.l),this.l+=4,a):(s=on(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=Xu(this,this.l):s=Xu([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=x2(this,this.l,t);break}}return this.l+=t,r}var _j=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},bj=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},wj=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function Sj(t,e,r){var a=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)wj(this,e.charCodeAt(s),this.l+2*s);a=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;a=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var c=e.charCodeAt(s);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:a=1,this[this.l]=e&255;break;case 2:a=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:a=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:a=4,_j(this,e,this.l);break;case 8:if(a=8,r==="f"){vj(this,e,this.l);break}case 16:break;case-4:a=4,bj(this,e,this.l);break}return this.l+=a,this}function R2(t,e){var r=x2(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function sn(t,e){t.l=e,t.read_shift=wo,t.chk=R2,t.write_shift=Sj}function ra(t,e){t.l+=e}function ve(t){var e=Zi(t);return sn(e,0),e}function Vr(){var t=[],e=mt?256:2048,r=function(m){var g=ve(m);return sn(g,0),g},a=r(e),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&t.push(a),a=null)},o=function(m){return a&&m<a.length-a.l?a:(s(),a=r(Math.max(m+1,e)))},c=function(){return s(),xr(t)},f=function(m){s(),a=m,a.l==null&&(a.l=a.length),o(e)};return{next:o,push:f,end:c,_bufs:t}}function Te(t,e,r,a){var s=+e,o;if(!isNaN(s)){a||(a=gN[s].p||(r||[]).length||0),o=1+(s>=128?1:0)+1,a>=128&&++o,a>=16384&&++o,a>=2097152&&++o;var c=t.next(o);s<=127?c.write_shift(1,s):(c.write_shift(1,(s&127)+128),c.write_shift(1,s>>7));for(var f=0;f!=4;++f)if(a>=128)c.write_shift(1,(a&127)+128),a>>=7;else{c.write_shift(1,a);break}a>0&&um(r)&&t.push(r)}}function So(t,e,r){var a=Xr(t);if(e.s?(a.cRel&&(a.c+=e.s.c),a.rRel&&(a.r+=e.s.r)):(a.cRel&&(a.c+=e.c),a.rRel&&(a.r+=e.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function Cx(t,e,r){var a=Xr(t);return a.s=So(a.s,e.s,r),a.e=So(a.e,e.s,r),a}function Eo(t,e){if(t.cRel&&t.c<0)for(t=Xr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Xr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=wt(t);return!t.cRel&&t.cRel!=null&&(r=kj(r)),!t.rRel&&t.rRel!=null&&(r=Ej(r)),r}function X0(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ar(t.s.c)+":"+(t.e.cRel?"":"$")+Ar(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+_r(t.s.r)+":"+(t.e.rRel?"":"$")+_r(t.e.r):Eo(t.s,e.biff)+":"+Eo(t.e,e.biff)}function dm(t){return parseInt(Tj(t),10)-1}function _r(t){return""+(t+1)}function Ej(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Tj(t){return t.replace(/\$(\d+)$/,"$1")}function fm(t){for(var e=Aj(t),r=0,a=0;a!==e.length;++a)r=26*r+e.charCodeAt(a)-64;return r-1}function Ar(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function kj(t){return t.replace(/^([A-Z])/,"$$$1")}function Aj(t){return t.replace(/^\$([A-Z])/,"$1")}function jj(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function lr(t){for(var e=0,r=0,a=0;a<t.length;++a){var s=t.charCodeAt(a);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function wt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function dn(t){var e=t.indexOf(":");return e==-1?{s:lr(t),e:lr(t)}:{s:lr(t.slice(0,e)),e:lr(t.slice(e+1))}}function Zt(t,e){return typeof e>"u"||typeof e=="number"?Zt(t.s,t.e):(typeof t!="string"&&(t=wt(t)),typeof e!="string"&&(e=wt(e)),t==e?t:t+":"+e)}function Mt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,s=0,o=t.length;for(r=0;a<o&&!((s=t.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(e.s.c=--r,r=0;a<o&&!((s=t.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;if(e.s.r=--r,a===o||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++a,r=0;a!=o&&!((s=t.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(e.e.c=--r,r=0;a!=o&&!((s=t.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;return e.e.r=--r,e}function Rx(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=pi(t.z,r?Yr(e):e)}catch{}try{return t.w=pi((t.XF||{}).numFmtId||(r?14:0),r?Yr(e):e)}catch{return""+e}}function za(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?qo[t.v]||t.v:e==null?Rx(t,t.v):Rx(t,e))}function ns(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",a={};return a[r]=t,{SheetNames:[r],Sheets:a}}function O2(t,e,r){var a=r||{},s=t?Array.isArray(t):a.dense,o=t||(s?[]:{}),c=0,f=0;if(o&&a.origin!=null){if(typeof a.origin=="number")c=a.origin;else{var h=typeof a.origin=="string"?lr(a.origin):a.origin;c=h.r,f=h.c}o["!ref"]||(o["!ref"]="A1:A1")}var m={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var g=Mt(o["!ref"]);m.s.c=g.s.c,m.s.r=g.s.r,m.e.c=Math.max(m.e.c,g.e.c),m.e.r=Math.max(m.e.r,g.e.r),c==-1&&(m.e.r=c=g.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[x].length;++y)if(!(typeof e[x][y]>"u")){var w={v:e[x][y]},S=c+x,_=f+y;if(m.s.r>S&&(m.s.r=S),m.s.c>_&&(m.s.c=_),m.e.r<S&&(m.e.r=S),m.e.c<_&&(m.e.c=_),e[x][y]&&typeof e[x][y]=="object"&&!Array.isArray(e[x][y])&&!(e[x][y]instanceof Date))w=e[x][y];else if(Array.isArray(w.v)&&(w.f=e[x][y][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(a.nullError)w.t="e",w.v=0;else if(a.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=a.dateNF||$t[14],a.cellDates?(w.t="d",w.w=pi(w.z,Yr(w.v))):(w.t="n",w.v=Yr(w.v),w.w=pi(w.z,w.v))):w.t="s";if(s)o[S]||(o[S]=[]),o[S][_]&&o[S][_].z&&(w.z=o[S][_].z),o[S][_]=w;else{var b=wt({c:_,r:S});o[b]&&o[b].z&&(w.z=o[b].z),o[b]=w}}}return m.s.c<1e7&&(o["!ref"]=Zt(m)),o}function pl(t,e){return O2(null,t,e)}function Cj(t){return t.read_shift(4,"i")}function Hn(t,e){return e||(e=ve(4)),e.write_shift(4,t),e}function jr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function or(t,e){var r=!1;return e==null&&(r=!0,e=ve(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function Rj(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Oj(t,e){return e||(e=ve(4)),e.write_shift(2,0),e.write_shift(2,0),e}function hm(t,e){var r=t.l,a=t.read_shift(1),s=jr(t),o=[],c={t:s,h:s};if((a&1)!==0){for(var f=t.read_shift(4),h=0;h!=f;++h)o.push(Rj(t));c.r=o}else c.r=[{ich:0,ifnt:0}];return t.l=r+e,c}function Nj(t,e){var r=!1;return e==null&&(r=!0,e=ve(15+4*t.t.length)),e.write_shift(1,0),or(t.t,e),r?e.slice(0,e.l):e}var Dj=hm;function Mj(t,e){var r=!1;return e==null&&(r=!0,e=ve(23+4*t.t.length)),e.write_shift(1,1),or(t.t,e),e.write_shift(4,1),Oj({},e),r?e.slice(0,e.l):e}function jn(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function as(t,e){return e==null&&(e=ve(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function is(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ss(t,e){return e==null&&(e=ve(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var Lj=jr,N2=or;function mm(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Ju(t,e){var r=!1;return e==null&&(r=!0,e=ve(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var zj=jr,Ch=mm,pm=Ju;function D2(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,a=e[0]&2;t.l+=4;var s=a===0?Xu([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Wi(e,0)>>2;return r?s/100:s}function M2(t,e){e==null&&(e=ve(4));var r=0,a=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?a=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(a=1,r=1),a)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function L2(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function Fj(t,e){return e||(e=ve(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var ls=L2,gl=Fj;function vl(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function es(t,e){return(e||ve(8)).write_shift(8,t,"f")}function Bj(t){var e={},r=t.read_shift(1),a=r>>>1,s=t.read_shift(1),o=t.read_shift(2,"i"),c=t.read_shift(1),f=t.read_shift(1),h=t.read_shift(1);switch(t.l++,a){case 0:e.auto=1;break;case 1:e.index=s;var m=Vj[s];m&&(e.rgb=Px(m));break;case 2:e.rgb=Px([c,f,h]);break;case 3:e.theme=s;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function Qu(t,e){if(e||(e=ve(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var a=t.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),e.write_shift(1,parseInt(a.slice(0,2),16)),e.write_shift(1,parseInt(a.slice(2,4),16)),e.write_shift(1,parseInt(a.slice(4,6),16)),e.write_shift(1,255)}return e}function Ij(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function Uj(t,e){e||(e=ve(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var z2=2,an=3,yu=11,Zu=19,_u=64,Pj=65,Hj=71,$j=4108,Gj=4126,vr=80,Ox={1:{n:"CodePage",t:z2},2:{n:"Category",t:vr},3:{n:"PresentationFormat",t:vr},4:{n:"ByteCount",t:an},5:{n:"LineCount",t:an},6:{n:"ParagraphCount",t:an},7:{n:"SlideCount",t:an},8:{n:"NoteCount",t:an},9:{n:"HiddenCount",t:an},10:{n:"MultimediaClipCount",t:an},11:{n:"ScaleCrop",t:yu},12:{n:"HeadingPairs",t:$j},13:{n:"TitlesOfParts",t:Gj},14:{n:"Manager",t:vr},15:{n:"Company",t:vr},16:{n:"LinksUpToDate",t:yu},17:{n:"CharacterCount",t:an},19:{n:"SharedDoc",t:yu},22:{n:"HyperlinksChanged",t:yu},23:{n:"AppVersion",t:an,p:"version"},24:{n:"DigSig",t:Pj},26:{n:"ContentType",t:vr},27:{n:"ContentStatus",t:vr},28:{n:"Language",t:vr},29:{n:"Version",t:vr},255:{},2147483648:{n:"Locale",t:Zu},2147483651:{n:"Behavior",t:Zu},1919054434:{}},Nx={1:{n:"CodePage",t:z2},2:{n:"Title",t:vr},3:{n:"Subject",t:vr},4:{n:"Author",t:vr},5:{n:"Keywords",t:vr},6:{n:"Comments",t:vr},7:{n:"Template",t:vr},8:{n:"LastAuthor",t:vr},9:{n:"RevNumber",t:vr},10:{n:"EditTime",t:_u},11:{n:"LastPrinted",t:_u},12:{n:"CreatedDate",t:_u},13:{n:"ModifiedDate",t:_u},14:{n:"PageCount",t:an},15:{n:"WordCount",t:an},16:{n:"CharCount",t:an},17:{n:"Thumbnail",t:Hj},18:{n:"Application",t:vr},19:{n:"DocSecurity",t:an},255:{},2147483648:{n:"Locale",t:Zu},2147483651:{n:"Behavior",t:Zu},1919054434:{}};function qj(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Wj=qj([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Vj=Xr(Wj),qo={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Kj={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},bu={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function F2(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function B2(t,e){var r=aj(Kj),a=[],s;a[a.length]=er,a[a.length]=De("Types",null,{xmlns:sr.CT,"xmlns:xsd":sr.xsd,"xmlns:xsi":sr.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return De("Default",null,{Extension:h[0],ContentType:h[1]})}));var o=function(h){t[h]&&t[h].length>0&&(s=t[h][0],a[a.length]=De("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:bu[h][e.bookType]||bu[h].xlsx}))},c=function(h){(t[h]||[]).forEach(function(m){a[a.length]=De("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:bu[h][e.bookType]||bu[h].xlsx})})},f=function(h){(t[h]||[]).forEach(function(m){a[a.length]=De("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:r[h][0]})})};return o("workbooks"),c("sheets"),c("charts"),f("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(f),f("vba"),f("comments"),f("threadedcomments"),f("drawings"),c("metadata"),f("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var ft={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function I2(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function al(t){var e=[er,De("Relationships",null,{xmlns:sr.RELS})];return br(t["!id"]).forEach(function(r){e[e.length]=De("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function _t(t,e,r,a,s,o){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=a,s.Target=r,[ft.HLINK,ft.XPATH,ft.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function Yj(t){var e=[er];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Dx(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Xj(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Jj(t){var e=[er];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Dx(t[r][0],t[r][1])),e.push(Xj("",t[r][0]));return e.push(Dx("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function U2(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Gu.version+"</meta:generator></office:meta></office:document-meta>"}var Yi=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function J0(t,e,r,a,s){s[t]!=null||e==null||e===""||(s[t]=e,e=bt(e),a[a.length]=r?De(t,e,r):yr(t,e))}function P2(t,e){var r=e||{},a=[er,De("cp:coreProperties",null,{"xmlns:cp":sr.CORE_PROPS,"xmlns:dc":sr.dc,"xmlns:dcterms":sr.dcterms,"xmlns:dcmitype":sr.dcmitype,"xmlns:xsi":sr.xsi})],s={};if(!t&&!r.Props)return a.join("");t&&(t.CreatedDate!=null&&J0("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:jh(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s),t.ModifiedDate!=null&&J0("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:jh(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s));for(var o=0;o!=Yi.length;++o){var c=Yi[o],f=r.Props&&r.Props[c[1]]!=null?r.Props[c[1]]:t?t[c[1]]:null;f===!0?f="1":f===!1?f="0":typeof f=="number"&&(f=String(f)),f!=null&&J0(c[0],f,null,a,s)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var il=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],H2=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function $2(t){var e=[],r=De;return t||(t={}),t.Application="SheetJS",e[e.length]=er,e[e.length]=De("Properties",null,{xmlns:sr.EXT_PROPS,"xmlns:vt":sr.vt}),il.forEach(function(a){if(t[a[1]]!==void 0){var s;switch(a[2]){case"string":s=bt(String(t[a[1]]));break;case"bool":s=t[a[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(a[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(a){return"<vt:lpstr>"+bt(a)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function G2(t){var e=[er,De("Properties",null,{xmlns:sr.CUST_PROPS,"xmlns:vt":sr.vt})];if(!t)return e.join("");var r=1;return br(t).forEach(function(s){++r,e[e.length]=De("property",pj(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:bt(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Mx={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Qj(t,e){var r=[];return br(Mx).map(function(a){for(var s=0;s<Yi.length;++s)if(Yi[s][1]==a)return Yi[s];for(s=0;s<il.length;++s)if(il[s][1]==a)return il[s];throw a}).forEach(function(a){if(t[a[1]]!=null){var s=e&&e.Props&&e.Props[a[1]]!=null?e.Props[a[1]]:t[a[1]];switch(a[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(yr(Mx[a[1]]||a[1],s))}}),De("DocumentProperties",r.join(""),{xmlns:ln.o})}function Zj(t,e){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",s=[];return t&&br(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var c=0;c<Yi.length;++c)if(o==Yi[c][1])return;for(c=0;c<il.length;++c)if(o==il[c][1])return;for(c=0;c<r.length;++c)if(o==r[c])return;var f=t[o],h="string";typeof f=="number"?(h="float",f=String(f)):f===!0||f===!1?(h="boolean",f=f?"1":"0"):f=String(f),s.push(De(bx(o),f,{"dt:dt":h}))}}),e&&br(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var c=e[o],f="string";typeof c=="number"?(f="float",c=String(c)):c===!0||c===!1?(f="boolean",c=c?"1":"0"):c instanceof Date?(f="dateTime.tz",c=c.toISOString()):c=String(c),s.push(De(bx(o),c,{"dt:dt":f}))}}),"<"+a+' xmlns="'+ln.o+'">'+s.join("")+"</"+a+">"}function eC(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,a=r%Math.pow(2,32),s=(r-a)/Math.pow(2,32);a*=1e7,s*=1e7;var o=a/Math.pow(2,32)|0;o>0&&(a=a%Math.pow(2,32),s+=o);var c=ve(8);return c.write_shift(4,a),c.write_shift(4,s),c}function Lx(t,e){var r=ve(4),a=ve(4);switch(r.write_shift(4,t==80?31:t),t){case 3:a.write_shift(-4,e);break;case 5:a=ve(8),a.write_shift(8,e,"f");break;case 11:a.write_shift(4,e?1:0);break;case 64:a=eC(e);break;case 31:case 80:for(a=ve(4+2*(e.length+1)+(e.length%2?0:2)),a.write_shift(4,e.length+1),a.write_shift(0,e,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return xr([r,a])}var q2=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function tC(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function zx(t,e,r){var a=ve(8),s=[],o=[],c=8,f=0,h=ve(8),m=ve(8);if(h.write_shift(4,2),h.write_shift(4,1200),m.write_shift(4,1),o.push(h),s.push(m),c+=8+h.length,!e){m=ve(8),m.write_shift(4,0),s.unshift(m);var g=[ve(4)];for(g[0].write_shift(4,t.length),f=0;f<t.length;++f){var x=t[f][0];for(h=ve(8+2*(x.length+1)+(x.length%2?0:2)),h.write_shift(4,f+2),h.write_shift(4,x.length+1),h.write_shift(0,x,"dbcs");h.l!=h.length;)h.write_shift(1,0);g.push(h)}h=xr(g),o.unshift(h),c+=8+h.length}for(f=0;f<t.length;++f)if(!(e&&!e[t[f][0]])&&!(q2.indexOf(t[f][0])>-1||H2.indexOf(t[f][0])>-1)&&t[f][1]!=null){var y=t[f][1],w=0;if(e){w=+e[t[f][0]];var S=r[w];if(S.p=="version"&&typeof y=="string"){var _=y.split(".");y=(+_[0]<<16)+(+_[1]||0)}h=Lx(S.t,y)}else{var b=tC(y);b==-1&&(b=31,y=String(y)),h=Lx(b,y)}o.push(h),m=ve(8),m.write_shift(4,e?w:2+f),s.push(m),c+=8+h.length}var k=8*(o.length+1);for(f=0;f<o.length;++f)s[f].write_shift(4,k),k+=o[f].length;return a.write_shift(4,c),a.write_shift(4,o.length),xr([a].concat(s).concat(o))}function Fx(t,e,r,a,s,o){var c=ve(s?68:48),f=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,kt.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,s?2:1),c.write_shift(16,e,"hex"),c.write_shift(4,s?68:48);var h=zx(t,r,a);if(f.push(h),s){var m=zx(s,null,null);c.write_shift(16,o,"hex"),c.write_shift(4,68+h.length),f.push(m)}return xr(f)}function rC(t,e){e||(e=ve(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function nC(t,e){return t.read_shift(e)===1}function Dr(t,e){return e||(e=ve(2)),e.write_shift(2,+!!t),e}function W2(t){return t.read_shift(2,"u")}function kn(t,e){return e||(e=ve(2)),e.write_shift(2,t),e}function V2(t,e,r){return r||(r=ve(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function K2(t,e,r){var a=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var o=t.read_shift(1);o&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var c=a?t.read_shift(a,s):"";return c}function aC(t){var e=t.t||"",r=ve(3);r.write_shift(2,e.length),r.write_shift(1,1);var a=ve(2*e.length);a.write_shift(2*e.length,e,"utf16le");var s=[r,a];return xr(s)}function iC(t,e,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?a=t.read_shift(e,"sbcs-cont"):a=t.read_shift(e,"dbcs-cont"),a}function sC(t,e,r){var a=t.read_shift(r&&r.biff==2?1:2);return a===0?(t.l++,""):iC(t,a,r)}function lC(t,e,r){if(r.biff>5)return sC(t,e,r);var a=t.read_shift(1);return a===0?(t.l++,""):t.read_shift(a,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Y2(t,e,r){return r||(r=ve(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function Bx(t,e){e||(e=ve(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function oC(t){var e=ve(512),r=0,a=t.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var s=a.indexOf("#"),o=s>-1?31:23;switch(a.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var c=[8,6815827,6619237,4849780,83];for(r=0;r<c.length;++r)e.write_shift(4,c[r]);if(o==28)a=a.slice(1),Bx(a,e);else if(o&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<c.length;++r)e.write_shift(1,parseInt(c[r],16));var f=s>-1?a.slice(0,s):a;for(e.write_shift(4,2*(f.length+1)),r=0;r<f.length;++r)e.write_shift(2,f.charCodeAt(r));e.write_shift(2,0),o&8&&Bx(s>-1?a.slice(s+1):"",e)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<c.length;++r)e.write_shift(1,parseInt(c[r],16));for(var h=0;a.slice(h*3,h*3+3)=="../"||a.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,a.length-3*h+1),r=0;r<a.length-3*h;++r)e.write_shift(1,a.charCodeAt(r+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function ts(t,e,r,a){return a||(a=ve(6)),a.write_shift(2,t),a.write_shift(2,e),a.write_shift(2,r||0),a}function cC(t,e,r){var a=r.biff>8?4:2,s=t.read_shift(a),o=t.read_shift(a,"i"),c=t.read_shift(a,"i");return[s,o,c]}function uC(t){var e=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2);return{s:{c:a,r:e},e:{c:s,r}}}function X2(t,e){return e||(e=ve(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function gm(t,e,r){var a=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,s=8;break;case"biff4":a=4,s=6;break;case"biff3":a=3,s=6;break;case"biff2":a=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=ve(s);return o.write_shift(2,a),o.write_shift(2,e),s>4&&o.write_shift(2,29282),s>6&&o.write_shift(2,1997),s>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function dC(t,e){var r=!e||e.biff==8,a=ve(r?112:54);for(a.write_shift(e.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function fC(t,e){var r=!e||e.biff>=8?2:1,a=ve(8+r*t.name.length);a.write_shift(4,t.pos),a.write_shift(1,t.hs||0),a.write_shift(1,t.dt),a.write_shift(1,t.name.length),e.biff>=8&&a.write_shift(1,1),a.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=a.slice(0,a.l);return s.l=a.l,s}function hC(t,e){var r=ve(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var a=[],s=0;s<t.length;++s)a[s]=aC(t[s]);var o=xr([r].concat(a));return o.parts=[r.length].concat(a.map(function(c){return c.length})),o}function mC(){var t=ve(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function pC(t){var e=ve(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function gC(t,e){var r=t.name||"Arial",a=e&&e.biff==5,s=a?15+r.length:16+2*r.length,o=ve(s);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,r.length),a||o.write_shift(1,1),o.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),o}function vC(t,e,r,a){var s=ve(10);return ts(t,e,a,s),s.write_shift(4,r),s}function xC(t,e,r,a,s){var o=!s||s.biff==8,c=ve(8+ +o+(1+o)*r.length);return ts(t,e,a,c),c.write_shift(2,r.length),o&&c.write_shift(1,1),c.write_shift((1+o)*r.length,r,o?"utf16le":"sbcs"),c}function yC(t,e,r,a){var s=r&&r.biff==5;a||(a=ve(s?3+e.length:5+2*e.length)),a.write_shift(2,t),a.write_shift(s?1:2,e.length),s||a.write_shift(1,1),a.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var o=a.length>a.l?a.slice(0,a.l):a;return o.l==null&&(o.l=o.length),o}function _C(t,e){var r=e.biff==8||!e.biff?4:2,a=ve(2*r+6);return a.write_shift(r,t.s.r),a.write_shift(r,t.e.r+1),a.write_shift(2,t.s.c),a.write_shift(2,t.e.c+1),a.write_shift(2,0),a}function Ix(t,e,r,a){var s=r&&r.biff==5;a||(a=ve(s?16:20)),a.write_shift(2,0),t.style?(a.write_shift(2,t.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,t.numFmtId||0),a.write_shift(2,e<<4));var o=0;return t.numFmtId>0&&s&&(o|=1024),a.write_shift(4,o),a.write_shift(4,0),s||a.write_shift(4,0),a.write_shift(2,0),a}function bC(t){var e=ve(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function wC(t,e,r,a,s,o){var c=ve(8);return ts(t,e,a,c),V2(r,o,c),c}function SC(t,e,r,a){var s=ve(14);return ts(t,e,a,s),es(r,s),s}function EC(t,e,r){if(r.biff<8)return TC(t,e,r);for(var a=[],s=t.l+e,o=t.read_shift(r.biff>8?4:2);o--!==0;)a.push(cC(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return a}function TC(t,e,r){t[t.l+1]==3&&t[t.l]++;var a=K2(t,e,r);return a.charCodeAt(0)==3?a.slice(1):a}function kC(t){var e=ve(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)X2(t[r],e);return e}function AC(t){var e=ve(24),r=lr(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(a[s],16));return xr([e,oC(t[1])])}function jC(t){var e=t[1].Tooltip,r=ve(10+2*(e.length+1));r.write_shift(2,2048);var a=lr(t[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function CC(t){return t||(t=ve(4)),t.write_shift(2,1),t.write_shift(2,1),t}function RC(t,e,r){if(!r.cellStyles)return ra(t,e);var a=r&&r.biff>=12?4:2,s=t.read_shift(a),o=t.read_shift(a),c=t.read_shift(a),f=t.read_shift(a),h=t.read_shift(2);a==2&&(t.l+=2);var m={s,e:o,w:c,ixfe:f,flags:h};return(r.biff>=5||!r.biff)&&(m.level=h>>8&7),m}function OC(t,e){var r=ve(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var a=0;return t.hidden&&(a|=1),r.write_shift(1,a),a=t.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function NC(t){for(var e=ve(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function DC(t,e,r){var a=ve(15);return Vo(a,t,e),a.write_shift(8,r,"f"),a}function MC(t,e,r){var a=ve(9);return Vo(a,t,e),a.write_shift(2,r),a}var LC=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=im({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(f,h){var m=[],g=Zi(1);switch(h.type){case"base64":g=Un(La(f));break;case"binary":g=Un(f);break;case"buffer":case"array":g=f;break}sn(g,0);var x=g.read_shift(1),y=!!(x&136),w=!1,S=!1;switch(x){case 2:break;case 3:break;case 48:w=!0,y=!0;break;case 49:w=!0,y=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var _=0,b=521;x==2&&(_=g.read_shift(2)),g.l+=3,x!=2&&(_=g.read_shift(4)),_>1048576&&(_=1e6),x!=2&&(b=g.read_shift(2));var k=g.read_shift(2),O=h.codepage||1252;x!=2&&(g.l+=16,g.read_shift(1),g[g.l]!==0&&(O=t[g[g.l]]),g.l+=1,g.l+=2),S&&(g.l+=36);for(var T=[],F={},G=Math.min(g.length,x==2?521:b-10-(w?264:0)),K=S?32:11;g.l<G&&g[g.l]!=13;)switch(F={},F.name=qu.utils.decode(O,g.slice(g.l,g.l+K)).replace(/[\u0000\r\n].*$/g,""),g.l+=K,F.type=String.fromCharCode(g.read_shift(1)),x!=2&&!S&&(F.offset=g.read_shift(4)),F.len=g.read_shift(1),x==2&&(F.offset=g.read_shift(2)),F.dec=g.read_shift(1),F.name.length&&T.push(F),x!=2&&(g.l+=S?13:14),F.type){case"B":(!w||F.len!=8)&&h.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(g[g.l]!==13&&(g.l=b-1),g.read_shift(1)!==13)throw new Error("DBF Terminator not found "+g.l+" "+g[g.l]);g.l=b;var A=0,P=0;for(m[0]=[],P=0;P!=T.length;++P)m[0][P]=T[P].name;for(;_-- >0;){if(g[g.l]===42){g.l+=k;continue}for(++g.l,m[++A]=[],P=0,P=0;P!=T.length;++P){var q=g.slice(g.l,g.l+T[P].len);g.l+=T[P].len,sn(q,0);var te=qu.utils.decode(O,q);switch(T[P].type){case"C":te.trim().length&&(m[A][P]=te.replace(/\s+$/,""));break;case"D":te.length===8?m[A][P]=new Date(+te.slice(0,4),+te.slice(4,6)-1,+te.slice(6,8)):m[A][P]=te;break;case"F":m[A][P]=parseFloat(te.trim());break;case"+":case"I":m[A][P]=S?q.read_shift(-4,"i")^2147483648:q.read_shift(4,"i");break;case"L":switch(te.trim().toUpperCase()){case"Y":case"T":m[A][P]=!0;break;case"N":case"F":m[A][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+te+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));m[A][P]="##MEMO##"+(S?parseInt(te.trim(),10):q.read_shift(4));break;case"N":te=te.replace(/\u0000/g,"").trim(),te&&te!="."&&(m[A][P]=+te||0);break;case"@":m[A][P]=new Date(q.read_shift(-8,"f")-621356832e5);break;case"T":m[A][P]=new Date((q.read_shift(4)-2440588)*864e5+q.read_shift(4));break;case"Y":m[A][P]=q.read_shift(4,"i")/1e4+q.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":m[A][P]=-q.read_shift(-8,"f");break;case"B":if(w&&T[P].len==8){m[A][P]=q.read_shift(8,"f");break}case"G":case"P":q.l+=T[P].len;break;case"0":if(T[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[P].type)}}}if(x!=2&&g.l<g.length&&g[g.l++]!=26)throw new Error("DBF EOF Marker missing "+(g.l-1)+" of "+g.length+" "+g[g.l-1].toString(16));return h&&h.sheetRows&&(m=m.slice(0,h.sheetRows)),h.DBF=T,m}function a(f,h){var m=h||{};m.dateNF||(m.dateNF="yyyymmdd");var g=pl(r(f,m),m);return g["!cols"]=m.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete m.DBF,g}function s(f,h){try{return ns(a(f,h),h)}catch(m){if(h&&h.WTF)throw m}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function c(f,h){var m=h||{};if(+m.codepage>=0&&Co(+m.codepage),m.type=="string")throw new Error("Cannot write DBF to JS string");var g=Vr(),x=ad(f,{header:1,raw:!0,cellDates:!0}),y=x[0],w=x.slice(1),S=f["!cols"]||[],_=0,b=0,k=0,O=1;for(_=0;_<y.length;++_){if(((S[_]||{}).DBF||{}).name){y[_]=S[_].DBF.name,++k;continue}if(y[_]!=null){if(++k,typeof y[_]=="number"&&(y[_]=y[_].toString(10)),typeof y[_]!="string")throw new Error("DBF Invalid column name "+y[_]+" |"+typeof y[_]+"|");if(y.indexOf(y[_])!==_){for(b=0;b<1024;++b)if(y.indexOf(y[_]+"_"+b)==-1){y[_]+="_"+b;break}}}}var T=Mt(f["!ref"]),F=[],G=[],K=[];for(_=0;_<=T.e.c-T.s.c;++_){var A="",P="",q=0,te=[];for(b=0;b<w.length;++b)w[b][_]!=null&&te.push(w[b][_]);if(te.length==0||y[_]==null){F[_]="?";continue}for(b=0;b<te.length;++b){switch(typeof te[b]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=te[b]instanceof Date?"D":"C";break;default:P="C"}q=Math.max(q,String(te[b]).length),A=A&&A!=P?"C":P}q>250&&(q=250),P=((S[_]||{}).DBF||{}).type,P=="C"&&S[_].DBF.len>q&&(q=S[_].DBF.len),A=="B"&&P=="N"&&(A="N",K[_]=S[_].DBF.dec,q=S[_].DBF.len),G[_]=A=="C"||P=="N"?q:o[A]||0,O+=G[_],F[_]=A}var ee=g.next(32);for(ee.write_shift(4,318902576),ee.write_shift(4,w.length),ee.write_shift(2,296+32*k),ee.write_shift(2,O),_=0;_<4;++_)ee.write_shift(4,0);for(ee.write_shift(4,0|(+e[Q_]||3)<<8),_=0,b=0;_<y.length;++_)if(y[_]!=null){var de=g.next(32),ye=(y[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);de.write_shift(1,ye,"sbcs"),de.write_shift(1,F[_]=="?"?"C":F[_],"sbcs"),de.write_shift(4,b),de.write_shift(1,G[_]||o[F[_]]||0),de.write_shift(1,K[_]||0),de.write_shift(1,2),de.write_shift(4,0),de.write_shift(1,0),de.write_shift(4,0),de.write_shift(4,0),b+=G[_]||o[F[_]]||0}var He=g.next(264);for(He.write_shift(4,13),_=0;_<65;++_)He.write_shift(4,0);for(_=0;_<w.length;++_){var fe=g.next(O);for(fe.write_shift(1,0),b=0;b<y.length;++b)if(y[b]!=null)switch(F[b]){case"L":fe.write_shift(1,w[_][b]==null?63:w[_][b]?84:70);break;case"B":fe.write_shift(8,w[_][b]||0,"f");break;case"N":var X="0";for(typeof w[_][b]=="number"&&(X=w[_][b].toFixed(K[b]||0)),k=0;k<G[b]-X.length;++k)fe.write_shift(1,32);fe.write_shift(1,X,"sbcs");break;case"D":w[_][b]?(fe.write_shift(4,("0000"+w[_][b].getFullYear()).slice(-4),"sbcs"),fe.write_shift(2,("00"+(w[_][b].getMonth()+1)).slice(-2),"sbcs"),fe.write_shift(2,("00"+w[_][b].getDate()).slice(-2),"sbcs")):fe.write_shift(8,"00000000","sbcs");break;case"C":var pe=String(w[_][b]!=null?w[_][b]:"").slice(0,G[b]);for(fe.write_shift(1,pe,"sbcs"),k=0;k<G[b]-pe.length;++k)fe.write_shift(1,32);break}}return g.next(1).write_shift(1,26),g.end()}return{to_workbook:s,to_sheet:a,from_sheet:c}})(),zC=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+br(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,w){var S=t[w];return typeof S=="number"?cx(S):S},a=function(y,w,S){var _=w.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return _==59?y:cx(_)};t["|"]=254;function s(y,w){switch(w.type){case"base64":return o(La(y),w);case"binary":return o(y,w);case"buffer":return o(mt&&Buffer.isBuffer(y)?y.toString("binary"):Ho(y),w);case"array":return o(yd(y),w)}throw new Error("Unrecognized type "+w.type)}function o(y,w){var S=y.split(/[\n\r]+/),_=-1,b=-1,k=0,O=0,T=[],F=[],G=null,K={},A=[],P=[],q=[],te=0,ee;for(+w.codepage>=0&&Co(+w.codepage);k!==S.length;++k){te=0;var de=S[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(e,r),ye=de.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),He=ye[0],fe;if(de.length>0)switch(He){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ye[1].charAt(0)=="P"&&F.push(de.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,pe=!1,ke=!1,Me=!1,Q=-1,C=-1;for(O=1;O<ye.length;++O)switch(ye[O].charAt(0)){case"A":break;case"X":b=parseInt(ye[O].slice(1))-1,pe=!0;break;case"Y":for(_=parseInt(ye[O].slice(1))-1,pe||(b=0),ee=T.length;ee<=_;++ee)T[ee]=[];break;case"K":fe=ye[O].slice(1),fe.charAt(0)==='"'?fe=fe.slice(1,fe.length-1):fe==="TRUE"?fe=!0:fe==="FALSE"?fe=!1:isNaN(Na(fe))?isNaN(Oo(fe).getDate())||(fe=Mr(fe)):(fe=Na(fe),G!==null&&u2(G)&&(fe=m2(fe))),X=!0;break;case"E":Me=!0;var R=M6(ye[O].slice(1),{r:_,c:b});T[_][b]=[T[_][b],R];break;case"S":ke=!0,T[_][b]=[T[_][b],"S5S"];break;case"G":break;case"R":Q=parseInt(ye[O].slice(1))-1;break;case"C":C=parseInt(ye[O].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+de)}if(X&&(T[_][b]&&T[_][b].length==2?T[_][b][0]=fe:T[_][b]=fe,G=null),ke){if(Me)throw new Error("SYLK shared formula cannot have own formula");var W=Q>-1&&T[Q][C];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");T[_][b][1]=L6(W[1],{r:_-Q,c:b-C})}break;case"F":var D=0;for(O=1;O<ye.length;++O)switch(ye[O].charAt(0)){case"X":b=parseInt(ye[O].slice(1))-1,++D;break;case"Y":for(_=parseInt(ye[O].slice(1))-1,ee=T.length;ee<=_;++ee)T[ee]=[];break;case"M":te=parseInt(ye[O].slice(1))/20;break;case"F":break;case"G":break;case"P":G=F[parseInt(ye[O].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(q=ye[O].slice(1).split(" "),ee=parseInt(q[0],10);ee<=parseInt(q[1],10);++ee)te=parseInt(q[2],10),P[ee-1]=te===0?{hidden:!0}:{wch:te},vm(P[ee-1]);break;case"C":b=parseInt(ye[O].slice(1))-1,P[b]||(P[b]={});break;case"R":_=parseInt(ye[O].slice(1))-1,A[_]||(A[_]={}),te>0?(A[_].hpt=te,A[_].hpx=tb(te)):te===0&&(A[_].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+de)}D<1&&(G=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+de)}}return A.length>0&&(K["!rows"]=A),P.length>0&&(K["!cols"]=P),w&&w.sheetRows&&(T=T.slice(0,w.sheetRows)),[T,K]}function c(y,w){var S=s(y,w),_=S[0],b=S[1],k=pl(_,w);return br(b).forEach(function(O){k[O]=b[O]}),k}function f(y,w){return ns(c(y,w),w)}function h(y,w,S,_){var b="C;Y"+(S+1)+";X"+(_+1)+";K";switch(y.t){case"n":b+=y.v||0,y.f&&!y.F&&(b+=";E"+ym(y.f,{r:S,c:_}));break;case"b":b+=y.v?"TRUE":"FALSE";break;case"e":b+=y.w||y.v;break;case"d":b+='"'+(y.w||y.v)+'"';break;case"s":b+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function m(y,w){w.forEach(function(S,_){var b="F;W"+(_+1)+" "+(_+1)+" ";S.hidden?b+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=ed(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=td(S.wpx)),typeof S.wch=="number"&&(b+=Math.round(S.wch))),b.charAt(b.length-1)!=" "&&y.push(b)})}function g(y,w){w.forEach(function(S,_){var b="F;";S.hidden?b+="M0;":S.hpt?b+="M"+20*S.hpt+";":S.hpx&&(b+="M"+20*rd(S.hpx)+";"),b.length>2&&y.push(b+"R"+(_+1))})}function x(y,w){var S=["ID;PWXL;N;E"],_=[],b=Mt(y["!ref"]),k,O=Array.isArray(y),T=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),y["!cols"]&&m(S,y["!cols"]),y["!rows"]&&g(S,y["!rows"]),S.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var F=b.s.r;F<=b.e.r;++F)for(var G=b.s.c;G<=b.e.c;++G){var K=wt({r:F,c:G});k=O?(y[F]||[])[G]:y[K],!(!k||k.v==null&&(!k.f||k.F))&&_.push(h(k,y,F,G))}return S.join(T)+T+_.join(T)+T+"E"+T}return{to_workbook:f,to_sheet:c,from_sheet:x}})(),FC=(function(){function t(o,c){switch(c.type){case"base64":return e(La(o),c);case"binary":return e(o,c);case"buffer":return e(mt&&Buffer.isBuffer(o)?o.toString("binary"):Ho(o),c);case"array":return e(yd(o),c)}throw new Error("Unrecognized type "+c.type)}function e(o,c){for(var f=o.split(`
`),h=-1,m=-1,g=0,x=[];g!==f.length;++g){if(f[g].trim()==="BOT"){x[++h]=[],m=0;continue}if(!(h<0)){var y=f[g].trim().split(","),w=y[0],S=y[1];++g;for(var _=f[g]||"";(_.match(/["]/g)||[]).length&1&&g<f.length-1;)_+=`
`+f[++g];switch(_=_.trim(),+w){case-1:if(_==="BOT"){x[++h]=[],m=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?x[h][m]=!0:_==="FALSE"?x[h][m]=!1:isNaN(Na(S))?isNaN(Oo(S).getDate())?x[h][m]=S:x[h][m]=Mr(S):x[h][m]=Na(S),++m;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),x[h][m++]=_!==""?_:null;break}if(_==="EOD")break}}return c&&c.sheetRows&&(x=x.slice(0,c.sheetRows)),x}function r(o,c){return pl(t(o,c),c)}function a(o,c){return ns(r(o,c),c)}var s=(function(){var o=function(h,m,g,x,y){h.push(m),h.push(g+","+x),h.push('"'+y.replace(/"/g,'""')+'"')},c=function(h,m,g,x){h.push(m+","+g),h.push(m==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(h){var m=[],g=Mt(h["!ref"]),x,y=Array.isArray(h);o(m,"TABLE",0,1,"sheetjs"),o(m,"VECTORS",0,g.e.r-g.s.r+1,""),o(m,"TUPLES",0,g.e.c-g.s.c+1,""),o(m,"DATA",0,0,"");for(var w=g.s.r;w<=g.e.r;++w){c(m,-1,0,"BOT");for(var S=g.s.c;S<=g.e.c;++S){var _=wt({r:w,c:S});if(x=y?(h[w]||[])[S]:h[_],!x){c(m,1,0,"");continue}switch(x.t){case"n":var b=x.w;!b&&x.v!=null&&(b=x.v),b==null?x.f&&!x.F?c(m,1,0,"="+x.f):c(m,1,0,""):c(m,0,b,"V");break;case"b":c(m,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":c(m,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=pi(x.z||$t[14],Yr(Mr(x.v)))),c(m,0,x.w,"V");break;default:c(m,1,0,"")}}}c(m,-1,0,"EOD");var k=`\r
`,O=m.join(k);return O}})();return{to_workbook:a,to_sheet:r,from_sheet:s}})(),J2=(function(){function t(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(x,y){for(var w=x.split(`
`),S=-1,_=-1,b=0,k=[];b!==w.length;++b){var O=w[b].trim().split(":");if(O[0]==="cell"){var T=lr(O[1]);if(k.length<=T.r)for(S=k.length;S<=T.r;++S)k[S]||(k[S]=[]);switch(S=T.r,_=T.c,O[2]){case"t":k[S][_]=t(O[3]);break;case"v":k[S][_]=+O[3];break;case"vtf":var F=O[O.length-1];case"vtc":switch(O[3]){case"nl":k[S][_]=!!+O[4];break;default:k[S][_]=+O[4];break}O[2]=="vtf"&&(k[S][_]=[k[S][_],F])}}}return y&&y.sheetRows&&(k=k.slice(0,y.sheetRows)),k}function a(x,y){return pl(r(x,y),y)}function s(x,y){return ns(a(x,y),y)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function m(x){if(!x||!x["!ref"])return"";for(var y=[],w=[],S,_="",b=dn(x["!ref"]),k=Array.isArray(x),O=b.s.r;O<=b.e.r;++O)for(var T=b.s.c;T<=b.e.c;++T)if(_=wt({r:O,c:T}),S=k?(x[O]||[])[T]:x[_],!(!S||S.v==null||S.t==="z")){switch(w=["cell",_,"t"],S.t){case"s":case"str":w.push(e(S.v));break;case"n":S.f?(w[2]="vtf",w[3]="n",w[4]=S.v,w[5]=e(S.f)):(w[2]="v",w[3]=S.v);break;case"b":w[2]="vt"+(S.f?"f":"c"),w[3]="nl",w[4]=S.v?"1":"0",w[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var F=Yr(Mr(S.v));w[2]="vtc",w[3]="nd",w[4]=""+F,w[5]=S.w||pi(S.z||$t[14],F);break;case"e":continue}y.push(w.join(":"))}return y.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function g(x){return[o,c,f,c,m(x),h].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:g}})(),BC=(function(){function t(g,x,y,w,S){S.raw?x[y][w]=g:g===""||(g==="TRUE"?x[y][w]=!0:g==="FALSE"?x[y][w]=!1:isNaN(Na(g))?isNaN(Oo(g).getDate())?x[y][w]=g:x[y][w]=Mr(g):x[y][w]=Na(g))}function e(g,x){var y=x||{},w=[];if(!g||g.length===0)return w;for(var S=g.split(/[\r\n]/),_=S.length-1;_>=0&&S[_].length===0;)--_;for(var b=10,k=0,O=0;O<=_;++O)k=S[O].indexOf(" "),k==-1?k=S[O].length:k++,b=Math.max(b,k);for(O=0;O<=_;++O){w[O]=[];var T=0;for(t(S[O].slice(0,b).trim(),w,O,T,y),T=1;T<=(S[O].length-b)/10+1;++T)t(S[O].slice(b+(T-1)*10,b+T*10).trim(),w,O,T,y)}return y.sheetRows&&(w=w.slice(0,y.sheetRows)),w}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(g){for(var x={},y=!1,w=0,S=0;w<g.length;++w)(S=g.charCodeAt(w))==34?y=!y:!y&&S in r&&(x[S]=(x[S]||0)+1);S=[];for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&S.push([x[w],w]);if(!S.length){x=a;for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&S.push([x[w],w])}return S.sort(function(_,b){return _[0]-b[0]||a[_[1]]-a[b[1]]}),r[S.pop()[1]]||44}function o(g,x){var y=x||{},w="",S=y.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};g.slice(0,4)=="sep="?g.charCodeAt(5)==13&&g.charCodeAt(6)==10?(w=g.charAt(4),g=g.slice(7)):g.charCodeAt(5)==13||g.charCodeAt(5)==10?(w=g.charAt(4),g=g.slice(6)):w=s(g.slice(0,1024)):y&&y.FS?w=y.FS:w=s(g.slice(0,1024));var b=0,k=0,O=0,T=0,F=0,G=w.charCodeAt(0),K=!1,A=0,P=g.charCodeAt(0);g=g.replace(/\r\n/mg,`
`);var q=y.dateNF!=null?ej(y.dateNF):null;function te(){var ee=g.slice(T,F),de={};if(ee.charAt(0)=='"'&&ee.charAt(ee.length-1)=='"'&&(ee=ee.slice(1,-1).replace(/""/g,'"')),ee.length===0)de.t="z";else if(y.raw)de.t="s",de.v=ee;else if(ee.trim().length===0)de.t="s",de.v=ee;else if(ee.charCodeAt(0)==61)ee.charCodeAt(1)==34&&ee.charCodeAt(ee.length-1)==34?(de.t="s",de.v=ee.slice(2,-1).replace(/""/g,'"')):z6(ee)?(de.t="n",de.f=ee.slice(1)):(de.t="s",de.v=ee);else if(ee=="TRUE")de.t="b",de.v=!0;else if(ee=="FALSE")de.t="b",de.v=!1;else if(!isNaN(O=Na(ee)))de.t="n",y.cellText!==!1&&(de.w=ee),de.v=O;else if(!isNaN(Oo(ee).getDate())||q&&ee.match(q)){de.z=y.dateNF||$t[14];var ye=0;q&&ee.match(q)&&(ee=tj(ee,y.dateNF,ee.match(q)||[]),ye=1),y.cellDates?(de.t="d",de.v=Mr(ee,ye)):(de.t="n",de.v=Yr(Mr(ee,ye))),y.cellText!==!1&&(de.w=pi(de.z,de.v instanceof Date?Yr(de.v):de.v)),y.cellNF||delete de.z}else de.t="s",de.v=ee;if(de.t=="z"||(y.dense?(S[b]||(S[b]=[]),S[b][k]=de):S[wt({c:k,r:b})]=de),T=F+1,P=g.charCodeAt(T),_.e.c<k&&(_.e.c=k),_.e.r<b&&(_.e.r=b),A==G)++k;else if(k=0,++b,y.sheetRows&&y.sheetRows<=b)return!0}e:for(;F<g.length;++F)switch(A=g.charCodeAt(F)){case 34:P===34&&(K=!K);break;case G:case 10:case 13:if(!K&&te())break e;break}return F-T>0&&te(),S["!ref"]=Zt(_),S}function c(g,x){return!(x&&x.PRN)||x.FS||g.slice(0,4)=="sep="||g.indexOf("	")>=0||g.indexOf(",")>=0||g.indexOf(";")>=0?o(g,x):pl(e(g,x),x)}function f(g,x){var y="",w=x.type=="string"?[0,0,0,0]:XN(g,x);switch(x.type){case"base64":y=La(g);break;case"binary":y=g;break;case"buffer":x.codepage==65001?y=g.toString("utf8"):x.codepage&&typeof qu<"u"||(y=mt&&Buffer.isBuffer(g)?g.toString("binary"):Ho(g));break;case"array":y=yd(g);break;case"string":y=g;break;default:throw new Error("Unrecognized type "+x.type)}return w[0]==239&&w[1]==187&&w[2]==191?y=bo(y.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?y=bo(y):x.type=="binary"&&typeof qu<"u",y.slice(0,19)=="socialcalc:version:"?J2.to_sheet(x.type=="string"?y:bo(y),x):c(y,x)}function h(g,x){return ns(f(g,x),x)}function m(g){for(var x=[],y=Mt(g["!ref"]),w,S=Array.isArray(g),_=y.s.r;_<=y.e.r;++_){for(var b=[],k=y.s.c;k<=y.e.c;++k){var O=wt({r:_,c:k});if(w=S?(g[_]||[])[k]:g[O],!w||w.v==null){b.push("          ");continue}for(var T=(w.w||(za(w),w.w)||"").slice(0,10);T.length<10;)T+=" ";b.push(T+(k===0?" ":""))}x.push(b.join(""))}return x.join(`
`)}return{to_workbook:h,to_sheet:f,from_sheet:m}})(),Ux=(function(){function t(R,W,D){if(R){sn(R,R.l||0);for(var H=D.Enum||Q;R.l<R.length;){var Z=R.read_shift(2),me=H[Z]||H[65535],be=R.read_shift(2),we=R.l+be,Ee=me.f&&me.f(R,be,D);if(R.l=we,W(Ee,me,Z))return}}}function e(R,W){switch(W.type){case"base64":return r(Un(La(R)),W);case"binary":return r(Un(R),W);case"buffer":case"array":return r(R,W)}throw"Unsupported type "+W.type}function r(R,W){if(!R)return R;var D=W||{},H=D.dense?[]:{},Z="Sheet1",me="",be=0,we={},Ee=[],$e=[],Pe={s:{r:0,c:0},e:{r:0,c:0}},Qe=D.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)D.Enum=Q,t(R,function(ze,At,Lt){switch(Lt){case 0:D.vers=ze,ze>=4096&&(D.qpro=!0);break;case 6:Pe=ze;break;case 204:ze&&(me=ze);break;case 222:me=ze;break;case 15:case 51:D.qpro||(ze[1].v=ze[1].v.slice(1));case 13:case 14:case 16:Lt==14&&(ze[2]&112)==112&&(ze[2]&15)>1&&(ze[2]&15)<15&&(ze[1].z=D.dateNF||$t[14],D.cellDates&&(ze[1].t="d",ze[1].v=m2(ze[1].v))),D.qpro&&ze[3]>be&&(H["!ref"]=Zt(Pe),we[Z]=H,Ee.push(Z),H=D.dense?[]:{},Pe={s:{r:0,c:0},e:{r:0,c:0}},be=ze[3],Z=me||"Sheet"+(be+1),me="");var pt=D.dense?(H[ze[0].r]||[])[ze[0].c]:H[wt(ze[0])];if(pt){pt.t=ze[1].t,pt.v=ze[1].v,ze[1].z!=null&&(pt.z=ze[1].z),ze[1].f!=null&&(pt.f=ze[1].f);break}D.dense?(H[ze[0].r]||(H[ze[0].r]=[]),H[ze[0].r][ze[0].c]=ze[1]):H[wt(ze[0])]=ze[1];break}},D);else if(R[2]==26||R[2]==14)D.Enum=C,R[2]==14&&(D.qpro=!0,R.l=0),t(R,function(ze,At,Lt){switch(Lt){case 204:Z=ze;break;case 22:ze[1].v=ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ze[3]>be&&(H["!ref"]=Zt(Pe),we[Z]=H,Ee.push(Z),H=D.dense?[]:{},Pe={s:{r:0,c:0},e:{r:0,c:0}},be=ze[3],Z="Sheet"+(be+1)),Qe>0&&ze[0].r>=Qe)break;D.dense?(H[ze[0].r]||(H[ze[0].r]=[]),H[ze[0].r][ze[0].c]=ze[1]):H[wt(ze[0])]=ze[1],Pe.e.c<ze[0].c&&(Pe.e.c=ze[0].c),Pe.e.r<ze[0].r&&(Pe.e.r=ze[0].r);break;case 27:ze[14e3]&&($e[ze[14e3][0]]=ze[14e3][1]);break;case 1537:$e[ze[0]]=ze[1],ze[0]==be&&(Z=ze[1]);break}},D);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(H["!ref"]=Zt(Pe),we[me||Z]=H,Ee.push(me||Z),!$e.length)return{SheetNames:Ee,Sheets:we};for(var le={},at=[],et=0;et<$e.length;++et)we[Ee[et]]?(at.push($e[et]||Ee[et]),le[$e[et]]=we[$e[et]]||we[Ee[et]]):(at.push($e[et]),le[$e[et]]={"!ref":"A1"});return{SheetNames:at,Sheets:le}}function a(R,W){var D=W||{};if(+D.codepage>=0&&Co(+D.codepage),D.type=="string")throw new Error("Cannot write WK1 to JS string");var H=Vr(),Z=Mt(R["!ref"]),me=Array.isArray(R),be=[];Le(H,0,o(1030)),Le(H,6,h(Z));for(var we=Math.min(Z.e.r,8191),Ee=Z.s.r;Ee<=we;++Ee)for(var $e=_r(Ee),Pe=Z.s.c;Pe<=Z.e.c;++Pe){Ee===Z.s.r&&(be[Pe]=Ar(Pe));var Qe=be[Pe]+$e,le=me?(R[Ee]||[])[Pe]:R[Qe];if(!(!le||le.t=="z"))if(le.t=="n")(le.v|0)==le.v&&le.v>=-32768&&le.v<=32767?Le(H,13,w(Ee,Pe,le.v)):Le(H,14,_(Ee,Pe,le.v));else{var at=za(le);Le(H,15,x(Ee,Pe,at.slice(0,239)))}}return Le(H,1),H.end()}function s(R,W){var D=W||{};if(+D.codepage>=0&&Co(+D.codepage),D.type=="string")throw new Error("Cannot write WK3 to JS string");var H=Vr();Le(H,0,c(R));for(var Z=0,me=0;Z<R.SheetNames.length;++Z)(R.Sheets[R.SheetNames[Z]]||{})["!ref"]&&Le(H,27,Me(R.SheetNames[Z],me++));var be=0;for(Z=0;Z<R.SheetNames.length;++Z){var we=R.Sheets[R.SheetNames[Z]];if(!(!we||!we["!ref"])){for(var Ee=Mt(we["!ref"]),$e=Array.isArray(we),Pe=[],Qe=Math.min(Ee.e.r,8191),le=Ee.s.r;le<=Qe;++le)for(var at=_r(le),et=Ee.s.c;et<=Ee.e.c;++et){le===Ee.s.r&&(Pe[et]=Ar(et));var ze=Pe[et]+at,At=$e?(we[le]||[])[et]:we[ze];if(!(!At||At.t=="z"))if(At.t=="n")Le(H,23,te(le,et,be,At.v));else{var Lt=za(At);Le(H,22,A(le,et,be,Lt.slice(0,239)))}}++be}}return Le(H,1),H.end()}function o(R){var W=ve(2);return W.write_shift(2,R),W}function c(R){var W=ve(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var D=0,H=0,Z=0,me=0;me<R.SheetNames.length;++me){var be=R.SheetNames[me],we=R.Sheets[be];if(!(!we||!we["!ref"])){++Z;var Ee=dn(we["!ref"]);D<Ee.e.r&&(D=Ee.e.r),H<Ee.e.c&&(H=Ee.e.c)}}return D>8191&&(D=8191),W.write_shift(2,D),W.write_shift(1,Z),W.write_shift(1,H),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function f(R,W,D){var H={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&D.qpro?(H.s.c=R.read_shift(1),R.l++,H.s.r=R.read_shift(2),H.e.c=R.read_shift(1),R.l++,H.e.r=R.read_shift(2),H):(H.s.c=R.read_shift(2),H.s.r=R.read_shift(2),W==12&&D.qpro&&(R.l+=2),H.e.c=R.read_shift(2),H.e.r=R.read_shift(2),W==12&&D.qpro&&(R.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function h(R){var W=ve(8);return W.write_shift(2,R.s.c),W.write_shift(2,R.s.r),W.write_shift(2,R.e.c),W.write_shift(2,R.e.r),W}function m(R,W,D){var H=[{c:0,r:0},{t:"n",v:0},0,0];return D.qpro&&D.vers!=20768?(H[0].c=R.read_shift(1),H[3]=R.read_shift(1),H[0].r=R.read_shift(2),R.l+=2):(H[2]=R.read_shift(1),H[0].c=R.read_shift(2),H[0].r=R.read_shift(2)),H}function g(R,W,D){var H=R.l+W,Z=m(R,W,D);if(Z[1].t="s",D.vers==20768){R.l++;var me=R.read_shift(1);return Z[1].v=R.read_shift(me,"utf8"),Z}return D.qpro&&R.l++,Z[1].v=R.read_shift(H-R.l,"cstr"),Z}function x(R,W,D){var H=ve(7+D.length);H.write_shift(1,255),H.write_shift(2,W),H.write_shift(2,R),H.write_shift(1,39);for(var Z=0;Z<H.length;++Z){var me=D.charCodeAt(Z);H.write_shift(1,me>=128?95:me)}return H.write_shift(1,0),H}function y(R,W,D){var H=m(R,W,D);return H[1].v=R.read_shift(2,"i"),H}function w(R,W,D){var H=ve(7);return H.write_shift(1,255),H.write_shift(2,W),H.write_shift(2,R),H.write_shift(2,D,"i"),H}function S(R,W,D){var H=m(R,W,D);return H[1].v=R.read_shift(8,"f"),H}function _(R,W,D){var H=ve(13);return H.write_shift(1,255),H.write_shift(2,W),H.write_shift(2,R),H.write_shift(8,D,"f"),H}function b(R,W,D){var H=R.l+W,Z=m(R,W,D);if(Z[1].v=R.read_shift(8,"f"),D.qpro)R.l=H;else{var me=R.read_shift(2);F(R.slice(R.l,R.l+me),Z),R.l+=me}return Z}function k(R,W,D){var H=W&32768;return W&=-32769,W=(H?R:0)+(W>=8192?W-16384:W),(H?"":"$")+(D?Ar(W):_r(W))}var O={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(R,W){sn(R,0);for(var D=[],H=0,Z="",me="",be="",we="";R.l<R.length;){var Ee=R[R.l++];switch(Ee){case 0:D.push(R.read_shift(8,"f"));break;case 1:me=k(W[0].c,R.read_shift(2),!0),Z=k(W[0].r,R.read_shift(2),!1),D.push(me+Z);break;case 2:{var $e=k(W[0].c,R.read_shift(2),!0),Pe=k(W[0].r,R.read_shift(2),!1);me=k(W[0].c,R.read_shift(2),!0),Z=k(W[0].r,R.read_shift(2),!1),D.push($e+Pe+":"+me+Z)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:D.push("("+D.pop()+")");break;case 5:D.push(R.read_shift(2));break;case 6:{for(var Qe="";Ee=R[R.l++];)Qe+=String.fromCharCode(Ee);D.push('"'+Qe.replace(/"/g,'""')+'"')}break;case 8:D.push("-"+D.pop());break;case 23:D.push("+"+D.pop());break;case 22:D.push("NOT("+D.pop()+")");break;case 20:case 21:we=D.pop(),be=D.pop(),D.push(["AND","OR"][Ee-20]+"("+be+","+we+")");break;default:if(Ee<32&&T[Ee])we=D.pop(),be=D.pop(),D.push(be+T[Ee]+we);else if(O[Ee]){if(H=O[Ee][1],H==69&&(H=R[R.l++]),H>D.length){console.error("WK1 bad formula parse 0x"+Ee.toString(16)+":|"+D.join("|")+"|");return}var le=D.slice(-H);D.length-=H,D.push(O[Ee][0]+"("+le.join(",")+")")}else return Ee<=7?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=24?console.error("WK1 unsupported op "+Ee.toString(16)):Ee<=30?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=115?console.error("WK1 unsupported function opcode "+Ee.toString(16)):console.error("WK1 unrecognized opcode "+Ee.toString(16))}}D.length==1?W[1].f=""+D[0]:console.error("WK1 bad formula parse |"+D.join("|")+"|")}function G(R){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=R.read_shift(2),W[3]=R[R.l++],W[0].c=R[R.l++],W}function K(R,W){var D=G(R);return D[1].t="s",D[1].v=R.read_shift(W-4,"cstr"),D}function A(R,W,D,H){var Z=ve(6+H.length);Z.write_shift(2,R),Z.write_shift(1,D),Z.write_shift(1,W),Z.write_shift(1,39);for(var me=0;me<H.length;++me){var be=H.charCodeAt(me);Z.write_shift(1,be>=128?95:be)}return Z.write_shift(1,0),Z}function P(R,W){var D=G(R);D[1].v=R.read_shift(2);var H=D[1].v>>1;if(D[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return D[1].v=H,D}function q(R,W){var D=G(R),H=R.read_shift(4),Z=R.read_shift(4),me=R.read_shift(2);if(me==65535)return H===0&&Z===3221225472?(D[1].t="e",D[1].v=15):H===0&&Z===3489660928?(D[1].t="e",D[1].v=42):D[1].v=0,D;var be=me&32768;return me=(me&32767)-16446,D[1].v=(1-be*2)*(Z*Math.pow(2,me+32)+H*Math.pow(2,me)),D}function te(R,W,D,H){var Z=ve(14);if(Z.write_shift(2,R),Z.write_shift(1,D),Z.write_shift(1,W),H==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var me=0,be=0,we=0,Ee=0;return H<0&&(me=1,H=-H),be=Math.log2(H)|0,H/=Math.pow(2,be-31),Ee=H>>>0,(Ee&2147483648)==0&&(H/=2,++be,Ee=H>>>0),H-=Ee,Ee|=2147483648,Ee>>>=0,H*=Math.pow(2,32),we=H>>>0,Z.write_shift(4,we),Z.write_shift(4,Ee),be+=16383+(me?32768:0),Z.write_shift(2,be),Z}function ee(R,W){var D=q(R);return R.l+=W-14,D}function de(R,W){var D=G(R),H=R.read_shift(4);return D[1].v=H>>6,D}function ye(R,W){var D=G(R),H=R.read_shift(8,"f");return D[1].v=H,D}function He(R,W){var D=ye(R);return R.l+=W-10,D}function fe(R,W){return R[R.l+W-1]==0?R.read_shift(W,"cstr"):""}function X(R,W){var D=R[R.l++];D>W-1&&(D=W-1);for(var H="";H.length<D;)H+=String.fromCharCode(R[R.l++]);return H}function pe(R,W,D){if(!(!D.qpro||W<21)){var H=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var Z=R.read_shift(W-21,"cstr");return[H,Z]}}function ke(R,W){for(var D={},H=R.l+W;R.l<H;){var Z=R.read_shift(2);if(Z==14e3){for(D[Z]=[0,""],D[Z][0]=R.read_shift(2);R[R.l];)D[Z][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return D}function Me(R,W){var D=ve(5+R.length);D.write_shift(2,14e3),D.write_shift(2,W);for(var H=0;H<R.length;++H){var Z=R.charCodeAt(H);D[D.l++]=Z>127?95:Z}return D[D.l++]=0,D}var Q={0:{n:"BOF",f:W2},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:fe},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},C={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:K},23:{n:"NUMBER17",f:q},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:ee},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ke},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:de},38:{n:"??"},39:{n:"NUMBER27",f:ye},40:{n:"FORMULA28",f:He},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:fe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:pe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:e}})(),IC=/^\s|\s$|[\t\n\r]/;function Q2(t,e){if(!e.bookSST)return"";var r=[er];r[r.length]=De("sst",null,{xmlns:ml[0],count:t.Count,uniqueCount:t.Unique});for(var a=0;a!=t.length;++a)if(t[a]!=null){var s=t[a],o="<si>";s.r?o+=s.r:(o+="<t",s.t||(s.t=""),s.t.match(IC)&&(o+=' xml:space="preserve"'),o+=">"+bt(s.t)+"</t>"),o+="</si>",r[r.length]=o}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function UC(t){return[t.read_shift(4),t.read_shift(4)]}function PC(t,e){return e||(e=ve(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var HC=Nj;function $C(t){var e=Vr();Te(e,159,PC(t));for(var r=0;r<t.length;++r)Te(e,19,HC(t[r]));return Te(e,160),e.end()}function GC(t){for(var e=[],r=t.split(""),a=0;a<r.length;++a)e[a]=r[a].charCodeAt(0);return e}function Z2(t){var e=0,r,a=GC(t),s=a.length+1,o,c,f,h,m;for(r=Zi(s),r[0]=a.length,o=1;o!=s;++o)r[o]=a[o-1];for(o=s-1;o>=0;--o)c=r[o],f=(e&16384)===0?0:1,h=e<<1&32767,m=f|h,e=m^c;return e^52811}var qC=(function(){function t(s,o){switch(o.type){case"base64":return e(La(s),o);case"binary":return e(s,o);case"buffer":return e(mt&&Buffer.isBuffer(s)?s.toString("binary"):Ho(s),o);case"array":return e(yd(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){var c=o||{},f=c.dense?[]:{},h=s.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var m={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(g,x){Array.isArray(f)&&(f[x]=[]);for(var y=/\\\w+\b/g,w=0,S,_=-1;S=y.exec(g);){switch(S[0]){case"\\cell":var b=g.slice(w,y.lastIndex-S[0].length);if(b[0]==" "&&(b=b.slice(1)),++_,b.length){var k={v:b,t:"s"};Array.isArray(f)?f[x][_]=k:f[wt({r:x,c:_})]=k}break}w=y.lastIndex}_>m.e.c&&(m.e.c=_)}),f["!ref"]=Zt(m),f}function r(s,o){return ns(t(s,o),o)}function a(s){for(var o=["{\\rtf1\\ansi"],c=Mt(s["!ref"]),f,h=Array.isArray(s),m=c.s.r;m<=c.e.r;++m){o.push("\\trowd\\trautofit1");for(var g=c.s.c;g<=c.e.c;++g)o.push("\\cellx"+(g+1));for(o.push("\\pard\\intbl"),g=c.s.c;g<=c.e.c;++g){var x=wt({r:m,c:g});f=h?(s[m]||[])[g]:s[x],!(!f||f.v==null&&(!f.f||f.F))&&(o.push(" "+(f.w||(za(f),f.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:a}})();function Px(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var WC=6,Da=WC;function ed(t){return Math.floor((t+Math.round(128/Da)/256)*Da)}function td(t){return Math.floor((t-5)/Da*100+.5)/100}function Rh(t){return Math.round((t*Da+5)/Da*256)/256}function vm(t){t.width?(t.wpx=ed(t.width),t.wch=td(t.wpx),t.MDW=Da):t.wpx?(t.wch=td(t.wpx),t.width=Rh(t.wch),t.MDW=Da):typeof t.wch=="number"&&(t.width=Rh(t.wch),t.wpx=ed(t.width),t.MDW=Da),t.customWidth&&delete t.customWidth}var VC=96,eb=VC;function rd(t){return t*96/eb}function tb(t){return t*eb/96}function KC(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&(e[e.length]=De("numFmt",null,{numFmtId:a,formatCode:bt(t[a])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=De("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function YC(t){var e=[];return e[e.length]=De("cellXfs",null),t.forEach(function(r){e[e.length]=De("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=De("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function rb(t,e){var r=[er,De("styleSheet",null,{xmlns:ml[0],"xmlns:vt":sr.vt})],a;return t.SSF&&(a=KC(t.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=YC(e.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function XC(t,e){var r=t.read_shift(2),a=jr(t);return[r,a]}function JC(t,e,r){r||(r=ve(6+4*e.length)),r.write_shift(2,t),or(e,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function QC(t,e,r){var a={};a.sz=t.read_shift(2)/20;var s=Ij(t);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var o=t.read_shift(2);switch(o===700&&(a.bold=1),t.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var c=t.read_shift(1);c!=0&&(a.underline=c);var f=t.read_shift(1);f>0&&(a.family=f);var h=t.read_shift(1);switch(h>0&&(a.charset=h),t.l++,a.color=Bj(t),t.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=jr(t),a}function ZC(t,e){e||(e=ve(153)),e.write_shift(2,t.sz*20),Uj(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Qu(t.color,e);var a=0;return a=2,e.write_shift(1,a),or(t.name,e),e.length>e.l?e.slice(0,e.l):e}var e6=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Q0,t6=ra;function Hx(t,e){e||(e=ve(84)),Q0||(Q0=im(e6));var r=Q0[t.patternType];r==null&&(r=40),e.write_shift(4,r);var a=0;if(r!=40)for(Qu({auto:1},e),Qu({auto:1},e);a<12;++a)e.write_shift(4,0);else{for(;a<4;++a)e.write_shift(4,0);for(;a<12;++a)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function r6(t,e){var r=t.l+e,a=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:a,numFmtId:s}}function nb(t,e,r){r||(r=ve(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function mo(t,e){return e||(e=ve(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var n6=ra;function a6(t,e){return e||(e=ve(51)),e.write_shift(1,0),mo(null,e),mo(null,e),mo(null,e),mo(null,e),mo(null,e),e.length>e.l?e.slice(0,e.l):e}function i6(t,e){return e||(e=ve(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Ju(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function s6(t,e,r){var a=ve(2052);return a.write_shift(4,t),Ju(e,a),Ju(r,a),a.length>a.l?a.slice(0,a.l):a}function l6(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)e[s]!=null&&++r}),r!=0&&(Te(t,615,Hn(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)e[s]!=null&&Te(t,44,JC(s,e[s]))}),Te(t,616))}}function o6(t){var e=1;Te(t,611,Hn(e)),Te(t,43,ZC({sz:12,color:{theme:1},name:"Calibri",family:2})),Te(t,612)}function c6(t){var e=2;Te(t,603,Hn(e)),Te(t,45,Hx({patternType:"none"})),Te(t,45,Hx({patternType:"gray125"})),Te(t,604)}function u6(t){var e=1;Te(t,613,Hn(e)),Te(t,46,a6()),Te(t,614)}function d6(t){var e=1;Te(t,626,Hn(e)),Te(t,47,nb({numFmtId:0},65535)),Te(t,627)}function f6(t,e){Te(t,617,Hn(e.length)),e.forEach(function(r){Te(t,47,nb(r,0))}),Te(t,618)}function h6(t){var e=1;Te(t,619,Hn(e)),Te(t,48,i6({xfId:0,name:"Normal"})),Te(t,620)}function m6(t){var e=0;Te(t,505,Hn(e)),Te(t,506)}function p6(t){var e=0;Te(t,508,s6(e,"TableStyleMedium9","PivotStyleMedium4")),Te(t,509)}function g6(t,e){var r=Vr();return Te(r,278),l6(r,t.SSF),o6(r),c6(r),u6(r),d6(r),f6(r,e.cellXfs),h6(r),m6(r),p6(r),Te(r,279),r.end()}function ab(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[er];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function v6(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:jr(t)}}function x6(t){var e=ve(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),or(t.name,e),e.slice(0,e.l)}function y6(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function _6(t){var e=ve(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function b6(t,e){var r=ve(8+2*e.length);return r.write_shift(4,t),or(e,r),r.slice(0,r.l)}function w6(t){return t.l+=4,t.read_shift(4)!=0}function S6(t,e){var r=ve(8);return r.write_shift(4,t),r.write_shift(4,1),r}function E6(){var t=Vr();return Te(t,332),Te(t,334,Hn(1)),Te(t,335,x6({name:"XLDAPR",version:12e4,flags:3496657072})),Te(t,336),Te(t,339,b6(1,"XLDAPR")),Te(t,52),Te(t,35,Hn(514)),Te(t,4096,Hn(0)),Te(t,4097,kn(1)),Te(t,36),Te(t,53),Te(t,340),Te(t,337,S6(1)),Te(t,51,_6([[1,0]])),Te(t,338),Te(t,333),t.end()}function ib(){var t=[er];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function T6(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=wt(r);var a=t.read_shift(1);return a&2&&(e.l="1"),a&8&&(e.a="1"),e}var el=1024;function sb(t,e){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[De("xml",null,{"xmlns:v":ln.v,"xmlns:o":ln.o,"xmlns:x":ln.x,"xmlns:mv":ln.mv}).replace(/\/>/,">"),De("o:shapelayout",De("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),De("v:shapetype",[De("v:stroke",null,{joinstyle:"miter"}),De("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];el<t*1e3;)el+=1e3;return e.forEach(function(o){var c=lr(o[0]),f={color2:"#BEFF82",type:"gradient"};f.type=="gradient"&&(f.angle="-180");var h=f.type=="gradient"?De("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,m=De("v:fill",h,f),g={on:"t",obscured:"t"};++el,s=s.concat(["<v:shape"+Do({id:"_x0000_s"+el,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",m,De("v:shadow",null,g),De("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",yr("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),yr("x:AutoFill","False"),yr("x:Row",String(c.r)),yr("x:Column",String(c.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function lb(t){var e=[er,De("comments",null,{xmlns:ml[0]})],r=[];return e.push("<authors>"),t.forEach(function(a){a[1].forEach(function(s){var o=bt(s.a);r.indexOf(o)==-1&&(r.push(o),e.push("<author>"+o+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(a){var s=0,o=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?s=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(h){h.a&&(s=r.indexOf(bt(h.a))),o.push(h.t||"")}),e.push('<comment ref="'+a[0]+'" authorId="'+s+'"><text>'),o.length<=1)e.push(yr("t",bt(o[0]||"")));else{for(var c=`Comment:
    `+o[0]+`
`,f=1;f<o.length;++f)c+=`Reply:
    `+o[f]+`
`;e.push(yr("t",bt(c)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function k6(t,e,r){var a=[er,De("ThreadedComments",null,{xmlns:sr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var o="";(s[1]||[]).forEach(function(c,f){if(!c.T){delete c.ID;return}c.a&&e.indexOf(c.a)==-1&&e.push(c.a);var h={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};f==0?o=h.id:h.parentId=o,c.ID=h.id,c.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(c.a)).slice(-12)+"}"),a.push(De("threadedComment",yr("text",c.t||""),h))})}),a.push("</ThreadedComments>"),a.join("")}function A6(t){var e=[er,De("personList",null,{xmlns:sr.TCMNT,"xmlns:x":ml[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,a){e.push(De("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function j6(t){var e={};e.iauthor=t.read_shift(4);var r=ls(t);return e.rfx=r.s,e.ref=wt(r.s),t.l+=16,e}function C6(t,e){return e==null&&(e=ve(36)),e.write_shift(4,t[1].iauthor),gl(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var R6=jr;function O6(t){return or(t.slice(0,54))}function N6(t){var e=Vr(),r=[];return Te(e,628),Te(e,630),t.forEach(function(a){a[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Te(e,632,O6(s.a)))})}),Te(e,631),Te(e,633),t.forEach(function(a){a[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var o={s:lr(a[0]),e:lr(a[0])};Te(e,635,C6([o,s])),s.t&&s.t.length>0&&Te(e,637,Mj(s)),Te(e,636),delete s.iauthor})}),Te(e,634),Te(e,629),e.end()}function D6(t,e){e.FullPaths.forEach(function(r,a){if(a!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&kt.utils.cfb_add(t,s,e.FileIndex[a].content)}})}var ob=["xlsb","xlsm","xlam","biff8","xla"],M6=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(a,s,o,c){var f=!1,h=!1;o.length==0?h=!0:o.charAt(0)=="["&&(h=!0,o=o.slice(1,-1)),c.length==0?f=!0:c.charAt(0)=="["&&(f=!0,c=c.slice(1,-1));var m=o.length>0?parseInt(o,10)|0:0,g=c.length>0?parseInt(c,10)|0:0;return f?g+=e.c:--g,h?m+=e.r:--m,s+(f?"":"$")+Ar(g)+(h?"":"$")+_r(m)}return function(s,o){return e=o,s.replace(t,r)}})(),xm=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ym=(function(){return function(e,r){return e.replace(xm,function(a,s,o,c,f,h){var m=fm(c)-(o?0:r.c),g=dm(h)-(f?0:r.r),x=g==0?"":f?g+1:"["+g+"]",y=m==0?"":o?m+1:"["+m+"]";return s+"R"+x+"C"+y})}})();function L6(t,e){return t.replace(xm,function(r,a,s,o,c,f){return a+(s=="$"?s+o:Ar(fm(o)+e.c))+(c=="$"?c+f:_r(dm(f)+e.r))})}function z6(t){return t.length!=1}function Xt(t){t.l+=1}function gi(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function cb(t,e,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return ub(t);r.biff==12&&(a=4)}var s=t.read_shift(a),o=t.read_shift(a),c=gi(t),f=gi(t);return{s:{r:s,c:c[0],cRel:c[1],rRel:c[2]},e:{r:o,c:f[0],cRel:f[1],rRel:f[2]}}}function ub(t){var e=gi(t),r=gi(t),a=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:a,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function F6(t,e,r){if(r.biff<8)return ub(t);var a=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),o=gi(t),c=gi(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function db(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return B6(t);var a=t.read_shift(r&&r.biff==12?4:2),s=gi(t);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function B6(t){var e=gi(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function I6(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function U6(t,e,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return P6(t);var s=t.read_shift(a>=12?4:2),o=t.read_shift(2),c=(o&16384)>>14,f=(o&32768)>>15;if(o&=16383,f==1)for(;s>524287;)s-=1048576;if(c==1)for(;o>8191;)o=o-16384;return{r:s,c:o,cRel:c,rRel:f}}function P6(t){var e=t.read_shift(2),r=t.read_shift(1),a=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,a==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:a}}function H6(t,e,r){var a=(t[t.l++]&96)>>5,s=cb(t,r.biff>=2&&r.biff<=5?6:8,r);return[a,s]}function $6(t,e,r){var a=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),o=8;if(r)switch(r.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var c=cb(t,o,r);return[a,s,c]}function G6(t,e,r){var a=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function q6(t,e,r){var a=(t[t.l++]&96)>>5,s=t.read_shift(2),o=8;if(r)switch(r.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[a,s]}function W6(t,e,r){var a=(t[t.l++]&96)>>5,s=F6(t,e-1,r);return[a,s]}function V6(t,e,r){var a=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[a]}function $x(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function K6(t,e,r){t.l+=2;for(var a=t.read_shift(r&&r.biff==2?1:2),s=[],o=0;o<=a;++o)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function Y6(t,e,r){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(r&&r.biff==2?1:2)]}function X6(t,e,r){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(r&&r.biff==2?1:2)]}function J6(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Q6(t,e,r){var a=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[a]}function fb(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Z6(t){return t.read_shift(2),fb(t)}function eR(t){return t.read_shift(2),fb(t)}function tR(t,e,r){var a=(t[t.l]&96)>>5;t.l+=1;var s=db(t,0,r);return[a,s]}function rR(t,e,r){var a=(t[t.l]&96)>>5;t.l+=1;var s=U6(t,0,r);return[a,s]}function nR(t,e,r){var a=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var o=db(t,0,r);return[a,s,o]}function aR(t,e,r){var a=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[a8[s],pb[s],a]}function iR(t,e,r){var a=t[t.l++],s=t.read_shift(1),o=r&&r.biff<=3?[a==88?-1:0,t.read_shift(1)]:sR(t);return[s,(o[0]===0?pb:n8)[o[1]]]}function sR(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function lR(t,e,r){t.l+=r&&r.biff==2?3:4}function oR(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var a=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[a,s]}function cR(t){return t.l++,qo[t.read_shift(1)]}function uR(t){return t.l++,t.read_shift(2)}function dR(t){return t.l++,t.read_shift(1)!==0}function fR(t){return t.l++,vl(t)}function hR(t,e,r){return t.l++,K2(t,e-1,r)}function mR(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=nC(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=qo[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=vl(t);break;case 2:r[1]=lC(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function pR(t,e,r){for(var a=t.read_shift(r.biff==12?4:2),s=[],o=0;o!=a;++o)s.push((r.biff==12?ls:uC)(t));return s}function gR(t,e,r){var a=0,s=0;r.biff==12?(a=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),a=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--s==0&&(s=256));for(var o=0,c=[];o!=a&&(c[o]=[]);++o)for(var f=0;f!=s;++f)c[o][f]=mR(t,r.biff);return c}function vR(t,e,r){var a=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,o=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[a,0,o]}function xR(t,e,r){if(r.biff==5)return yR(t);var a=t.read_shift(1)>>>5&3,s=t.read_shift(2),o=t.read_shift(4);return[a,s,o]}function yR(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var a=t.read_shift(2);return t.l+=12,[e,r,a]}function _R(t,e,r){var a=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[a,s]}function bR(t,e,r){var a=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[a,s]}function wR(t,e,r){var a=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[a]}function SR(t,e,r){var a=(t[t.l++]&96)>>5,s=t.read_shift(2),o=4;if(r)switch(r.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[a,s]}var ER=ra,TR=ra,kR=ra;function Wo(t,e,r){return t.l+=2,[I6(t)]}function _m(t){return t.l+=6,[]}var AR=Wo,jR=_m,CR=_m,RR=Wo;function hb(t){return t.l+=2,[W2(t),t.read_shift(2)&1]}var OR=Wo,NR=hb,DR=_m,MR=Wo,LR=Wo,zR=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function FR(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(4),s=t.read_shift(2),o=t.read_shift(2),c=zR[r>>2&31];return{ixti:e,coltype:r&3,rt:c,idx:a,c:s,C:o}}function BR(t){return t.l+=2,[t.read_shift(4)]}function IR(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function UR(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function PR(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function HR(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function $R(t){return t.l+=4,[0,0]}var Gx={1:{n:"PtgExp",f:oR},2:{n:"PtgTbl",f:kR},3:{n:"PtgAdd",f:Xt},4:{n:"PtgSub",f:Xt},5:{n:"PtgMul",f:Xt},6:{n:"PtgDiv",f:Xt},7:{n:"PtgPower",f:Xt},8:{n:"PtgConcat",f:Xt},9:{n:"PtgLt",f:Xt},10:{n:"PtgLe",f:Xt},11:{n:"PtgEq",f:Xt},12:{n:"PtgGe",f:Xt},13:{n:"PtgGt",f:Xt},14:{n:"PtgNe",f:Xt},15:{n:"PtgIsect",f:Xt},16:{n:"PtgUnion",f:Xt},17:{n:"PtgRange",f:Xt},18:{n:"PtgUplus",f:Xt},19:{n:"PtgUminus",f:Xt},20:{n:"PtgPercent",f:Xt},21:{n:"PtgParen",f:Xt},22:{n:"PtgMissArg",f:Xt},23:{n:"PtgStr",f:hR},26:{n:"PtgSheet",f:IR},27:{n:"PtgEndSheet",f:UR},28:{n:"PtgErr",f:cR},29:{n:"PtgBool",f:dR},30:{n:"PtgInt",f:uR},31:{n:"PtgNum",f:fR},32:{n:"PtgArray",f:V6},33:{n:"PtgFunc",f:aR},34:{n:"PtgFuncVar",f:iR},35:{n:"PtgName",f:vR},36:{n:"PtgRef",f:tR},37:{n:"PtgArea",f:H6},38:{n:"PtgMemArea",f:_R},39:{n:"PtgMemErr",f:ER},40:{n:"PtgMemNoMem",f:TR},41:{n:"PtgMemFunc",f:bR},42:{n:"PtgRefErr",f:wR},43:{n:"PtgAreaErr",f:G6},44:{n:"PtgRefN",f:rR},45:{n:"PtgAreaN",f:W6},46:{n:"PtgMemAreaN",f:PR},47:{n:"PtgMemNoMemN",f:HR},57:{n:"PtgNameX",f:xR},58:{n:"PtgRef3d",f:nR},59:{n:"PtgArea3d",f:$6},60:{n:"PtgRefErr3d",f:SR},61:{n:"PtgAreaErr3d",f:q6},255:{}},GR={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},qR={1:{n:"PtgElfLel",f:hb},2:{n:"PtgElfRw",f:MR},3:{n:"PtgElfCol",f:AR},6:{n:"PtgElfRwV",f:LR},7:{n:"PtgElfColV",f:RR},10:{n:"PtgElfRadical",f:OR},11:{n:"PtgElfRadicalS",f:DR},13:{n:"PtgElfColS",f:jR},15:{n:"PtgElfColSV",f:CR},16:{n:"PtgElfRadicalLel",f:NR},25:{n:"PtgList",f:FR},29:{n:"PtgSxName",f:BR},255:{}},WR={0:{n:"PtgAttrNoop",f:$R},1:{n:"PtgAttrSemi",f:Q6},2:{n:"PtgAttrIf",f:X6},4:{n:"PtgAttrChoose",f:K6},8:{n:"PtgAttrGoto",f:Y6},16:{n:"PtgAttrSum",f:lR},32:{n:"PtgAttrBaxcel",f:$x},33:{n:"PtgAttrBaxcel",f:$x},64:{n:"PtgAttrSpace",f:Z6},65:{n:"PtgAttrSpaceSemi",f:eR},128:{n:"PtgAttrIfError",f:J6},255:{}};function VR(t,e,r,a){if(a.biff<8)return ra(t,e);for(var s=t.l+e,o=[],c=0;c!==r.length;++c)switch(r[c][0]){case"PtgArray":r[c][1]=gR(t,0,a),o.push(r[c][1]);break;case"PtgMemArea":r[c][2]=pR(t,r[c][1],a),o.push(r[c][2]);break;case"PtgExp":a&&a.biff==12&&(r[c][1][1]=t.read_shift(4),o.push(r[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[c][0]}return e=s-t.l,e!==0&&o.push(ra(t,e)),o}function KR(t,e,r){for(var a=t.l+e,s,o,c=[];a!=t.l;)e=a-t.l,o=t[t.l],s=Gx[o]||Gx[GR[o]],(o===24||o===25)&&(s=(o===24?qR:WR)[t[t.l+1]]),!s||!s.f?ra(t,e):c.push([s.n,s.f(t,e,r)]);return c}function YR(t){for(var e=[],r=0;r<t.length;++r){for(var a=t[r],s=[],o=0;o<a.length;++o){var c=a[o];if(c)switch(c[0]){case 2:s.push('"'+c[1].replace(/"/g,'""')+'"');break;default:s.push(c[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var XR={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function JR(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function mb(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var a=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!a)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[a[0]][0]){case 357:return s=a[1]==-1?"#REF":t.SheetNames[a[1]],a[1]==a[2]?s:s+":"+t.SheetNames[a[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[a[0]][0];case 355:default:return"SH33TJSSRC"+t[a[0]][0]}switch(t[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":t.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+t.SheetNames[a[2]];case 14849:return t[a[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[a[0]][0][3]?(s=a[1]==-1?"#REF":t[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+t[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function qx(t,e,r){var a=mb(t,e,r);return a=="#REF"?a:JR(a,r)}function cl(t,e,r,a,s){var o=s&&s.biff||8,c={s:{c:0,r:0}},f=[],h,m,g,x=0,y=0,w,S="";if(!t[0]||!t[0][0])return"";for(var _=-1,b="",k=0,O=t[0].length;k<O;++k){var T=t[0][k];switch(T[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=f.pop(),m=f.pop(),_>=0){switch(t[0][_][1][0]){case 0:b=Ht(" ",t[0][_][1][1]);break;case 1:b=Ht("\r",t[0][_][1][1]);break;default:if(b="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}m=m+b,_=-1}f.push(m+XR[T[0]]+h);break;case"PtgIsect":h=f.pop(),m=f.pop(),f.push(m+" "+h);break;case"PtgUnion":h=f.pop(),m=f.pop(),f.push(m+","+h);break;case"PtgRange":h=f.pop(),m=f.pop(),f.push(m+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":g=So(T[1][1],c,s),f.push(Eo(g,o));break;case"PtgRefN":g=r?So(T[1][1],r,s):T[1][1],f.push(Eo(g,o));break;case"PtgRef3d":x=T[1][1],g=So(T[1][2],c,s),S=qx(a,x,s),f.push(S+"!"+Eo(g,o));break;case"PtgFunc":case"PtgFuncVar":var F=T[1][0],G=T[1][1];F||(F=0),F&=127;var K=F==0?[]:f.slice(-F);f.length-=F,G==="User"&&(G=K.shift()),f.push(G+"("+K.join(",")+")");break;case"PtgBool":f.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(T[1]);break;case"PtgNum":f.push(String(T[1]));break;case"PtgStr":f.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(T[1]);break;case"PtgAreaN":w=Cx(T[1][1],r?{s:r}:c,s),f.push(X0(w,s));break;case"PtgArea":w=Cx(T[1][1],c,s),f.push(X0(w,s));break;case"PtgArea3d":x=T[1][1],w=T[1][2],S=qx(a,x,s),f.push(S+"!"+X0(w,s));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=T[1][2];var A=(a.names||[])[y-1]||(a[0]||[])[y],P=A?A.Name:"SH33TJSNAME"+String(y);P&&P.slice(0,6)=="_xlfn."&&!s.xlfn&&(P=P.slice(6)),f.push(P);break;case"PtgNameX":var q=T[1][1];y=T[1][2];var te;if(s.biff<=5)q<0&&(q=-q),a[q]&&(te=a[q][y]);else{var ee="";if(((a[q]||[])[0]||[])[0]==14849||(((a[q]||[])[0]||[])[0]==1025?a[q][y]&&a[q][y].itab>0&&(ee=a.SheetNames[a[q][y].itab-1]+"!"):ee=a.SheetNames[y-1]+"!"),a[q]&&a[q][y])ee+=a[q][y].Name;else if(a[0]&&a[0][y])ee+=a[0][y].Name;else{var de=(mb(a,q,s)||"").split(";;");de[y-1]?ee=de[y-1]:ee+="SH33TJSERRX"}f.push(ee);break}te||(te={Name:"SH33TJSERRY"}),f.push(te.Name);break;case"PtgParen":var ye="(",He=")";if(_>=0){switch(b="",t[0][_][1][0]){case 2:ye=Ht(" ",t[0][_][1][1])+ye;break;case 3:ye=Ht("\r",t[0][_][1][1])+ye;break;case 4:He=Ht(" ",t[0][_][1][1])+He;break;case 5:He=Ht("\r",t[0][_][1][1])+He;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}_=-1}f.push(ye+f.pop()+He);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":g={c:T[1][1],r:T[1][0]};var fe={c:r.c,r:r.r};if(a.sharedf[wt(g)]){var X=a.sharedf[wt(g)];f.push(cl(X,c,fe,a,s))}else{var pe=!1;for(h=0;h!=a.arrayf.length;++h)if(m=a.arrayf[h],!(g.c<m[0].s.c||g.c>m[0].e.c)&&!(g.r<m[0].s.r||g.r>m[0].e.r)){f.push(cl(m[1],c,fe,a,s)),pe=!0;break}pe||f.push(T[1])}break;case"PtgArray":f.push("{"+YR(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var ke=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&_>=0&&ke.indexOf(t[0][k][0])==-1){T=t[0][_];var Me=!0;switch(T[1][0]){case 4:Me=!1;case 0:b=Ht(" ",T[1][1]);break;case 5:Me=!1;case 1:b=Ht("\r",T[1][1]);break;default:if(b="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}f.push((Me?b:"")+f.pop()+(Me?"":b)),_=-1}}if(f.length>1&&s.WTF)throw new Error("bad formula stack");return f[0]}function QR(t){if(t==null){var e=ve(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return es(t);return es(0)}function ZR(t,e,r,a,s){var o=ts(e,r,s),c=QR(t.v),f=ve(6),h=33;f.write_shift(2,h),f.write_shift(4,0);for(var m=ve(t.bf.length),g=0;g<t.bf.length;++g)m[g]=t.bf[g];var x=xr([o,c,f,m]);return x}function _d(t,e,r){var a=t.read_shift(4),s=KR(t,a,r),o=t.read_shift(4),c=o>0?VR(t,o,s,r):null;return[s,c]}var e8=_d,bd=_d,t8=_d,r8=_d,n8={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},pb={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},a8={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function i8(t){var e="of:="+t.replace(xm,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function s8(t){return t.replace(/\./,"!")}var To=typeof Map<"u";function bm(t,e,r){var a=0,s=t.length;if(r){if(To?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var o=To?r.get(e):r[e];a<o.length;++a)if(t[o[a]].t===e)return t.Count++,o[a]}}else for(;a<s;++a)if(t[a].t===e)return t.Count++,a;return t[s]={t:e},t.Count++,t.Unique++,r&&(To?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function wd(t,e){var r={min:t+1,max:t+1},a=-1;return e.MDW&&(Da=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?a=td(e.wpx):e.wch!=null&&(a=e.wch),a>-1?(r.width=Rh(a),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function gb(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function xi(t,e,r){var a=r.revssf[e.z!=null?e.z:"General"],s=60,o=t.length;if(a==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){d2(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=a=s;break}}for(s=0;s!=o;++s)if(t[s].numFmtId===a)return s;return t[o]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function l8(t,e,r){if(t&&t["!ref"]){var a=Mt(t["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function o8(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Zt(t[r])+'"/>';return e+"</mergeCells>"}function c8(t,e,r,a,s){var o=!1,c={},f=null;if(a.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[r];try{e.Workbook&&(h=e.Workbook.Sheets[r].CodeName||h)}catch{}o=!0,c.codeName=No(bt(h))}if(t&&t["!outline"]){var m={summaryBelow:1,summaryRight:1};t["!outline"].above&&(m.summaryBelow=0),t["!outline"].left&&(m.summaryRight=0),f=(f||"")+De("outlinePr",null,m)}!o&&!f||(s[s.length]=De("sheetPr",f,c))}var u8=["objects","scenarios","selectLockedCells","selectUnlockedCells"],d8=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function f8(t){var e={sheet:1};return u8.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),d8.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=Z2(t.password).toString(16).toUpperCase()),De("sheetProtection",null,e)}function h8(t){return gb(t),De("pageMargins",null,t)}function m8(t,e){for(var r=["<cols>"],a,s=0;s!=e.length;++s)(a=e[s])&&(r[r.length]=De("col",null,wd(s,a)));return r[r.length]="</cols>",r.join("")}function p8(t,e,r,a){var s=typeof t.ref=="string"?t.ref:Zt(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,c=dn(s);c.s.r==c.e.r&&(c.e.r=dn(e["!ref"]).e.r,s=Zt(c));for(var f=0;f<o.length;++f){var h=o[f];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==a){h.Ref="'"+r.SheetNames[a]+"'!"+s;break}}return f==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),De("autoFilter",null,{ref:s})}function g8(t,e,r,a){var s={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),De("sheetViews",De("sheetView",null,s),{})}function v8(t,e,r,a){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",o=t.t,c=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=qo[t.v];break;case"d":a&&a.cellDates?s=Mr(t.v,-1).toISOString():(t=Xr(t),t.t="n",s=""+(t.v=Yr(Mr(t.v)))),typeof t.z>"u"&&(t.z=$t[14]);break;default:s=t.v;break}var f=yr("v",bt(s)),h={r:e},m=xi(a.cellXfs,t,a);switch(m!==0&&(h.s=m),t.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){f=yr("v",""+bm(a.Strings,t.v,a.revStrings)),h.t="s";break}h.t="str";break}if(t.t!=o&&(t.t=o,t.v=c),typeof t.f=="string"&&t.f){var g=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;f=De("f",bt(t.f),g)+(t.v!=null?f:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(h.cm=1),De("c",f,h)}function x8(t,e,r,a){var s=[],o=[],c=Mt(t["!ref"]),f="",h,m="",g=[],x=0,y=0,w=t["!rows"],S=Array.isArray(t),_={r:m},b,k=-1;for(y=c.s.c;y<=c.e.c;++y)g[y]=Ar(y);for(x=c.s.r;x<=c.e.r;++x){for(o=[],m=_r(x),y=c.s.c;y<=c.e.c;++y){h=g[y]+m;var O=S?(t[x]||[])[y]:t[h];O!==void 0&&(f=v8(O,h,t,e))!=null&&o.push(f)}(o.length>0||w&&w[x])&&(_={r:m},w&&w[x]&&(b=w[x],b.hidden&&(_.hidden=1),k=-1,b.hpx?k=rd(b.hpx):b.hpt&&(k=b.hpt),k>-1&&(_.ht=k,_.customHeight=1),b.level&&(_.outlineLevel=b.level)),s[s.length]=De("row",o.join(""),_))}if(w)for(;x<w.length;++x)w&&w[x]&&(_={r:x+1},b=w[x],b.hidden&&(_.hidden=1),k=-1,b.hpx?k=rd(b.hpx):b.hpt&&(k=b.hpt),k>-1&&(_.ht=k,_.customHeight=1),b.level&&(_.outlineLevel=b.level),s[s.length]=De("row","",_));return s.join("")}function vb(t,e,r,a){var s=[er,De("worksheet",null,{xmlns:ml[0],"xmlns:r":sr.r})],o=r.SheetNames[t],c=0,f="",h=r.Sheets[o];h==null&&(h={});var m=h["!ref"]||"A1",g=Mt(m);if(g.e.c>16383||g.e.r>1048575){if(e.WTF)throw new Error("Range "+m+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575),m=Zt(g)}a||(a={}),h["!comments"]=[];var x=[];c8(h,r,t,e,s),s[s.length]=De("dimension",null,{ref:m}),s[s.length]=g8(h,e,t,r),e.sheetFormat&&(s[s.length]=De("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(s[s.length]=m8(h,h["!cols"])),s[c=s.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(f=x8(h,e),f.length>0&&(s[s.length]=f)),s.length>c+1&&(s[s.length]="</sheetData>",s[c]=s[c].replace("/>",">")),h["!protect"]&&(s[s.length]=f8(h["!protect"])),h["!autofilter"]!=null&&(s[s.length]=p8(h["!autofilter"],h,r,t)),h["!merges"]!=null&&h["!merges"].length>0&&(s[s.length]=o8(h["!merges"]));var y=-1,w,S=-1;return h["!links"].length>0&&(s[s.length]="<hyperlinks>",h["!links"].forEach(function(_){_[1].Target&&(w={ref:_[0]},_[1].Target.charAt(0)!="#"&&(S=_t(a,-1,bt(_[1].Target).replace(/#.*$/,""),ft.HLINK),w["r:id"]="rId"+S),(y=_[1].Target.indexOf("#"))>-1&&(w.location=bt(_[1].Target.slice(y+1))),_[1].Tooltip&&(w.tooltip=bt(_[1].Tooltip)),s[s.length]=De("hyperlink",null,w))}),s[s.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(s[s.length]=h8(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=yr("ignoredErrors",De("ignoredError",null,{numberStoredAsText:1,sqref:m}))),x.length>0&&(S=_t(a,-1,"../drawings/drawing"+(t+1)+".xml",ft.DRAW),s[s.length]=De("drawing",null,{"r:id":"rId"+S}),h["!drawing"]=x),h["!comments"].length>0&&(S=_t(a,-1,"../drawings/vmlDrawing"+(t+1)+".vml",ft.VML),s[s.length]=De("legacyDrawing",null,{"r:id":"rId"+S}),h["!legacy"]=S),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function y8(t,e){var r={},a=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=a,o&7&&(r.level=o&7),o&16&&(r.hidden=!0),o&32&&(r.hpt=s/20),r}function _8(t,e,r){var a=ve(145),s=(r["!rows"]||[])[t]||{};a.write_shift(4,t),a.write_shift(4,0);var o=320;s.hpx?o=rd(s.hpx)*20:s.hpt&&(o=s.hpt*20),a.write_shift(2,o),a.write_shift(1,0);var c=0;s.level&&(c|=s.level),s.hidden&&(c|=16),(s.hpx||s.hpt)&&(c|=32),a.write_shift(1,c),a.write_shift(1,0);var f=0,h=a.l;a.l+=4;for(var m={r:t,c:0},g=0;g<16;++g)if(!(e.s.c>g+1<<10||e.e.c<g<<10)){for(var x=-1,y=-1,w=g<<10;w<g+1<<10;++w){m.c=w;var S=Array.isArray(r)?(r[m.r]||[])[m.c]:r[wt(m)];S&&(x<0&&(x=w),y=w)}x<0||(++f,a.write_shift(4,x),a.write_shift(4,y))}var _=a.l;return a.l=h,a.write_shift(4,f),a.l=_,a.length>a.l?a.slice(0,a.l):a}function b8(t,e,r,a){var s=_8(a,r,e);(s.length>17||(e["!rows"]||[])[a])&&Te(t,0,s)}var w8=ls,S8=gl;function E8(){}function T8(t,e){var r={},a=t[t.l];return++t.l,r.above=!(a&64),r.left=!(a&128),t.l+=18,r.name=Lj(t),r}function k8(t,e,r){r==null&&(r=ve(84+4*t.length));var a=192;e&&(e.above&&(a&=-65),e.left&&(a&=-129)),r.write_shift(1,a);for(var s=1;s<3;++s)r.write_shift(1,0);return Qu({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),N2(t,r),r.slice(0,r.l)}function A8(t){var e=jn(t);return[e]}function j8(t,e,r){return r==null&&(r=ve(8)),as(e,r)}function C8(t){var e=is(t);return[e]}function R8(t,e,r){return r==null&&(r=ve(4)),ss(e,r)}function O8(t){var e=jn(t),r=t.read_shift(1);return[e,r,"b"]}function N8(t,e,r){return r==null&&(r=ve(9)),as(e,r),r.write_shift(1,t.v?1:0),r}function D8(t){var e=is(t),r=t.read_shift(1);return[e,r,"b"]}function M8(t,e,r){return r==null&&(r=ve(5)),ss(e,r),r.write_shift(1,t.v?1:0),r}function L8(t){var e=jn(t),r=t.read_shift(1);return[e,r,"e"]}function z8(t,e,r){return r==null&&(r=ve(9)),as(e,r),r.write_shift(1,t.v),r}function F8(t){var e=is(t),r=t.read_shift(1);return[e,r,"e"]}function B8(t,e,r){return r==null&&(r=ve(8)),ss(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function I8(t){var e=jn(t),r=t.read_shift(4);return[e,r,"s"]}function U8(t,e,r){return r==null&&(r=ve(12)),as(e,r),r.write_shift(4,e.v),r}function P8(t){var e=is(t),r=t.read_shift(4);return[e,r,"s"]}function H8(t,e,r){return r==null&&(r=ve(8)),ss(e,r),r.write_shift(4,e.v),r}function $8(t){var e=jn(t),r=vl(t);return[e,r,"n"]}function G8(t,e,r){return r==null&&(r=ve(16)),as(e,r),es(t.v,r),r}function q8(t){var e=is(t),r=vl(t);return[e,r,"n"]}function W8(t,e,r){return r==null&&(r=ve(12)),ss(e,r),es(t.v,r),r}function V8(t){var e=jn(t),r=D2(t);return[e,r,"n"]}function K8(t,e,r){return r==null&&(r=ve(12)),as(e,r),M2(t.v,r),r}function Y8(t){var e=is(t),r=D2(t);return[e,r,"n"]}function X8(t,e,r){return r==null&&(r=ve(8)),ss(e,r),M2(t.v,r),r}function J8(t){var e=jn(t),r=hm(t);return[e,r,"is"]}function Q8(t){var e=jn(t),r=jr(t);return[e,r,"str"]}function Z8(t,e,r){return r==null&&(r=ve(12+4*t.v.length)),as(e,r),or(t.v,r),r.length>r.l?r.slice(0,r.l):r}function eO(t){var e=is(t),r=jr(t);return[e,r,"str"]}function tO(t,e,r){return r==null&&(r=ve(8+4*t.v.length)),ss(e,r),or(t.v,r),r.length>r.l?r.slice(0,r.l):r}function rO(t,e,r){var a=t.l+e,s=jn(t);s.r=r["!row"];var o=t.read_shift(1),c=[s,o,"b"];if(r.cellFormula){t.l+=2;var f=bd(t,a-t.l,r);c[3]=cl(f,null,s,r.supbooks,r)}else t.l=a;return c}function nO(t,e,r){var a=t.l+e,s=jn(t);s.r=r["!row"];var o=t.read_shift(1),c=[s,o,"e"];if(r.cellFormula){t.l+=2;var f=bd(t,a-t.l,r);c[3]=cl(f,null,s,r.supbooks,r)}else t.l=a;return c}function aO(t,e,r){var a=t.l+e,s=jn(t);s.r=r["!row"];var o=vl(t),c=[s,o,"n"];if(r.cellFormula){t.l+=2;var f=bd(t,a-t.l,r);c[3]=cl(f,null,s,r.supbooks,r)}else t.l=a;return c}function iO(t,e,r){var a=t.l+e,s=jn(t);s.r=r["!row"];var o=jr(t),c=[s,o,"str"];if(r.cellFormula){t.l+=2;var f=bd(t,a-t.l,r);c[3]=cl(f,null,s,r.supbooks,r)}else t.l=a;return c}var sO=ls,lO=gl;function oO(t,e){return e==null&&(e=ve(4)),e.write_shift(4,t),e}function cO(t,e){var r=t.l+e,a=ls(t),s=mm(t),o=jr(t),c=jr(t),f=jr(t);t.l=r;var h={rfx:a,relId:s,loc:o,display:f};return c&&(h.Tooltip=c),h}function uO(t,e){var r=ve(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));gl({s:lr(t[0]),e:lr(t[0])},r),pm("rId"+e,r);var a=t[1].Target.indexOf("#"),s=a==-1?"":t[1].Target.slice(a+1);return or(s||"",r),or(t[1].Tooltip||"",r),or("",r),r.slice(0,r.l)}function dO(){}function fO(t,e,r){var a=t.l+e,s=L2(t),o=t.read_shift(1),c=[s];if(c[2]=o,r.cellFormula){var f=e8(t,a-t.l,r);c[1]=f}else t.l=a;return c}function hO(t,e,r){var a=t.l+e,s=ls(t),o=[s];if(r.cellFormula){var c=r8(t,a-t.l,r);o[1]=c,t.l=a}else t.l=a;return o}function mO(t,e,r){r==null&&(r=ve(18));var a=wd(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof a.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var xb=["left","right","top","bottom","header","footer"];function pO(t){var e={};return xb.forEach(function(r){e[r]=vl(t)}),e}function gO(t,e){return e==null&&(e=ve(48)),gb(t),xb.forEach(function(r){es(t[r],e)}),e}function vO(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function xO(t,e,r){r==null&&(r=ve(30));var a=924;return(((e||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function yO(t){var e=ve(24);return e.write_shift(4,4),e.write_shift(4,1),gl(t,e),e}function _O(t,e){return e==null&&(e=ve(66)),e.write_shift(2,t.password?Z2(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function bO(){}function wO(){}function SO(t,e,r,a,s,o,c){if(e.v===void 0)return!1;var f="";switch(e.t){case"b":f=e.v?"1":"0";break;case"d":e=Xr(e),e.z=e.z||$t[14],e.v=Yr(Mr(e.v)),e.t="n";break;case"n":case"e":f=""+e.v;break;default:f=e.v;break}var h={r,c:a};switch(h.s=xi(s.cellXfs,e,s),e.l&&o["!links"].push([wt(h),e.l]),e.c&&o["!comments"].push([wt(h),e.c]),e.t){case"s":case"str":return s.bookSST?(f=bm(s.Strings,e.v,s.revStrings),h.t="s",h.v=f,c?Te(t,18,H8(e,h)):Te(t,7,U8(e,h))):(h.t="str",c?Te(t,17,tO(e,h)):Te(t,6,Z8(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?c?Te(t,13,X8(e,h)):Te(t,2,K8(e,h)):c?Te(t,16,W8(e,h)):Te(t,5,G8(e,h)),!0;case"b":return h.t="b",c?Te(t,15,M8(e,h)):Te(t,4,N8(e,h)),!0;case"e":return h.t="e",c?Te(t,14,B8(e,h)):Te(t,3,z8(e,h)),!0}return c?Te(t,12,R8(e,h)):Te(t,1,j8(e,h)),!0}function EO(t,e,r,a){var s=Mt(e["!ref"]||"A1"),o,c="",f=[];Te(t,145);var h=Array.isArray(e),m=s.e.r;e["!rows"]&&(m=Math.max(s.e.r,e["!rows"].length-1));for(var g=s.s.r;g<=m;++g){c=_r(g),b8(t,e,s,g);var x=!1;if(g<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){g===s.s.r&&(f[y]=Ar(y)),o=f[y]+c;var w=h?(e[g]||[])[y]:e[o];if(!w){x=!1;continue}x=SO(t,w,g,y,a,e,x)}}Te(t,146)}function TO(t,e){!e||!e["!merges"]||(Te(t,177,oO(e["!merges"].length)),e["!merges"].forEach(function(r){Te(t,176,lO(r))}),Te(t,178))}function kO(t,e){!e||!e["!cols"]||(Te(t,390),e["!cols"].forEach(function(r,a){r&&Te(t,60,mO(a,r))}),Te(t,391))}function AO(t,e){!e||!e["!ref"]||(Te(t,648),Te(t,649,yO(Mt(e["!ref"]))),Te(t,650))}function jO(t,e,r){e["!links"].forEach(function(a){if(a[1].Target){var s=_t(r,-1,a[1].Target.replace(/#.*$/,""),ft.HLINK);Te(t,494,uO(a,s))}}),delete e["!links"]}function CO(t,e,r,a){if(e["!comments"].length>0){var s=_t(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ft.VML);Te(t,551,pm("rId"+s)),e["!legacy"]=s}}function RO(t,e,r,a){if(e["!autofilter"]){var s=e["!autofilter"],o=typeof s.ref=="string"?s.ref:Zt(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var c=r.Workbook.Names,f=dn(o);f.s.r==f.e.r&&(f.e.r=dn(e["!ref"]).e.r,o=Zt(f));for(var h=0;h<c.length;++h){var m=c[h];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==a){m.Ref="'"+r.SheetNames[a]+"'!"+o;break}}h==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+o}),Te(t,161,gl(Mt(o))),Te(t,162)}}function OO(t,e,r){Te(t,133),Te(t,137,xO(e,r)),Te(t,138),Te(t,134)}function NO(t,e){e["!protect"]&&Te(t,535,_O(e["!protect"]))}function DO(t,e,r,a){var s=Vr(),o=r.SheetNames[t],c=r.Sheets[o]||{},f=o;try{r&&r.Workbook&&(f=r.Workbook.Sheets[t].CodeName||f)}catch{}var h=Mt(c["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],Te(s,129),(r.vbaraw||c["!outline"])&&Te(s,147,k8(f,c["!outline"])),Te(s,148,S8(h)),OO(s,c,r.Workbook),kO(s,c),EO(s,c,t,e),NO(s,c),RO(s,c,r,t),TO(s,c),jO(s,c,a),c["!margins"]&&Te(s,476,gO(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&AO(s,c),CO(s,c,t,a),Te(s,130),s.end()}function MO(t,e){t.l+=10;var r=jr(t);return{name:r}}var LO=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function zO(t){return!t.Workbook||!t.Workbook.WBProps?"false":hj(t.Workbook.WBProps.date1904)?"true":"false"}var FO="][*?/\\".split("");function yb(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return FO.forEach(function(a){if(t.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function BO(t,e,r){t.forEach(function(a,s){yb(a);for(var o=0;o<s;++o)if(a==t[o])throw new Error("Duplicate Sheet Name: "+a);if(r){var c=e&&e[s]&&e[s].CodeName||a;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function IO(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];BO(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)l8(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function _b(t){var e=[er];e[e.length]=De("workbook",null,{xmlns:ml[0],"xmlns:r":sr.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(LO.forEach(function(f){t.Workbook.WBProps[f[0]]!=null&&t.Workbook.WBProps[f[0]]!=f[1]&&(a[f[0]]=t.Workbook.WBProps[f[0]])}),t.Workbook.WBProps.CodeName&&(a.codeName=t.Workbook.WBProps.CodeName,delete a.CodeName)),e[e.length]=De("workbookPr",null,a);var s=t.Workbook&&t.Workbook.Sheets||[],o=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!s[o]||!s[o].Hidden);++o);o==t.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var c={name:bt(t.SheetNames[o].slice(0,31))};if(c.sheetId=""+(o+1),c["r:id"]="rId"+(o+1),s[o])switch(s[o].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}e[e.length]=De("sheet",null,c)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(f){var h={name:f.Name};f.Comment&&(h.comment=f.Comment),f.Sheet!=null&&(h.localSheetId=""+f.Sheet),f.Hidden&&(h.hidden="1"),f.Ref&&(e[e.length]=De("definedName",bt(f.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function UO(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Ch(t),r.name=jr(t),r}function PO(t,e){return e||(e=ve(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),pm(t.strRelID,e),or(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function HO(t,e){var r={},a=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?jr(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function $O(t,e){e||(e=ve(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),N2(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function GO(t,e,r){var a=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),o=zj(t),c=t8(t,0,r),f=mm(t);t.l=a;var h={Name:o,Ptg:c};return s<268435455&&(h.Sheet=s),f&&(h.Comment=f),h}function qO(t,e){Te(t,143);for(var r=0;r!=e.SheetNames.length;++r){var a=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Te(t,156,PO(s))}Te(t,144)}function WO(t,e){e||(e=ve(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return or("SheetJS",e),or(Gu.version,e),or(Gu.version,e),or("7262",e),e.length>e.l?e.slice(0,e.l):e}function VO(t,e){e||(e=ve(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function KO(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,a=0,s=-1,o=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&s==-1?s=a:r[a].Hidden==1&&o==-1&&(o=a);o>s||(Te(t,135),Te(t,158,VO(s)),Te(t,136))}}function YO(t,e){var r=Vr();return Te(r,131),Te(r,128,WO()),Te(r,153,$O(t.Workbook&&t.Workbook.WBProps||null)),KO(r,t),qO(r,t),Te(r,132),r.end()}function XO(t,e,r){return(e.slice(-4)===".bin"?YO:_b)(t)}function JO(t,e,r,a,s){return(e.slice(-4)===".bin"?DO:vb)(t,r,a,s)}function QO(t,e,r){return(e.slice(-4)===".bin"?g6:rb)(t,r)}function ZO(t,e,r){return(e.slice(-4)===".bin"?$C:Q2)(t,r)}function eN(t,e,r){return(e.slice(-4)===".bin"?N6:lb)(t)}function tN(t){return(t.slice(-4)===".bin"?E6:ib)()}function rN(t,e){var r=[];return t.Props&&r.push(Qj(t.Props,e)),t.Custprops&&r.push(Zj(t.Props,t.Custprops)),r.join("")}function nN(){return""}function aN(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(a,s){var o=[];o.push(De("NumberFormat",null,{"ss:Format":bt($t[a.numFmtId])}));var c={"ss:ID":"s"+(21+s)};r.push(De("Style",o.join(""),c))}),De("Styles",r.join(""))}function bb(t){return De("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+ym(t.Ref,{r:0,c:0})})}function iN(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],a=0;a<e.length;++a){var s=e[a];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(bb(s)))}return De("Names",r.join(""))}function sN(t,e,r,a){if(!t||!((a||{}).Workbook||{}).Names)return"";for(var s=a.Workbook.Names,o=[],c=0;c<s.length;++c){var f=s[c];f.Sheet==r&&(f.Name.match(/^_xlfn\./)||o.push(bb(f)))}return o.join("")}function lN(t,e,r,a){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(De("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(De("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(De("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)s.push(De("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<r&&!(a.Workbook.Sheets[o]&&!a.Workbook.Sheets[o].Hidden);++o);o==r&&s.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(yr("ProtectContents","True")),t["!protect"].objects&&s.push(yr("ProtectObjects","True")),t["!protect"].scenarios&&s.push(yr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(yr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(yr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){t["!protect"][c[0]]&&s.push("<"+c[1]+"/>")})),s.length==0?"":De("WorksheetOptions",s.join(""),{xmlns:ln.x})}function oN(t){return t.map(function(e){var r=fj(e.t||""),a=De("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return De("Comment",a,{"ss:Author":e.a})}).join("")}function cN(t,e,r,a,s,o,c){if(!t||t.v==null&&t.f==null)return"";var f={};if(t.f&&(f["ss:Formula"]="="+bt(ym(t.f,c))),t.F&&t.F.slice(0,e.length)==e){var h=lr(t.F.slice(e.length+1));f["ss:ArrayRange"]="RC:R"+(h.r==c.r?"":"["+(h.r-c.r)+"]")+"C"+(h.c==c.c?"":"["+(h.c-c.c)+"]")}if(t.l&&t.l.Target&&(f["ss:HRef"]=bt(t.l.Target),t.l.Tooltip&&(f["x:HRefScreenTip"]=bt(t.l.Tooltip))),r["!merges"])for(var m=r["!merges"],g=0;g!=m.length;++g)m[g].s.c!=c.c||m[g].s.r!=c.r||(m[g].e.c>m[g].s.c&&(f["ss:MergeAcross"]=m[g].e.c-m[g].s.c),m[g].e.r>m[g].s.r&&(f["ss:MergeDown"]=m[g].e.r-m[g].s.r));var x="",y="";switch(t.t){case"z":if(!a.sheetStubs)return"";break;case"n":x="Number",y=String(t.v);break;case"b":x="Boolean",y=t.v?"1":"0";break;case"e":x="Error",y=qo[t.v];break;case"d":x="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||$t[14]);break;case"s":x="String",y=dj(t.v||"");break}var w=xi(a.cellXfs,t,a);f["ss:StyleID"]="s"+(21+w),f["ss:Index"]=c.c+1;var S=t.v!=null?y:"",_=t.t=="z"?"":'<Data ss:Type="'+x+'">'+S+"</Data>";return(t.c||[]).length>0&&(_+=oN(t.c)),De("Cell",_,f)}function uN(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=tb(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function dN(t,e,r,a){if(!t["!ref"])return"";var s=Mt(t["!ref"]),o=t["!merges"]||[],c=0,f=[];t["!cols"]&&t["!cols"].forEach(function(b,k){vm(b);var O=!!b.width,T=wd(k,b),F={"ss:Index":k+1};O&&(F["ss:Width"]=ed(T.width)),b.hidden&&(F["ss:Hidden"]="1"),f.push(De("Column",null,F))});for(var h=Array.isArray(t),m=s.s.r;m<=s.e.r;++m){for(var g=[uN(m,(t["!rows"]||[])[m])],x=s.s.c;x<=s.e.c;++x){var y=!1;for(c=0;c!=o.length;++c)if(!(o[c].s.c>x)&&!(o[c].s.r>m)&&!(o[c].e.c<x)&&!(o[c].e.r<m)){(o[c].s.c!=x||o[c].s.r!=m)&&(y=!0);break}if(!y){var w={r:m,c:x},S=wt(w),_=h?(t[m]||[])[x]:t[S];g.push(cN(_,S,t,e,r,a,w))}}g.push("</Row>"),g.length>2&&f.push(g.join(""))}return f.join("")}function fN(t,e,r){var a=[],s=r.SheetNames[t],o=r.Sheets[s],c=o?sN(o,e,t,r):"";return c.length>0&&a.push("<Names>"+c+"</Names>"),c=o?dN(o,e,t,r):"",c.length>0&&a.push("<Table>"+c+"</Table>"),a.push(lN(o,e,t,r)),a.join("")}function hN(t,e){e||(e={}),t.SSF||(t.SSF=Xr($t)),t.SSF&&(vd(),gd(t.SSF),e.revssf=xd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],xi(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(rN(t,e)),r.push(nN()),r.push(""),r.push("");for(var a=0;a<t.SheetNames.length;++a)r.push(De("Worksheet",fN(a,e,t),{"ss:Name":bt(t.SheetNames[a])}));return r[2]=aN(t,e),r[3]=iN(t),er+De("Workbook",r.join(""),{xmlns:ln.ss,"xmlns:o":ln.o,"xmlns:x":ln.x,"xmlns:ss":ln.ss,"xmlns:dt":ln.dt,"xmlns:html":ln.html})}var Z0={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function mN(t,e){var r=[],a=[],s=[],o=0,c,f=xx(Ox,"n"),h=xx(Nx,"n");if(t.Props)for(c=br(t.Props),o=0;o<c.length;++o)(Object.prototype.hasOwnProperty.call(f,c[o])?r:Object.prototype.hasOwnProperty.call(h,c[o])?a:s).push([c[o],t.Props[c[o]]]);if(t.Custprops)for(c=br(t.Custprops),o=0;o<c.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},c[o])||(Object.prototype.hasOwnProperty.call(f,c[o])?r:Object.prototype.hasOwnProperty.call(h,c[o])?a:s).push([c[o],t.Custprops[c[o]]]);var m=[];for(o=0;o<s.length;++o)q2.indexOf(s[o][0])>-1||H2.indexOf(s[o][0])>-1||s[o][1]!=null&&m.push(s[o]);a.length&&kt.utils.cfb_add(e,"/SummaryInformation",Fx(a,Z0.SI,h,Nx)),(r.length||m.length)&&kt.utils.cfb_add(e,"/DocumentSummaryInformation",Fx(r,Z0.DSI,f,Ox,m.length?m:null,Z0.UDI))}function pN(t,e){var r=e||{},a=kt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return kt.utils.cfb_add(a,s,wb(t,r)),r.biff==8&&(t.Props||t.Custprops)&&mN(t,a),r.biff==8&&t.vbaraw&&D6(a,kt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),a}var gN={0:{f:y8},1:{f:A8},2:{f:V8},3:{f:L8},4:{f:O8},5:{f:$8},6:{f:Q8},7:{f:I8},8:{f:iO},9:{f:aO},10:{f:rO},11:{f:nO},12:{f:C8},13:{f:Y8},14:{f:F8},15:{f:D8},16:{f:q8},17:{f:eO},18:{f:P8},19:{f:hm},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:GO},40:{},42:{},43:{f:QC},44:{f:XC},45:{f:t6},46:{f:n6},47:{f:r6},48:{},49:{f:Cj},50:{},51:{f:y6},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:RC},62:{f:J8},63:{f:T6},64:{f:bO},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ra,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:vO},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:T8},148:{f:w8,p:16},151:{f:dO},152:{},153:{f:HO},154:{},155:{},156:{f:UO},157:{},158:{},159:{T:1,f:UC},160:{T:-1},161:{T:1,f:ls},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:sO},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:v6},336:{T:-1},337:{f:w6,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ch},357:{},358:{},359:{},360:{T:1},361:{},362:{f:EC},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:fO},427:{f:hO},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:pO},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:E8},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:cO},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ch},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:R6},633:{T:1},634:{T:-1},635:{T:1,f:j6},636:{T:-1},637:{f:Dj},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:MO},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:wO},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Le(t,e,r,a){var s=e;if(!isNaN(s)){var o=a||(r||[]).length||0,c=t.next(4);c.write_shift(2,s),c.write_shift(2,o),o>0&&um(r)&&t.push(r)}}function vN(t,e,r,a){var s=(r||[]).length||0;if(s<=8224)return Le(t,e,r,s);var o=e;if(!isNaN(o)){for(var c=r.parts||[],f=0,h=0,m=0;m+(c[f]||8224)<=8224;)m+=c[f]||8224,f++;var g=t.next(4);for(g.write_shift(2,o),g.write_shift(2,m),t.push(r.slice(h,h+m)),h+=m;h<s;){for(g=t.next(4),g.write_shift(2,60),m=0;m+(c[f]||8224)<=8224;)m+=c[f]||8224,f++;g.write_shift(2,m),t.push(r.slice(h,h+m)),h+=m}}}function Vo(t,e,r){return t||(t=ve(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function xN(t,e,r,a){var s=ve(9);return Vo(s,t,e),V2(r,a||"b",s),s}function yN(t,e,r){var a=ve(8+2*r.length);return Vo(a,t,e),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function _N(t,e,r,a){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Yr(Mr(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?Le(t,2,MC(r,a,s)):Le(t,3,DC(r,a,s));return;case"b":case"e":Le(t,5,xN(r,a,e.v,e.t));return;case"s":case"str":Le(t,4,yN(r,a,(e.v||"").slice(0,255)));return}Le(t,1,Vo(null,r,a))}function bN(t,e,r,a){var s=Array.isArray(e),o=Mt(e["!ref"]||"A1"),c,f="",h=[];if(o.e.c>255||o.e.r>16383){if(a.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),c=Zt(o)}for(var m=o.s.r;m<=o.e.r;++m){f=_r(m);for(var g=o.s.c;g<=o.e.c;++g){m===o.s.r&&(h[g]=Ar(g)),c=h[g]+f;var x=s?(e[m]||[])[g]:e[c];x&&_N(t,x,m,g)}}}function wN(t,e){for(var r=e||{},a=Vr(),s=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==r.sheet&&(s=o);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Le(a,r.biff==4?1033:r.biff==3?521:9,gm(t,16,r)),bN(a,t.Sheets[t.SheetNames[s]],s,r),Le(a,10),a.end()}function SN(t,e,r){Le(t,49,gC({sz:12,name:"Arial"},r))}function EN(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)e[s]!=null&&Le(t,1054,yC(s,e[s],r))})}function TN(t,e){var r=ve(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Le(t,2151,r),r=ve(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),X2(Mt(e["!ref"]||"A1"),r),r.write_shift(4,4),Le(t,2152,r)}function kN(t,e){for(var r=0;r<16;++r)Le(t,224,Ix({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(a){Le(t,224,Ix(a,0,e))})}function AN(t,e){for(var r=0;r<e["!links"].length;++r){var a=e["!links"][r];Le(t,440,AC(a)),a[1].Tooltip&&Le(t,2048,jC(a))}delete e["!links"]}function jN(t,e){if(e){var r=0;e.forEach(function(a,s){++r<=256&&a&&Le(t,125,OC(wd(s,a),s))})}}function CN(t,e,r,a,s){var o=16+xi(s.cellXfs,e,s);if(e.v==null&&!e.bf){Le(t,513,ts(r,a,o));return}if(e.bf)Le(t,6,ZR(e,r,a,s,o));else switch(e.t){case"d":case"n":var c=e.t=="d"?Yr(Mr(e.v)):e.v;Le(t,515,SC(r,a,c,o));break;case"b":case"e":Le(t,517,wC(r,a,e.v,o,s,e.t));break;case"s":case"str":if(s.bookSST){var f=bm(s.Strings,e.v,s.revStrings);Le(t,253,vC(r,a,f,o))}else Le(t,516,xC(r,a,(e.v||"").slice(0,255),o,s));break;default:Le(t,513,ts(r,a,o))}}function RN(t,e,r){var a=Vr(),s=r.SheetNames[t],o=r.Sheets[s]||{},c=(r||{}).Workbook||{},f=(c.Sheets||[])[t]||{},h=Array.isArray(o),m=e.biff==8,g,x="",y=[],w=Mt(o["!ref"]||"A1"),S=m?65536:16384;if(w.e.c>255||w.e.r>=S){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,S-1)}Le(a,2057,gm(r,16,e)),Le(a,13,kn(1)),Le(a,12,kn(100)),Le(a,15,Dr(!0)),Le(a,17,Dr(!1)),Le(a,16,es(.001)),Le(a,95,Dr(!0)),Le(a,42,Dr(!1)),Le(a,43,Dr(!1)),Le(a,130,kn(1)),Le(a,128,bC()),Le(a,131,Dr(!1)),Le(a,132,Dr(!1)),m&&jN(a,o["!cols"]),Le(a,512,_C(w,e)),m&&(o["!links"]=[]);for(var _=w.s.r;_<=w.e.r;++_){x=_r(_);for(var b=w.s.c;b<=w.e.c;++b){_===w.s.r&&(y[b]=Ar(b)),g=y[b]+x;var k=h?(o[_]||[])[b]:o[g];k&&(CN(a,k,_,b,e),m&&k.l&&o["!links"].push([g,k.l]))}}var O=f.CodeName||f.name||s;return m&&Le(a,574,pC((c.Views||[])[0])),m&&(o["!merges"]||[]).length&&Le(a,229,kC(o["!merges"])),m&&AN(a,o),Le(a,442,Y2(O)),m&&TN(a,o),Le(a,10),a.end()}function ON(t,e,r){var a=Vr(),s=(t||{}).Workbook||{},o=s.Sheets||[],c=s.WBProps||{},f=r.biff==8,h=r.biff==5;if(Le(a,2057,gm(t,5,r)),r.bookType=="xla"&&Le(a,135),Le(a,225,f?kn(1200):null),Le(a,193,rC(2)),h&&Le(a,191),h&&Le(a,192),Le(a,226),Le(a,92,dC("SheetJS",r)),Le(a,66,kn(f?1200:1252)),f&&Le(a,353,kn(0)),f&&Le(a,448),Le(a,317,NC(t.SheetNames.length)),f&&t.vbaraw&&Le(a,211),f&&t.vbaraw){var m=c.CodeName||"ThisWorkbook";Le(a,442,Y2(m))}Le(a,156,kn(17)),Le(a,25,Dr(!1)),Le(a,18,Dr(!1)),Le(a,19,kn(0)),f&&Le(a,431,Dr(!1)),f&&Le(a,444,kn(0)),Le(a,61,mC()),Le(a,64,Dr(!1)),Le(a,141,kn(0)),Le(a,34,Dr(zO(t)=="true")),Le(a,14,Dr(!0)),f&&Le(a,439,Dr(!1)),Le(a,218,kn(0)),SN(a,t,r),EN(a,t.SSF,r),kN(a,r),f&&Le(a,352,Dr(!1));var g=a.end(),x=Vr();f&&Le(x,140,CC()),f&&r.Strings&&vN(x,252,hC(r.Strings)),Le(x,10);var y=x.end(),w=Vr(),S=0,_=0;for(_=0;_<t.SheetNames.length;++_)S+=(f?12:11)+(f?2:1)*t.SheetNames[_].length;var b=g.length+S+y.length;for(_=0;_<t.SheetNames.length;++_){var k=o[_]||{};Le(w,133,fC({pos:b,hs:k.Hidden||0,dt:0,name:t.SheetNames[_]},r)),b+=e[_].length}var O=w.end();if(S!=O.length)throw new Error("BS8 "+S+" != "+O.length);var T=[];return g.length&&T.push(g),O.length&&T.push(O),y.length&&T.push(y),xr(T)}function NN(t,e){var r=e||{},a=[];t&&!t.SSF&&(t.SSF=Xr($t)),t&&t.SSF&&(vd(),gd(t.SSF),r.revssf=xd(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,wm(r),r.cellXfs=[],xi(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)a[a.length]=RN(s,r,t);return a.unshift(ON(t,a,r)),xr(a)}function wb(t,e){for(var r=0;r<=t.SheetNames.length;++r){var a=t.Sheets[t.SheetNames[r]];if(!(!a||!a["!ref"])){var s=dn(a["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return NN(t,e);case 4:case 3:case 2:return wN(t,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function DN(t,e,r,a){for(var s=t["!merges"]||[],o=[],c=e.s.c;c<=e.e.c;++c){for(var f=0,h=0,m=0;m<s.length;++m)if(!(s[m].s.r>r||s[m].s.c>c)&&!(s[m].e.r<r||s[m].e.c<c)){if(s[m].s.r<r||s[m].s.c<c){f=-1;break}f=s[m].e.r-s[m].s.r+1,h=s[m].e.c-s[m].s.c+1;break}if(!(f<0)){var g=wt({r,c}),x=a.dense?(t[r]||[])[c]:t[g],y=x&&x.v!=null&&(x.h||uj(x.w||(za(x),x.w)||""))||"",w={};f>1&&(w.rowspan=f),h>1&&(w.colspan=h),a.editable?y='<span contenteditable="true">'+y+"</span>":x&&(w["data-t"]=x&&x.t||"z",x.v!=null&&(w["data-v"]=x.v),x.z!=null&&(w["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+x.l.Target+'">'+y+"</a>")),w.id=(a.id||"sjs")+"-"+g,o.push(De("td",y,w))}}var S="<tr>";return S+o.join("")+"</tr>"}var MN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',LN="</body></html>";function zN(t,e,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Sb(t,e){var r=e||{},a=r.header!=null?r.header:MN,s=r.footer!=null?r.footer:LN,o=[a],c=dn(t["!ref"]);r.dense=Array.isArray(t),o.push(zN(t,c,r));for(var f=c.s.r;f<=c.e.r;++f)o.push(DN(t,c,f,r));return o.push("</table>"+s),o.join("")}function Eb(t,e,r){var a=r||{},s=0,o=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var c=typeof a.origin=="string"?lr(a.origin):a.origin;s=c.r,o=c.c}var f=e.getElementsByTagName("tr"),h=Math.min(a.sheetRows||1e7,f.length),m={s:{r:0,c:0},e:{r:s,c:o}};if(t["!ref"]){var g=dn(t["!ref"]);m.s.r=Math.min(m.s.r,g.s.r),m.s.c=Math.min(m.s.c,g.s.c),m.e.r=Math.max(m.e.r,g.e.r),m.e.c=Math.max(m.e.c,g.e.c),s==-1&&(m.e.r=s=g.e.r+1)}var x=[],y=0,w=t["!rows"]||(t["!rows"]=[]),S=0,_=0,b=0,k=0,O=0,T=0;for(t["!cols"]||(t["!cols"]=[]);S<f.length&&_<h;++S){var F=f[S];if(Wx(F)){if(a.display)continue;w[_]={hidden:!0}}var G=F.children;for(b=k=0;b<G.length;++b){var K=G[b];if(!(a.display&&Wx(K))){var A=K.hasAttribute("data-v")?K.getAttribute("data-v"):K.hasAttribute("v")?K.getAttribute("v"):mj(K.innerHTML),P=K.getAttribute("data-z")||K.getAttribute("z");for(y=0;y<x.length;++y){var q=x[y];q.s.c==k+o&&q.s.r<_+s&&_+s<=q.e.r&&(k=q.e.c+1-o,y=-1)}T=+K.getAttribute("colspan")||1,((O=+K.getAttribute("rowspan")||1)>1||T>1)&&x.push({s:{r:_+s,c:k+o},e:{r:_+s+(O||1)-1,c:k+o+(T||1)-1}});var te={t:"s",v:A},ee=K.getAttribute("data-t")||K.getAttribute("t")||"";A!=null&&(A.length==0?te.t=ee||"z":a.raw||A.trim().length==0||ee=="s"||(A==="TRUE"?te={t:"b",v:!0}:A==="FALSE"?te={t:"b",v:!1}:isNaN(Na(A))?isNaN(Oo(A).getDate())||(te={t:"d",v:Mr(A)},a.cellDates||(te={t:"n",v:Yr(te.v)}),te.z=a.dateNF||$t[14]):te={t:"n",v:Na(A)})),te.z===void 0&&P!=null&&(te.z=P);var de="",ye=K.getElementsByTagName("A");if(ye&&ye.length)for(var He=0;He<ye.length&&!(ye[He].hasAttribute("href")&&(de=ye[He].getAttribute("href"),de.charAt(0)!="#"));++He);de&&de.charAt(0)!="#"&&(te.l={Target:de}),a.dense?(t[_+s]||(t[_+s]=[]),t[_+s][k+o]=te):t[wt({c:k+o,r:_+s})]=te,m.e.c<k+o&&(m.e.c=k+o),k+=T}}++_}return x.length&&(t["!merges"]=(t["!merges"]||[]).concat(x)),m.e.r=Math.max(m.e.r,_-1+s),t["!ref"]=Zt(m),_>=h&&(t["!fullref"]=Zt((m.e.r=f.length-S+_-1+s,m))),t}function Tb(t,e){var r=e||{},a=r.dense?[]:{};return Eb(a,t,e)}function FN(t,e){return ns(Tb(t,e),e)}function Wx(t){var e="",r=BN(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function BN(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var IN=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Do({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return er+e}})(),Vx=(function(){var t=function(o){return bt(o).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(o,c,f){var h=[];h.push('      <table:table table:name="'+bt(c.SheetNames[f])+`" table:style-name="ta1">
`);var m=0,g=0,x=dn(o["!ref"]||"A1"),y=o["!merges"]||[],w=0,S=Array.isArray(o);if(o["!cols"])for(g=0;g<=x.e.c;++g)h.push("        <table:table-column"+(o["!cols"][g]?' table:style-name="co'+o["!cols"][g].ods+'"':"")+`></table:table-column>
`);var _="",b=o["!rows"]||[];for(m=0;m<x.s.r;++m)_=b[m]?' table:style-name="ro'+b[m].ods+'"':"",h.push("        <table:table-row"+_+`></table:table-row>
`);for(;m<=x.e.r;++m){for(_=b[m]?' table:style-name="ro'+b[m].ods+'"':"",h.push("        <table:table-row"+_+`>
`),g=0;g<x.s.c;++g)h.push(e);for(;g<=x.e.c;++g){var k=!1,O={},T="";for(w=0;w!=y.length;++w)if(!(y[w].s.c>g)&&!(y[w].s.r>m)&&!(y[w].e.c<g)&&!(y[w].e.r<m)){(y[w].s.c!=g||y[w].s.r!=m)&&(k=!0),O["table:number-columns-spanned"]=y[w].e.c-y[w].s.c+1,O["table:number-rows-spanned"]=y[w].e.r-y[w].s.r+1;break}if(k){h.push(r);continue}var F=wt({r:m,c:g}),G=S?(o[m]||[])[g]:o[F];if(G&&G.f&&(O["table:formula"]=bt(i8(G.f)),G.F&&G.F.slice(0,F.length)==F)){var K=dn(G.F);O["table:number-matrix-columns-spanned"]=K.e.c-K.s.c+1,O["table:number-matrix-rows-spanned"]=K.e.r-K.s.r+1}if(!G){h.push(e);continue}switch(G.t){case"b":T=G.v?"TRUE":"FALSE",O["office:value-type"]="boolean",O["office:boolean-value"]=G.v?"true":"false";break;case"n":T=G.w||String(G.v||0),O["office:value-type"]="float",O["office:value"]=G.v||0;break;case"s":case"str":T=G.v==null?"":G.v,O["office:value-type"]="string";break;case"d":T=G.w||Mr(G.v).toISOString(),O["office:value-type"]="date",O["office:date-value"]=Mr(G.v).toISOString(),O["table:style-name"]="ce1";break;default:h.push(e);continue}var A=t(T);if(G.l&&G.l.Target){var P=G.l.Target;P=P.charAt(0)=="#"?"#"+s8(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),A=De("text:a",A,{"xlink:href":P.replace(/&/g,"&amp;")})}h.push("          "+De("table:table-cell",De("text:p",A,{}),O)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},s=function(o,c){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var f=0;c.SheetNames.map(function(m){return c.Sheets[m]}).forEach(function(m){if(m&&m["!cols"]){for(var g=0;g<m["!cols"].length;++g)if(m["!cols"][g]){var x=m["!cols"][g];if(x.width==null&&x.wpx==null&&x.wch==null)continue;vm(x),x.ods=f;var y=m["!cols"][g].wpx+"px";o.push('  <style:style style:name="co'+f+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),o.push(`  </style:style>
`),++f}}});var h=0;c.SheetNames.map(function(m){return c.Sheets[m]}).forEach(function(m){if(m&&m["!rows"]){for(var g=0;g<m["!rows"].length;++g)if(m["!rows"][g]){m["!rows"][g].ods=h;var x=m["!rows"][g].hpx+"px";o.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),o.push(`  </style:style>
`),++h}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(c,f){var h=[er],m=Do({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),g=Do({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});f.bookType=="fods"?(h.push("<office:document"+m+g+`>
`),h.push(U2().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+m+`>
`),s(h,c),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var x=0;x!=c.SheetNames.length;++x)h.push(a(c.Sheets[c.SheetNames[x]],c,x));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),f.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function kb(t,e){if(e.bookType=="fods")return Vx(t,e);var r=sm(),a="",s=[],o=[];return a="mimetype",nt(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",nt(r,a,Vx(t,e)),s.push([a,"text/xml"]),o.push([a,"ContentFile"]),a="styles.xml",nt(r,a,IN(t,e)),s.push([a,"text/xml"]),o.push([a,"StylesFile"]),a="meta.xml",nt(r,a,er+U2()),s.push([a,"text/xml"]),o.push([a,"MetadataFile"]),a="manifest.rdf",nt(r,a,Jj(o)),s.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",nt(r,a,Yj(s)),r}function nd(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function UN(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Un(No(t))}function PN(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var a=0;a<e.length;++a)if(t[r+a]!=e[a])continue e;return!0}return!1}function vi(t){var e=t.reduce(function(s,o){return s+o.length},0),r=new Uint8Array(e),a=0;return t.forEach(function(s){r.set(s,a),a+=s.length}),r}function HN(t,e,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,a-6176);t[e+15]|=a>>7,t[e+14]|=(a&127)<<1;for(var o=0;s>=1;++o,s/=256)t[e+o]=s&255;t[e+15]|=r>=0?0:128}function Mo(t,e){var r=e?e[0]:0,a=t[r]&127;e:if(t[r++]>=128&&(a|=(t[r]&127)<<7,t[r++]<128||(a|=(t[r]&127)<<14,t[r++]<128)||(a|=(t[r]&127)<<21,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),a}function yt(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function sl(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function rr(t){for(var e=[],r=[0];r[0]<t.length;){var a=r[0],s=Mo(t,r),o=s&7;s=Math.floor(s/8);var c=0,f;if(s==0)break;switch(o){case 0:{for(var h=r[0];t[r[0]++]>=128;);f=t.slice(h,r[0])}break;case 5:c=4,f=t.slice(r[0],r[0]+c),r[0]+=c;break;case 1:c=8,f=t.slice(r[0],r[0]+c),r[0]+=c;break;case 2:c=Mo(t,r),f=t.slice(r[0],r[0]+c),r[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(s," at offset ").concat(a))}var m={data:f,type:o};e[s]==null?e[s]=[m]:e[s].push(m)}return e}function gr(t){var e=[];return t.forEach(function(r,a){r.forEach(function(s){s.data&&(e.push(yt(a*8+s.type)),s.type==2&&e.push(yt(s.data.length)),e.push(s.data))})}),vi(e)}function Mn(t){for(var e,r=[],a=[0];a[0]<t.length;){var s=Mo(t,a),o=rr(t.slice(a[0],a[0]+s));a[0]+=s;var c={id:sl(o[1][0].data),messages:[]};o[2].forEach(function(f){var h=rr(f.data),m=sl(h[3][0].data);c.messages.push({meta:h,data:t.slice(a[0],a[0]+m)}),a[0]+=m}),(e=o[3])!=null&&e[0]&&(c.merge=sl(o[3][0].data)>>>0>0),r.push(c)}return r}function Ys(t){var e=[];return t.forEach(function(r){var a=[];a[1]=[{data:yt(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:yt(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(c){s.push(c.data),c.meta[3]=[{type:0,data:yt(c.data.length)}],a[2].push({data:gr(c.meta),type:2})});var o=gr(a);e.push(yt(o.length)),e.push(o),s.forEach(function(c){return e.push(c)})}),vi(e)}function $N(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],a=Mo(e,r),s=[];r[0]<e.length;){var o=e[r[0]]&3;if(o==0){var c=e[r[0]++]>>2;if(c<60)++c;else{var f=c-59;c=e[r[0]],f>1&&(c|=e[r[0]+1]<<8),f>2&&(c|=e[r[0]+2]<<16),f>3&&(c|=e[r[0]+3]<<24),c>>>=0,c++,r[0]+=f}s.push(e.slice(r[0],r[0]+c)),r[0]+=c;continue}else{var h=0,m=0;if(o==1?(m=(e[r[0]]>>2&7)+4,h=(e[r[0]++]&224)<<3,h|=e[r[0]++]):(m=(e[r[0]++]>>2)+1,o==2?(h=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(h=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[vi(s)],h==0)throw new Error("Invalid offset 0");if(h>s[0].length)throw new Error("Invalid offset beyond length");if(m>=h)for(s.push(s[0].slice(-h)),m-=h;m>=s[s.length-1].length;)s.push(s[s.length-1]),m-=s[s.length-1].length;s.push(s[0].slice(-h,-h+m))}}var g=vi(s);if(g.length!=a)throw new Error("Unexpected length: ".concat(g.length," != ").concat(a));return g}function Ln(t){for(var e=[],r=0;r<t.length;){var a=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push($N(a,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return vi(e)}function Xs(t){for(var e=[],r=0;r<t.length;){var a=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var o=yt(a),c=o.length;e.push(o),a<=60?(c++,e.push(new Uint8Array([a-1<<2]))):a<=256?(c+=2,e.push(new Uint8Array([240,a-1&255]))):a<=65536?(c+=3,e.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(c+=4,e.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(c+=5,e.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),e.push(t.slice(r,r+a)),c+=a,s[0]=0,s[1]=c&255,s[2]=c>>8&255,s[3]=c>>16&255,r+=a}return vi(e)}function eh(t,e){var r=new Uint8Array(32),a=nd(r),s=12,o=0;switch(r[0]=5,t.t){case"n":r[1]=2,HN(r,s,t.v),o|=1,s+=16;break;case"b":r[1]=6,a.setFloat64(s,t.v?1:0,!0),o|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,a.setUint32(s,e.indexOf(t.v),!0),o|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(8,o,!0),r.slice(0,s)}function th(t,e){var r=new Uint8Array(32),a=nd(r),s=12,o=0;switch(r[0]=3,t.t){case"n":r[2]=2,a.setFloat64(s,t.v,!0),o|=32,s+=8;break;case"b":r[2]=6,a.setFloat64(s,t.v?1:0,!0),o|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,a.setUint32(s,e.indexOf(t.v),!0),o|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(4,o,!0),r.slice(0,s)}function ui(t){var e=rr(t);return Mo(e[1][0].data)}function GN(t,e,r){var a,s,o,c;if(!((a=t[6])!=null&&a[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var f=((c=(o=t[8])==null?void 0:o[0])==null?void 0:c.data)&&sl(t[8][0].data)>0||!1;if(f)throw"Math only works with normal offsets";for(var h=0,m=nd(t[7][0].data),g=0,x=[],y=nd(t[4][0].data),w=0,S=[],_=0;_<e.length;++_){if(e[_]==null){m.setUint16(_*2,65535,!0),y.setUint16(_*2,65535);continue}m.setUint16(_*2,g,!0),y.setUint16(_*2,w,!0);var b,k;switch(typeof e[_]){case"string":b=eh({t:"s",v:e[_]},r),k=th({t:"s",v:e[_]},r);break;case"number":b=eh({t:"n",v:e[_]},r),k=th({t:"n",v:e[_]},r);break;case"boolean":b=eh({t:"b",v:e[_]},r),k=th({t:"b",v:e[_]},r);break;default:throw new Error("Unsupported value "+e[_])}x.push(b),g+=b.length,S.push(k),w+=k.length,++h}for(t[2][0].data=yt(h);_<t[7][0].data.length/2;++_)m.setUint16(_*2,65535,!0),y.setUint16(_*2,65535,!0);return t[6][0].data=vi(x),t[3][0].data=vi(S),h}function qN(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=dn(r["!ref"]);a.s.r=a.s.c=0;var s=!1;a.e.c>9&&(s=!0,a.e.c=9),a.e.r>49&&(s=!0,a.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Zt(a)));var o=ad(r,{range:a,header:1}),c=["~Sh33tJ5~"];o.forEach(function(W){return W.forEach(function(D){typeof D=="string"&&c.push(D)})});var f={},h=[],m=kt.read(e.numbers,{type:"base64"});m.FileIndex.map(function(W,D){return[W,m.FullPaths[D]]}).forEach(function(W){var D=W[0],H=W[1];if(D.type==2&&D.name.match(/\.iwa/)){var Z=D.content,me=Ln(Z),be=Mn(me);be.forEach(function(we){h.push(we.id),f[we.id]={deps:[],location:H,type:sl(we.messages[0].meta[1][0].data)}})}}),h.sort(function(W,D){return W-D});var g=h.filter(function(W){return W>1}).map(function(W){return[W,yt(W)]});m.FileIndex.map(function(W,D){return[W,m.FullPaths[D]]}).forEach(function(W){var D=W[0];if(W[1],!!D.name.match(/\.iwa/)){var H=Mn(Ln(D.content));H.forEach(function(Z){Z.messages.forEach(function(me){g.forEach(function(be){Z.messages.some(function(we){return sl(we.meta[1][0].data)!=11006&&PN(we.data,be[1])})&&f[be[0]].deps.push(Z.id)})})})}});for(var x=kt.find(m,f[1].location),y=Mn(Ln(x.content)),w,S=0;S<y.length;++S){var _=y[S];_.id==1&&(w=_)}var b=ui(rr(w.messages[0].data)[1][0].data);for(x=kt.find(m,f[b].location),y=Mn(Ln(x.content)),S=0;S<y.length;++S)_=y[S],_.id==b&&(w=_);for(b=ui(rr(w.messages[0].data)[2][0].data),x=kt.find(m,f[b].location),y=Mn(Ln(x.content)),S=0;S<y.length;++S)_=y[S],_.id==b&&(w=_);for(b=ui(rr(w.messages[0].data)[2][0].data),x=kt.find(m,f[b].location),y=Mn(Ln(x.content)),S=0;S<y.length;++S)_=y[S],_.id==b&&(w=_);var k=rr(w.messages[0].data);{k[6][0].data=yt(a.e.r+1),k[7][0].data=yt(a.e.c+1);var O=ui(k[46][0].data),T=kt.find(m,f[O].location),F=Mn(Ln(T.content));{for(var G=0;G<F.length&&F[G].id!=O;++G);if(F[G].id!=O)throw"Bad ColumnRowUIDMapArchive";var K=rr(F[G].messages[0].data);K[1]=[],K[2]=[],K[3]=[];for(var A=0;A<=a.e.c;++A){var P=[];P[1]=P[2]=[{type:0,data:yt(A+420690)}],K[1].push({type:2,data:gr(P)}),K[2].push({type:0,data:yt(A)}),K[3].push({type:0,data:yt(A)})}K[4]=[],K[5]=[],K[6]=[];for(var q=0;q<=a.e.r;++q)P=[],P[1]=P[2]=[{type:0,data:yt(q+726270)}],K[4].push({type:2,data:gr(P)}),K[5].push({type:0,data:yt(q)}),K[6].push({type:0,data:yt(q)});F[G].messages[0].data=gr(K)}T.content=Xs(Ys(F)),T.size=T.content.length,delete k[46];var te=rr(k[4][0].data);{te[7][0].data=yt(a.e.r+1);var ee=rr(te[1][0].data),de=ui(ee[2][0].data);T=kt.find(m,f[de].location),F=Mn(Ln(T.content));{if(F[0].id!=de)throw"Bad HeaderStorageBucket";var ye=rr(F[0].messages[0].data);for(q=0;q<o.length;++q){var He=rr(ye[2][0].data);He[1][0].data=yt(q),He[4][0].data=yt(o[q].length),ye[2][q]={type:ye[2][0].type,data:gr(He)}}F[0].messages[0].data=gr(ye)}T.content=Xs(Ys(F)),T.size=T.content.length;var fe=ui(te[2][0].data);T=kt.find(m,f[fe].location),F=Mn(Ln(T.content));{if(F[0].id!=fe)throw"Bad HeaderStorageBucket";for(ye=rr(F[0].messages[0].data),A=0;A<=a.e.c;++A)He=rr(ye[2][0].data),He[1][0].data=yt(A),He[4][0].data=yt(a.e.r+1),ye[2][A]={type:ye[2][0].type,data:gr(He)};F[0].messages[0].data=gr(ye)}T.content=Xs(Ys(F)),T.size=T.content.length;var X=ui(te[4][0].data);(function(){for(var W=kt.find(m,f[X].location),D=Mn(Ln(W.content)),H,Z=0;Z<D.length;++Z){var me=D[Z];me.id==X&&(H=me)}var be=rr(H.messages[0].data);{be[3]=[];var we=[];c.forEach(function(Pe,Qe){we[1]=[{type:0,data:yt(Qe)}],we[2]=[{type:0,data:yt(1)}],we[3]=[{type:2,data:UN(Pe)}],be[3].push({type:2,data:gr(we)})})}H.messages[0].data=gr(be);var Ee=Ys(D),$e=Xs(Ee);W.content=$e,W.size=W.content.length})();var pe=rr(te[3][0].data);{var ke=pe[1][0];delete pe[2];var Me=rr(ke.data);{var Q=ui(Me[2][0].data);(function(){for(var W=kt.find(m,f[Q].location),D=Mn(Ln(W.content)),H,Z=0;Z<D.length;++Z){var me=D[Z];me.id==Q&&(H=me)}var be=rr(H.messages[0].data);{delete be[6],delete pe[7];var we=new Uint8Array(be[5][0].data);be[5]=[];for(var Ee=0,$e=0;$e<=a.e.r;++$e){var Pe=rr(we);Ee+=GN(Pe,o[$e],c),Pe[1][0].data=yt($e),be[5].push({data:gr(Pe),type:2})}be[1]=[{type:0,data:yt(a.e.c+1)}],be[2]=[{type:0,data:yt(a.e.r+1)}],be[3]=[{type:0,data:yt(Ee)}],be[4]=[{type:0,data:yt(a.e.r+1)}]}H.messages[0].data=gr(be);var Qe=Ys(D),le=Xs(Qe);W.content=le,W.size=W.content.length})()}ke.data=gr(Me)}te[3][0].data=gr(pe)}k[4][0].data=gr(te)}w.messages[0].data=gr(k);var C=Ys(y),R=Xs(C);return x.content=R,x.size=x.content.length,m}function WN(t){return function(r){for(var a=0;a!=t.length;++a){var s=t[a];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function wm(t){WN([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function VN(t,e){return e.bookType=="ods"?kb(t,e):e.bookType=="numbers"?qN(t,e):e.bookType=="xlsb"?KN(t,e):YN(t,e)}function KN(t,e){el=1024,t&&!t.SSF&&(t.SSF=Xr($t)),t&&t.SSF&&(vd(),gd(t.SSF),e.revssf=xd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,To?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",a=ob.indexOf(e.bookType)>-1,s=F2();wm(e=e||{});var o=sm(),c="",f=0;if(e.cellXfs=[],xi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",nt(o,c,P2(t.Props,e)),s.coreprops.push(c),_t(e.rels,2,c,ft.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var h=[],m=0;m<t.SheetNames.length;++m)(t.Workbook.Sheets[m]||{}).Hidden!=2&&h.push(t.SheetNames[m]);t.Props.SheetNames=h}for(t.Props.Worksheets=t.Props.SheetNames.length,nt(o,c,$2(t.Props)),s.extprops.push(c),_t(e.rels,3,c,ft.EXT_PROPS),t.Custprops!==t.Props&&br(t.Custprops||{}).length>0&&(c="docProps/custom.xml",nt(o,c,G2(t.Custprops)),s.custprops.push(c),_t(e.rels,4,c,ft.CUST_PROPS)),f=1;f<=t.SheetNames.length;++f){var g={"!id":{}},x=t.Sheets[t.SheetNames[f-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:c="xl/worksheets/sheet"+f+"."+r,nt(o,c,JO(f-1,c,e,t,g)),s.sheets.push(c),_t(e.wbrels,-1,"worksheets/sheet"+f+"."+r,ft.WS[0])}if(x){var w=x["!comments"],S=!1,_="";w&&w.length>0&&(_="xl/comments"+f+"."+r,nt(o,_,eN(w,_)),s.comments.push(_),_t(g,-1,"../comments"+f+"."+r,ft.CMNT),S=!0),x["!legacy"]&&S&&nt(o,"xl/drawings/vmlDrawing"+f+".vml",sb(f,x["!comments"])),delete x["!comments"],delete x["!legacy"]}g["!id"].rId1&&nt(o,I2(c),al(g))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+r,nt(o,c,ZO(e.Strings,c,e)),s.strs.push(c),_t(e.wbrels,-1,"sharedStrings."+r,ft.SST)),c="xl/workbook."+r,nt(o,c,XO(t,c)),s.workbooks.push(c),_t(e.rels,1,c,ft.WB),c="xl/theme/theme1.xml",nt(o,c,ab(t.Themes,e)),s.themes.push(c),_t(e.wbrels,-1,"theme/theme1.xml",ft.THEME),c="xl/styles."+r,nt(o,c,QO(t,c,e)),s.styles.push(c),_t(e.wbrels,-1,"styles."+r,ft.STY),t.vbaraw&&a&&(c="xl/vbaProject.bin",nt(o,c,t.vbaraw),s.vba.push(c),_t(e.wbrels,-1,"vbaProject.bin",ft.VBA)),c="xl/metadata."+r,nt(o,c,tN(c)),s.metadata.push(c),_t(e.wbrels,-1,"metadata."+r,ft.XLMETA),nt(o,"[Content_Types].xml",B2(s,e)),nt(o,"_rels/.rels",al(e.rels)),nt(o,"xl/_rels/workbook."+r+".rels",al(e.wbrels)),delete e.revssf,delete e.ssf,o}function YN(t,e){el=1024,t&&!t.SSF&&(t.SSF=Xr($t)),t&&t.SSF&&(vd(),gd(t.SSF),e.revssf=xd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,To?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",a=ob.indexOf(e.bookType)>-1,s=F2();wm(e=e||{});var o=sm(),c="",f=0;if(e.cellXfs=[],xi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",nt(o,c,P2(t.Props,e)),s.coreprops.push(c),_t(e.rels,2,c,ft.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var h=[],m=0;m<t.SheetNames.length;++m)(t.Workbook.Sheets[m]||{}).Hidden!=2&&h.push(t.SheetNames[m]);t.Props.SheetNames=h}t.Props.Worksheets=t.Props.SheetNames.length,nt(o,c,$2(t.Props)),s.extprops.push(c),_t(e.rels,3,c,ft.EXT_PROPS),t.Custprops!==t.Props&&br(t.Custprops||{}).length>0&&(c="docProps/custom.xml",nt(o,c,G2(t.Custprops)),s.custprops.push(c),_t(e.rels,4,c,ft.CUST_PROPS));var g=["SheetJ5"];for(e.tcid=0,f=1;f<=t.SheetNames.length;++f){var x={"!id":{}},y=t.Sheets[t.SheetNames[f-1]],w=(y||{})["!type"]||"sheet";switch(w){case"chart":default:c="xl/worksheets/sheet"+f+"."+r,nt(o,c,vb(f-1,e,t,x)),s.sheets.push(c),_t(e.wbrels,-1,"worksheets/sheet"+f+"."+r,ft.WS[0])}if(y){var S=y["!comments"],_=!1,b="";if(S&&S.length>0){var k=!1;S.forEach(function(O){O[1].forEach(function(T){T.T==!0&&(k=!0)})}),k&&(b="xl/threadedComments/threadedComment"+f+"."+r,nt(o,b,k6(S,g,e)),s.threadedcomments.push(b),_t(x,-1,"../threadedComments/threadedComment"+f+"."+r,ft.TCMNT)),b="xl/comments"+f+"."+r,nt(o,b,lb(S)),s.comments.push(b),_t(x,-1,"../comments"+f+"."+r,ft.CMNT),_=!0}y["!legacy"]&&_&&nt(o,"xl/drawings/vmlDrawing"+f+".vml",sb(f,y["!comments"])),delete y["!comments"],delete y["!legacy"]}x["!id"].rId1&&nt(o,I2(c),al(x))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+r,nt(o,c,Q2(e.Strings,e)),s.strs.push(c),_t(e.wbrels,-1,"sharedStrings."+r,ft.SST)),c="xl/workbook."+r,nt(o,c,_b(t)),s.workbooks.push(c),_t(e.rels,1,c,ft.WB),c="xl/theme/theme1.xml",nt(o,c,ab(t.Themes,e)),s.themes.push(c),_t(e.wbrels,-1,"theme/theme1.xml",ft.THEME),c="xl/styles."+r,nt(o,c,rb(t,e)),s.styles.push(c),_t(e.wbrels,-1,"styles."+r,ft.STY),t.vbaraw&&a&&(c="xl/vbaProject.bin",nt(o,c,t.vbaraw),s.vba.push(c),_t(e.wbrels,-1,"vbaProject.bin",ft.VBA)),c="xl/metadata."+r,nt(o,c,ib()),s.metadata.push(c),_t(e.wbrels,-1,"metadata."+r,ft.XLMETA),g.length>1&&(c="xl/persons/person.xml",nt(o,c,A6(g)),s.people.push(c),_t(e.wbrels,-1,"persons/person.xml",ft.PEOPLE)),nt(o,"[Content_Types].xml",B2(s,e)),nt(o,"_rels/.rels",al(e.rels)),nt(o,"xl/_rels/workbook."+r+".rels",al(e.wbrels)),delete e.revssf,delete e.ssf,o}function XN(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=La(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Ab(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return $o(e.file,kt.write(t,{type:mt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return kt.write(t,e)}function JN(t,e){var r=Xr(e||{}),a=VN(t,r);return QN(a,r)}function QN(t,e){var r={},a=mt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=a;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?kt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(pd(s))}return e.password&&typeof encrypt_agile<"u"?Ab(encrypt_agile(s,e.password),e):e.type==="file"?$o(e.file,s):e.type=="string"?bo(s):s}function ZN(t,e){var r=e||{},a=pN(t,r);return Ab(a,r)}function Qn(t,e,r){r||(r="");var a=r+t;switch(e.type){case"base64":return Ro(No(a));case"binary":return No(a);case"string":return t;case"file":return $o(e.file,a,"utf8");case"buffer":return mt?Ba(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Qn(a,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function eD(t,e){switch(e.type){case"base64":return Ro(t);case"binary":return t;case"string":return t;case"file":return $o(e.file,t,"binary");case"buffer":return mt?Ba(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function wu(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",a=0;a<t.length;++a)r+=String.fromCharCode(t[a]);return e.type=="base64"?Ro(r):e.type=="string"?bo(r):r;case"file":return $o(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function jb(t,e){j3(),IO(t);var r=Xr(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=jb(t,r);return r.type="array",pd(a)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Qn(hN(t,r),r);case"slk":case"sylk":return Qn(zC.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return Qn(Sb(t.Sheets[t.SheetNames[s]],r),r);case"txt":return eD(Cb(t.Sheets[t.SheetNames[s]],r),r);case"csv":return Qn(Sm(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return Qn(FC.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return wu(LC.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return Qn(BC.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return Qn(qC.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return Qn(J2.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return Qn(kb(t,r),r);case"wk1":return wu(Ux.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return wu(Ux.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),wu(wb(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),ZN(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return JN(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function tD(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Kx(t,e,r){var a={};return a.type="file",a.file=e,tD(a),jb(t,a)}function rD(t,e,r,a,s,o,c,f){var h=_r(r),m=f.defval,g=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw"),x=!0,y=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!c||t[r])for(var w=e.s.c;w<=e.e.c;++w){var S=c?t[r][w]:t[a[w]+h];if(S===void 0||S.t===void 0){if(m===void 0)continue;o[w]!=null&&(y[o[w]]=m);continue}var _=S.v;switch(S.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(o[w]!=null){if(_==null)if(S.t=="e"&&_===null)y[o[w]]=null;else if(m!==void 0)y[o[w]]=m;else if(g&&_===null)y[o[w]]=null;else continue;else y[o[w]]=g&&(S.t!=="n"||S.t==="n"&&f.rawNumbers!==!1)?_:za(S,_,f);_!=null&&(x=!1)}}return{row:y,isempty:x}}function ad(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},a=0,s=1,o=[],c=0,f="",h={s:{r:0,c:0},e:{r:0,c:0}},m=e||{},g=m.range!=null?m.range:t["!ref"];switch(m.header===1?a=1:m.header==="A"?a=2:Array.isArray(m.header)?a=3:m.header==null&&(a=0),typeof g){case"string":h=Mt(g);break;case"number":h=Mt(t["!ref"]),h.s.r=g;break;default:h=g}a>0&&(s=0);var x=_r(h.s.r),y=[],w=[],S=0,_=0,b=Array.isArray(t),k=h.s.r,O=0,T={};b&&!t[k]&&(t[k]=[]);var F=m.skipHidden&&t["!cols"]||[],G=m.skipHidden&&t["!rows"]||[];for(O=h.s.c;O<=h.e.c;++O)if(!(F[O]||{}).hidden)switch(y[O]=Ar(O),r=b?t[k][O]:t[y[O]+x],a){case 1:o[O]=O-h.s.c;break;case 2:o[O]=y[O];break;case 3:o[O]=m.header[O-h.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),f=c=za(r,null,m),_=T[c]||0,!_)T[c]=1;else{do f=c+"_"+_++;while(T[f]);T[c]=_,T[f]=1}o[O]=f}for(k=h.s.r+s;k<=h.e.r;++k)if(!(G[k]||{}).hidden){var K=rD(t,h,k,y,a,o,b,m);(K.isempty===!1||(a===1?m.blankrows!==!1:m.blankrows))&&(w[S++]=K.row)}return w.length=S,w}var Yx=/"/g;function nD(t,e,r,a,s,o,c,f){for(var h=!0,m=[],g="",x=_r(r),y=e.s.c;y<=e.e.c;++y)if(a[y]){var w=f.dense?(t[r]||[])[y]:t[a[y]+x];if(w==null)g="";else if(w.v!=null){h=!1,g=""+(f.rawNumbers&&w.t=="n"?w.v:za(w,null,f));for(var S=0,_=0;S!==g.length;++S)if((_=g.charCodeAt(S))===s||_===o||_===34||f.forceQuotes){g='"'+g.replace(Yx,'""')+'"';break}g=="ID"&&(g='"ID"')}else w.f!=null&&!w.F?(h=!1,g="="+w.f,g.indexOf(",")>=0&&(g='"'+g.replace(Yx,'""')+'"')):g="";m.push(g)}return f.blankrows===!1&&h?null:m.join(c)}function Sm(t,e){var r=[],a=e??{};if(t==null||t["!ref"]==null)return"";var s=Mt(t["!ref"]),o=a.FS!==void 0?a.FS:",",c=o.charCodeAt(0),f=a.RS!==void 0?a.RS:`
`,h=f.charCodeAt(0),m=new RegExp((o=="|"?"\\|":o)+"+$"),g="",x=[];a.dense=Array.isArray(t);for(var y=a.skipHidden&&t["!cols"]||[],w=a.skipHidden&&t["!rows"]||[],S=s.s.c;S<=s.e.c;++S)(y[S]||{}).hidden||(x[S]=Ar(S));for(var _=0,b=s.s.r;b<=s.e.r;++b)(w[b]||{}).hidden||(g=nD(t,s,b,x,c,h,o,a),g!=null&&(a.strip&&(g=g.replace(m,"")),(g||a.blankrows!==!1)&&r.push((_++?f:"")+g)));return delete a.dense,r.join("")}function Cb(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Sm(t,e);return r}function aD(t){var e="",r,a="";if(t==null||t["!ref"]==null)return[];var s=Mt(t["!ref"]),o="",c=[],f,h=[],m=Array.isArray(t);for(f=s.s.c;f<=s.e.c;++f)c[f]=Ar(f);for(var g=s.s.r;g<=s.e.r;++g)for(o=_r(g),f=s.s.c;f<=s.e.c;++f)if(e=c[f]+o,r=m?(t[g]||[])[f]:t[e],a="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;a=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}h[h.length]=e+"="+a}return h}function Rb(t,e,r){var a=r||{},s=+!a.skipHeader,o=t||{},c=0,f=0;if(o&&a.origin!=null)if(typeof a.origin=="number")c=a.origin;else{var h=typeof a.origin=="string"?lr(a.origin):a.origin;c=h.r,f=h.c}var m,g={s:{c:0,r:0},e:{c:f,r:c+e.length-1+s}};if(o["!ref"]){var x=Mt(o["!ref"]);g.e.c=Math.max(g.e.c,x.e.c),g.e.r=Math.max(g.e.r,x.e.r),c==-1&&(c=x.e.r+1,g.e.r=c+e.length-1+s)}else c==-1&&(c=0,g.e.r=e.length-1+s);var y=a.header||[],w=0;e.forEach(function(_,b){br(_).forEach(function(k){(w=y.indexOf(k))==-1&&(y[w=y.length]=k);var O=_[k],T="z",F="",G=wt({c:f+w,r:c+b+s});m=Lo(o,G),O&&typeof O=="object"&&!(O instanceof Date)?o[G]=O:(typeof O=="number"?T="n":typeof O=="boolean"?T="b":typeof O=="string"?T="s":O instanceof Date?(T="d",a.cellDates||(T="n",O=Yr(O)),F=a.dateNF||$t[14]):O===null&&a.nullError&&(T="e",O=0),m?(m.t=T,m.v=O,delete m.w,delete m.R,F&&(m.z=F)):o[G]=m={t:T,v:O},F&&(m.z=F))})}),g.e.c=Math.max(g.e.c,f+y.length-1);var S=_r(c);if(s)for(w=0;w<y.length;++w)o[Ar(w+f)+S]={t:"s",v:y[w]};return o["!ref"]=Zt(g),o}function iD(t,e){return Rb(null,t,e)}function Lo(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var a=lr(e);return t[a.r]||(t[a.r]=[]),t[a.r][a.c]||(t[a.r][a.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Lo(t,wt(e)):Lo(t,wt({r:e,c:r||0}))}function sD(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function lD(){return{SheetNames:[],Sheets:{}}}function oD(t,e,r,a){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&t.SheetNames.indexOf(r)>=0){var o=r.match(/(^.*?)(\d+)$/);s=o&&+o[2]||0;var c=o&&o[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=c+s)!=-1;++s);}if(yb(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function cD(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var a=sD(t,e);switch(t.Workbook.Sheets[a]||(t.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[a].Hidden=r}function uD(t,e){return t.z=e,t}function Ob(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function dD(t,e,r){return Ob(t,"#"+e,r)}function fD(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function hD(t,e,r,a){for(var s=typeof e!="string"?e:Mt(e),o=typeof e=="string"?e:Zt(e),c=s.s.r;c<=s.e.r;++c)for(var f=s.s.c;f<=s.e.c;++f){var h=Lo(t,c,f);h.t="n",h.F=o,delete h.v,c==s.s.r&&f==s.s.c&&(h.f=r,a&&(h.D=!0))}return t}var ir={encode_col:Ar,encode_row:_r,encode_cell:wt,encode_range:Zt,decode_col:fm,decode_row:dm,split_cell:jj,decode_cell:lr,decode_range:dn,format_cell:za,sheet_add_aoa:O2,sheet_add_json:Rb,sheet_add_dom:Eb,aoa_to_sheet:pl,json_to_sheet:iD,table_to_sheet:Tb,table_to_book:FN,sheet_to_csv:Sm,sheet_to_txt:Cb,sheet_to_json:ad,sheet_to_html:Sb,sheet_to_formulae:aD,sheet_to_row_object_array:ad,sheet_get_cell:Lo,book_new:lD,book_append_sheet:oD,book_set_sheet_visibility:cD,cell_set_number_format:uD,cell_set_hyperlink:Ob,cell_set_internal_link:dD,cell_add_comment:fD,sheet_set_array_formula:hD,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const mD=[{key:"innovative",label:"novatif mi?"},{key:"lightweight",label:"Hafif mi?"},{key:"low_variation",label:"Varyasyonu Az m?"},{key:"problem_solving",label:"Sorun zyor mu?"},{key:"visual_sellable",label:"Gstererek Satlabilir mi?"}];function pD(){const{user:t}=fn(),[e,r]=L.useState("classic"),[a,s]=L.useState([]),[o,c]=L.useState(!0),[f,h]=L.useState({}),[m,g]=L.useState([]),[x,y]=L.useState([]),[w,S]=L.useState(!1),[_,b]=L.useState([]),[k,O]=L.useState(0),[T,F]=L.useState(null),[G,K]=L.useState(null),[A,P]=L.useState(!1),[q,te]=L.useState([]),[ee,de]=L.useState(null),[ye,He]=L.useState(null),[fe,X]=L.useState({x:0,y:0}),[pe,ke]=L.useState(!1),Me=L.useRef(!1),Q="panela_swipe_state_v1",C=J=>{const je=[...J];for(let Ue=je.length-1;Ue>0;Ue--){const Oe=Math.floor(Math.random()*(Ue+1));[je[Ue],je[Oe]]=[je[Oe],je[Ue]]}return je},[R,W]=L.useState({}),[D,H]=L.useState("all"),[Z,me]=L.useState(""),[be,we]=L.useState(""),[Ee,$e]=L.useState(""),[Pe,Qe]=L.useState(""),[le,at]=L.useState(null),[et,ze]=L.useState([]),[At,Lt]=L.useState(!1),[pt,Cr]=L.useState(""),wr=L.useRef(null);L.useEffect(()=>{t?.id&&(gt(),Rr(),Sr(),la(),aa())},[t?.id]);const aa=async()=>{try{const{data:J,error:je}=await Ce.from("discovered_products").select("id, proof_link, meta_link").not("proof_link","is",null).neq("proof_link","");if(je){console.error("[Panela] Proof link migration error:",je);return}if(!J||J.length===0)return;const Ue=j=>!j||typeof j!="string"||!j.includes("facebook.com/ads/library")||j.includes("?id=")&&!j.includes("search_type=page")?!1:j.includes("search_type=page")&&j.includes("view_all_page_id"),Oe=[];for(const j of J){const B=j.proof_link?.trim();B&&Ue(B)&&(!j.meta_link||j.meta_link!==B?Oe.push({id:j.id,meta_link:B,proof_link:null}):Oe.push({id:j.id,proof_link:null}))}if(Oe.length>0){console.log(`[Panela] ${Oe.length} rn iin proof_link -> meta_link migration balatlyor...`);for(const j of Oe){const{error:B}=await Ce.from("discovered_products").update({meta_link:j.meta_link||void 0,proof_link:j.proof_link}).eq("id",j.id);B&&console.error(`[Panela] Migration error for product ${j.id}:`,B)}console.log(`[Panela] Migration tamamland: ${Oe.length} rn gncellendi`),await Rr()}}catch(J){console.error("[Panela] Proof link migration error:",J)}};L.useEffect(()=>{wr.current&&le?.notes&&(wr.current.style.height="auto",wr.current.style.height=`${wr.current.scrollHeight}px`)},[le?.notes]),L.useEffect(()=>{if(le){const J=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${J}px`}else document.body.style.overflow="",document.body.style.paddingRight="";return()=>{document.body.style.overflow="",document.body.style.paddingRight=""}},[le]),L.useEffect(()=>{t?.id&&Rr()},[D,Z,be,Ee,Pe,t?.id]);const gt=async()=>{try{const{data:J}=await Ce.from("app_users").select("id, username, full_name").order("username",{ascending:!0});J&&g(J)}catch(J){console.error("Error loading users:",J)}},Rr=async()=>{c(!0);try{let J=Ce.from("discovered_products").select("*, app_users(id, username, full_name)").order("created_at",{ascending:!1});D==="me"?J=J.eq("user_id",t.id):D!=="all"&&(J=J.eq("user_id",D)),Z&&(J=J.gte("ad_count",parseInt(Z)||0)),be&&(J=J.lte("ad_count",parseInt(be)||999999)),Ee&&(J=J.eq("country_code",Ee.toUpperCase())),Pe&&(J=J.ilike("search_keyword",`%${Pe}%`));const{data:je,error:Ue}=await J;if(Ue)throw Ue;s(je||[])}catch(J){console.error("Error loading products:",J),s([])}finally{c(!1)}},Sr=async()=>{if(t?.id)try{const{data:J}=await Ce.from("product_comments").select("id, product_id"),{data:je}=await Ce.from("comment_reads").select("comment_id").eq("user_id",t.id),Ue=new Set(je?.map(j=>j.comment_id)||[]),Oe={};J&&J.forEach(j=>{Ue.has(j.id)||(Oe[j.product_id]=(Oe[j.product_id]||0)+1)}),h(Oe)}catch(J){console.error("Error loading unread counts:",J)}},Cn=async()=>{if(t?.id)try{const{data:J,error:je}=await Ce.from("swipe_ready").select("user_id, ready_at, is_active, app_users(id, username, full_name)").eq("is_active",!0).order("ready_at",{ascending:!0});if(je)throw je;y(J||[]),S(!!J?.find(Ue=>Ue.user_id===t.id))}catch(J){console.error("Ready durum yklenemedi:",J)}},Er=async()=>{if(t?.id)try{await Ce.from("swipe_ready").upsert({user_id:t.id,ready_at:new Date().toISOString(),is_active:!0}),await Cn()}catch(J){console.error("Hazr iareti eklenemedi:",J)}},ia=async()=>{try{await Ce.from("swipe_ready").update({is_active:!1}),y([]),S(!1)}catch(J){console.error("Ready kaytlar temizlenemedi:",J),y([]),S(!1)}},[Rn,hn]=L.useState(""),sa=J=>{try{localStorage.setItem(Q,JSON.stringify(J))}catch{}},Lr=()=>{try{localStorage.removeItem(Q)}catch{}},nr=J=>{if(!Me.current){Me.current=!0;try{const je=localStorage.getItem(Q);if(!je)return;const Ue=JSON.parse(je);if(!Ue?.sessionId||!Array.isArray(Ue.queueIds))return;const Oe=Ue.queueIds.map(N=>J.find(z=>z.id===N)).filter(Boolean);if(!Oe.length){Lr();return}const j=Math.min(Ue.index??0,Oe.length);F(Ue.sessionId),K(Ue.sessionCode||null),b(Oe),O(j);const B=j>=Oe.length;P(B),B&&(Lr(),ia()),X({x:0,y:0}),He(null)}catch{}}},zr=async()=>{try{const{data:J,error:je}=await Ce.from("swipe_selections").select("session_code").not("session_code","is",null).order("session_code",{ascending:!1}).limit(1);if(je)throw je;const Ue=J?.[0]?.session_code,Oe=Ue?parseInt(Ue,10)+1:1;return String(Oe).padStart(3,"0")}catch{return"001"}},cr=async()=>{if(!t?.id)return;if(x.length<2){hn("ki kullanc da hazr olmal.");return}const J=crypto.randomUUID(),je=await zr(),Ue=C(a);F(J),K(je),b(Ue),O(0),P(!1),hn(""),sa({sessionId:J,sessionCode:je,queueIds:Ue.map(Oe=>Oe.id),index:0})},xl=async(J,je,Ue,Oe)=>{await Ce.from("swipe_selections").insert({session_id:J,session_code:je||null,product_id:Ue,selected_by:t?.id||null,is_selected:Oe,selected_at:new Date().toISOString()})},yi=async J=>{if(!_.length||A)return;const je=_[k],Ue=J==="right";let Oe=T,j=G;Oe||(Oe=crypto.randomUUID(),j=await zr(),F(Oe),K(j)),He(null),X({x:0,y:0});try{await xl(Oe,j,je.id,Ue);const B=k+1;B>=_.length&&(P(!0),Lr(),await ia(),await _i()),O(B),sa({sessionId:Oe,sessionCode:j,queueIds:_.map(z=>z.id),index:B})}catch(B){console.error("Swipe kaydedilemedi:",B),hn("Swipe kaydedilemedi, tekrar deneyin."),X({x:0,y:0})}},_i=async()=>{try{const{data:J,error:je}=await Ce.from("swipe_selections").select("session_id, session_code, selected_at, is_selected").order("selected_at",{ascending:!1});if(je)throw je;const Ue=new Map;J?.forEach(Oe=>{Ue.has(Oe.session_id)||Ue.set(Oe.session_id,{session_id:Oe.session_id,session_code:Oe.session_code,first_at:Oe.selected_at,total:0,selected:0});const j=Ue.get(Oe.session_id);j.total+=1,Oe.is_selected&&(j.selected+=1),Oe.selected_at&&j.first_at&&new Date(Oe.selected_at)<new Date(j.first_at)&&(j.first_at=Oe.selected_at)}),te(Array.from(Ue.values()))}catch(J){console.error("Gemi oturumlar yklenemedi:",J)}},Gn=async J=>{try{de(J);const{data:je,error:Ue}=await Ce.from("swipe_selections").select("product_id, is_selected, discovered_products(*)").eq("session_id",J).eq("is_selected",!0);if(Ue)throw Ue;const Oe=(je||[]).map(ne=>ne.discovered_products).filter(Boolean);if(!Oe.length){alert("Bu oturumda seili rn yok."),de(null);return}const B=[...Oe].sort((ne,ae)=>{const ie=new Date(ne.created_at||0);return new Date(ae.created_at||0)-ie}).map(ne=>{const ae=ne.image_url||"",ie=ne.created_at?new Date(ne.created_at).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return{Ad:ne.product_name||"","Sat Sayfas":ae,"Meta Linki":ne.meta_link||"","Reklam Says":ne.ad_count??"","rn Fiyat":"","Eklenme Tarihi":ie}}),N=ir.book_new(),z=ir.json_to_sheet(B),U=ir.decode_range(z["!ref"]||"A1");for(let ne=1;ne<=U.e.r;ne++){const ae=ir.encode_cell({r:ne,c:1}),ie=z[ae];ie&&ie.v&&typeof ie.v=="string"&&ie.v.startsWith("http")&&(ie.l={Target:ie.v,Tooltip:ie.v})}for(let ne=1;ne<=U.e.r;ne++){const ae=ir.encode_cell({r:ne,c:2}),ie=z[ae];ie&&ie.v&&typeof ie.v=="string"&&ie.v.startsWith("http")&&(ie.l={Target:ie.v,Tooltip:ie.v})}z["!cols"]=[{wch:45},{wch:60},{wch:75},{wch:22},{wch:22},{wch:20}];const I=ir.decode_range(z["!ref"]||"A1");for(let ne=0;ne<=I.e.c;ne++){const ae=ir.encode_cell({r:0,c:ne});z[ae]&&(z[ae].s={font:{bold:!0},fill:{fgColor:{rgb:"E7E6E6"}}})}for(let ne=1;ne<=U.e.r;ne++){const ae=ne%2===1;for(let ie=0;ie<=U.e.c;ie++){const oe=ir.encode_cell({r:ne,c:ie});z[oe]||(z[oe]={t:"s",v:""}),z[oe].s||(z[oe].s={}),ae?z[oe].s.fill={patternType:"solid",fgColor:{rgb:"E3F2FD"}}:z[oe].s.fill={patternType:"solid",fgColor:{rgb:"FFFFFF"}}}}ir.book_append_sheet(N,z,"Seilenler");const se=new Date().toISOString().split("T")[0];Kx(N,`panela-swipe-${J}-${se}.xlsx`)}catch(je){console.error("Excel export hatas:",je),alert("Excel indirilemedi.")}finally{de(null)}};L.useEffect(()=>{e==="swipe"&&t?.id&&(Cn(),_i())},[e,t?.id]),L.useEffect(()=>{e==="swipe"&&!o&&a.length>0&&nr(a)},[e,o,a]);const la=async()=>{if(t?.id)try{const{data:J,error:je}=await Ce.from("product_views").select("product_id, first_seen_at").eq("user_id",t.id);if(je)throw je;const Ue={};J&&J.forEach(Oe=>{Ue[Oe.product_id]=Oe.first_seen_at}),W(Ue)}catch(J){console.error("Error loading product views:",J)}},Ia=async J=>{if(!(!t?.id||!J)&&!R[J])try{const{data:je,error:Ue}=await Ce.from("product_views").insert({product_id:J,user_id:t.id,first_seen_at:new Date().toISOString()}).select("first_seen_at").single();if(Ue){if(Ue.code==="23505"){await la();return}throw Ue}W(Oe=>({...Oe,[J]:je.first_seen_at}))}catch(je){console.error("Error marking product as seen:",je)}},Fr=async(J,je)=>{at(J),await oa(J.id),await Sr(),J.user_id!==t?.id&&await Ia(J.id)},oa=async J=>{Lt(!0);try{const{data:je,error:Ue}=await Ce.from("product_comments").select("id, user_id, content, created_at, app_users(id, username, full_name)").eq("product_id",J).order("created_at",{ascending:!0});if(Ue)throw Ue;if(ze(je||[]),je&&je.length>0&&t?.id){const Oe=je.map(j=>({comment_id:j.id,user_id:t.id,seen_at:new Date().toISOString()}));await Ce.from("comment_reads").upsert(Oe,{onConflict:"comment_id,user_id"}),h(j=>({...j,[J]:0}))}}catch(je){console.error("Error loading comments:",je)}finally{Lt(!1)}},qn=async()=>{if(!(!pt.trim()||!le))try{const{error:J}=await Ce.from("product_comments").insert({product_id:le.id,user_id:t.id,content:pt.trim()});if(J)throw J;Cr(""),await oa(le.id),await Sr()}catch(J){console.error("Error adding comment:",J),alert("Yorum eklenirken hata olutu")}},yl=async J=>{if(!(!le||le.user_id!==t?.id))try{const{error:je}=await Ce.from("discovered_products").update(J).eq("id",le.id).eq("user_id",t.id);if(je)throw je;await Rr();const Ue=(await Ce.from("discovered_products").select("*, app_users(id, username, full_name)").eq("id",le.id).single()).data;at(Ue||null)}catch(je){console.error("Error updating product:",je),alert("rn gncellenemedi")}},os=async()=>{if(!(!le||le.user_id!==t?.id)&&confirm("Bu rn silmek istediine emin misin?"))try{const{data:J}=await Ce.from("product_comments").select("id").eq("product_id",le.id),je=(J||[]).map(Oe=>Oe.id);je.length>0&&await Ce.from("comment_reads").delete().in("comment_id",je),await Ce.from("product_comments").delete().eq("product_id",le.id);const{error:Ue}=await Ce.from("discovered_products").delete().eq("id",le.id).eq("user_id",t.id);if(Ue)throw Ue;at(null),await Rr(),await Sr()}catch(J){console.error("Error deleting product:",J),alert("rn silinemedi")}},bi=()=>{try{if(a.length===0){alert("Export edilecek rn bulunamad");return}const je=[...a].sort((I,se)=>{const ne=new Date(I.created_at||0);return new Date(se.created_at||0)-ne}).map(I=>{const se=I.image_url||"",ne=I.created_at?new Date(I.created_at).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return{Ad:I.product_name||"","Sat Sayfas":se,"Meta Linki":I.meta_link||"","Reklam Says":I.ad_count??"","rn Fiyat":"","Eklenme Tarihi":ne}}),Ue=ir.book_new(),Oe=ir.json_to_sheet(je),j=ir.decode_range(Oe["!ref"]||"A1");for(let I=1;I<=j.e.r;I++){const se=ir.encode_cell({r:I,c:1}),ne=Oe[se];ne&&ne.v&&typeof ne.v=="string"&&ne.v.startsWith("http")&&(ne.l={Target:ne.v,Tooltip:ne.v})}for(let I=1;I<=j.e.r;I++){const se=ir.encode_cell({r:I,c:2}),ne=Oe[se];ne&&ne.v&&typeof ne.v=="string"&&ne.v.startsWith("http")&&(ne.l={Target:ne.v,Tooltip:ne.v})}Oe["!cols"]=[{wch:45},{wch:60},{wch:75},{wch:22},{wch:22},{wch:20}];const B=ir.decode_range(Oe["!ref"]||"A1");for(let I=0;I<=B.e.c;I++){const se=ir.encode_cell({r:0,c:I});Oe[se]&&(Oe[se].s={font:{bold:!0},fill:{fgColor:{rgb:"E7E6E6"}}})}for(let I=1;I<=j.e.r;I++){const se=I%2===1;for(let ne=0;ne<=j.e.c;ne++){const ae=ir.encode_cell({r:I,c:ne});Oe[ae]||(Oe[ae]={t:"s",v:""}),Oe[ae].s||(Oe[ae].s={}),se?Oe[ae].s.fill={patternType:"solid",fgColor:{rgb:"E3F2FD"}}:Oe[ae].s.fill={patternType:"solid",fgColor:{rgb:"FFFFFF"}}}}ir.book_append_sheet(Ue,Oe,"rnler");const U=`panela-urunler-${new Date().toISOString().split("T")[0]}.xlsx`;Kx(Ue,U),console.log(`Excel dosyas oluturuldu: ${U}, ${je.length} rn export edildi`)}catch(J){console.error("Excel export hatas:",J),alert("Excel dosyas oluturulurken hata olutu: "+J.message)}},ca=()=>{if(!le)return null;const J=le.user_id===t?.id,je=le.app_users||{},Ue=le.created_at?new Date(le.created_at).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",Oe=(N,z)=>{J&&(at(U=>({...U,[N]:z})),N==="notes"&&wr.current&&(wr.current.style.height="auto",wr.current.style.height=`${wr.current.scrollHeight}px`))},j=async()=>{J&&await yl({product_name:le.product_name||null,meta_link:le.meta_link||null,proof_link:le.proof_link||null,trendyol_link:le.trendyol_link||null,amazon_link:le.amazon_link||null,image_url:le.image_url||null,ad_count:le.ad_count??null,country_code:le.country_code||null,search_keyword:le.search_keyword||null,notes:le.notes||null,scores:le.scores,potential_score:le.potential_score})},B=async N=>{if(!(!N||!N.trim()))try{await navigator.clipboard.writeText(N.trim()),window.open(N.trim(),"_blank","noopener,noreferrer"),console.log("Link kopyaland ve ald:",N.trim())}catch(z){console.error("Link kopyalama/ama hatas:",z),window.open(N.trim(),"_blank","noopener,noreferrer")}};return py.createPortal(u.jsxs("div",{className:"product-modal-overlay",onClick:async()=>{at(null),await Sr()},children:[u.jsxs("div",{className:"product-modal-container",onClick:N=>N.stopPropagation(),children:[u.jsxs("div",{style:{padding:"1.5rem",borderRight:"1px solid var(--color-border)",display:"flex",flexDirection:"column",gap:"1rem",overflowY:"auto",overflowX:"hidden",minHeight:0,height:"100%"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{children:[u.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:["Ekleyen: ",je.username||je.full_name||"Bilinmeyen"]}),R[le.id]&&u.jsxs("div",{style:{fontSize:"11px",color:"var(--color-primary)",marginTop:"0.25rem",fontWeight:"500"},children:["lk grld: ",new Date(R[le.id]).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),Ue&&u.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:["Eklenme: ",Ue]}),u.jsx("h3",{style:{margin:"0.25rem 0",fontSize:"18px"},children:le.product_name||"simsiz rn"})]}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[J&&u.jsxs("button",{onClick:os,style:{border:"1px solid var(--color-error)",color:"var(--color-error)",background:"white",borderRadius:"10px",padding:"0.4rem 0.7rem",display:"flex",alignItems:"center",gap:"0.35rem",fontWeight:"600"},children:[u.jsx(Qi,{size:14}),"Sil"]}),u.jsx("button",{onClick:async()=>{at(null),await Sr()},style:{border:"1px solid var(--color-border)",background:"white",borderRadius:"10px",padding:"0.4rem 0.7rem",fontWeight:"600"},children:"Kapat"})]})]}),(le.meta_link||le.image_url||le.trendyol_link||le.amazon_link)&&u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",fontSize:"12px",padding:"0.75rem",background:"var(--color-background)",borderRadius:"10px",border:"1px solid var(--color-border)"},children:[le.meta_link&&u.jsxs("a",{href:le.meta_link,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none",fontWeight:"600"},children:[u.jsx(ea,{size:14}),"Meta"]}),le.image_url&&u.jsxs("a",{href:le.image_url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none",fontWeight:"600"},children:[u.jsx(ea,{size:14}),"rn Sat Linki"]}),le.trendyol_link&&u.jsxs("a",{href:le.trendyol_link,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none",fontWeight:"600"},children:[u.jsx(ea,{size:14}),"Trendyol"]}),le.amazon_link&&u.jsxs("a",{href:le.amazon_link,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",textDecoration:"none",fontWeight:"600"},children:[u.jsx(ea,{size:14}),"Amazon"]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsxs("label",{onClick:()=>B(le.meta_link),style:{fontSize:"12px",color:le.meta_link?"var(--color-primary)":"var(--color-text-muted)",cursor:le.meta_link?"pointer":"default",textDecoration:le.meta_link?"underline":"none",userSelect:"none"},title:le.meta_link?"Tkla: Linki kopyala ve a":"",children:["Meta Link ",le.meta_link&&""]}),u.jsx("input",{type:"text",value:le.meta_link||"",onChange:N=>Oe("meta_link",N.target.value),disabled:!J,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsxs("div",{children:[u.jsxs("label",{onClick:()=>B(le.image_url),style:{fontSize:"12px",color:le.image_url?"var(--color-primary)":"var(--color-text-muted)",cursor:le.image_url?"pointer":"default",textDecoration:le.image_url?"underline":"none",userSelect:"none"},title:le.image_url?"Tkla: Linki kopyala ve a":"",children:["rn Sat Linki (Grsel URL) ",le.image_url&&""]}),u.jsx("input",{type:"text",value:le.image_url||"",onChange:N=>Oe("image_url",N.target.value),disabled:!J,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsxs("div",{children:[u.jsxs("label",{onClick:()=>B(le.trendyol_link),style:{fontSize:"12px",color:le.trendyol_link?"var(--color-primary)":"var(--color-text-muted)",cursor:le.trendyol_link?"pointer":"default",textDecoration:le.trendyol_link?"underline":"none",userSelect:"none"},title:le.trendyol_link?"Tkla: Linki kopyala ve a":"",children:["Trendyol Link ",le.trendyol_link&&""]}),u.jsx("input",{type:"text",value:le.trendyol_link||"",onChange:N=>Oe("trendyol_link",N.target.value),disabled:!J,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsxs("div",{children:[u.jsxs("label",{onClick:()=>B(le.amazon_link),style:{fontSize:"12px",color:le.amazon_link?"var(--color-primary)":"var(--color-text-muted)",cursor:le.amazon_link?"pointer":"default",textDecoration:le.amazon_link?"underline":"none",userSelect:"none"},title:le.amazon_link?"Tkla: Linki kopyala ve a":"",children:["Amazon Link ",le.amazon_link&&""]}),u.jsx("input",{type:"text",value:le.amazon_link||"",onChange:N=>Oe("amazon_link",N.target.value),disabled:!J,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Reklam Says"}),u.jsx("input",{type:"number",value:le.ad_count??"",onChange:N=>Oe("ad_count",N.target.value),disabled:!J,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"lke Kodu (US/CA/GB/AU/NZ)"}),u.jsx("input",{type:"text",value:le.country_code||"",onChange:N=>Oe("country_code",N.target.value),disabled:!J,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Anahtar Kelime"}),u.jsx("input",{type:"text",value:le.search_keyword||"",onChange:N=>Oe("search_keyword",N.target.value),disabled:!J,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]})]}),u.jsxs("div",{children:[u.jsxs("label",{onClick:()=>B(le.proof_link),style:{fontSize:"12px",color:le.proof_link?"var(--color-primary)":"var(--color-text-muted)",cursor:le.proof_link?"pointer":"default",textDecoration:le.proof_link?"underline":"none",userSelect:"none"},title:le.proof_link?"Tkla: Linki kopyala ve a":"",children:["Meta Linki (Kant) ",le.proof_link&&""]}),u.jsx("input",{type:"text",value:le.proof_link||"",onChange:N=>Oe("proof_link",N.target.value),disabled:!J,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px"}})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:mD.map(N=>{const z=le.scores&&le.scores[N.key]||0;return u.jsx(Y_,{label:N.label,value:z,disabled:!0},N.key)})}),u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Not"}),u.jsx("textarea",{ref:wr,value:le.notes||"",onChange:N=>Oe("notes",N.target.value),disabled:!J,style:{width:"100%",padding:"0.55rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"10px",resize:"none",minHeight:"60px",overflow:"hidden",lineHeight:"1.5"},onInput:N=>{N.target.style.height="auto",N.target.style.height=`${N.target.scrollHeight}px`}})]}),J&&u.jsx("div",{children:u.jsx("button",{onClick:j,style:{padding:"0.6rem 1rem",background:"linear-gradient(135deg, var(--color-primary), var(--color-accent))",color:"white",borderRadius:"12px",fontWeight:"700",border:"none",width:"100%"},children:"Gncelle"})})]}),u.jsxs("div",{style:{padding:"1.5rem",display:"flex",flexDirection:"column",minHeight:0,height:"100%",overflow:"hidden"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",flexShrink:0},children:[u.jsx(H_,{size:16,color:"var(--color-primary)"}),u.jsx("span",{style:{fontWeight:"700"},children:"Yorumlar"})]}),u.jsx("div",{style:{flex:1,overflowY:"auto",border:"1px solid var(--color-border)",borderRadius:"10px",padding:"0.75rem",marginBottom:"0.75rem",background:"var(--color-background)",minHeight:0},children:At?u.jsx("div",{style:{textAlign:"center",color:"var(--color-text-muted)"},children:"Ykleniyor..."}):et.length===0?u.jsx("div",{style:{textAlign:"center",color:"var(--color-text-muted)"},children:"Henz yorum yok"}):et.map(N=>{const z=N.app_users||{};return u.jsxs("div",{style:{padding:"0.65rem",borderRadius:"8px",background:"white",marginBottom:"0.5rem",border:"1px solid var(--color-border)"},children:[u.jsx("div",{style:{fontSize:"13px",fontWeight:"700"},children:z.username||z.full_name||"Bilinmeyen"}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:new Date(N.created_at).toLocaleString("tr-TR")}),u.jsx("div",{style:{marginTop:"0.35rem",fontSize:"13px"},children:N.content})]},N.id)})}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexShrink:0},children:[u.jsx("input",{type:"text",value:pt,onChange:N=>Cr(N.target.value),placeholder:"Yorum yaz...",style:{flex:1,padding:"0.65rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"10px"},onKeyPress:N=>N.key==="Enter"&&qn()}),u.jsx("button",{onClick:qn,disabled:!pt.trim(),style:{padding:"0.65rem 1rem",background:"linear-gradient(135deg, var(--color-primary), var(--color-accent))",color:"white",borderRadius:"10px",border:"none",fontWeight:"700",opacity:pt.trim()?1:.5,cursor:pt.trim()?"pointer":"not-allowed"},children:"Gnder"})]})]})]}),u.jsx("style",{children:`
          .product-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 99999;
            animation: fadeIn 0.3s ease-out;
          }
          
          .product-modal-container {
            position: relative;
            background: white;
            border-radius: 16px;
            width: min(95vw, 1000px);
            max-width: 1000px;
            height: min(85vh, 700px);
            max-height: 85vh;
            overflow: hidden;
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            box-shadow: 0 25px 80px -12px rgba(0, 0, 0, 0.4);
            pointer-events: auto;
            animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
          }
          
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          
          @keyframes slideUp {
            from { transform: translateY(20px) scale(0.98); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
          }
          
          @media (max-width: 768px) {
            .product-modal-container {
              grid-template-columns: 1fr;
              grid-template-rows: auto auto;
              height: min(90vh, 600px);
              max-height: 90vh;
              width: min(95vw, 100%);
            }
            .product-modal-container > div:first-child {
              border-right: none;
              border-bottom: 1px solid var(--color-border);
              max-height: 50%;
            }
            .product-modal-container > div:last-child {
              max-height: 50%;
            }
          }
        `})]}),document.body)},cs=D!=="all"||Z||be||Ee||Pe,us=L.useMemo(()=>{const J=new Set;return a.forEach(je=>{je.country_code&&J.add(je.country_code)}),Array.from(J).sort()},[a]);return u.jsxs("div",{className:"page-container fade-in",children:[u.jsxs("div",{style:{maxWidth:"1600px",margin:"0 auto",padding:"0 1rem"},children:[u.jsx("div",{className:"page-head",style:{marginBottom:"2rem"},children:u.jsxs("div",{children:[u.jsx("div",{className:"eyebrow",children:"Meta Ads Discovery Hub"}),u.jsx("h1",{style:{margin:"0.5rem 0",fontSize:"2rem",fontWeight:"700"},children:"Hzl rn Aratrma Merkezi"}),u.jsx("p",{style:{margin:"0.5rem 0 0",color:"var(--color-text-muted)",fontSize:"0.95rem"},children:`"Vur-Ka" taktii ile Meta Ads Library'de seri retim aratrma yap. Anahtar kelimeler ve lkeler ile hzlca link olutur, bulduun rnleri annda analiz et ve kaydet.`})]})}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1rem"},children:[u.jsxs("button",{onClick:()=>r("classic"),className:"primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1rem",background:e==="classic"?"linear-gradient(135deg, var(--color-primary), var(--color-accent))":"white",color:e==="classic"?"white":"var(--color-text-main)",border:e==="classic"?"none":"1px solid var(--color-border)",borderRadius:"var(--radius-md)",boxShadow:e==="classic"?"var(--shadow-glow)":"none"},children:[u.jsx(K_,{size:16}),"Hzl Balatc"]}),u.jsxs("button",{onClick:()=>r("products"),className:"primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1rem",background:e==="products"?"linear-gradient(135deg, #10b981, #059669)":"white",color:e==="products"?"white":"var(--color-text-main)",border:e==="products"?"none":"1px solid var(--color-border)",borderRadius:"var(--radius-md)",boxShadow:e==="products"?"var(--shadow-glow)":"none"},children:[u.jsx(Pu,{size:16}),"rnler"]}),u.jsxs("button",{onClick:()=>r("swipe"),className:"primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1rem",background:e==="swipe"?"linear-gradient(135deg, #a855f7, #6366f1)":"white",color:e==="swipe"?"white":"var(--color-text-main)",border:e==="swipe"?"none":"1px solid var(--color-border)",borderRadius:"var(--radius-md)",boxShadow:e==="swipe"?"var(--shadow-glow)":"none"},children:[u.jsx(ix,{size:16}),"Eleme"]}),u.jsxs("button",{onClick:()=>r("auto"),className:"primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1rem",background:e==="auto"?"linear-gradient(135deg, #0ea5e9, #6366f1)":"white",color:e==="auto"?"white":"var(--color-text-main)",border:e==="auto"?"none":"1px solid var(--color-border)",borderRadius:"var(--radius-md)",boxShadow:e==="auto"?"var(--shadow-glow)":"none"},children:[u.jsx($_,{size:16}),"Otomatik Meta Tarayc"]})]}),e==="products"?u.jsxs("div",{children:[u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",marginBottom:"1rem",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[u.jsx(I_,{size:16,color:"var(--color-primary)"}),u.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:"Filtrele"}),u.jsxs("button",{onClick:bi,disabled:a.length===0,style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1rem",background:a.length===0?"#94a3b8":"#107C41",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",fontSize:"13px",cursor:a.length===0?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:a.length===0?"none":"0 2px 8px rgba(16, 124, 65, 0.2)"},onMouseEnter:J=>{a.length>0&&(J.target.style.background="#059669",J.target.style.transform="translateY(-1px)",J.target.style.boxShadow="0 4px 12px rgba(16, 124, 65, 0.3)")},onMouseLeave:J=>{a.length>0&&(J.target.style.background="#107C41",J.target.style.transform="translateY(0)",J.target.style.boxShadow="0 2px 8px rgba(16, 124, 65, 0.2)")},children:[u.jsx(S5,{size:16}),"Excel'e Aktar"]}),cs&&u.jsxs("button",{onClick:()=>{H("all"),me(""),we(""),$e(""),Qe("")},style:{display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.35rem 0.65rem",background:"rgba(239, 68, 68, 0.1)",color:"var(--color-error)",border:"1px solid var(--color-error)",borderRadius:"var(--radius-sm)",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:[u.jsx(ta,{size:12}),"Temizle"]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"0.75rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"rnleri Bulan"}),u.jsxs("select",{value:D,onChange:J=>H(J.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",background:"white",fontSize:"13px",cursor:"pointer"},children:[u.jsx("option",{value:"all",children:"Tm Kullanclar"}),u.jsx("option",{value:"me",children:"Sadece Benim"}),m.filter(J=>J.id!==t?.id).map(J=>u.jsx("option",{value:J.id,children:J.username||J.full_name||"Bilinmeyen"},J.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Reklam Says (Min)"}),u.jsx("input",{type:"number",value:Z,onChange:J=>me(J.target.value),placeholder:"0",min:"0",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Reklam Says (Max)"}),u.jsx("input",{type:"number",value:be,onChange:J=>we(J.target.value),placeholder:"999",min:"0",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"lke Kodu"}),u.jsxs("select",{value:Ee,onChange:J=>$e(J.target.value),style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",background:"white",fontSize:"13px",cursor:"pointer"},children:[u.jsx("option",{value:"",children:"Tm lkeler"}),us.map(J=>u.jsx("option",{value:J,children:J},J))]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"12px",fontWeight:"500",color:"var(--color-text-muted)"},children:"Anahtar Kelime"}),u.jsx("input",{type:"text",value:Pe,onChange:J=>Qe(J.target.value),placeholder:"Ara...",style:{width:"100%",padding:"0.5rem 0.65rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]})]})]}),o?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Ykleniyor..."}):a.length===0?u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:cs?"Filtrelere uygun rn bulunamad":"Henz rn eklenmedi"}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:a.map(J=>{const je=J.user_id!==t?.id&&!R[J.id],Ue=R[J.id]||null;return u.jsx(T3,{product:J,onEdit:()=>Fr(J),currentUserId:t?.id,unreadCount:f[J.id]||0,isNew:je,firstSeenAt:Ue},J.id)})})]}):e==="swipe"?u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx(Ji,{size:18,color:"var(--color-primary)"}),u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:700},children:"Eleme / Swipe Hazrlk"}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:'ki kullanc da "Hazrm" dedikten sonra swipe balayabilir. Sayfay yenileyerek kar tarafn durumunu grrsnz.'})]})]}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[u.jsx("button",{onClick:Er,disabled:w,style:{padding:"0.6rem 1rem",background:w?"#94a3b8":"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:700,cursor:w?"not-allowed":"pointer",boxShadow:"0 4px 14px rgba(16, 185, 129, 0.25)"},children:w?"Hazrsn":"Hazrm"}),u.jsx("button",{onClick:cr,disabled:x.length<2||a.length===0,style:{padding:"0.6rem 1rem",background:x.length<2?"#cbd5e1":"linear-gradient(135deg, #a855f7, #6366f1)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:700,cursor:x.length<2?"not-allowed":"pointer",boxShadow:x.length<2?"none":"0 4px 14px rgba(99, 102, 241, 0.25)"},children:"Swipe'i Balat"})]}),u.jsxs("div",{style:{padding:"0.75rem",border:"1px dashed var(--color-border)",borderRadius:"12px",background:"var(--color-background)"},children:[u.jsx("div",{style:{fontWeight:700,marginBottom:"0.35rem"},children:"Hazr Olanlar"}),x.length===0?u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Henz kimse hazr deil."}):u.jsx("div",{style:{display:"flex",gap:"0.35rem",flexWrap:"wrap"},children:x.map(J=>u.jsx("span",{style:{padding:"0.35rem 0.55rem",borderRadius:"999px",background:"rgba(99,102,241,0.08)",color:"var(--color-primary)",fontSize:"12px",fontWeight:700},children:J.app_users?.username||J.app_users?.full_name||J.user_id.slice(0,6)},J.user_id))})]}),Rn&&u.jsx("div",{style:{fontSize:"12px",color:"var(--color-error)",fontWeight:600},children:Rn}),u.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",border:"1px solid var(--color-border)",borderRadius:"12px",background:"white",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[u.jsx("div",{style:{fontWeight:700},children:"Gemi Oturumlar"}),q.length===0&&u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Henz kaytl oturum yok."}),q.map(J=>u.jsxs("div",{style:{border:"1px solid var(--color-border)",borderRadius:"10px",padding:"0.65rem 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsxs("div",{style:{fontWeight:700},children:["Oturum: ",J.session_code||J.session_id?.slice(0,6)||"-"]}),u.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:["Tarih: ",J.first_at?new Date(J.first_at).toLocaleString("tr-TR"):"-"]}),u.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:["Seilen: ",J.selected," / ",J.total]})]}),u.jsx("button",{onClick:()=>Gn(J.session_id),disabled:ee===J.session_id,style:{padding:"0.5rem 0.75rem",background:"#107C41",color:"white",border:"none",borderRadius:"10px",fontWeight:700,cursor:ee===J.session_id?"wait":"pointer"},children:ee===J.session_id?"ndiriliyor...":"Excel ndir"})]},J.session_id))]})]}),u.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",background:"white",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",minHeight:"540px",display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx(ix,{size:18,color:"var(--color-primary)"}),u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:700},children:"Swipe Alan"}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Sola: Pas | Saa: Se"})]}),u.jsx("div",{style:{marginLeft:"auto",fontSize:"12px",color:"var(--color-text-muted)"},children:_.length>0?`${Math.min(k+1,_.length)} / ${_.length}`:""})]}),(!_.length||k>=_.length)&&!A&&u.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--color-text-muted)"},children:"Swipe iin balat butonuna basn. rnler rastgele sralanr. (Kst: iki kullanc hazr olmal)"}),_.length>0&&k<_.length&&(()=>{const J=_[k],je=_[k+1],Ue=fe.x/15,Oe=Math.max(-1,Math.min(1,fe.x/200)),j=Oe>0?`rgba(34,197,94,${Math.min(Math.abs(Oe)*.25,.25)})`:`rgba(239,68,68,${Math.min(Math.abs(Oe)*.25,.25)})`;return u.jsxs("div",{style:{position:"relative",minHeight:"420px"},children:[je&&u.jsxs("div",{style:{position:"absolute",inset:0,border:"1px solid var(--color-border)",borderRadius:"16px",padding:"1rem",background:"linear-gradient(135deg, rgba(248,250,252,0.8), rgba(255,255,255,0.95))",boxShadow:"0 4px 16px rgba(0,0,0,0.06)",transform:"scale(0.96) translateY(12px)",opacity:.9,pointerEvents:"none",overflow:"hidden"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("h3",{style:{margin:0,fontSize:"16px"},children:je.product_name||"simsiz rn"}),je.ad_count>30&&u.jsx("span",{style:{padding:"0.2rem 0.5rem",background:"rgba(16,185,129,0.1)",color:"var(--color-success)",borderRadius:"8px",fontSize:"12px",fontWeight:700},children:" Markalama"})]}),u.jsxs("div",{style:{display:"flex",gap:"0.4rem",flexWrap:"wrap",fontSize:"12px",color:"var(--color-text-muted)",marginTop:"0.25rem"},children:[je.country_code&&u.jsx("span",{style:{padding:"0.25rem 0.4rem",background:"rgba(59,130,246,0.08)",borderRadius:"8px"},children:je.country_code}),je.search_keyword&&u.jsx("span",{style:{padding:"0.25rem 0.4rem",background:"rgba(16,185,129,0.08)",borderRadius:"8px"},children:je.search_keyword}),u.jsxs("span",{children:["Reklam: ",je.ad_count??"-"]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"13px",marginTop:"0.4rem"},children:[je.meta_link&&u.jsx("a",{href:je.meta_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Meta Link"}),je.image_url&&u.jsx("a",{href:je.image_url,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Sat Linki"}),je.trendyol_link&&u.jsx("a",{href:je.trendyol_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Trendyol"}),je.amazon_link&&u.jsx("a",{href:je.amazon_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Amazon"})]}),je.notes&&u.jsx("div",{style:{fontSize:"13px",color:"var(--color-text-muted)",background:"rgba(148,163,184,0.12)",padding:"0.65rem",borderRadius:"10px",userSelect:"none",marginTop:"0.4rem"},children:je.notes})]}),u.jsxs("div",{style:{position:"absolute",inset:0,border:"1px solid var(--color-border)",borderRadius:"16px",padding:"1rem",boxShadow:"0 8px 24px rgba(0,0,0,0.08)",display:"flex",flexDirection:"column",gap:"0.75rem",background:"linear-gradient(135deg, rgba(248,250,252,0.9), rgba(255,255,255,0.98))",transform:`translateX(${fe.x}px) translateY(${fe.y}px) rotate(${Ue}deg)`,transition:ye?"none":"transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease",userSelect:"none",touchAction:"none",overflow:"hidden"},onPointerDown:B=>{pe||(B.target?.tagName||"").toLowerCase()==="a"||B.target?.closest("a")||(He({x:B.clientX,y:B.clientY}),X({x:0,y:0}))},onPointerMove:B=>{pe||ye&&X({x:B.clientX-ye.x,y:B.clientY-ye.y})},onPointerUp:B=>{if(!ye)return;const N=B.clientX-ye.x,z=80;N>z?yi("right"):N<-z?yi("left"):X({x:0,y:0}),He(null)},onPointerLeave:()=>{ye&&(X({x:0,y:0}),He(null))},children:[u.jsx("div",{style:{position:"absolute",inset:0,background:j,pointerEvents:"none",transition:"background 0.2s ease"}}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",position:"relative"},children:[u.jsx("h3",{style:{margin:0,fontSize:"18px"},children:J.product_name||"simsiz rn"}),J.ad_count>30&&u.jsx("span",{style:{padding:"0.2rem 0.5rem",background:"rgba(16,185,129,0.1)",color:"var(--color-success)",borderRadius:"8px",fontSize:"12px",fontWeight:700},children:" Markalama"})]}),u.jsxs("div",{style:{display:"flex",gap:"0.4rem",flexWrap:"wrap",fontSize:"12px",color:"var(--color-text-muted)",position:"relative"},children:[J.country_code&&u.jsx("span",{style:{padding:"0.25rem 0.4rem",background:"rgba(59,130,246,0.08)",borderRadius:"8px"},children:J.country_code}),J.search_keyword&&u.jsx("span",{style:{padding:"0.25rem 0.4rem",background:"rgba(16,185,129,0.08)",borderRadius:"8px"},children:J.search_keyword}),u.jsxs("span",{children:["Reklam: ",J.ad_count??"-"]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"13px",position:"relative"},children:[J.meta_link&&u.jsx("a",{href:J.meta_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Meta Link"}),J.image_url&&u.jsx("a",{href:J.image_url,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Sat Linki"}),J.trendyol_link&&u.jsx("a",{href:J.trendyol_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Trendyol"}),J.amazon_link&&u.jsx("a",{href:J.amazon_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",textDecoration:"none",fontWeight:700},children:"Amazon"})]}),J.notes&&u.jsx("div",{style:{fontSize:"13px",color:"var(--color-text-muted)",background:"rgba(148,163,184,0.12)",padding:"0.65rem",borderRadius:"10px",userSelect:"none",position:"relative"},children:J.notes})]})]})})(),A&&u.jsxs("div",{style:{padding:"1rem",border:"1px dashed var(--color-border)",borderRadius:"14px",background:"rgba(16,185,129,0.06)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{fontWeight:700,color:"var(--color-success)"},children:"Oturum tamamland."}),u.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Seilen rnler iin Excel indirebilirsiniz. Ready kaytlar sfrland."})]}),T&&u.jsx("button",{onClick:()=>Gn(T),style:{padding:"0.65rem 1rem",background:"#107C41",color:"white",border:"none",borderRadius:"12px",fontWeight:700,cursor:"pointer"},children:"Excel ndir"})]})]})]}):e==="auto"?u.jsx(E3,{}):u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"40% 1px 60%",gap:"1.5rem",height:"calc(100vh - 250px)",minHeight:"600px"},children:[u.jsx("div",{style:{overflow:"hidden",display:"flex",flexDirection:"column"},children:u.jsx(c3,{userId:t?.id})}),u.jsx("div",{style:{background:"var(--color-border)",width:"1px"}}),u.jsx("div",{style:{overflow:"hidden",display:"flex",flexDirection:"column"},children:u.jsx(d3,{userId:t?.id,onProductsChange:Rr})})]})]}),ca(),u.jsx("style",{children:`
        @media (max-width: 1024px) {
          .page-container > div > div:last-child {
            grid-template-columns: 1fr !important;
            grid-template-rows: auto 1px auto !important;
            height: auto !important;
            min-height: auto !important;
          }
          .page-container > div > div:last-child > div:first-child {
            height: 500px !important;
          }
          .page-container > div > div:last-child > div:last-child {
            height: 600px !important;
          }
        }
        
      `})]})}function Xx(t,e){let r;return function(...a){const s=this;clearTimeout(r),r=setTimeout(()=>t.apply(s,a),e)}}function gD(){const{user:t}=fn(),[e,r]=L.useState(!0),[a,s]=L.useState(!1),[o,c]=L.useState(null),[f,h]=L.useState({product_view_mode:"latest",product_count:3,animation_duration:5,tasks_view_mode:"latest",tasks_count:3,tasks_animation_duration:5,tasks_status_filters:["Todo","In Progress","Review"]}),[m,g]=L.useState([]),[x,y]=L.useState({label:"",token:""}),[w,S]=L.useState(!1);L.useEffect(()=>{(async()=>{if(t)try{const{data:K,error:A}=await Ce.from("user_settings").select("*").eq("user_id",t.id).maybeSingle();if(A)throw A;if(K)h({product_view_mode:K.product_view_mode,product_count:K.product_count,animation_duration:K.animation_duration,tasks_view_mode:K.tasks_view_mode||"latest",tasks_count:K.tasks_count||3,tasks_animation_duration:K.tasks_animation_duration||5,tasks_status_filters:K.tasks_status_filters?.length?K.tasks_status_filters:["Todo","In Progress","Review"]});else{const{error:P}=await Ce.from("user_settings").insert([{user_id:t.id,product_view_mode:"latest",product_count:3,animation_duration:5,tasks_view_mode:"latest",tasks_count:3,tasks_animation_duration:5,tasks_status_filters:["Todo","In Progress","Review"]}]).select().single();if(P)throw P}}catch(K){console.error("Error fetching settings:",K)}finally{r(!1)}})()},[t]),L.useEffect(()=>{(async()=>{if(!t)return;const{data:K,error:A}=await Ce.from("ai_tokens").select("*").eq("user_id",t.id).order("priority",{ascending:!0}).order("created_at",{ascending:!0});A||g(K||[])})()},[t]),L.useRef(Xx(async(G,K)=>{try{const{error:A}=await Ce.from("user_settings").upsert({user_id:K,...G,updated_at:new Date});if(A)throw A}catch(A){console.error("Error saving settings:",A)}},1e3)).current;const _=L.useRef(Xx((G,K,A,P)=>{A(),Ce.from("user_settings").upsert({user_id:K,...G,updated_at:new Date}).then(({error:q})=>{q||P(new Date)})},1e3)).current,b=(G,K)=>{const A={...f,[G]:K};h(A),_(A,t.id,()=>s(!0),P=>{s(!1),c(P)})},k=G=>{const K=f.tasks_status_filters||[],P=K.includes(G)?K.filter(q=>q!==G):[...K,G];b("tasks_status_filters",P.length?P:["Todo","In Progress","Review"])},O=async()=>{if(x.token.trim()){S(!0);try{const G=(m.reduce((q,te)=>Math.max(q,te.priority||0),0)||0)+1,K={user_id:t.id,label:x.label||"Gemini Anahtar",token:x.token.trim(),priority:G},{data:A,error:P}=await Ce.from("ai_tokens").insert(K).select().single();if(P)throw P;g(q=>[...q,A].sort((te,ee)=>(te.priority||1)-(ee.priority||1))),y({label:"",token:""})}catch(G){console.error("AI token ekleme hatas:",G)}finally{S(!1)}}},T=async G=>{const{error:K}=await Ce.from("ai_tokens").delete().eq("id",G).eq("user_id",t.id);K||g(A=>A.filter(P=>P.id!==G))},F=async()=>{try{window.confirm(`Extension' indirmek iin:

1. Aadaki linkten GitHub repository'sini zip olarak indirin
2. Zip dosyasn an ve "Panela-main/public/chrome-extension" klasrn bulun
3. Chrome'da chrome://extensions/ adresine gidin
4. Sa stte "Gelitirici modu"nu an
5. "Paketlenmemi uzant ykle" butonuna tklayn
6. "chrome-extension" klasrn sein

Extension aktif olacak ve Meta Ads Library sayfalarnda otomatik alacak.

GitHub repository'sini zip olarak indirmek ister misiniz?`)&&(window.open("https://github.com/dgdfurkan/Panela/archive/refs/heads/main.zip","_blank"),setTimeout(()=>{window.open("https://github.com/dgdfurkan/Panela/tree/main/public/chrome-extension","_blank")},2e3))}catch(G){console.error("Extension indirme hatas:",G),alert("Extension indirilemedi. Ltfen daha sonra tekrar deneyin.")}};return e?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx(Kr,{className:"animate-spin text-primary",size:32})}):u.jsxs("div",{className:"settings-page fade-in",children:[u.jsxs("header",{className:"page-header",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"page-title",children:"Ayarlar"}),u.jsx("p",{className:"page-subtitle",children:"Panelini kendine gre zelletir."})]}),u.jsx("div",{className:"save-status",children:a?u.jsxs("span",{className:"status-badge saving",children:[u.jsx(Kr,{size:14,className:"animate-spin"})," Kaydediliyor..."]}):o?u.jsxs("span",{className:"status-badge saved",children:[u.jsx(Po,{size:14})," Kaydedildi ",o.toLocaleTimeString()]}):null})]}),u.jsxs("div",{className:"settings-grid",children:[u.jsxs("div",{className:"glass-panel settings-card",children:[u.jsx("div",{className:"card-header compact-header",children:u.jsxs("div",{className:"header-left",children:[u.jsx(nA,{className:"text-primary",size:22}),u.jsxs("div",{children:[u.jsx("h3",{children:"Kefedilen rnler Grnm"}),u.jsx("p",{className:"setting-desc",children:"Mode + adet + animasyon sresi ayn yerde."})]})]})}),u.jsxs("div",{className:"card-content compact-grid",children:[u.jsxs("div",{className:"radio-group slim",children:[u.jsxs("label",{className:`radio-option ${f.product_view_mode==="latest"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"view_mode",value:"latest",checked:f.product_view_mode==="latest",onChange:G=>b("product_view_mode",G.target.value)}),u.jsx("span",{className:"radio-label",children:" Son Eklenenler"})]}),u.jsxs("label",{className:`radio-option ${f.product_view_mode==="random"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"view_mode",value:"random",checked:f.product_view_mode==="random",onChange:G=>b("product_view_mode",G.target.value)}),u.jsx("span",{className:"radio-label",children:" Rastgele"})]}),u.jsxs("label",{className:`radio-option ${f.product_view_mode==="loop"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"view_mode",value:"loop",checked:f.product_view_mode==="loop",onChange:G=>b("product_view_mode",G.target.value)}),u.jsx("span",{className:"radio-label",children:" Animasyonlu Dng"})]})]}),u.jsxs("div",{className:"form-group inline",children:[u.jsxs("label",{className:"input-label",children:[u.jsx(lx,{size:16}),"Gsterilecek rn Says"]}),u.jsxs("div",{className:"range-wrapper",children:[u.jsx("input",{type:"range",min:"1",max:"12",value:f.product_count,onChange:G=>b("product_count",parseInt(G.target.value)),className:"range-input"}),u.jsx("span",{className:"range-value",children:f.product_count})]})]}),f.product_view_mode==="loop"&&u.jsxs("div",{className:"form-group inline",children:[u.jsxs("label",{className:"input-label",children:[u.jsx(Qh,{size:16}),"Animasyon Sresi (sn)"]}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("input",{type:"number",min:"1",max:"20",value:f.animation_duration,onChange:G=>b("animation_duration",parseInt(G.target.value)),className:"text-input"}),u.jsx("span",{className:"unit",children:"sn"})]})]})]})]}),u.jsxs("div",{className:"glass-panel settings-card",children:[u.jsx("div",{className:"card-header compact-header",children:u.jsxs("div",{className:"header-left",children:[u.jsx(lx,{className:"text-primary",size:22}),u.jsxs("div",{children:[u.jsx("h3",{children:"Ayarlara Yaklaan Grevler Grnm"}),u.jsx("p",{className:"setting-desc",children:"Hangi statler, ka grev, hangi mod?"})]})]})}),u.jsxs("div",{className:"card-content compact-grid",children:[u.jsxs("div",{className:"checkbox-group slim",children:[u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:f.tasks_status_filters?.includes("Todo"),onChange:()=>k("Todo")}),u.jsx("span",{children:"Yaplacaklar (Todo)"})]}),u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:f.tasks_status_filters?.includes("In Progress"),onChange:()=>k("In Progress")}),u.jsx("span",{children:"Devam Edenler (In Progress)"})]}),u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:f.tasks_status_filters?.includes("Review"),onChange:()=>k("Review")}),u.jsx("span",{children:"Kontrol (Review)"})]})]}),u.jsxs("div",{className:"radio-group slim",children:[u.jsxs("label",{className:`radio-option ${f.tasks_view_mode==="latest"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"tasks_view_mode",value:"latest",checked:f.tasks_view_mode==="latest",onChange:G=>b("tasks_view_mode",G.target.value)}),u.jsx("span",{className:"radio-label",children:" Son Eklenenler"})]}),u.jsxs("label",{className:`radio-option ${f.tasks_view_mode==="random"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"tasks_view_mode",value:"random",checked:f.tasks_view_mode==="random",onChange:G=>b("tasks_view_mode",G.target.value)}),u.jsx("span",{className:"radio-label",children:" Rastgele"})]}),u.jsxs("label",{className:`radio-option ${f.tasks_view_mode==="loop"?"active":""}`,children:[u.jsx("input",{type:"radio",name:"tasks_view_mode",value:"loop",checked:f.tasks_view_mode==="loop",onChange:G=>b("tasks_view_mode",G.target.value)}),u.jsx("span",{className:"radio-label",children:" Animasyonlu Dng"})]})]}),u.jsxs("div",{className:"number-group",children:[u.jsx("label",{children:"Gsterilecek Grev Says"}),u.jsx("input",{type:"number",min:1,max:10,value:f.tasks_count,onChange:G=>b("tasks_count",Number(G.target.value)||1)})]}),f.tasks_view_mode==="loop"&&u.jsxs("div",{className:"number-group",children:[u.jsx("label",{children:"Animasyon Sresi (sn)"}),u.jsx("input",{type:"number",min:2,max:30,value:f.tasks_animation_duration,onChange:G=>b("tasks_animation_duration",Number(G.target.value)||5)})]})]})]}),u.jsxs("div",{className:"glass-panel settings-card",children:[u.jsxs("div",{className:"card-header",children:[u.jsx(em,{className:"text-primary",size:24}),u.jsx("h3",{children:"Gemini Token Ynetimi"})]}),u.jsxs("div",{className:"card-content form-layout",children:[u.jsx("p",{className:"setting-desc",children:"Birden fazla token ekleyip ncelik verebilirsin. Limit amnda sradaki token kullanlr."}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Etiket"}),u.jsx("input",{className:"text-input",placeholder:"rn: Ana Token",value:x.label,onChange:G=>y({...x,label:G.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Token"}),u.jsx("input",{className:"text-input",placeholder:"Gemini API anahtar",value:x.token,onChange:G=>y({...x,token:G.target.value})})]}),u.jsxs("button",{className:"token-add-btn",onClick:O,disabled:w,children:[u.jsx(Xi,{size:16}),w?"Ekleniyor...":"Token Ekle"]}),u.jsxs("div",{className:"token-list",children:[m.length===0&&u.jsx("p",{className:"muted",children:"Henz token eklenmedi."}),m.map(G=>u.jsxs("div",{className:"token-row",children:[u.jsxs("div",{children:[u.jsx("p",{className:"token-label",children:G.label||"Adsz"}),u.jsxs("p",{className:"token-meta",children:["ncelik: ",G.priority||1]})]}),u.jsx("button",{className:"token-delete",onClick:()=>T(G.id),children:u.jsx(Qi,{size:16})})]},G.id))]})]})]}),u.jsxs("div",{className:"glass-panel settings-card",children:[u.jsxs("div",{className:"card-header",children:[u.jsx(K_,{className:"text-primary",size:24}),u.jsx("h3",{children:"Chrome Extension"})]}),u.jsxs("div",{className:"card-content form-layout",children:[u.jsx("p",{className:"setting-desc",children:`Meta Ads Library'de sadece "Shop Now" ve "imdi alveri yap" butonlar olan reklamlar gsteren Chrome eklentisi. Gereksiz reklamlar otomatik olarak filtreler ve sonular daha kompakt gsterir.`}),u.jsxs("div",{className:"extension-instructions",children:[u.jsx("h4",{style:{marginBottom:"1rem",fontSize:"1rem",fontWeight:"600"},children:"Kurulum Admlar (Windows, macOS, Linux):"}),u.jsxs("ol",{style:{paddingLeft:"1.5rem",display:"flex",flexDirection:"column",gap:"0.75rem",color:"var(--color-text-main)",fontSize:"0.9rem"},children:[u.jsxs("li",{children:[u.jsx("strong",{children:"1."}),` Aadaki "Extension' ndir" butonuna tkla - GitHub repository zip dosyas indirilecek`]}),u.jsxs("li",{children:[u.jsx("strong",{children:"2."}),' Zip dosyasn a (Windows: sa tk  "Extract All", macOS: ift tk, Linux: unzip komutu) ve ',u.jsx("code",{style:{background:"rgba(0,0,0,0.05)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontFamily:"monospace"},children:"Panela-main/public/chrome-extension"})," klasrn bul"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"3."})," Chrome veya Edge taraycsnda ",u.jsx("code",{style:{background:"rgba(0,0,0,0.05)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontFamily:"monospace"},children:"chrome://extensions/"})," veya ",u.jsx("code",{style:{background:"rgba(0,0,0,0.05)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontFamily:"monospace"},children:"edge://extensions/"})," adresine git"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"4."})," Sa stte ",u.jsx("strong",{children:'"Gelitirici modu"'})," veya ",u.jsx("strong",{children:'"Developer mode"'})," ak olduundan emin ol"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"5."})," ",u.jsx("strong",{children:'"Paketlenmemi uzant ykle"'})," veya ",u.jsx("strong",{children:'"Load unpacked"'})," butonuna tkla"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"6."})," ",u.jsx("code",{style:{background:"rgba(0,0,0,0.05)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontFamily:"monospace"},children:"chrome-extension"})," klasrn se (iinde manifest.json olan klasr)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"7."})," Extension aktif olacak! Meta Ads Library sayfalarnda otomatik alr"]})]}),u.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"6px",border:"1px solid rgba(16, 185, 129, 0.2)",fontSize:"0.85rem"},children:[u.jsx("strong",{children:" Platform Destei:"})," Bu extension Windows, macOS ve Linux'ta alr. Chrome, Edge, Brave, Opera gibi Chromium tabanl tm tarayclarda alr."]}),u.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"rgba(255, 193, 7, 0.1)",borderRadius:"6px",border:"1px solid rgba(255, 193, 7, 0.2)",fontSize:"0.85rem"},children:[u.jsx("strong",{children:" nemli:"})," Zip dosyasn atktan sonra ",u.jsx("code",{style:{background:"rgba(0,0,0,0.1)",padding:"0.1rem 0.3rem",borderRadius:"3px"},children:"chrome-extension"})," klasrn setiinden emin ol. Tm dosyalar (manifest.json, content.js, popup.html vb.) bu klasrn iinde olmal."]})]}),u.jsxs("button",{className:"extension-download-btn",onClick:F,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, var(--color-primary), var(--color-accent))",color:"white",fontWeight:"600",cursor:"pointer",fontSize:"0.95rem",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:G=>{G.target.style.transform="translateY(-2px)",G.target.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)"},onMouseLeave:G=>{G.target.style.transform="translateY(0)",G.target.style.boxShadow="none"},children:[u.jsx(y5,{size:18}),"Extension' ndir"]}),u.jsx("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(139, 92, 246, 0.05)",borderRadius:"8px",border:"1px solid rgba(139, 92, 246, 0.1)"},children:u.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--color-text-muted)"},children:[u.jsx("strong",{children:"Not:"})," Extension sadece Meta Ads Library sayfalarnda alr. Sayfay yenilediinizde otomatik olarak filtreleme aktif olur."]})})]})]})]}),u.jsx("style",{children:`
                .page-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: flex-end;
                    margin-bottom: 2rem;
                    border-bottom: 1px solid rgba(0,0,0,0.05);
                    padding-bottom: 1rem;
                }

                .page-title {
                    font-size: 1.8rem;
                    font-weight: 700;
                    color: var(--color-text-main);
                }

                .page-subtitle {
                    color: var(--color-text-muted);
                }

                .status-badge {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    padding: 0.5rem 1rem;
                    border-radius: 20px;
                    font-size: 0.85rem;
                    font-weight: 500;
                }

                .status-badge.saving {
                    background: rgba(var(--color-primary-rgb), 0.1);
                    color: var(--color-primary);
                }

                .status-badge.saved {
                    background: rgba(16, 185, 129, 0.1);
                    color: #10B981;
                }

                .settings-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                    gap: 2rem;
                }

                .settings-card {
                    padding: 0;
                    overflow: hidden;
                    display: flex;
                    flex-direction: column;
                }

                .card-header {
                    padding: 1.5rem;
                    background: rgba(255,255,255,0.5);
                    border-bottom: 1px solid rgba(0,0,0,0.05);
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                }

                .card-header h3 {
                    font-size: 1.1rem;
                    font-weight: 600;
                    margin: 0;
                }

                .card-content {
                    padding: 2rem;
                    flex: 1;
                }
                .card-header.compact-header {
                    padding: 1rem 1.5rem;
                }
                .header-left {
                    display: flex;
                    gap: 0.6rem;
                    align-items: center;
                }
                .compact-grid {
                    display: grid;
                    gap: 1rem;
                }
                .radio-group.slim {
                    flex-direction: row;
                    flex-wrap: wrap;
                    gap: 0.75rem;
                }
                .checkbox-group.slim {
                    display: flex;
                    flex-direction: column;
                    gap: 0.5rem;
                }
                .checkbox-group.slim label {
                    display: flex;
                    gap: 0.5rem;
                    align-items: center;
                    font-size: 0.95rem;
                    color: var(--color-text-main);
                }
                .checkbox-group.slim input {
                    accent-color: var(--color-primary);
                }
                .number-group {
                    display: flex;
                    flex-direction: column;
                    gap: 0.4rem;
                }
                .number-group input {
                    width: 120px;
                    padding: 0.45rem 0.75rem;
                    border: 1px solid rgba(0,0,0,0.1);
                    border-radius: 8px;
                    font-size: 0.95rem;
                }
                .number-group label {
                    font-weight: 600;
                    color: var(--color-text-main);
                }
                .form-group.inline {
                    gap: 0.35rem;
                }

                .setting-desc {
                    margin-bottom: 1.5rem;
                    color: var(--color-text-muted);
                    font-size: 0.95rem;
                }

                .radio-group {
                    display: flex;
                    flex-direction: column;
                    gap: 1rem;
                }

                .radio-option {
                    display: flex;
                    align-items: center;
                    padding: 1rem;
                    border: 1px solid rgba(0,0,0,0.1);
                    border-radius: 12px;
                    cursor: pointer;
                    transition: all 0.2s;
                    background: white;
                }

                .radio-option:hover {
                    border-color: var(--color-primary);
                    background: rgba(var(--color-primary-rgb), 0.02);
                }

                .radio-option.active {
                    border-color: var(--color-primary);
                    background: rgba(var(--color-primary-rgb), 0.05);
                    box-shadow: 0 0 0 1px var(--color-primary);
                }

                .radio-option input {
                    margin-right: 1rem;
                    accent-color: var(--color-primary);
                }

                .radio-label {
                    font-weight: 500;
                }

                .form-layout {
                    display: flex;
                    flex-direction: column;
                    gap: 1.5rem;
                }

                .form-group {
                    display: flex;
                    flex-direction: column;
                    gap: 0.5rem;
                }

                .input-label {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    font-weight: 600;
                    color: var(--color-text-main);
                    font-size: 0.95rem;
                }

                .range-wrapper {
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                }

                .range-input {
                    flex: 1;
                    accent-color: var(--color-primary);
                }

                .range-value {
                    font-weight: 700;
                    font-size: 1.2rem;
                    color: var(--color-primary);
                    width: 30px;
                    text-align: center;
                }

                .input-help {
                    font-size: 0.8rem;
                    color: var(--color-text-muted);
                }

                .divider {
                    height: 1px;
                    background: rgba(0,0,0,0.05);
                    margin: 0.5rem 0;
                }

                .input-wrapper {
                    position: relative;
                    max-width: 150px;
                }

                .text-input {
                    width: 100%;
                    padding: 0.75rem 1rem;
                    padding-right: 2.5rem;
                    border: 1px solid rgba(0,0,0,0.1);
                    border-radius: 8px;
                    font-size: 1rem;
                    font-weight: 500;
                }
                
                .text-input:focus {
                    border-color: var(--color-primary);
                    box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.1);
                }

                .unit {
                    position: absolute;
                    right: 1rem;
                    top: 50%;
                    transform: translateY(-50%);
                    color: var(--color-text-muted);
                    font-size: 0.9rem;
                    pointer-events: none;
                }

                .token-add-btn {
                    display: inline-flex;
                    align-items: center;
                    gap: 0.4rem;
                    padding: 0.65rem 0.9rem;
                    border-radius: 10px;
                    border: 1px solid var(--color-border);
                    background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
                    color: white;
                    font-weight: 600;
                    cursor: pointer;
                }

                .token-list {
                    display: flex;
                    flex-direction: column;
                    gap: 0.75rem;
                }

                .token-row {
                    padding: 0.9rem;
                    border: 1px solid var(--color-border);
                    border-radius: 12px;
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    background: white;
                }

                .token-label { font-weight: 600; }
                .token-meta { color: var(--color-text-muted); font-size: 0.9rem; }

                .token-delete {
                    border: 1px solid var(--color-border);
                    background: white;
                    padding: 0.35rem;
                    border-radius: 10px;
                    cursor: pointer;
                }
            `})]})}var Em={};(function t(e,r,a,s){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var Q=new OffscreenCanvas(1,1),C=Q.getContext("2d");C.fillRect(0,0,1,1);var R=Q.transferToImageBitmap();C.createPattern(R,"no-repeat")}catch{return!1}return!0})();function h(){}function m(Q){var C=r.exports.Promise,R=C!==void 0?C:e.Promise;return typeof R=="function"?new R(Q):(Q(h,h),null)}var g=(function(Q,C){return{transform:function(R){if(Q)return R;if(C.has(R))return C.get(R);var W=new OffscreenCanvas(R.width,R.height),D=W.getContext("2d");return D.drawImage(R,0,0),C.set(R,W),W},clear:function(){C.clear()}}})(f,new Map),x=(function(){var Q=Math.floor(16.666666666666668),C,R,W={},D=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(C=function(H){var Z=Math.random();return W[Z]=requestAnimationFrame(function me(be){D===be||D+Q-1<be?(D=be,delete W[Z],H()):W[Z]=requestAnimationFrame(me)}),Z},R=function(H){W[H]&&cancelAnimationFrame(W[H])}):(C=function(H){return setTimeout(H,Q)},R=function(H){return clearTimeout(H)}),{frame:C,cancel:R}})(),y=(function(){var Q,C,R={};function W(D){function H(Z,me){D.postMessage({options:Z||{},callback:me})}D.init=function(me){var be=me.transferControlToOffscreen();D.postMessage({canvas:be},[be])},D.fire=function(me,be,we){if(C)return H(me,null),C;var Ee=Math.random().toString(36).slice(2);return C=m(function($e){function Pe(Qe){Qe.data.callback===Ee&&(delete R[Ee],D.removeEventListener("message",Pe),C=null,g.clear(),we(),$e())}D.addEventListener("message",Pe),H(me,Ee),R[Ee]=Pe.bind(null,{data:{callback:Ee}})}),C},D.reset=function(){D.postMessage({reset:!0});for(var me in R)R[me](),delete R[me]}}return function(){if(Q)return Q;if(!a&&o){var D=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Q=new Worker(URL.createObjectURL(new Blob([D])))}catch(H){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",H),null}W(Q)}return Q}})(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(Q,C){return C?C(Q):Q}function _(Q){return Q!=null}function b(Q,C,R){return S(Q&&_(Q[C])?Q[C]:w[C],R)}function k(Q){return Q<0?0:Math.floor(Q)}function O(Q,C){return Math.floor(Math.random()*(C-Q))+Q}function T(Q){return parseInt(Q,16)}function F(Q){return Q.map(G)}function G(Q){var C=String(Q).replace(/[^0-9a-f]/gi,"");return C.length<6&&(C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2]),{r:T(C.substring(0,2)),g:T(C.substring(2,4)),b:T(C.substring(4,6))}}function K(Q){var C=b(Q,"origin",Object);return C.x=b(C,"x",Number),C.y=b(C,"y",Number),C}function A(Q){Q.width=document.documentElement.clientWidth,Q.height=document.documentElement.clientHeight}function P(Q){var C=Q.getBoundingClientRect();Q.width=C.width,Q.height=C.height}function q(Q){var C=document.createElement("canvas");return C.style.position="fixed",C.style.top="0px",C.style.left="0px",C.style.pointerEvents="none",C.style.zIndex=Q,C}function te(Q,C,R,W,D,H,Z,me,be){Q.save(),Q.translate(C,R),Q.rotate(H),Q.scale(W,D),Q.arc(0,0,1,Z,me,be),Q.restore()}function ee(Q){var C=Q.angle*(Math.PI/180),R=Q.spread*(Math.PI/180);return{x:Q.x,y:Q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Q.startVelocity*.5+Math.random()*Q.startVelocity,angle2D:-C+(.5*R-Math.random()*R),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Q.color,shape:Q.shape,tick:0,totalTicks:Q.ticks,decay:Q.decay,drift:Q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Q.gravity*3,ovalScalar:.6,scalar:Q.scalar,flat:Q.flat}}function de(Q,C){C.x+=Math.cos(C.angle2D)*C.velocity+C.drift,C.y+=Math.sin(C.angle2D)*C.velocity+C.gravity,C.velocity*=C.decay,C.flat?(C.wobble=0,C.wobbleX=C.x+10*C.scalar,C.wobbleY=C.y+10*C.scalar,C.tiltSin=0,C.tiltCos=0,C.random=1):(C.wobble+=C.wobbleSpeed,C.wobbleX=C.x+10*C.scalar*Math.cos(C.wobble),C.wobbleY=C.y+10*C.scalar*Math.sin(C.wobble),C.tiltAngle+=.1,C.tiltSin=Math.sin(C.tiltAngle),C.tiltCos=Math.cos(C.tiltAngle),C.random=Math.random()+2);var R=C.tick++/C.totalTicks,W=C.x+C.random*C.tiltCos,D=C.y+C.random*C.tiltSin,H=C.wobbleX+C.random*C.tiltCos,Z=C.wobbleY+C.random*C.tiltSin;if(Q.fillStyle="rgba("+C.color.r+", "+C.color.g+", "+C.color.b+", "+(1-R)+")",Q.beginPath(),c&&C.shape.type==="path"&&typeof C.shape.path=="string"&&Array.isArray(C.shape.matrix))Q.fill(pe(C.shape.path,C.shape.matrix,C.x,C.y,Math.abs(H-W)*.1,Math.abs(Z-D)*.1,Math.PI/10*C.wobble));else if(C.shape.type==="bitmap"){var me=Math.PI/10*C.wobble,be=Math.abs(H-W)*.1,we=Math.abs(Z-D)*.1,Ee=C.shape.bitmap.width*C.scalar,$e=C.shape.bitmap.height*C.scalar,Pe=new DOMMatrix([Math.cos(me)*be,Math.sin(me)*be,-Math.sin(me)*we,Math.cos(me)*we,C.x,C.y]);Pe.multiplySelf(new DOMMatrix(C.shape.matrix));var Qe=Q.createPattern(g.transform(C.shape.bitmap),"no-repeat");Qe.setTransform(Pe),Q.globalAlpha=1-R,Q.fillStyle=Qe,Q.fillRect(C.x-Ee/2,C.y-$e/2,Ee,$e),Q.globalAlpha=1}else if(C.shape==="circle")Q.ellipse?Q.ellipse(C.x,C.y,Math.abs(H-W)*C.ovalScalar,Math.abs(Z-D)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI):te(Q,C.x,C.y,Math.abs(H-W)*C.ovalScalar,Math.abs(Z-D)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI);else if(C.shape==="star")for(var le=Math.PI/2*3,at=4*C.scalar,et=8*C.scalar,ze=C.x,At=C.y,Lt=5,pt=Math.PI/Lt;Lt--;)ze=C.x+Math.cos(le)*et,At=C.y+Math.sin(le)*et,Q.lineTo(ze,At),le+=pt,ze=C.x+Math.cos(le)*at,At=C.y+Math.sin(le)*at,Q.lineTo(ze,At),le+=pt;else Q.moveTo(Math.floor(C.x),Math.floor(C.y)),Q.lineTo(Math.floor(C.wobbleX),Math.floor(D)),Q.lineTo(Math.floor(H),Math.floor(Z)),Q.lineTo(Math.floor(W),Math.floor(C.wobbleY));return Q.closePath(),Q.fill(),C.tick<C.totalTicks}function ye(Q,C,R,W,D){var H=C.slice(),Z=Q.getContext("2d"),me,be,we=m(function(Ee){function $e(){me=be=null,Z.clearRect(0,0,W.width,W.height),g.clear(),D(),Ee()}function Pe(){a&&!(W.width===s.width&&W.height===s.height)&&(W.width=Q.width=s.width,W.height=Q.height=s.height),!W.width&&!W.height&&(R(Q),W.width=Q.width,W.height=Q.height),Z.clearRect(0,0,W.width,W.height),H=H.filter(function(Qe){return de(Z,Qe)}),H.length?me=x.frame(Pe):$e()}me=x.frame(Pe),be=$e});return{addFettis:function(Ee){return H=H.concat(Ee),we},canvas:Q,promise:we,reset:function(){me&&x.cancel(me),be&&be()}}}function He(Q,C){var R=!Q,W=!!b(C||{},"resize"),D=!1,H=b(C,"disableForReducedMotion",Boolean),Z=o&&!!b(C||{},"useWorker"),me=Z?y():null,be=R?A:P,we=Q&&me?!!Q.__confetti_initialized:!1,Ee=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,$e;function Pe(le,at,et){for(var ze=b(le,"particleCount",k),At=b(le,"angle",Number),Lt=b(le,"spread",Number),pt=b(le,"startVelocity",Number),Cr=b(le,"decay",Number),wr=b(le,"gravity",Number),aa=b(le,"drift",Number),gt=b(le,"colors",F),Rr=b(le,"ticks",Number),Sr=b(le,"shapes"),Cn=b(le,"scalar"),Er=!!b(le,"flat"),ia=K(le),Rn=ze,hn=[],sa=Q.width*ia.x,Lr=Q.height*ia.y;Rn--;)hn.push(ee({x:sa,y:Lr,angle:At,spread:Lt,startVelocity:pt,color:gt[Rn%gt.length],shape:Sr[O(0,Sr.length)],ticks:Rr,decay:Cr,gravity:wr,drift:aa,scalar:Cn,flat:Er}));return $e?$e.addFettis(hn):($e=ye(Q,hn,be,at,et),$e.promise)}function Qe(le){var at=H||b(le,"disableForReducedMotion",Boolean),et=b(le,"zIndex",Number);if(at&&Ee)return m(function(pt){pt()});R&&$e?Q=$e.canvas:R&&!Q&&(Q=q(et),document.body.appendChild(Q)),W&&!we&&be(Q);var ze={width:Q.width,height:Q.height};me&&!we&&me.init(Q),we=!0,me&&(Q.__confetti_initialized=!0);function At(){if(me){var pt={getBoundingClientRect:function(){if(!R)return Q.getBoundingClientRect()}};be(pt),me.postMessage({resize:{width:pt.width,height:pt.height}});return}ze.width=ze.height=null}function Lt(){$e=null,W&&(D=!1,e.removeEventListener("resize",At)),R&&Q&&(document.body.contains(Q)&&document.body.removeChild(Q),Q=null,we=!1)}return W&&!D&&(D=!0,e.addEventListener("resize",At,!1)),me?me.fire(le,ze,Lt):Pe(le,ze,Lt)}return Qe.reset=function(){me&&me.reset(),$e&&$e.reset()},Qe}var fe;function X(){return fe||(fe=He(null,{useWorker:!0,resize:!0})),fe}function pe(Q,C,R,W,D,H,Z){var me=new Path2D(Q),be=new Path2D;be.addPath(me,new DOMMatrix(C));var we=new Path2D;return we.addPath(be,new DOMMatrix([Math.cos(Z)*D,Math.sin(Z)*D,-Math.sin(Z)*H,Math.cos(Z)*H,R,W])),we}function ke(Q){if(!c)throw new Error("path confetti are not supported in this browser");var C,R;typeof Q=="string"?C=Q:(C=Q.path,R=Q.matrix);var W=new Path2D(C),D=document.createElement("canvas"),H=D.getContext("2d");if(!R){for(var Z=1e3,me=Z,be=Z,we=0,Ee=0,$e,Pe,Qe=0;Qe<Z;Qe+=2)for(var le=0;le<Z;le+=2)H.isPointInPath(W,Qe,le,"nonzero")&&(me=Math.min(me,Qe),be=Math.min(be,le),we=Math.max(we,Qe),Ee=Math.max(Ee,le));$e=we-me,Pe=Ee-be;var at=10,et=Math.min(at/$e,at/Pe);R=[et,0,0,et,-Math.round($e/2+me)*et,-Math.round(Pe/2+be)*et]}return{type:"path",path:C,matrix:R}}function Me(Q){var C,R=1,W="#000000",D='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Q=="string"?C=Q:(C=Q.text,R="scalar"in Q?Q.scalar:R,D="fontFamily"in Q?Q.fontFamily:D,W="color"in Q?Q.color:W);var H=10*R,Z=""+H+"px "+D,me=new OffscreenCanvas(H,H),be=me.getContext("2d");be.font=Z;var we=be.measureText(C),Ee=Math.ceil(we.actualBoundingBoxRight+we.actualBoundingBoxLeft),$e=Math.ceil(we.actualBoundingBoxAscent+we.actualBoundingBoxDescent),Pe=2,Qe=we.actualBoundingBoxLeft+Pe,le=we.actualBoundingBoxAscent+Pe;Ee+=Pe+Pe,$e+=Pe+Pe,me=new OffscreenCanvas(Ee,$e),be=me.getContext("2d"),be.font=Z,be.fillStyle=W,be.fillText(C,Qe,le);var at=1/R;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[at,0,0,at,-Ee*at/2,-$e*at/2]}}r.exports=function(){return X().apply(this,arguments)},r.exports.reset=function(){X().reset()},r.exports.create=He,r.exports.shapeFromPath=ke,r.exports.shapeFromText=Me})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Em,!1);const vD=Em.exports;Em.exports.create;const xD=[{title:"Shopify Maazas in Gven eleri",points:["Gven rozetlerini fold stnde gster","ade/garanti mesajn CTA yaknnda konumlandr","Gerek mteri fotoraflar ve yldzlar ekle"]},{title:"Etkileyici Hook Nasl Yazlr?",points:["lk 3 saniyede problemi syle","Somut sonu ver: 2x hz, %30 indirim","Merak uyandr: Peki ya ile devam et"]},{title:"Fiyatlandrma Psikolojisi",points:["Anchor fiyat: Eski fiyat silik gster","Kstl stok veya sre: Son 24 saat etiketi","Bonus ekle: cretsiz kargo veya mini rehber"]}],yD=[{title:"Fiziksel rn",desc:"Video reklamda kullanm demosu ilk 3 saniyede. Ses kapalyken de anlalr altyaz ekle."},{title:"Dijital rn",desc:"Ekran kayd + testimonial kombosu. Demo linkini CTAya yerletir."},{title:"Abonelik",desc:"ptal etmesi kolay mesajn vurgula. lk ay %50 indirim kuponu ekle."}];function _D(){const[t,e]=L.useState(0);return u.jsxs("div",{className:"guide-view fade-in",children:[u.jsxs("div",{className:"hero glass-panel",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Yaratc Laboratuvar  lham Alan"}),u.jsx("h2",{className:"title text-gradient",children:"Ben yeniyim, ne yapmalym?"}),u.jsx("p",{className:"subtitle",children:"Bu panel sana hazr taktikler, kopya formlleri ve gven eleri ile rehberlik eder."}),u.jsxs("div",{className:"chips",children:[u.jsxs("span",{className:"chip",children:[u.jsx(Ji,{size:16})," Adm adm rehber"]}),u.jsxs("span",{className:"chip",children:[u.jsx(Sh,{size:16})," lham kartlar"]}),u.jsxs("span",{className:"chip",children:[u.jsx($_,{size:16})," Hzl bala"]})]})]}),u.jsx(hd,{className:"hero-icon",size:64})]}),u.jsxs("div",{className:"grid",children:[u.jsxs("section",{className:"accordion glass-panel",children:[u.jsx("h3",{children:"Hzl Rehberler"}),xD.map((r,a)=>u.jsxs("div",{className:`accordion-item ${t===a?"open":""}`,children:[u.jsxs("button",{className:"accordion-header",onClick:()=>e(t===a?-1:a),children:[u.jsx("span",{children:r.title}),u.jsx("span",{className:"chevron",children:t===a?"":"+"})]}),t===a&&u.jsx("ul",{className:"accordion-body",children:r.points.map(s=>u.jsx("li",{children:s},s))})]},r.title))]}),u.jsx("section",{className:"tips",children:yD.map(r=>u.jsxs("article",{className:"tip-card glass-panel",children:[u.jsxs("div",{className:"tip-header",children:[u.jsx(Sh,{size:18}),u.jsx("h4",{children:r.title})]}),u.jsx("p",{children:r.desc})]},r.title))})]}),u.jsx("style",{children:`
        .guide-view .hero {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1.75rem;
          border-radius: var(--radius-xl);
          background: linear-gradient(135deg, rgba(139,92,246,0.08), rgba(244,114,182,0.1));
          border: 1px solid rgba(139,92,246,0.15);
        }
        .eyebrow {
          text-transform: uppercase;
          letter-spacing: 0.8px;
          font-size: 0.78rem;
          color: var(--color-text-muted);
          margin-bottom: 0.3rem;
        }
        .title {
          font-size: 1.8rem;
          margin-bottom: 0.35rem;
        }
        .subtitle {
          color: var(--color-text-muted);
          max-width: 520px;
        }
        .muted { color: var(--color-text-muted); }
        .chips {
          display: flex;
          gap: 0.5rem;
          flex-wrap: wrap;
          margin-top: 0.75rem;
        }
        .chip {
          display: inline-flex;
          align-items: center;
          gap: 0.4rem;
          padding: 0.45rem 0.75rem;
          border-radius: var(--radius-lg);
          background: white;
          border: 1px solid var(--color-border);
          color: var(--color-text-main);
          font-size: 0.9rem;
        }
        .hero-icon {
          color: var(--color-primary);
          opacity: 0.8;
        }
        .grid {
          display: grid;
          grid-template-columns: 1.2fr 1fr;
          gap: 1.25rem;
          margin-top: 1.5rem;
        }
        .accordion {
          padding: 1.25rem;
          border-radius: var(--radius-lg);
        }
        .accordion h3 {
          margin-bottom: 1rem;
        }
        .accordion-item {
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          background: white;
          margin-bottom: 0.75rem;
          overflow: hidden;
        }
        .accordion-header {
          width: 100%;
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0.85rem 1rem;
          font-weight: 600;
          color: var(--color-text-main);
          background: transparent;
        }
        .accordion-body {
          list-style: disc;
          padding: 0.85rem 1.5rem 1rem;
          color: var(--color-text-muted);
        }
        .tips {
          display: grid;
          gap: 0.75rem;
        }
        .tip-card {
          padding: 1rem;
          border-radius: var(--radius-lg);
          border: 1px solid rgba(20,184,166,0.15);
          background: linear-gradient(135deg, rgba(20,184,166,0.06), rgba(255,255,255,0.95));
        }
        .tip-header {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-bottom: 0.35rem;
          color: var(--color-secondary);
        }
        @media (max-width: 960px) {
          .grid {
            grid-template-columns: 1fr;
          }
          .hero {
            flex-direction: column;
            align-items: flex-start;
            gap: 1rem;
          }
        }
      `})]})}function bD({value:t=[],onChange:e,placeholder:r="#etiket ekle"}){const[a,s]=L.useState(""),o=h=>{const m=h.trim();m&&(t.includes(m)||(e([...t,m]),s("")))},c=h=>{e(t.filter(m=>m!==h))},f=h=>{h.key==="Enter"&&(h.preventDefault(),o(a)),h.key==="Backspace"&&!a&&t.length&&c(t[t.length-1])};return u.jsxs("div",{className:"tag-input glass-panel",children:[u.jsxs("div",{className:"tags",children:[t.map(h=>u.jsxs("span",{className:"tag",children:[u.jsx(z5,{size:14}),h,u.jsx("button",{type:"button",onClick:()=>c(h),"aria-label":"etiketi sil",children:u.jsx(ta,{size:12})})]},h)),u.jsx("input",{value:a,onChange:h=>s(h.target.value),onKeyDown:f,placeholder:r})]}),u.jsx("style",{children:`
        .tag-input {
          border-radius: var(--radius-lg);
          padding: 0.75rem;
          border: 1px dashed var(--color-border);
          background: rgba(255,255,255,0.9);
        }
        .tags {
          display: flex;
          flex-wrap: wrap;
          gap: 0.5rem;
          align-items: center;
        }
        .tag {
          display: inline-flex;
          align-items: center;
          gap: 0.35rem;
          background: linear-gradient(135deg, rgba(139,92,246,0.12), rgba(244,114,182,0.12));
          color: var(--color-text-main);
          padding: 0.35rem 0.6rem;
          border-radius: var(--radius-md);
          font-size: 0.85rem;
          border: 1px solid rgba(139,92,246,0.2);
        }
        .tag button {
          background: transparent;
          border: none;
          cursor: pointer;
          display: flex;
          align-items: center;
          color: var(--color-text-muted);
        }
        input {
          border: none;
          outline: none;
          min-width: 120px;
          flex: 1;
          padding: 0.35rem 0.25rem;
          background: transparent;
          color: var(--color-text-main);
        }
      `})]})}const rh=[{key:"strategy_angle",label:"Strateji As"},{key:"target_age_min",label:"Ya Min"},{key:"target_age_max",label:"Ya Max"},{key:"target_age_notes",label:"Ya Notu"},{key:"target_location",label:"Lokasyon"},{key:"target_interests",label:"lgi Alanlar"},{key:"hook",label:"Hook (Kanca)"},{key:"ad_headline",label:"Balk"},{key:"body",label:"Gvde Metni"},{key:"cta",label:"CTA"},{key:"visual_idea",label:"Grsel Fikir"},{key:"tags",label:"Etiketler"},{key:"budget_note",label:"Bte Notu"}];function wD({open:t,suggestions:e,onClose:r,onApply:a}){const[s,o]=L.useState({});if(L.useEffect(()=>{if(e){const x={};rh.forEach(y=>{e[y.key]&&(x[y.key]=!0)}),o(x)}},[e]),!t||!e)return null;const c=x=>o(y=>({...y,[x]:!y[x]})),f=()=>{const x={};Object.entries(s).forEach(([y,w])=>{w&&e[y]!==void 0&&(x[y]=e[y])}),a(x)},h=()=>{const x={};rh.forEach(y=>{e[y.key]!==void 0&&(x[y.key]=e[y.key])}),a(x)},m=()=>{o({})},g=x=>Array.isArray(x)?x.join(", "):x;return u.jsx("div",{className:"modal-backdrop",children:u.jsxs("div",{className:"modal-card glass-panel",children:[u.jsxs("header",{className:"modal-header",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"AI Analizi (Gemini)"}),u.jsx("h3",{children:"nerileri Uygula?"})]}),u.jsx("button",{className:"close-btn",onClick:r,children:u.jsx(ta,{size:16})})]}),u.jsxs("div",{className:"summary",children:[u.jsx(em,{size:18}),"AI nerilerini alan bazl onaylayabilir veya topluca uygulayabilirsin."]}),u.jsx("div",{className:"fields",children:rh.map(x=>{const y=e[x.key];if(y==null||y==="")return null;const w=s[x.key];return u.jsxs("div",{className:`field-row ${w?"accepted":""}`,children:[u.jsxs("div",{children:[u.jsx("p",{className:"field-label",children:x.label}),u.jsx("p",{className:"field-value",children:g(y)})]}),u.jsx("button",{className:"toggle-btn",onClick:()=>c(x.key),children:w?u.jsx(Xh,{size:16}):u.jsx(ta,{size:16})})]},x.key)})}),u.jsxs("footer",{className:"modal-actions",children:[u.jsx("button",{className:"ghost",onClick:m,children:"Tmn Reddet"}),u.jsxs("div",{className:"action-right",children:[u.jsxs("button",{className:"secondary",onClick:h,children:[u.jsx(Ji,{size:16})," Tmn Uygula"]}),u.jsx("button",{className:"primary",onClick:f,children:"Seilenleri Uygula"})]})]}),u.jsx("style",{children:`
          .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.4);
            display: grid;
            place-items: center;
            z-index: 200;
            padding: 1rem;
          }
          .modal-card {
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 16px;
            border: 1px solid var(--color-border);
            padding: 1.25rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
          }
          .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
          }
          .eyebrow {
            text-transform: uppercase;
            letter-spacing: 0.6px;
            font-size: 0.78rem;
            color: var(--color-text-muted);
          }
          .close-btn {
            border: 1px solid var(--color-border);
            padding: 0.35rem;
            border-radius: 10px;
            background: white;
            cursor: pointer;
          }
          .summary {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-radius: 12px;
            background: rgba(20,184,166,0.1);
            border: 1px solid rgba(20,184,166,0.2);
            color: var(--color-text-main);
          }
          .fields {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            max-height: 60vh;
            overflow: auto;
          }
          .field-row {
            border: 1px solid var(--color-border);
            border-radius: 12px;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            align-items: flex-start;
            background: white;
          }
          .field-row.accepted {
            border-color: rgba(16,185,129,0.4);
            box-shadow: 0 0 0 1px rgba(16,185,129,0.2);
          }
          .field-label { font-weight: 700; margin-bottom: 0.2rem; }
          .field-value { color: var(--color-text-main); white-space: pre-wrap; }
          .toggle-btn {
            border: 1px solid var(--color-border);
            background: white;
            border-radius: 10px;
            padding: 0.35rem;
            cursor: pointer;
          }
          .modal-actions {
            display: flex;
            justify-content: space-between;
            gap: 0.75rem;
            flex-wrap: wrap;
          }
          .action-right {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
          }
          .ghost, .primary, .secondary {
            padding: 0.65rem 1.1rem;
            border-radius: 10px;
            border: 1px solid var(--color-border);
            background: white;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
          }
          .secondary {
            background: rgba(20,184,166,0.1);
            border-color: rgba(20,184,166,0.3);
          }
          .primary {
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            color: white;
            border: none;
          }
        `})]})})}const SD="gemini-2.5-flash",Nb=t=>`https://generativelanguage.googleapis.com/v1beta/models/${SD}:generateContent?key=${t}`;async function Db(){const{data:t,error:e}=await Ce.from("ai_tokens").select("id,label,token,priority").order("priority",{ascending:!0}).order("created_at",{ascending:!0});if(e)throw e;return t||[]}async function ED(t){const e=await Db();if(!e.length)throw new Error("AI token bulunamad. Ayarlar > Gemini Token blmne ekleyin.");const r=TD(t);let a;for(const s of e)try{const o=await fetch(Nb(s.token),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{response_mime_type:"application/json"}})});if(!o.ok){a=new Error(`Gemini hata: ${o.status}`);continue}const f=(await o.json())?.candidates?.[0]?.content?.parts?.[0]?.text||"",h=kD(f);if(h)return h;a=new Error("Gemini yant okunamad")}catch(o){a=o;continue}throw a||new Error("Gemini ars baarsz")}function TD(t){const{product_name:e,platform:r,strategy_angle:a,target_audience:s,ad_headline:o,hook:c,body:f,cta:h,visual_idea:m,tags:g,budget_note:x}=t;return`
Sen st dzey e-ticaret pazarlama asistansn. Reklam kreatifini deerlendir ve gelitir. Yalnzca aadaki JSON emasn dndr.
Metinleri satc olarak ilk azdan (ben/biz), samimi ama gven veren tonda yaz. 3. bir kii gibi konuma.

ema:
{
  "strategy_angle": "string",
  "target_age_min": "number",
  "target_age_max": "number",
  "target_age_notes": "string",
  "target_location": "string",
  "target_interests": ["string"],
  "hook": "string",
  "ad_headline": "string",
  "body": "string",
  "cta": "string",
  "visual_idea": "string",
  "tags": ["string"],
  "budget_note": "string"
}

Kontekst:
- rn: ${e||"Bilinmiyor"}
- Platform: ${r}
- Strateji: ${a||"Belirtilmedi"}
- Hedef kitle: ya ${s?.min||""}-${s?.max||""}, ilgi: ${(s?.interests||[]).join(", ")} lokasyon: ${s?.location||""}
- Metinler: hook="${c}", headline="${o}", body="${f}", cta="${h}"
- Grsel fikir: ${m}
- Etiketler: ${(g||[]).join(", ")}
- Bte: ${x||""}

kty yalnzca geerli JSON olarak ver.`}function kD(t){try{const e=t.trim().replace(/^```json/i,"").replace(/```$/,"");return JSON.parse(e)}catch{return null}}async function AD(t){const e=await Db();if(!e.length)throw new Error("AI token bulunamad. Ayarlar > Gemini Token blmne ekleyin.");let r;for(const a of e)try{const s=await fetch(Nb(a.token),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}],generationConfig:{response_mime_type:"application/json"}})});if(!s.ok){r=new Error(`Gemini hata: ${s.status}`);continue}const c=(await s.json())?.candidates?.[0]?.content?.parts?.[0]?.text||"";if(c)return c;r=new Error("Gemini yant okunamad")}catch(s){r=s;continue}throw r||new Error("Gemini ars baarsz")}const Jx=["Meta","TikTok","Google","YouTube","Email","Influencer"],Qx=["Video","Image","Carousel"];function jD({products:t=[],onSave:e,saving:r}){const[a,s]=L.useState(1),[o,c]=L.useState({product_id:"",platform:Jx[0],strategy_angle:"",target_age_min:"",target_age_max:"",target_age_notes:"",target_interests:"",target_location:"",hook:"",body:"",cta:"",visual_idea:"",tags:[],visual_type:Qx[0],ad_headline:"",budget_note:""}),[f,h]=L.useState(!1),[m,g]=L.useState(null),x=L.useRef({}),y=A=>P=>{P&&(x.current[A]=P)},w=A=>{const P=x.current[A];P&&(P.style.height="auto",P.style.height=`${P.scrollHeight}px`)},S=()=>{Object.values(x.current).forEach(A=>{A.style.height=""})},_=()=>{Object.keys(x.current).forEach(w)},b=L.useMemo(()=>[{id:1,title:"rn ve Platform",desc:"rn se ve alacan platformu belirle"},{id:2,title:"Hedef Kitle",desc:"Kimin iin konutuunu netletir"},{id:3,title:"Kreatif Detaylar",desc:"Kanca + Gvde + CTA, grsel fikri ve etiketler"},{id:4,title:"Bte & Not",desc:"Balang btesi ve i notlar"}],[]),k=(A,P)=>c(q=>({...q,[A]:P})),O=()=>s(A=>Math.min(A+1,4)),T=()=>s(A=>Math.max(A-1,1)),F=async()=>{const A={min:o.target_age_min||void 0,max:o.target_age_max||void 0,notes:o.target_age_notes||void 0,interests:o.target_interests?o.target_interests.split(",").map(te=>te.trim()).filter(Boolean):[],location:o.target_location||void 0},P=`${o.hook}

${o.body}

${o.cta}`.trim(),q={product_id:o.product_id||null,platform:o.platform,strategy_angle:o.strategy_angle,target_audience:A,ad_copy_primary:P,ad_headline:o.ad_headline||o.hook,visual_type:o.visual_type,tags:o.tags,status:"Draft",metrics:{spend:0,roas:0,clicks:0,ctr:0,conversion_rate:0},notes:o.budget_note||o.visual_idea||""};await e(q),S()},G=async()=>{h(!0);try{const A={min:o.target_age_min,max:o.target_age_max,interests:o.target_interests?o.target_interests.split(",").map(te=>te.trim()).filter(Boolean):[],location:o.target_location,notes:o.target_age_notes},P={product_name:t.find(te=>te.id===o.product_id)?.name,platform:o.platform,strategy_angle:o.strategy_angle,target_audience:A,ad_headline:o.ad_headline,hook:o.hook,body:o.body,cta:o.cta,visual_idea:o.visual_idea,tags:o.tags,budget_note:o.budget_note},q=await ED(P);g(q)}catch(A){console.error("AI analiz hatas:",A),alert(A.message||"AI analizi baarsz.")}finally{h(!1)}},K=A=>{const P={...o};A.strategy_angle&&(P.strategy_angle=A.strategy_angle),A.target_age_min&&(P.target_age_min=A.target_age_min),A.target_age_max&&(P.target_age_max=A.target_age_max),A.target_age_notes&&(P.target_age_notes=A.target_age_notes),A.target_location&&(P.target_location=A.target_location),A.target_interests&&(P.target_interests=A.target_interests.join(", ")),A.hook&&(P.hook=A.hook),A.ad_headline&&(P.ad_headline=A.ad_headline),A.body&&(P.body=A.body),A.cta&&(P.cta=A.cta),A.visual_idea&&(P.visual_idea=A.visual_idea),A.tags&&(P.tags=A.tags),A.budget_note&&(P.budget_note=A.budget_note),c(P),setTimeout(()=>_(),0),g(null)};return u.jsxs("div",{className:"wizard glass-panel fade-in",children:[u.jsxs("header",{className:"wizard-header",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Adm Adm Sihirbaz"}),u.jsx("h3",{children:"alma Alan"}),u.jsx("p",{className:"muted",children:"Skc formlar yok. Her admda kk ipularyla ilerle."})]}),u.jsx(Ji,{className:"accent-icon",size:28})]}),u.jsx("div",{className:"steps",children:b.map(A=>u.jsxs("div",{className:`step ${a===A.id?"active":""}`,children:[u.jsx("div",{className:"dot",children:A.id}),u.jsxs("div",{children:[u.jsx("p",{className:"step-title",children:A.title}),u.jsx("p",{className:"muted",children:A.desc})]})]},A.id))}),a===1&&u.jsxs("section",{className:"panel",children:[u.jsxs("div",{children:[u.jsx("label",{children:"rn"}),u.jsxs("select",{value:o.product_id,onChange:A=>k("product_id",A.target.value),children:[u.jsx("option",{value:"",children:"rn se (opsiyonel)"}),t.map(A=>u.jsx("option",{value:A.id,children:A.name||"Adsz rn"},A.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Platform"}),u.jsx("div",{className:"pill-row",children:Jx.map(A=>u.jsx("button",{className:`pill ${o.platform===A?"active":""}`,onClick:()=>k("platform",A),type:"button",children:A},A))})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Strateji As"}),u.jsx("input",{value:o.strategy_angle,onChange:A=>k("strategy_angle",A.target.value),placeholder:"rn: Duygusal, FOMO, Sosyal Kant"})]})]}),a===2&&u.jsxs("section",{className:"panel two-col",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Ya Aral (min)"}),u.jsx("input",{type:"number",value:o.target_age_min,onChange:A=>k("target_age_min",A.target.value),placeholder:"18"})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Ya Aral (max)"}),u.jsx("input",{type:"number",value:o.target_age_max,onChange:A=>k("target_age_max",A.target.value),placeholder:"25"})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Lokasyon"}),u.jsx("input",{value:o.target_location,onChange:A=>k("target_location",A.target.value),placeholder:"stanbul, TR"})]}),u.jsxs("div",{className:"full",children:[u.jsx("label",{children:"lgi Alanlar (virglle)"}),u.jsx("textarea",{ref:y("target_interests"),value:o.target_interests,onChange:A=>{k("target_interests",A.target.value),w("target_interests")},onInput:()=>w("target_interests"),placeholder:"Doa, Kamp, Kahve, Yazlm",rows:2})]}),u.jsxs("div",{className:"full",children:[u.jsx("label",{children:"Ya Notu / Segment Detay"}),u.jsx("textarea",{ref:y("target_age_notes"),value:o.target_age_notes,onChange:A=>{k("target_age_notes",A.target.value),w("target_age_notes")},onInput:()=>w("target_age_notes"),placeholder:"rn: Arlk 20-30, renci ve yeni mezunlar",rows:2})]}),u.jsxs("div",{className:"tip",children:[u.jsx(U5,{size:16}),"lk cmlede problemi ve hedef kitleyi ayn anda syle: stanbulun scak yaznda ferahlamak isteyen kamplar iin"]})]}),a===3&&u.jsxs("section",{className:"panel",children:[u.jsxs("div",{className:"two-col",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Hook (Kanca)"}),u.jsx("input",{value:o.hook,onChange:A=>k("hook",A.target.value),placeholder:"lk 3 saniyede merak uyandr"})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Balk"}),u.jsx("input",{value:o.ad_headline,onChange:A=>k("ad_headline",A.target.value),placeholder:"Manet / Balk"})]})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Gvde Metni"}),u.jsx("textarea",{ref:y("body"),value:o.body,onChange:A=>{k("body",A.target.value),w("body")},onInput:()=>w("body"),placeholder:"Kullancnn sorununa odaklan, zm net syle",rows:3})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Harekete Geirici Mesaj (CTA)"}),u.jsx("input",{value:o.cta,onChange:A=>k("cta",A.target.value),placeholder:"imdi kefet, Hemen indir, Sepete ekle"})]}),u.jsxs("div",{className:"two-col",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Grsel/Senaryo Fikri"}),u.jsx("textarea",{ref:y("visual_idea"),value:o.visual_idea,onChange:A=>{k("visual_idea",A.target.value),w("visual_idea")},onInput:()=>w("visual_idea"),placeholder:"Video al sahnesi, rn yakn plan, testimonial",rows:2})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Grsel Tipi"}),u.jsx("div",{className:"pill-row",children:Qx.map(A=>u.jsx("button",{className:`pill ${o.visual_type===A?"active":""}`,onClick:()=>k("visual_type",A),type:"button",children:A},A))})]})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Etiketler"}),u.jsx(bD,{value:o.tags,onChange:A=>k("tags",A),placeholder:"#indirim, #yazsezonu"})]}),u.jsxs("div",{className:"tip",children:[u.jsx(Sh,{size:16}),"CTAy tek bir fiil + fayda ile bitir: Hemen dene ve serinle."]})]}),a===4&&u.jsxs("section",{className:"panel two-col",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Bte Notu"}),u.jsx("textarea",{ref:y("budget_note"),value:o.budget_note,onChange:A=>{k("budget_note",A.target.value),w("budget_note")},onInput:()=>w("budget_note"),placeholder:"Balang btesi, beklenen CPA/ROAS",rows:3})]}),u.jsxs("div",{className:"callout",children:[u.jsx(Ji,{size:18}),u.jsxs("div",{children:[u.jsx("p",{className:"callout-title",children:"Son dokunu"}),u.jsx("p",{className:"muted",children:"Kaydettikten sonra Analitik Merkezi'nde kart olarak greceksin. Yksek ROAS iin kancay test et."})]})]})]}),u.jsxs("footer",{className:"wizard-actions",children:[u.jsx("div",{className:"wizard-actions-left",children:u.jsx("button",{onClick:T,disabled:a===1,className:"ghost",children:"Geri"})}),u.jsxs("div",{className:"wizard-actions-right",children:[u.jsxs("button",{className:"secondary",onClick:G,disabled:f,children:[u.jsx(PA,{size:16}),f?"Analiz ediliyor...":"AI ile analiz et"]}),a<4?u.jsxs("button",{onClick:O,className:"primary",children:["leri ",u.jsx(l5,{size:18})]}):u.jsx("button",{onClick:F,className:"primary",disabled:r,children:r?"Kaydediliyor...":"Reklam Kaydet"})]})]}),u.jsx(wD,{open:!!m,suggestions:m,onClose:()=>g(null),onApply:K}),u.jsx("style",{children:`
        .wizard {
          padding: 1.5rem;
          border-radius: var(--radius-xl);
          background: white;
          border: 1px solid var(--color-border);
          box-shadow: var(--shadow-md);
        }
        .wizard-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1rem;
        }
        .muted { color: var(--color-text-muted); }
        .eyebrow { text-transform: uppercase; letter-spacing: 1px; font-size: 0.75rem; color: var(--color-text-muted); }
        h3 { margin: 0.1rem 0; }
        .accent-icon { color: var(--color-primary); }
        .steps {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
          gap: 0.75rem;
          margin: 1rem 0 1.25rem;
        }
        .step {
          border: 1px dashed var(--color-border);
          padding: 0.9rem;
          border-radius: var(--radius-lg);
          display: flex;
          gap: 0.75rem;
          align-items: flex-start;
          background: rgba(255,255,255,0.9);
        }
        .step.active {
          border-color: var(--color-primary);
          background: linear-gradient(135deg, rgba(139,92,246,0.08), rgba(255,255,255,0.95));
          box-shadow: var(--shadow-sm);
        }
        .dot {
          width: 32px;
          height: 32px;
          border-radius: 999px;
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
          color: white;
          display: grid;
          place-items: center;
          font-weight: 700;
        }
        .panel {
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          padding: 1.1rem;
          background: rgba(255,255,255,0.95);
          display: flex;
          flex-direction: column;
          gap: 0.9rem;
        }
        .panel.two-col {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
          gap: 0.85rem;
        }
        label {
          font-weight: 600;
          color: var(--color-text-main);
          display: block;
          margin-bottom: 0.35rem;
        }
        input, textarea, select {
          width: 100%;
          padding: 0.65rem 0.75rem;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          background: white;
          transition: border var(--transition-fast), box-shadow var(--transition-fast);
        }
        textarea {
          resize: none;
          overflow: hidden;
        }
        input:focus, textarea:focus, select:focus {
          border-color: var(--color-primary);
          box-shadow: 0 0 0 3px rgba(139,92,246,0.15);
        }
        .pill-row {
          display: flex;
          gap: 0.5rem;
          flex-wrap: wrap;
        }
        .pill {
          padding: 0.55rem 0.9rem;
          border-radius: 999px;
          border: 1px solid var(--color-border);
          background: white;
          color: var(--color-text-main);
          cursor: pointer;
          transition: all var(--transition-fast);
        }
        .pill.active {
          border-color: var(--color-primary);
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
          color: white;
          box-shadow: var(--shadow-sm);
        }
        .tip {
          display: flex;
          gap: 0.5rem;
          align-items: flex-start;
          font-size: 0.95rem;
          color: var(--color-text-muted);
          padding: 0.75rem;
          border-radius: var(--radius-md);
          background: rgba(20,184,166,0.08);
          border: 1px solid rgba(20,184,166,0.12);
        }
        .callout {
          display: flex;
          gap: 0.75rem;
          border: 1px solid rgba(139,92,246,0.2);
          background: linear-gradient(135deg, rgba(139,92,246,0.07), rgba(244,114,182,0.07));
          border-radius: var(--radius-lg);
          padding: 0.9rem;
        }
        .callout-title { font-weight: 700; margin-bottom: 0.15rem; }
        .wizard-actions {
          display: flex;
          justify-content: space-between;
          margin-top: 1rem;
          gap: 0.75rem;
          flex-wrap: wrap;
        }
        .wizard-actions-left,
        .wizard-actions-right {
          display: flex;
          gap: 0.6rem;
          align-items: center;
          flex-wrap: wrap;
        }
        .ghost, .primary, .secondary {
          padding: 0.65rem 1.1rem;
          border-radius: var(--radius-md);
          border: 1px solid var(--color-border);
          background: white;
          font-weight: 600;
          display: inline-flex;
          align-items: center;
          gap: 0.35rem;
        }
        .ghost:disabled { opacity: 0.4; }
        .primary {
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
          color: white;
          border: none;
          box-shadow: var(--shadow-sm);
        }
        .secondary {
          background: rgba(20,184,166,0.1);
          color: var(--color-text-main);
          border-color: rgba(20,184,166,0.3);
        }
        @media (max-width: 720px) {
          .wizard-actions { flex-direction: column; gap: 0.6rem; }
          .primary, .ghost, .secondary { width: 100%; justify-content: center; }
        }
      `})]})}const CD=t=>t>=3?"success":t>=1.5?"warning":"error";function RD({creative:t,onSelectCompare:e,selected:r,onOpenDetail:a}){const s=t.metrics||{},o=Number(s.roas??0),c=CD(o);return u.jsxs("article",{className:`creative-card glass-panel ${r?"selected":""}`,children:[u.jsxs("header",{className:"card-header",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:t.platform}),u.jsx("h4",{children:t.ad_headline||"Balksz Reklam"}),u.jsx("p",{className:"muted",children:t.strategy_angle||"Strateji: N/A"})]}),u.jsx(kh,{status:t.status})]}),u.jsxs("p",{className:"copy-preview",children:[t.ad_copy_primary?.slice(0,120)||"Henz metin eklenmedi","..."]}),u.jsxs("div",{className:"metrics",children:[u.jsx(Su,{label:"ROAS",value:o,icon:o>=2?V_:DA,tone:c,suffix:"x"}),u.jsx(Su,{label:"Harcama",value:s.spend??0,icon:C5,prefix:"$"}),u.jsx(Su,{label:"Tklama",value:s.clicks??0,icon:tm}),u.jsx(Su,{label:"CTR",value:s.ctr??0,icon:K4,suffix:"%"})]}),u.jsxs("footer",{className:"card-actions",children:[u.jsxs("div",{className:"tags",children:[(t.tags||[]).slice(0,3).map(f=>u.jsxs("span",{children:["#",f]},f)),t.visual_type&&u.jsx("span",{className:"pill",children:t.visual_type})]}),u.jsxs("div",{className:"actions",children:[u.jsx("button",{className:"ghost-btn",onClick:()=>a?.(t),children:"Detay / Dzenle"}),u.jsxs("button",{className:`compare-btn ${r?"active":""}`,onClick:()=>e(t.id),children:[r?u.jsx(sA,{size:16}):u.jsx(Zh,{size:16}),r?"Seildi":"Karlatr"]})]})]}),u.jsx("style",{children:`
        .creative-card {
          border-radius: var(--radius-xl);
          padding: 1rem;
          border: 1px solid var(--color-border);
          display: flex;
          flex-direction: column;
          gap: 0.7rem;
          background: linear-gradient(135deg, rgba(248,250,252,0.9), rgba(255,255,255,0.98));
        }
        .creative-card.selected {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-glow);
        }
        .card-header {
          display: flex;
          justify-content: space-between;
          gap: 1rem;
          align-items: flex-start;
        }
        h4 { margin: 0.15rem 0; }
        .muted { color: var(--color-text-muted); }
        .copy-preview { color: var(--color-text-main); }
        .eyebrow { text-transform: uppercase; letter-spacing: 0.5px; font-size: 0.78rem; color: var(--color-text-muted); }
        .metrics {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          gap: 0.5rem;
        }
        .card-actions {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 0.5rem;
        }
        .actions {
          display: flex;
          gap: 0.35rem;
          flex-wrap: wrap;
        }
        .tags {
          display: flex;
          gap: 0.35rem;
          flex-wrap: wrap;
        }
        .tags span, .pill {
          background: rgba(139,92,246,0.08);
          color: var(--color-text-main);
          padding: 0.35rem 0.55rem;
          border-radius: var(--radius-md);
          font-size: 0.9rem;
        }
        .compare-btn {
          border: 1px solid var(--color-border);
          background: white;
          padding: 0.45rem 0.9rem;
          border-radius: var(--radius-md);
          display: inline-flex;
          align-items: center;
          gap: 0.4rem;
          cursor: pointer;
          transition: all var(--transition-fast);
        }
        .compare-btn.active {
          border-color: var(--color-primary);
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
          color: white;
        }
        .ghost-btn {
          border: 1px solid var(--color-border);
          padding: 0.45rem 0.85rem;
          border-radius: var(--radius-md);
          background: white;
          cursor: pointer;
        }
      `})]})}function Su({label:t,value:e,icon:r,tone:a="neutral",prefix:s="",suffix:o=""}){return u.jsxs("div",{className:`metric metric-${a}`,children:[u.jsxs("div",{className:"metric-head",children:[u.jsx(r,{size:16}),u.jsx("span",{children:t})]}),u.jsxs("p",{className:"metric-value",children:[s,e,o]}),u.jsx("style",{children:`
        .metric {
          border: 1px dashed var(--color-border);
          border-radius: var(--radius-md);
          padding: 0.6rem 0.75rem;
          background: white;
        }
        .metric-head {
          display: flex;
          gap: 0.35rem;
          align-items: center;
          color: var(--color-text-muted);
          font-size: 0.9rem;
        }
        .metric-value {
          font-weight: 700;
          margin-top: 0.2rem;
          color: var(--color-text-main);
        }
        .metric-success { border-color: rgba(16,185,129,0.25); }
        .metric-warning { border-color: rgba(245,158,11,0.25); }
        .metric-error { border-color: rgba(239,68,68,0.25); }
      `})]})}const OD=[{key:"spend",label:"Harcama"},{key:"roas",label:"ROAS"},{key:"clicks",label:"Tklama"}];function ND({open:t,onClose:e,left:r,right:a}){if(!t||!r||!a)return null;const s=r.metrics||{},o=a.metrics||{},c=(f,h)=>{const m=Math.max(Number(f)||0,Number(h)||0,1);return{left:(Number(f)||0)/m*100,right:(Number(h)||0)/m*100}};return u.jsxs("div",{className:"modal-backdrop",children:[u.jsxs("div",{className:"modal-card glass-panel",children:[u.jsxs("header",{children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"VS Modu"}),u.jsxs("h3",{children:[r.ad_headline||"Reklam A"," vs ",a.ad_headline||"Reklam B"]})]}),u.jsx("button",{onClick:e,className:"close-btn",children:u.jsx(ta,{size:18})})]}),u.jsxs("div",{className:"compare-grid",children:[u.jsxs("div",{className:"side",children:[u.jsx("p",{className:"eyebrow",children:r.platform}),u.jsx("h4",{children:r.ad_headline||"Reklam A"}),u.jsx("p",{className:"muted",children:r.strategy_angle||"Strateji yok"})]}),u.jsx("div",{className:"bars",children:OD.map(({key:f,label:h})=>{const m=s[f]??0,g=o[f]??0,x=c(m,g);return u.jsxs("div",{className:"bar-row",children:[u.jsx("span",{children:h}),u.jsxs("div",{className:"bars-stack",children:[u.jsx("div",{className:"bar left",style:{width:`${x.left}%`},title:`${m}`}),u.jsx("div",{className:"bar right",style:{width:`${x.right}%`},title:`${g}`})]}),u.jsxs("div",{className:"bar-values",children:[u.jsx("span",{children:m}),u.jsx("span",{children:g})]})]},f)})}),u.jsxs("div",{className:"side right",children:[u.jsx("p",{className:"eyebrow",children:a.platform}),u.jsx("h4",{children:a.ad_headline||"Reklam B"}),u.jsx("p",{className:"muted",children:a.strategy_angle||"Strateji yok"})]})]})]}),u.jsx("style",{children:`
        .modal-backdrop {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.4);
          display: grid;
          place-items: center;
          z-index: 200;
          padding: 1rem;
        }
        .modal-card {
          max-width: 900px;
          width: 100%;
          padding: 1.25rem;
          border-radius: var(--radius-xl);
          border: 1px solid var(--color-border);
        }
        header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 1rem;
        }
        .eyebrow {
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-size: 0.78rem;
          color: var(--color-text-muted);
        }
        .muted { color: var(--color-text-muted); }
        .close-btn {
          border: 1px solid var(--color-border);
          padding: 0.35rem;
          border-radius: var(--radius-md);
          background: white;
          cursor: pointer;
        }
        .compare-grid {
          display: grid;
          grid-template-columns: 1fr 1.2fr 1fr;
          gap: 0.75rem;
          align-items: center;
        }
        .side h4 { margin: 0.25rem 0; }
        .bars {
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }
        .bar-row span { font-weight: 600; }
        .bars-stack {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 0.25rem;
          align-items: center;
          margin: 0.3rem 0;
        }
        .bar {
          height: 12px;
          border-radius: 999px;
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
        }
        .bar.right {
          background: linear-gradient(135deg, var(--color-secondary), var(--color-accent));
        }
        .bar-values {
          display: flex;
          justify-content: space-between;
          color: var(--color-text-muted);
          font-size: 0.9rem;
        }
        @media (max-width: 820px) {
          .compare-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})}function DD({creatives:t=[],compareSelection:e=[],onToggleCompare:r,onCloseCompare:a,onUpdateCreative:s}){const[o,c]=e,[f,h]=L.useState(null),[m,g]=L.useState(!1),[x,y]=L.useState(""),[w,S]=L.useState([]),_=L.useRef(null),[b,k]=L.useState(""),[O,T]=L.useState(!1),F=L.useMemo(()=>t.find(ee=>ee.id===o),[t,o]),G=L.useMemo(()=>t.find(ee=>ee.id===c),[t,c]),K=async ee=>{const{data:de,error:ye}=await Ce.from("creative_history").select("*").eq("creative_id",ee).order("created_at",{ascending:!1}).limit(200);ye||S(de||[])},A=ee=>{h({...ee,metrics:{spend:ee.metrics?.spend??0,roas:ee.metrics?.roas??0,clicks:ee.metrics?.clicks??0,ctr:ee.metrics?.ctr??0,conversion_rate:ee.metrics?.conversion_rate??0}}),_.current={status:ee.status,notes:ee.notes,metrics:{...ee.metrics||{}}},y(""),K(ee.id)},P=(ee,de)=>{h(ye=>({...ye,[ee]:de}))},q=(ee,de)=>{h(ye=>({...ye,metrics:{...ye.metrics,[ee]:de}}))},te=async()=>{if(f){g(!0),y(""),k("");try{const{id:ee,status:de,notes:ye,metrics:He}=f,{error:fe}=await Ce.from("marketing_creatives").update({status:de,notes:ye,metrics:He}).eq("id",ee);if(fe)throw fe;const X=_.current||{},pe=[];de!==X.status&&pe.push(`Durum: ${X.status||"-"}  ${de}`),ye!==X.notes&&pe.push("Notlar gncellendi");const ke=X.metrics||{},Me=He||{};["spend","roas","clicks","ctr","conversion_rate"].forEach(R=>{Me[R]!==ke[R]&&pe.push(`${R}: ${ke[R]??0}  ${Me[R]??0}`)});const C={creative_id:ee,changes:pe.length?pe:["Kaydedildi"]};await Ce.from("creative_history").insert(C),S(R=>[{...C,at:new Date().toISOString(),kind:MD(pe)},...R]),s?.(ee,{status:de,notes:ye,metrics:He}),_.current={status:de,notes:ye,metrics:{...He}},h(R=>({...R,status:de,notes:ye,metrics:He})),k("Kaydedildi")}catch(ee){y(ee.message||"Kaydedilemedi")}finally{g(!1)}}};return u.jsxs("div",{className:"analytics-view fade-in",children:[u.jsxs("header",{className:"analytics-header",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Analitik Merkezi"}),u.jsx("h3",{children:"Performans & Karlatrma"}),u.jsx("p",{className:"muted",children:"Kartlar zerinde ROAS rozetleri, iki reklam arasnda VS modu."})]}),u.jsxs("div",{className:"shield",children:[u.jsx(em,{size:20}),"Akll rozetler aktif"]})]}),u.jsxs("div",{className:"cards-grid",children:[t.map(ee=>u.jsx(RD,{creative:ee,onSelectCompare:r,selected:e.includes(ee.id),onOpenDetail:A},ee.id)),t.length===0&&u.jsxs("div",{className:"empty glass-panel",children:[u.jsx(r5,{size:20}),"Henz reklam yok. Sihirbazdan bir reklam ekle."]})]}),u.jsx(ND,{open:e.length===2,onClose:a,left:F,right:G}),u.jsx(zD,{open:!!f,detail:f,onClose:()=>h(null),onChange:P,onMetricChange:q,onSave:te,saving:m,error:x,history:w.filter(ee=>ee.creative_id===f?.id),saveNotice:b,onOpenFullHistory:()=>T(!0)}),u.jsx(LD,{open:O,onClose:()=>T(!1),history:w.filter(ee=>ee.creative_id===f?.id)}),u.jsx("style",{children:`
        .analytics-view {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }
        .eyebrow {
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-size: 0.78rem;
          color: var(--color-text-muted);
        }
        .muted { color: var(--color-text-muted); }
        .analytics-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        .shield {
          display: inline-flex;
          gap: 0.5rem;
          align-items: center;
          padding: 0.5rem 0.75rem;
          border-radius: var(--radius-lg);
          background: rgba(16,185,129,0.12);
          border: 1px solid rgba(16,185,129,0.2);
          color: var(--color-text-main);
          font-weight: 600;
        }
        .cards-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 1rem;
        }
        .empty {
          padding: 1rem;
          border: 1px dashed var(--color-border);
          display: inline-flex;
          gap: 0.5rem;
          align-items: center;
          color: var(--color-text-muted);
        }
        @media (max-width: 720px) {
          .analytics-header {
            flex-direction: column;
            gap: 0.75rem;
            align-items: flex-start;
          }
        }
      `})]})}function MD(t=[]){const e=t.join(" ").toLowerCase();return e.includes("durum")?"status":e.includes("not")?"notes":e.includes("roas")?"roas":e.includes("harcama")||e.includes("spend")?"spend":e.includes("tklama")?"clicks":e.includes("ctr")?"ctr":e.includes("conversion")?"conversion_rate":"other"}function LD({open:t,onClose:e,history:r}){const[a,s]=L.useState(""),[o,c]=L.useState(""),[f,h]=L.useState(""),[m,g]=L.useState({status:!0,notes:!0,spend:!0,roas:!0,clicks:!0,ctr:!0,conversion_rate:!0,other:!0});if(L.useEffect(()=>(t&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[t]),!t)return null;const x=(r||[]).filter(y=>{const w=new Date(y.at||y.created_at);if(o&&w<new Date(o))return!1;if(f){const _=new Date(f);if(_.setHours(23,59,59,999),w>_)return!1}const S=Object.entries(m).filter(([,_])=>_).map(([_])=>_);if(S.length&&y.kind&&!S.includes(y.kind))return!1;if(a){const _=a.toLowerCase(),b=y.changes?.some(O=>O.toLowerCase().includes(_)),k=w.toLocaleString("tr-TR").toLowerCase().includes(_);return b||k}return!0});return u.jsxs(Ki,{title:"Tm Gemi",isOpen:t,onClose:e,children:[u.jsxs("div",{className:"modal-card-full glass-panel theme-light",children:[u.jsx("header",{className:"modal-header",children:u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Tm Gemi"}),u.jsx("h3",{children:"Deiiklik Kaytlar"})]})}),u.jsxs("div",{className:"history-filters full",children:[u.jsxs("div",{className:"filter-item",children:[u.jsxs("label",{children:[u.jsx(I_,{size:14})," Metin"]}),u.jsx("input",{value:a,onChange:y=>s(y.target.value),placeholder:"Metin veya tarih ara"})]}),u.jsxs("div",{className:"filter-item",children:[u.jsx("label",{children:"Balang"}),u.jsx("input",{type:"date",value:o,onChange:y=>c(y.target.value)})]}),u.jsxs("div",{className:"filter-item",children:[u.jsx("label",{children:"Biti"}),u.jsx("input",{type:"date",value:f,onChange:y=>h(y.target.value)})]}),u.jsxs("div",{className:"filter-item checkbox-group",children:[u.jsx("label",{children:"Alanlar"}),u.jsx("div",{className:"checkboxes",children:[["status","Durum"],["notes","Notlar"],["spend","Harcama"],["roas","ROAS"],["clicks","Tklama"],["ctr","CTR"],["conversion_rate","CR"],["other","Dier"]].map(([y,w])=>u.jsxs("label",{className:"chk",children:[u.jsx("input",{type:"checkbox",checked:m[y],onChange:S=>g(_=>({..._,[y]:S.target.checked}))}),u.jsx("span",{children:w})]},y))})]})]}),u.jsxs("div",{className:"history-list full",children:[x.map(y=>u.jsxs("div",{className:"history-item",children:[u.jsx("p",{className:"history-time",children:new Date(y.at||y.created_at).toLocaleString("tr-TR")}),u.jsx("ul",{children:y.changes?.map((w,S)=>u.jsx("li",{children:w},S))})]},y.at||y.created_at)),x.length===0&&u.jsx("p",{className:"muted",children:"Kayt yok."})]})]}),u.jsx("style",{children:`
        .modal-card-full {
          max-width: 900px;
          width: 100%;
          max-height: 80vh;
          overflow: hidden;
          background: linear-gradient(145deg, rgba(255,255,255,0.98), rgba(248,250,252,0.96));
          border-radius: 16px;
          border: 1px solid var(--color-border);
          padding: 1.1rem;
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
          box-shadow: var(--shadow-lg);
        }
        .history-list.full {
          max-height: 60vh;
          overflow: auto;
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          padding-right: 0.35rem;
        }
      `})]})}function zD({open:t,detail:e,onClose:r,onChange:a,onMetricChange:s,onSave:o,saving:c,error:f,history:h,saveNotice:m,onOpenFullHistory:g}){const x=L.useRef(null),y=(h||[]).slice(0,3);if(L.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),L.useEffect(()=>{x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)},[e?.notes]),!t||!e)return null;const w=e.metrics||{},S=_=>Number(_??0);return u.jsx(Ki,{title:"Reklam Detay",isOpen:t,onClose:r,children:u.jsxs("div",{className:"modal-card-body theme-light",children:[u.jsxs("div",{className:"modal-head-inline",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Reklam Detay"}),u.jsx("h3",{children:e.ad_headline||"Balk yok"})]}),m&&u.jsx("span",{className:"save-notice chip",children:m})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"grid",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Platform"}),u.jsx("div",{className:"pill",children:e.platform})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Durum"}),u.jsx("select",{value:e.status,onChange:_=>a("status",_.target.value),children:["Draft","Active","Paused","Completed"].map(_=>u.jsx("option",{value:_,children:_},_))})]})]}),u.jsxs("div",{className:"grid metrics",children:[u.jsx(po,{label:"Harcama ($)",value:w.spend,onChange:_=>s("spend",S(_))}),u.jsx(po,{label:"ROAS",value:w.roas,onChange:_=>s("roas",S(_))}),u.jsx(po,{label:"Tklama",value:w.clicks,onChange:_=>s("clicks",S(_))}),u.jsx(po,{label:"CTR (%)",value:w.ctr,onChange:_=>s("ctr",S(_))}),u.jsx(po,{label:"Conversion Rate (%)",value:w.conversion_rate,onChange:_=>s("conversion_rate",S(_))})]}),u.jsxs("div",{children:[u.jsx("label",{children:"Notlar"}),u.jsx("textarea",{ref:x,value:e.notes||"",onChange:_=>a("notes",_.target.value),rows:3,onInput:()=>{x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)}})]}),f&&u.jsx("div",{className:"error",children:f}),u.jsxs("div",{className:"history",children:[u.jsxs("div",{className:"history-head",children:[u.jsx(g5,{size:16}),u.jsx("span",{children:"Deiiklik Gemii (Son 3)"})]}),y&&y.length?u.jsx("div",{className:"history-list",children:y.map(_=>u.jsxs("div",{className:"history-item",children:[u.jsx("p",{className:"history-time",children:new Date(_.at).toLocaleString("tr-TR")}),u.jsx("ul",{children:_.changes.map((b,k)=>u.jsx("li",{children:b},k))})]},_.at))}):u.jsx("p",{className:"muted",children:"Henz deiiklik yok."}),u.jsxs("div",{className:"history-footer",children:[u.jsx("button",{className:"ghost-btn",onClick:g,children:"Tm Gemii Gr"}),m&&u.jsx("span",{className:"save-notice",children:m})]})]})]}),u.jsxs("footer",{className:"modal-actions",children:[u.jsx("button",{className:"ghost-btn",onClick:r,children:"Kapat"}),u.jsxs("button",{className:"primary",onClick:o,disabled:c,children:[u.jsx(Po,{size:16})," ",c?"Kaydediliyor...":"Kaydet"]})]}),u.jsx("style",{children:`
          .modal-card-body {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-height: 75vh;
            color: var(--color-text-main);
          }
          .modal-head-inline {
            display: flex;
            justify-content: space-between;
            align-items: center;
          }
          .chip {
            padding: 0.35rem 0.6rem;
            border-radius: 10px;
            background: rgba(16,185,129,0.12);
            color: var(--color-text-main);
            border: 1px solid rgba(16,185,129,0.25);
            font-weight: 600;
          }
          .modal-body {
            display: flex;
            flex-direction: column;
            gap: 0.9rem;
            overflow: auto;
            padding-right: 0.35rem;
          }
          .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 0.75rem;
          }
          .grid.metrics {
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          }
          label { font-weight: 600; color: var(--color-text-main); }
          textarea, input, select {
            width: 100%;
            padding: 0.65rem 0.75rem;
            border: 1px solid var(--color-border);
            border-radius: 10px;
            background: white;
          }
          textarea { resize: none; overflow: hidden; }
          .pill {
            display: inline-flex;
            padding: 0.4rem 0.75rem;
            border-radius: 999px;
            background: rgba(139,92,246,0.1);
            color: var(--color-text-main);
            border: 1px solid var(--color-border);
          }
          .modal-actions {
            display: flex;
            justify-content: space-between;
            gap: 0.5rem;
            flex-wrap: wrap;
          }
          .ghost-btn, .primary {
            padding: 0.65rem 1rem;
            border-radius: 10px;
            border: 1px solid var(--color-border);
            background: white;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
          }
          .primary {
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            color: white;
            border: none;
          }
          .error {
            background: rgba(239,68,68,0.08);
            border: 1px solid rgba(239,68,68,0.2);
            color: var(--color-text-main);
            padding: 0.6rem 0.75rem;
            border-radius: 10px;
          }
          .history {
            border: 1px dashed var(--color-border);
            border-radius: 12px;
            padding: 0.75rem;
            background: white;
          }
          .history-head {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
          }
          .history-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            max-height: 240px;
            overflow: auto;
            padding-right: 0.35rem;
          }
          .history-item {
            padding: 0.5rem 0.6rem;
            border: 1px solid var(--color-border);
            border-radius: 10px;
            background: rgba(248,250,252,0.8);
          }
          .history-time { font-size: 0.9rem; color: var(--color-text-muted); margin-bottom: 0.25rem; }
          .history-item ul { margin: 0; padding-left: 1.1rem; color: var(--color-text-main); }
        `})]})})}function po({label:t,value:e,onChange:r}){return u.jsxs("div",{className:"field",children:[u.jsx("label",{children:t}),u.jsx("input",{type:"number",value:e,onChange:a=>r(a.target.value)})]})}const Zx=[{id:"guide",label:"Rehber",icon:z_},{id:"workspace",label:"alma Alan",icon:$A},{id:"analytics",label:"Analitik Merkezi",icon:e5}];function FD(){const[t,e]=L.useState("guide"),[r,a]=L.useState([]),[s,o]=L.useState([]),[c,f]=L.useState(!0),[h,m]=L.useState(!1),[g,x]=L.useState(""),[y,w]=L.useState([]),S=L.useMemo(()=>Zx.find(T=>T.id===t)?.label||"Yaratc Laboratuvar",[t]);L.useEffect(()=>{(async()=>{try{const[{data:F,error:G},{data:K,error:A}]=await Promise.all([Ce.from("products").select("id,name"),Ce.from("marketing_creatives").select("*").order("created_at",{ascending:!1})]);if(G||A)throw G||A;a(F||[]),o(K||[])}catch(F){console.error("Creative Lab load error",F),x("Veriler yklenirken bir sorun olutu")}finally{f(!1)}})()},[]);const _=async T=>{m(!0),x("");try{const{data:F,error:G}=await Ce.from("marketing_creatives").insert(T).select().single();if(G)throw G;o(K=>[F,...K]),e("analytics"),b()}catch(F){console.error("Creative save error",F),F?.code==="42501"||(F?.message||"").includes("row-level security")?x("Eriim reddedildi. Oturumunun ak olduundan ve Supabase politikalarnn uygulandndan emin ol."):x("Reklam kaydedilirken bir hata olutu")}finally{m(!1)}},b=()=>{vD({particleCount:120,spread:70,origin:{y:.7}})},k=T=>{w(F=>F.includes(T)?F.filter(G=>G!==T):F.length===2?[F[1],T]:[...F,T])},O=()=>w([]);return u.jsxs("div",{className:"creative-lab-page fade-in",children:[u.jsxs("header",{className:"page-head",children:[u.jsxs("div",{children:[u.jsx("p",{className:"eyebrow",children:"Yaratc Laboratuvar"}),u.jsx("h2",{className:"text-gradient",children:S}),u.jsx("p",{className:"muted",children:"Pazarlama kokpiti: rehber, sihirbaz ve analiz tek ekranda."})]}),u.jsx("div",{className:"tabs",children:Zx.map(T=>{const F=T.icon;return u.jsxs("button",{className:`tab ${t===T.id?"active":""}`,onClick:()=>e(T.id),children:[u.jsx(F,{size:18}),T.label]},T.id)})})]}),g&&u.jsxs("div",{className:"toast error",children:[u.jsx(d5,{size:18}),g]}),c?u.jsx("div",{className:"loader",children:"Ykleniyor..."}):u.jsxs(u.Fragment,{children:[t==="guide"&&u.jsx(_D,{}),t==="workspace"&&u.jsx(jD,{products:r,onSave:_,saving:h}),t==="analytics"&&u.jsx(DD,{creatives:s,compareSelection:y,onToggleCompare:k,onCloseCompare:O,onUpdateCreative:(T,F)=>{o(G=>G.map(K=>K.id===T?{...K,...F}:K))}})]}),u.jsx("style",{children:`
        .creative-lab-page {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }
        .page-head {
          display: flex;
          justify-content: space-between;
          align-items: flex-end;
          gap: 1rem;
          flex-wrap: wrap;
        }
        .tabs {
          display: inline-flex;
          gap: 0.5rem;
          background: rgba(255,255,255,0.9);
          border: 1px solid var(--color-border);
          padding: 0.35rem;
          border-radius: var(--radius-xl);
          box-shadow: var(--shadow-sm);
        }
        .tab {
          display: inline-flex;
          align-items: center;
          gap: 0.4rem;
          padding: 0.5rem 0.9rem;
          border-radius: var(--radius-lg);
          border: none;
          background: transparent;
          color: var(--color-text-muted);
          font-weight: 600;
          transition: all var(--transition-fast);
        }
        .tab.active {
          background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
          color: white;
          box-shadow: var(--shadow-sm);
        }
        .toast {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.75rem 1rem;
          border-radius: var(--radius-lg);
          border: 1px solid var(--color-border);
        }
        .toast.error {
          background: rgba(239,68,68,0.08);
          border-color: rgba(239,68,68,0.25);
          color: var(--color-text-main);
        }
        .eyebrow {
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-size: 0.78rem;
          color: var(--color-text-muted);
        }
        .muted {
          color: var(--color-text-muted);
        }
        .loader {
          padding: 1rem;
          color: var(--color-text-muted);
        }
      `})]})}function BD({weeks:t,selectedWeek:e,onSelectWeek:r}){return u.jsxs("div",{style:{width:"280px",background:"white",borderRight:"1px solid #e2e8f0",display:"flex",flexDirection:"column",overflow:"hidden"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"0.75rem"},children:[u.jsx(Yh,{size:20,color:"var(--color-primary)"}),u.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:"700",color:"#1e293b"},children:"Haftalar"})]}),u.jsx("div",{style:{flex:1,overflowY:"auto",padding:"0.5rem"},children:t.map(a=>{const s=e?.id===a.id;return u.jsxs("button",{onClick:()=>r(a),style:{width:"100%",padding:"1rem",marginBottom:"0.5rem",border:"none",borderRadius:"var(--radius-md)",background:s?"var(--color-primary)":"transparent",color:s?"white":"#1e293b",textAlign:"left",cursor:"pointer",transition:"all 0.2s",fontWeight:s?"600":"500",fontSize:"14px"},onMouseEnter:o=>{s||(o.target.style.background="#f1f5f9")},onMouseLeave:o=>{s||(o.target.style.background="transparent")},children:[u.jsxs("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:["Hafta ",a.week_number]}),a.title&&u.jsx("div",{style:{fontSize:"12px",opacity:s?.9:.7},children:a.title})]},a.id)})})]})}function ID({weekId:t}){const[e,r]=L.useState([]),[a,s]=L.useState(!0),[o,c]=L.useState(""),[f,h]=L.useState(""),[m,g]=L.useState(!1),[x,y]=L.useState(null);L.useEffect(()=>{t&&w()},[t]);const w=async()=>{try{const{data:A,error:P}=await Ce.from("academy_resources").select("*").eq("week_id",t).order("created_at",{ascending:!1});if(P)throw P;r(A||[])}catch(A){console.error("Error fetching resources:",A)}finally{s(!1)}},S=A=>A.includes("instagram.com")?"instagram":A.includes("youtube.com")||A.includes("youtu.be")?"youtube":"website",_=A=>{const P=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,q=A.match(P);return q&&q[2].length===11?q[2]:null},b=A=>{const P=_(A);return P?`https://img.youtube.com/vi/${P}/maxresdefault.jpg`:null},k=A=>{const P=A.match(/instagram\.com\/([^\/\?]+)/);return P?P[1]:null},O=A=>{try{return new URL(A).hostname.replace("www.","")}catch{return A}},T=async()=>{if(o.trim()){g(!0);try{const A=S(o),P={};if(A==="youtube"){const te=_(o);te&&(P.videoId=te,P.embedUrl=`https://www.youtube.com/embed/${te}`)}const{error:q}=await Ce.from("academy_resources").insert([{week_id:t,resource_type:A,url:o,title:"",description:f.trim(),is_good_example:!0,embed_data:P}]);if(q)throw q;c(""),h(""),w()}catch(A){console.error("Error adding resource:",A),alert("Kaynak eklenirken hata olutu: "+A.message)}finally{g(!1)}}},F=async(A,P)=>{try{const{error:q}=await Ce.from("academy_resources").update({is_good_example:!P}).eq("id",A);if(q)throw q;w(),y(null)}catch(q){console.error("Error updating resource:",q),alert("Kaynak gncellenirken hata olutu: "+q.message)}},G=async A=>{try{const{error:P}=await Ce.from("academy_resources").delete().eq("id",A);if(P)throw P;w(),y(null)}catch(P){console.error("Error deleting resource:",P),alert("Kaynak silinirken hata olutu: "+P.message)}},K=(A,P,q=null)=>{y({type:A,resourceId:P,currentValue:q})};return a?u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(Kr,{className:"animate-spin",size:24,color:"var(--color-primary)"})}):u.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("div",{style:{background:"white",padding:"1.5rem",borderRadius:"var(--radius-lg)",marginBottom:"2rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#64748b",marginBottom:"0.5rem"},children:"Kaynak URL'si (Instagram, YouTube veya Website)"}),u.jsx("input",{type:"url",value:o,onChange:A=>c(A.target.value),onKeyPress:A=>A.key==="Enter"&&T(),placeholder:"https://instagram.com/p/... veya https://youtube.com/watch?v=... veya https://example.com",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"14px"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#64748b",marginBottom:"0.5rem"},children:"Aklama (stee bal)"}),u.jsx("textarea",{value:f,onChange:A=>h(A.target.value),placeholder:"Bu kaynak hakknda ksa bir aklama yazn...",rows:2,style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}})]}),u.jsx("button",{onClick:T,disabled:m||!o.trim(),style:{padding:"0.75rem 1.5rem",background:"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:m||!o.trim()?"not-allowed":"pointer",opacity:m||!o.trim()?.6:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",alignSelf:"flex-start"},children:m?u.jsxs(u.Fragment,{children:[u.jsx(Kr,{size:16,className:"animate-spin"}),u.jsx("span",{children:"Ekleniyor..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Xi,{size:16}),u.jsx("span",{children:"Kaynak Ekle"})]})})]})}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:e.map(A=>{const P=A.is_good_example;return u.jsxs("div",{style:{background:"white",borderRadius:"var(--radius-lg)",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:`2px solid ${P?"#10b981":"#ef4444"}`,position:"relative"},children:[u.jsxs("div",{style:{position:"absolute",top:"1rem",right:"1rem",zIndex:10,display:"flex",gap:"0.5rem",alignItems:"center"},children:[u.jsxs("button",{onClick:()=>K("toggle",A.id,A.is_good_example),style:{padding:"0.4rem 0.8rem",background:P?"#10b981":"#ef4444",color:"white",border:"none",borderRadius:"var(--radius-sm)",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.3rem"},children:[P?u.jsx(Jh,{size:12}):u.jsx(B_,{size:12}),P?"Doru rnek":"Yanl rnek"]}),u.jsx("button",{onClick:()=>K("delete",A.id),style:{padding:"0.4rem",background:"#fee2e2",color:"#991b1b",border:"none",borderRadius:"var(--radius-sm)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx(Qi,{size:14})})]}),u.jsxs("div",{style:{padding:"1.5rem"},children:[A.resource_type==="instagram"&&u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[u.jsx(sx,{size:20,color:"#E4405F"}),u.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:"Instagram"})]}),u.jsx("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",style:{display:"block",textDecoration:"none",color:"inherit"},children:u.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",overflow:"hidden",background:"white",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:q=>{q.currentTarget.style.borderColor="var(--color-primary)",q.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:q=>{q.currentTarget.style.borderColor="#e2e8f0",q.currentTarget.style.boxShadow="none"},children:[u.jsxs("div",{style:{background:"linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%)",padding:"2rem",textAlign:"center",color:"white"},children:[u.jsx(sx,{size:48,style:{marginBottom:"0.5rem"}}),u.jsxs("div",{style:{fontSize:"18px",fontWeight:"700",marginBottom:"0.25rem"},children:["@",k(A.url)||"Instagram"]}),u.jsx("div",{style:{fontSize:"13px",opacity:.9},children:"Instagram profil sayfasn grntle"})]}),A.description&&u.jsx("div",{style:{padding:"1rem",borderTop:"1px solid #e2e8f0"},children:u.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:A.description})})]})})]}),A.resource_type==="youtube"&&u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[u.jsx(V0,{size:20,color:"#FF0000"}),u.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:"YouTube"})]}),A.embed_data?.embedUrl?u.jsx("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",borderRadius:"var(--radius-md)",border:"1px solid #e2e8f0"},children:u.jsx("iframe",{src:`${A.embed_data.embedUrl}?rel=0&modestbranding=1&controls=1`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy",title:`YouTube: ${A.title||A.url}`})}):u.jsx("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",style:{display:"block",textDecoration:"none",color:"inherit"},children:u.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",overflow:"hidden",background:"white",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:q=>{q.currentTarget.style.borderColor="#FF0000",q.currentTarget.style.boxShadow="0 4px 12px rgba(255,0,0,0.1)"},onMouseLeave:q=>{q.currentTarget.style.borderColor="#e2e8f0",q.currentTarget.style.boxShadow="none"},children:[b(A.url)?u.jsxs("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",background:"#000"},children:[u.jsx("img",{src:b(A.url),alt:A.title||"YouTube",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),u.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.8)",borderRadius:"50%",width:"64px",height:"64px",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx(V0,{size:32,color:"#FF0000",fill:"#FF0000"})})]}):u.jsxs("div",{style:{background:"#FF0000",padding:"2rem",textAlign:"center",color:"white"},children:[u.jsx(V0,{size:48,style:{marginBottom:"0.5rem"}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:"YouTube Kanal"})]}),A.description&&u.jsx("div",{style:{padding:"1rem",borderTop:"1px solid #e2e8f0"},children:u.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:A.description})})]})})]}),A.resource_type==="website"&&u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[u.jsx(ax,{size:20,color:"var(--color-primary)"}),u.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:"Website"})]}),u.jsx("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",style:{display:"block",textDecoration:"none",color:"inherit"},children:u.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",overflow:"hidden",background:"white",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:q=>{q.currentTarget.style.borderColor="var(--color-primary)",q.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:q=>{q.currentTarget.style.borderColor="#e2e8f0",q.currentTarget.style.boxShadow="none"},children:[u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--color-primary) 0%, #8b5cf6 100%)",padding:"2rem",textAlign:"center",color:"white"},children:[u.jsx(ax,{size:48,style:{marginBottom:"0.5rem"}}),u.jsx("div",{style:{fontSize:"18px",fontWeight:"700",marginBottom:"0.25rem"},children:O(A.url)}),u.jsx("div",{style:{fontSize:"13px",opacity:.9},children:"Web sitesini grntle"})]}),A.description&&u.jsx("div",{style:{padding:"1rem",borderTop:"1px solid #e2e8f0"},children:u.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:A.description})})]})})]})]})]},A.id)})}),e.length===0&&u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"white",borderRadius:"var(--radius-lg)",color:"#64748b"},children:[u.jsx(hd,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:"Henz kaynak eklenmemi"}),u.jsx("div",{style:{fontSize:"14px",marginTop:"0.5rem"},children:"Yukardaki alana URL ekleyerek balayn"})]}),x&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>y(null),children:u.jsxs("div",{style:{background:"white",borderRadius:"var(--radius-lg)",padding:"2rem",maxWidth:"400px",width:"90%",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},onClick:A=>A.stopPropagation(),children:[u.jsxs("div",{style:{marginBottom:"1.5rem"},children:[u.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#1e293b",marginBottom:"0.5rem"},children:x.type==="delete"?"Kayna Sil":"Durumu Deitir"}),u.jsx("p",{style:{margin:0,fontSize:"14px",color:"#64748b"},children:x.type==="delete"?"Bu kayna silmek istediinize emin misiniz? Bu ilem geri alnamaz.":`Bu kayna ${x.currentValue?'"Yanl rnek"':'"Doru rnek"'} olarak iaretlemek istediinize emin misiniz?`})]}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[u.jsx("button",{onClick:()=>y(null),style:{padding:"0.75rem 1.5rem",background:"#f1f5f9",color:"#475569",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"ptal"}),u.jsx("button",{onClick:()=>{x.type==="delete"?G(x.resourceId):F(x.resourceId,x.currentValue)},style:{padding:"0.75rem 1.5rem",background:x.type==="delete"?"#ef4444":"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:x.type==="delete"?"Sil":"Deitir"})]})]})})]})}function UD({weekId:t}){const[e,r]=L.useState([]),[a,s]=L.useState(!0),[o,c]=L.useState(null),[f,h]=L.useState(!1);L.useEffect(()=>{t&&m()},[t]);const m=async()=>{try{const{data:S,error:_}=await Ce.from("academy_videos").select("*").eq("week_id",t).order("created_at",{ascending:!1});if(_)throw _;r(S||[]),S&&S.length>0&&c(S[0])}catch(S){console.error("Error fetching videos:",S)}finally{s(!1)}},g=S=>{if(!S)return"";const _=Math.floor(S/60),b=S%60;return`${_}:${b.toString().padStart(2,"0")}`},x=S=>{if(S.video_provider==="youtube"){const _=S.video_url.includes("youtu.be")?S.video_url.split("youtu.be/")[1]?.split("?")[0]:S.video_url.match(/[?&]v=([^&]+)/)?.[1];return _?`https://www.youtube.com/embed/${_}`:null}if(S.video_provider==="vimeo"){const _=S.video_url.split("vimeo.com/")[1]?.split("?")[0];return _?`https://player.vimeo.com/video/${_}`:null}return S.video_provider==="cloudinary"?S.video_url:(S.video_provider==="googledrive",null)},y=S=>S.video_provider==="googledrive"||S.video_url?.includes("drive.google.com");if(a)return u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(Kr,{className:"animate-spin",size:24,color:"var(--color-primary)"})});if(e.length===0)return u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"white",borderRadius:"var(--radius-lg)",color:"#64748b"},children:[u.jsx(Th,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:"Henz video eklenmemi"})]});const w=o?x(o):null;return u.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:u.jsxs("div",{style:{display:"grid",gridTemplateColumns:f?"1fr":"1fr 350px",gap:"2rem"},children:[u.jsx("div",{style:{background:"white",borderRadius:"var(--radius-lg)",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:o&&y(o)?u.jsx("div",{children:u.jsx("a",{href:o.video_url,target:"_blank",rel:"noopener noreferrer",style:{display:"block",textDecoration:"none",color:"inherit"},children:u.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",overflow:"hidden",background:"white",transition:"all 0.2s",cursor:"pointer",margin:"1.5rem"},onMouseEnter:S=>{S.currentTarget.style.borderColor="#4285F4",S.currentTarget.style.boxShadow="0 4px 12px rgba(66, 133, 244, 0.2)"},onMouseLeave:S=>{S.currentTarget.style.borderColor="#e2e8f0",S.currentTarget.style.boxShadow="none"},children:[u.jsxs("div",{style:{background:"linear-gradient(135deg, #4285F4 0%, #34A853 50%, #FBBC04 100%)",padding:"3rem 2rem",textAlign:"center",color:"white"},children:[u.jsx(nx,{size:64,style:{marginBottom:"1rem"}}),u.jsx("div",{style:{fontSize:"20px",fontWeight:"700",marginBottom:"0.5rem"},children:"Google Drive Klasr"}),u.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Ders kaydn grntle"})]}),u.jsxs("div",{style:{padding:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[u.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1e293b",marginBottom:"0.5rem"},children:o.title||"Ders Videosu"}),o.description&&u.jsx("div",{style:{fontSize:"14px",color:"#64748b",lineHeight:"1.6"},children:o.description})]})]})})}):o&&w?u.jsxs("div",{style:{position:"relative"},children:[u.jsx("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",background:"#000"},children:u.jsx("iframe",{src:w,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),u.jsxs("div",{style:{padding:"1.5rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"0.5rem"},children:[u.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"700",color:"#1e293b"},children:o.title}),u.jsx("button",{onClick:()=>h(!f),style:{padding:"0.5rem",background:"#f1f5f9",border:"none",borderRadius:"var(--radius-sm)",cursor:"pointer"},children:u.jsx(eA,{size:18})})]}),o.video_duration&&u.jsxs("div",{style:{fontSize:"13px",color:"#64748b",marginBottom:"0.5rem"},children:["Sre: ",g(o.video_duration)]}),o.description&&u.jsx("p",{style:{fontSize:"14px",color:"#64748b",margin:0,lineHeight:"1.6"},children:o.description})]})]}):u.jsxs("div",{style:{padding:"3rem",textAlign:"center",color:"#64748b"},children:[u.jsx(Zh,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),u.jsx("div",{children:"Video ykleniyor..."})]})}),!f&&u.jsx("div",{children:u.jsxs("div",{style:{background:"white",borderRadius:"var(--radius-lg)",padding:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:[u.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"16px",fontWeight:"600",color:"#1e293b"},children:"Ders Videolar"}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:e.map(S=>{const _=o?.id===S.id;return u.jsxs("button",{onClick:()=>c(S),style:{width:"100%",padding:"1rem",border:"none",borderRadius:"var(--radius-md)",background:_?"#f0f9ff":"#f8fafc",borderLeft:_?"3px solid var(--color-primary)":"3px solid transparent",textAlign:"left",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:b=>{_||(b.target.style.background="#f1f5f9")},onMouseLeave:b=>{_||(b.target.style.background="#f8fafc")},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[y(S)?u.jsx(nx,{size:18,color:_?"#4285F4":"#64748b"}):u.jsx(Th,{size:18,color:_?"var(--color-primary)":"#64748b"}),u.jsx("div",{style:{fontSize:"14px",fontWeight:_?"600":"500",color:_?"var(--color-primary)":"#1e293b",flex:1},children:S.title})]}),S.video_duration&&u.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginLeft:"2rem"},children:g(S.video_duration)})]},S.id)})})]})})]})})}function PD({weekId:t,userId:e}){const[r,a]=L.useState([]),[s,o]=L.useState(!0);L.useEffect(()=>{t&&e&&c()},[t,e]);const c=async()=>{try{const{data:m,error:g}=await Ce.from("academy_assignments").select("*").eq("week_id",t).eq("user_id",e).order("created_at",{ascending:!1});if(g)throw g;a(m||[])}catch(m){console.error("Error fetching assignments:",m)}finally{o(!1)}},f=async(m,g)=>{try{const{error:x}=await Ce.from("academy_assignments").update({is_completed:!g}).eq("id",m);if(x)throw x;c()}catch(x){console.error("Error updating assignment:",x)}},h=async(m,g)=>{try{const{error:x}=await Ce.from("academy_assignments").update({submission_url:g}).eq("id",m);if(x)throw x;c()}catch(x){console.error("Error submitting link:",x)}};return s?u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(Kr,{className:"animate-spin",size:24,color:"var(--color-primary)"})}):r.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"white",borderRadius:"var(--radius-lg)",color:"#64748b"},children:[u.jsx(T5,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:"Henz dev eklenmemi"})]}):u.jsx("div",{style:{maxWidth:"900px",margin:"0 auto"},children:u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:r.map(m=>u.jsx("div",{style:{background:"white",padding:"1.5rem",borderRadius:"var(--radius-lg)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:m.is_completed?"2px solid #10b981":"2px solid #e2e8f0"},children:u.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"1rem"},children:[u.jsx("button",{onClick:()=>f(m.id,m.is_completed),style:{padding:0,border:"none",background:"transparent",cursor:"pointer",flexShrink:0,marginTop:"0.25rem"},children:m.is_completed?u.jsx(md,{size:24,color:"#10b981",fill:"#10b981"}):u.jsx(CA,{size:24,color:"#94a3b8"})}),u.jsxs("div",{style:{flex:1},children:[u.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:m.is_completed?"#10b981":"#1e293b",textDecoration:m.is_completed?"line-through":"none",opacity:m.is_completed?.7:1},children:m.title}),m.description&&u.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"14px",color:"#64748b",lineHeight:"1.6"},children:m.description}),u.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e2e8f0"},children:[u.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#64748b",marginBottom:"0.5rem"},children:"Teslim Et:"}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[u.jsx("input",{type:"url",placeholder:"Link veya dosya URL'si ekle...",defaultValue:m.submission_url||"",onBlur:g=>{g.target.value!==m.submission_url&&h(m.id,g.target.value)},style:{flex:1,padding:"0.6rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"14px"}}),m.submission_url&&u.jsxs("a",{href:m.submission_url,target:"_blank",rel:"noopener noreferrer",style:{padding:"0.6rem",background:"#f0f9ff",color:"var(--color-primary)",borderRadius:"var(--radius-md)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.4rem"},children:[u.jsx(V5,{size:16}),u.jsx("span",{style:{fontSize:"13px"},children:"A"})]})]})]})]})]})},m.id))})})}function HD({weekId:t,userId:e}){const{user:r}=fn(),[a,s]=L.useState([]),[o,c]=L.useState(!0),[f,h]=L.useState(!1),[m,g]=L.useState(""),x=L.useRef(null),y=L.useRef(null);L.useEffect(()=>{if(t){w();const b=Ce.channel(`academy_notes_${t}`).on("postgres_changes",{event:"*",schema:"public",table:"academy_notes_comments",filter:`week_id=eq.${t}`},()=>{w()}).subscribe();return()=>{b.unsubscribe()}}},[t]),L.useEffect(()=>{y.current&&y.current.scrollIntoView({behavior:"smooth"})},[a]),L.useEffect(()=>{x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)},[m]);const w=async()=>{try{const{data:b,error:k}=await Ce.from("academy_notes_comments").select("*").eq("week_id",t).order("created_at",{ascending:!0});if(k)throw k;s(b||[])}catch(b){console.error("Error fetching comments:",b)}finally{c(!1)}},S=async()=>{if(!(!m.trim()||!e||!r)){h(!0);try{const{error:b}=await Ce.from("academy_notes_comments").insert([{week_id:t,user_id:e,username:r.username||"Kullanc",content:m.trim()}]);if(b)throw b;g(""),x.current&&(x.current.style.height="auto")}catch(b){console.error("Error adding comment:",b),alert("Yorum eklenirken hata olutu: "+b.message)}finally{h(!1)}}},_=b=>{const k=new Date(b),O=new Date,T=O-k,F=Math.floor(T/6e4),G=Math.floor(T/36e5),K=Math.floor(T/864e5);return F<1?"Az nce":F<60?`${F} dakika nce`:G<24?`${G} saat nce`:K<7?`${K} gn nce`:k.toLocaleString("tr-TR",{day:"2-digit",month:"short",year:k.getFullYear()!==O.getFullYear()?"numeric":void 0,hour:"2-digit",minute:"2-digit"})};return o?u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(Kr,{className:"animate-spin",size:24,color:"var(--color-primary)"})}):u.jsx("div",{style:{maxWidth:"1000px",margin:"0 auto",height:"100%",display:"flex",flexDirection:"column"},children:u.jsxs("div",{style:{flex:1,background:"white",borderRadius:"var(--radius-lg)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[u.jsxs("div",{style:{padding:"1.25rem 1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"0.75rem"},children:[u.jsx(Hu,{size:18,color:"var(--color-primary)"}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#1e293b"},children:"Dijital Defter - Yorumlar"}),u.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Ekip ii mesajlar, notlar, fikirler"})]})]}),u.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[a.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#64748b"},children:[u.jsx(Hu,{size:48,style:{margin:"0 auto 1rem",opacity:.3}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"0.5rem"},children:"Henz yorum yok"}),u.jsx("div",{style:{fontSize:"14px"},children:"lk yorumu siz yapn!"})]}):a.map(b=>{const k=b.user_id===e;return u.jsx("div",{style:{display:"flex",justifyContent:k?"flex-start":"flex-end",marginBottom:"0.5rem"},children:u.jsxs("div",{style:{maxWidth:"70%",background:k?"linear-gradient(135deg, var(--color-primary) 0%, #8b5cf6 100%)":"#f1f5f9",color:k?"white":"#1e293b",padding:"1rem 1.25rem",borderRadius:k?"var(--radius-lg) var(--radius-lg) var(--radius-lg) 0":"var(--radius-lg) var(--radius-lg) 0 var(--radius-lg)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",wordWrap:"break-word"},children:[u.jsx("div",{style:{fontSize:"12px",fontWeight:"600",marginBottom:"0.5rem",opacity:k?.9:.7},children:b.username}),u.jsx("div",{style:{fontSize:"14px",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:b.content}),u.jsx("div",{style:{fontSize:"11px",marginTop:"0.5rem",opacity:k?.8:.6,textAlign:"right"},children:_(b.created_at)})]})},b.id)}),u.jsx("div",{ref:y})]}),u.jsx("div",{style:{padding:"1.5rem",borderTop:"1px solid #e2e8f0",background:"#f8fafc"},children:u.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end"},children:[u.jsx("div",{style:{flex:1},children:u.jsx("textarea",{ref:x,value:m,onChange:b=>g(b.target.value),onKeyDown:b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),S())},placeholder:"Yorumunuzu yazn... (Enter ile gnder, Shift+Enter ile yeni satr)",rows:1,style:{width:"100%",minHeight:"44px",maxHeight:"200px",padding:"0.75rem 1rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"14px",fontFamily:"inherit",resize:"none",outline:"none",transition:"border-color 0.2s",lineHeight:"1.5"},onFocus:b=>b.target.style.borderColor="var(--color-primary)",onBlur:b=>b.target.style.borderColor="#e2e8f0"})}),u.jsx("button",{onClick:S,disabled:f||!m.trim(),style:{padding:"0.75rem 1.5rem",background:f||!m.trim()?"#cbd5e1":"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:f||!m.trim()?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"14px",transition:"all 0.2s"},children:f?u.jsxs(u.Fragment,{children:[u.jsx(Kr,{size:16,className:"animate-spin"}),u.jsx("span",{children:"Ekleniyor..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(vA,{size:16}),u.jsx("span",{children:"Yorumumu Ekle"})]})})]})})]})})}function $D({weekId:t,userId:e}){const{user:r}=fn(),[a,s]=L.useState(""),[o,c]=L.useState(!0),[f,h]=L.useState(!1),[m,g]=L.useState(null),x=L.useRef(null);L.useEffect(()=>{t&&y()},[t]),L.useEffect(()=>{if(x.current){x.current.style.height="auto";const _=Math.min(x.current.scrollHeight,330);x.current.style.height=`${_}px`,x.current.style.overflowY=x.current.scrollHeight>330?"auto":"hidden"}},[a]);const y=async()=>{try{const{data:S,error:_}=await Ce.from("academy_notes_summary").select("*").eq("week_id",t).single();if(_&&_.code!=="PGRST116")throw _;S?(s(S.content||""),g(S.updated_at)):s("")}catch(S){console.error("Error fetching summary:",S)}finally{c(!1)}},w=async()=>{if(t){h(!0);try{const{error:S}=await Ce.from("academy_notes_summary").upsert({week_id:t,content:a,updated_at:new Date().toISOString(),updated_by_id:e||null,updated_by_username:r?.username||"Kullanc"},{onConflict:"week_id"});if(S)throw S;g(new Date().toISOString())}catch(S){console.error("Error saving summary:",S),alert("Genel zet kaydedilirken hata olutu: "+S.message)}finally{h(!1)}}};return o?u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(Kr,{className:"animate-spin",size:24,color:"var(--color-primary)"})}):u.jsx("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:u.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"var(--radius-lg)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[u.jsx(Hu,{size:20,color:"var(--color-primary)"}),u.jsxs("div",{children:[u.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#1e293b"},children:"Genel zet / Word Alan"}),u.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Uzun zetler, altyazlar, ders metinleri; AI iin hazr tut."})]})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[m&&u.jsxs("span",{style:{fontSize:"12px",color:"#64748b"},children:["Son kayt: ",new Date(m).toLocaleString("tr-TR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})]}),u.jsx("button",{onClick:w,disabled:f,style:{padding:"0.65rem 1.2rem",background:f?"#cbd5e1":"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",fontSize:"13px",cursor:f?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.4rem"},children:f?u.jsxs(u.Fragment,{children:[u.jsx(Kr,{size:14,className:"animate-spin"}),u.jsx("span",{children:"Kaydediliyor..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Po,{size:14}),u.jsx("span",{children:"Kaydet"})]})})]})]}),u.jsx("textarea",{ref:x,value:a,onChange:S=>s(S.target.value),placeholder:"Genel zet, altyazlar, uzun metinler... (Shift+Enter yeni satr)",rows:8,style:{width:"100%",minHeight:"220px",maxHeight:"330px",padding:"1rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"14px",lineHeight:"1.6",fontFamily:"inherit",resize:"none",overflowY:"auto",outline:"none",transition:"border-color 0.2s"},onFocus:S=>S.target.style.borderColor="var(--color-primary)",onBlur:S=>S.target.style.borderColor="#e2e8f0"}),u.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:"Bu alan AIye gndermek istediin metinler iin kullan. (Gemini Pro ktlar, altyazlar vb.)"})]})})}function GD({weekId:t,userId:e}){const[r,a]=L.useState([]),[s,o]=L.useState(!0),[c,f]=L.useState(0),[h,m]=L.useState({}),[g,x]=L.useState({}),[y,w]=L.useState(!1);L.useEffect(()=>{t&&S()},[t]);const S=async()=>{try{const{data:G,error:K}=await Ce.from("academy_quiz_questions").select("*").eq("week_id",t).order("created_at",{ascending:!0});if(K)throw K;a(G||[])}catch(G){console.error("Error fetching questions:",G)}finally{o(!1)}},_=async(G,K)=>{const A=r.find(q=>q.id===G);if(!A)return;const P=K.toLowerCase().trim()===A.correct_answer.toLowerCase().trim();m({...h,[G]:K}),x({...g,[G]:{isCorrect:P,explanation:A.explanation}});try{await Ce.from("academy_quiz_attempts").insert([{question_id:G,user_id:e,user_answer:K,is_correct:P}])}catch(q){console.error("Error saving attempt:",q)}},b=async()=>{w(!0);try{const[G,K]=await Promise.all([Ce.from("academy_resources").select("*").eq("week_id",t),Ce.from("academy_videos").select("*").eq("week_id",t)]),A={resources:G.data||[],videos:K.data||[]},P=`Bu haftann eitim ieriinden quiz sorular olutur. 
Kaynaklar: ${A.resources.map(ee=>ee.title||ee.url).join(", ")}
Videolar: ${A.videos.map(ee=>ee.title).join(", ")}

3 farkl soru tipinde sorular olutur:
1. Boluk doldurma (fill_blank)
2. Eletirme (matching)
3. oktan semeli (multiple_choice)

Her soru iin JSON formatnda dndr:
{
  "questions": [
    {
      "question_type": "fill_blank|matching|multiple_choice",
      "question_text": "...",
      "options": {...},
      "correct_answer": "...",
      "explanation": "..."
    }
  ]
}`,q=await AD(P),te=JSON.parse(q);if(te.questions&&te.questions.length>0){const ee=te.questions.map(ye=>({week_id:t,...ye,ai_generated:!0})),{error:de}=await Ce.from("academy_quiz_questions").insert(ee);if(de)throw de;S()}}catch(G){console.error("Error generating questions:",G),alert("Sorular oluturulurken hata olutu: "+G.message)}finally{w(!1)}};if(s)return u.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:u.jsx(Kr,{className:"animate-spin",size:24,color:"var(--color-primary)"})});const k=r[c],O=k?g[k.id]:null,T=k?h[k.id]:"";return u.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto"},children:[u.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"var(--radius-lg)",marginBottom:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[u.jsx(wh,{size:24,color:"var(--color-primary)"}),u.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"700",color:"#1e293b"},children:"AI Pratik Lab"})]}),u.jsx("button",{onClick:b,disabled:y,style:{padding:"0.6rem 1.2rem",background:y?"#cbd5e1":"var(--color-primary)",color:"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",fontSize:"13px",cursor:y?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:y?u.jsxs(u.Fragment,{children:[u.jsx(Kr,{size:14,className:"animate-spin"}),u.jsx("span",{children:"Oluturuluyor..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ji,{size:14}),u.jsx("span",{children:"AI ile Soru Olutur"})]})})]}),u.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"var(--radius-lg)",marginBottom:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[u.jsx("div",{style:{fontWeight:600,color:"#1e293b",marginBottom:"0.75rem"},children:"Hafta 1 erik (Embed)"}),u.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:"62.5%",borderRadius:"var(--radius-lg)",overflow:"hidden",border:"1px solid #e2e8f0",background:"#0f172a"},children:u.jsx("iframe",{src:"https://ef-week1-learn.netlify.app",title:"Hafta 1 renme Alan",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none"},loading:"lazy",allowFullScreen:!0,sandbox:"allow-same-origin allow-scripts allow-forms allow-popups"})})]}),r.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"white",borderRadius:"var(--radius-lg)",color:"#64748b"},children:[u.jsx(wh,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),u.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"0.5rem"},children:"Henz soru eklenmemi"}),u.jsx("div",{style:{fontSize:"14px"},children:'"AI ile Soru Olutur" butonuna tklayarak balayn'})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{background:"white",padding:"1rem 1.5rem",borderRadius:"var(--radius-lg)",marginBottom:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[u.jsxs("div",{style:{fontSize:"14px",color:"#64748b",marginBottom:"0.5rem"},children:["Soru ",c+1," / ",r.length]}),u.jsx("div",{style:{width:"100%",height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden"},children:u.jsx("div",{style:{width:`${(c+1)/r.length*100}%`,height:"100%",background:"var(--color-primary)",transition:"width 0.3s"}})})]}),k&&u.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"var(--radius-lg)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",marginBottom:"1.5rem"},children:[u.jsxs("div",{style:{display:"inline-block",padding:"0.3rem 0.8rem",background:"#f0f9ff",color:"var(--color-primary)",borderRadius:"var(--radius-sm)",fontSize:"12px",fontWeight:"600",marginBottom:"1rem"},children:[k.question_type==="fill_blank"&&"Boluk Doldurma",k.question_type==="matching"&&"Eletirme",k.question_type==="multiple_choice"&&"oktan Semeli"]}),u.jsx("h3",{style:{margin:"0 0 1.5rem 0",fontSize:"18px",fontWeight:"600",color:"#1e293b",lineHeight:"1.6"},children:k.question_text}),k.question_type==="fill_blank"&&u.jsx("div",{children:u.jsx("input",{type:"text",value:T,onChange:G=>m({...h,[k.id]:G.target.value}),onBlur:()=>_(k.id,T),placeholder:"Cevabnz yazn...",style:{width:"100%",padding:"0.75rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontSize:"15px"}})}),k.question_type==="multiple_choice"&&u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:k.options?.map((G,K)=>u.jsx("button",{onClick:()=>{m({...h,[k.id]:G}),_(k.id,G)},style:{padding:"1rem",border:`2px solid ${T===G?"var(--color-primary)":"#e2e8f0"}`,borderRadius:"var(--radius-md)",background:T===G?"#f0f9ff":"white",textAlign:"left",cursor:"pointer",transition:"all 0.2s"},children:G},K))}),k.question_type==="matching"&&u.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:k.options?.pairs?.map((G,K)=>u.jsxs("div",{style:{padding:"1rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",background:"#f8fafc"},children:[u.jsx("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"0.5rem"},children:G.term}),u.jsx("input",{type:"text",placeholder:"Tanm yazn...",onBlur:A=>{const P=`${G.term}:${A.target.value}`;m({...h,[k.id]:P}),_(k.id,P)},style:{width:"100%",padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"var(--radius-sm)",fontSize:"13px"}})]},K))}),O&&u.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:O.isCorrect?"#f0fdf4":"#fef2f2",border:`2px solid ${O.isCorrect?"#10b981":"#ef4444"}`,borderRadius:"var(--radius-md)",display:"flex",alignItems:"start",gap:"0.75rem"},children:[O.isCorrect?u.jsx(Jh,{size:20,color:"#10b981"}):u.jsx(B_,{size:20,color:"#ef4444"}),u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{fontWeight:"600",color:O.isCorrect?"#10b981":"#ef4444",marginBottom:"0.5rem"},children:O.isCorrect?"Doru!":"Yanl!"}),O.explanation&&u.jsx("div",{style:{fontSize:"14px",color:"#64748b",lineHeight:"1.6"},children:O.explanation})]})]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem"},children:[u.jsx("button",{onClick:()=>f(Math.max(0,c-1)),disabled:c===0,style:{padding:"0.75rem 1.5rem",background:c===0?"#f1f5f9":"white",color:c===0?"#94a3b8":"#1e293b",border:"1px solid #e2e8f0",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:c===0?"not-allowed":"pointer"},children:" nceki"}),u.jsx("button",{onClick:()=>f(Math.min(r.length-1,c+1)),disabled:c===r.length-1,style:{padding:"0.75rem 1.5rem",background:c===r.length-1?"#f1f5f9":"var(--color-primary)",color:c===r.length-1?"#94a3b8":"white",border:"none",borderRadius:"var(--radius-md)",fontWeight:"600",cursor:c===r.length-1?"not-allowed":"pointer"},children:"Sonraki "})]})]})]})}function qD(){const[t,e]=L.useState([]),[r,a]=L.useState(null),[s,o]=L.useState("resources"),[c,f]=L.useState(!0),{user:h}=fn();L.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:x,error:y}=await Ce.from("academy_weeks").select("*").order("week_number",{ascending:!0});if(y)throw y;e(x||[]),x&&x.length>0&&!r&&a(x[0])}catch(x){console.error("Error fetching weeks:",x)}finally{f(!1)}},g=[{id:"resources",label:"Hazrlk & Kaynaklar",icon:hd},{id:"classroom",label:"Ders Kayd",icon:Th},{id:"assignments",label:"devler",icon:md},{id:"notes",label:"Dijital Defter",icon:Hu},{id:"summary",label:"Genel zet",icon:z_},{id:"quiz",label:"AI Pratik Lab",icon:wh}];return c?u.jsx("div",{className:"page-container fade-in",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:u.jsx("div",{style:{textAlign:"center",color:"#64748b"},children:u.jsx("div",{style:{fontSize:"18px",marginBottom:"0.5rem"},children:"Ykleniyor..."})})}):t.length===0?u.jsx("div",{className:"page-container fade-in",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:u.jsxs("div",{style:{textAlign:"center",color:"#64748b"},children:[u.jsx("div",{style:{fontSize:"18px",marginBottom:"0.5rem"},children:"Henz hafta eklenmemi."}),u.jsx("div",{style:{fontSize:"14px"},children:"Ynetici panelinden hafta ekleyebilirsiniz."})]})}):u.jsx("div",{className:"page-container fade-in",style:{padding:0,maxWidth:"100%",margin:0},children:u.jsxs("div",{style:{display:"flex",height:"calc(100vh - 80px)",overflow:"hidden"},children:[u.jsx(BD,{weeks:t,selectedWeek:r,onSelectWeek:a}),u.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",background:"#f8fafc"},children:r&&u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{padding:"1.5rem 2rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:u.jsxs("div",{children:[u.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:"700",color:"#1e293b"},children:r.title}),r.description&&u.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"14px",color:"#64748b"},children:r.description})]})}),u.jsx("div",{style:{display:"flex",background:"white",borderBottom:"1px solid #e2e8f0",padding:"0 2rem",gap:"0.5rem",overflowX:"auto"},children:g.map(x=>{const y=x.icon,w=s===x.id;return u.jsxs("button",{onClick:()=>o(x.id),style:{padding:"1rem 1.5rem",border:"none",background:"transparent",borderBottom:w?"2px solid var(--color-primary)":"2px solid transparent",color:w?"var(--color-primary)":"#64748b",fontWeight:w?"600":"500",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:S=>{w||(S.target.style.color="#1e293b")},onMouseLeave:S=>{w||(S.target.style.color="#64748b")},children:[u.jsx(y,{size:18}),u.jsx("span",{children:x.label})]},x.id)})}),u.jsxs("div",{style:{flex:1,overflow:"auto",padding:"2rem"},children:[s==="resources"&&u.jsx(ID,{weekId:r.id}),s==="classroom"&&u.jsx(UD,{weekId:r.id}),s==="assignments"&&u.jsx(PD,{weekId:r.id,userId:h?.id}),s==="notes"&&u.jsx(HD,{weekId:r.id,userId:h?.id}),s==="summary"&&u.jsx($D,{weekId:r.id,userId:h?.id}),s==="quiz"&&u.jsx(GD,{weekId:r.id,userId:h?.id})]})]})})]})})}const WD=({children:t})=>{const{session:e,loading:r}=fn();return r?u.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"Ykleniyor..."}):e?t:u.jsx(qE,{to:"/login",replace:!0})};function VD(){return u.jsxs(KE,{children:[u.jsx(zn,{path:"/login",element:u.jsx(U4,{})}),u.jsxs(zn,{path:"/",element:u.jsx(WD,{children:u.jsx(YA,{})}),children:[u.jsx(zn,{index:!0,element:u.jsx(QA,{})}),u.jsx(zn,{path:"/products",element:u.jsx(ZA,{})}),u.jsx(zn,{path:"/todos",element:u.jsx(r3,{})}),u.jsx(zn,{path:"/roadmap",element:u.jsx(n3,{})}),u.jsx(zn,{path:"/research",element:u.jsx(pD,{})}),u.jsx(zn,{path:"/creative-lab",element:u.jsx(FD,{})}),u.jsx(zn,{path:"/academy",element:u.jsx(qD,{})}),u.jsx(zn,{path:"/settings",element:u.jsx(gD,{})})]})]})}console.log("Panela Version: 1.0.1 - Build "+new Date().toISOString());QS.createRoot(document.getElementById("root")).render(u.jsx(qS.StrictMode,{children:u.jsx(I4,{children:u.jsx(vT,{children:u.jsx(VD,{})})})}));
